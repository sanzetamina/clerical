(()=>{var kn=Object.create;var ir=Object.defineProperty;var Mn=Object.getOwnPropertyDescriptor;var qn=Object.getOwnPropertyNames;var On=Object.getPrototypeOf,An=Object.prototype.hasOwnProperty;var Q=(e,t)=>ir(e,"name",{value:t,configurable:!0}),C=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var sr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $n=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qn(t))!An.call(e,o)&&o!==r&&ir(e,o,{get:()=>t[o],enumerable:!(a=Mn(t,o))||a.enumerable});return e};var Ct=(e,t,r)=>(r=e!=null?kn(On(e)):{},$n(t||!e||!e.__esModule?ir(r,"default",{value:e,enumerable:!0}):r,e));var It=sr((fu,ua)=>{var Un=Object.create,Ut=Object.defineProperty,In=Object.getOwnPropertyDescriptor,Qn=Object.getOwnPropertyNames,Vn=Object.getPrototypeOf,Kn=Object.prototype.hasOwnProperty,Bn=Q((e,t)=>{for(var r in t)Ut(e,r,{get:t[r],enumerable:!0})},"N"),ra=Q((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Qn(t))!Kn.call(e,o)&&o!==r&&Ut(e,o,{get:()=>t[o],enumerable:!(a=In(t,o))||a.enumerable});return e},"E"),Hn=Q((e,t,r)=>(r=e!=null?Un(Vn(e)):{},ra(t||!e||!e.__esModule?Ut(r,"default",{value:e,enumerable:!0}):r,e)),"A"),Wn=Q(e=>ra(Ut({},"__esModule",{value:!0}),e),"V"),aa={};Bn(aa,{DevToolsContext:()=>la,DevToolsContextProvider:()=>jn,DevtoolsEvent:()=>oa,hooksByScope:()=>zn,receive:()=>sa,scopes:()=>na,send:()=>ia});ua.exports=Wn(aa);var oa=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(oa||{}),na={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},zn=Object.entries(na).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),pt=Hn(C("react"));async function ia(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let o=Q(()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",o)},"a");e.addEventListener("open",o)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}Q(ia,"d");function sa(e,t,r){let a=Q(o=>{let{event:n,payload:i}=JSON.parse(o.data);t===n&&r(i)},"s");return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}Q(sa,"c");var la=pt.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),jn=Q(({__devtools:e,port:t,children:r})=>{let[a,o]=pt.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[n,i]=pt.default.useState(null);pt.default.useEffect(()=>{let m=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),d=sa(m,"devtools:handshake",c=>{o(f=>({...f,devtoolsUrl:c.url})),d()});return m.addEventListener("open",()=>{a.__devtools||ia(m,"devtools:init",{url:window.location.origin})}),i(m),()=>{d(),m.close(1e3,window.location.origin)}},[]);let u=pt.default.useMemo(()=>({...a,ws:n}),[a,n]);return pt.default.createElement(la.Provider,{value:u},r)},"S")});var Y=sr((Eu,fa)=>{var _n=Object.create,Qt=Object.defineProperty,Xn=Object.getOwnPropertyDescriptor,Zn=Object.getOwnPropertyNames,Gn=Object.getPrototypeOf,Yn=Object.prototype.hasOwnProperty,Jn=Q((e,t)=>{for(var r in t)Qt(e,r,{get:t[r],enumerable:!0})},"L"),da=Q((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zn(t))!Yn.call(e,o)&&o!==r&&Qt(e,o,{get:()=>t[o],enumerable:!(a=Xn(t,o))||a.enumerable});return e},"d"),ca=Q((e,t,r)=>(r=e!=null?_n(Gn(e)):{},da(t||!e||!e.__esModule?Qt(r,"default",{value:e,enumerable:!0}):r,e)),"E"),ei=Q(e=>da(Qt({},"__esModule",{value:!0}),e),"M"),ma={};Jn(ma,{getTrace:()=>pa,getXRay:()=>si,useQuerySubscription:()=>li});fa.exports=ei(ma);var ti=ca(C("error-stack-parser")),ri="renderWithHooks",ai=Q(e=>{let t=e.findIndex(r=>r.functionName===ri);return t!==-1?e.slice(0,t):e},"T"),va=/node_modules\/refinedev\/(?<name>.*?)\//,oi=Q(e=>e?!!e.match(va):!1,"_"),ni=Q(e=>{var t;if(!e)return;let r=e.match(va),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`},"R");function pa(){return[];try{let e=new Error,t=ti.default.parse(e);return ai(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:oi(r.fileName),packageName:ni(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}Q(pa,"l");var lr=It(),ii=Q((e,t)=>{if(lr.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(lr.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(lr.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function si(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}Q(si,"I");var yu=It(),hu=ca(C("react")),bu=It(),li=()=>({})});var Zr=sr((Tu,Pn)=>{var ui=Object.create,Lt=Object.defineProperty,di=Object.getOwnPropertyDescriptor,ci=Object.getOwnPropertyNames,mi=Object.getPrototypeOf,vi=Object.prototype.hasOwnProperty,s=Q((e,t)=>Lt(e,"name",{value:t,configurable:!0}),"o"),pi=Q((e,t)=>{for(var r in t)Lt(e,r,{get:t[r],enumerable:!0})},"hi"),mo=Q((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ci(t))!vi.call(e,o)&&o!==r&&Lt(e,o,{get:()=>t[o],enumerable:!(a=di(t,o))||a.enumerable});return e},"Ks"),I=Q((e,t,r)=>(r=e!=null?ui(mi(e)):{},mo(t||!e||!e.__esModule?Lt(r,"default",{value:e,enumerable:!0}):r,e)),"B"),fi=Q(e=>mo(Lt({},"__esModule",{value:!0}),e),"bi"),vo={};pi(vo,{AccessControlContext:()=>Ft,AuthPage:()=>Hl,Authenticated:()=>bn,CanAccess:()=>uu,ErrorComponent:()=>Il,GitHubBanner:()=>cu,KeyBuilder:()=>Mr,LayoutWrapper:()=>nu,LoginPage:()=>gn,ReadyPage:()=>yn,Refine:()=>ou,ResourceContext:()=>xt,RouteChangeHandler:()=>En,TranslationContext:()=>dt,UndoableQueue:()=>hn,WelcomePage:()=>zl,createTreeView:()=>xi,file2Base64:()=>ji,flattenObjectKeys:()=>Sr,generateDefaultDocumentTitle:()=>Io,getDefaultFilter:()=>zi,getDefaultSortOrder:()=>Wi,getNextPageParam:()=>Mo,getPreviousPageParam:()=>qo,handleUseParams:()=>bi,importCSVMapper:()=>go,keys:()=>Ye,legacyResourceTransform:()=>Oo,matchResourceFromRoute:()=>Si,parseTableParams:()=>$r,parseTableParamsFromQuery:()=>Hi,pickDataProvider:()=>_,pickNotDeprecated:()=>U,propertyPathToArray:()=>Bi,queryKeys:()=>Ei,routeGenerator:()=>Ro,setInitialFilters:()=>Rr,setInitialSorters:()=>Fr,stringifyTableParams:()=>xr,unionFilters:()=>wt,unionSorters:()=>Dr,useActiveAuthProvider:()=>me,useApiUrl:()=>Ps,useAuthenticated:()=>Ji,useBack:()=>dn,useBreadcrumb:()=>Al,useCan:()=>vn,useCanWithoutCache:()=>wl,useCancelNotification:()=>Et,useCheckError:()=>es,useCreate:()=>Wr,useCreateMany:()=>_o,useCustom:()=>ws,useCustomMutation:()=>xs,useDataProvider:()=>he,useDelete:()=>ps,useDeleteMany:()=>Es,useExport:()=>al,useForgotPassword:()=>Vr,useForm:()=>il,useGetIdentity:()=>Ur,useGetLocale:()=>el,useGetToPath:()=>Jt,useGo:()=>Me,useHandleNotification:()=>De,useImport:()=>pl,useInfiniteList:()=>ks,useInvalidate:()=>_e,useIsAuthenticated:()=>Yt,useIsExistAuthentication:()=>Wo,useLink:()=>er,useList:()=>Br,useLiveMode:()=>nn,useLoadingOvertime:()=>pe,useLog:()=>ct,useLogList:()=>Ml,useLogin:()=>Gt,useLogout:()=>jt,useMany:()=>zo,useMenu:()=>Ul,useMeta:()=>le,useModal:()=>fl,useMutationMode:()=>bt,useNavigation:()=>qe,useNotification:()=>rt,useOnError:()=>Te,useOne:()=>Hr,useParse:()=>an,useParsed:()=>Qe,usePermissions:()=>Ho,usePublish:()=>ut,useRedirectionAfterSubmission:()=>un,useRefineContext:()=>Pe,useRegister:()=>Qr,useResource:()=>Z,useResourceSubscription:()=>Rt,useResourceWithRoute:()=>on,useRouterContext:()=>Re,useRouterType:()=>ve,useSelect:()=>xl,useSetLocale:()=>Js,useShow:()=>cl,useSubscription:()=>zs,useSyncWithLocation:()=>Vo,useTable:()=>pn,useTitle:()=>Qi,useToPath:()=>gl,useTranslate:()=>re,useUpdate:()=>Nr,useUpdateMany:()=>hs,useUpdatePassword:()=>Kr,useUserFriendlyName:()=>Ar,useWarnAboutChange:()=>Or,userFriendlyResourceName:()=>yo});Pn.exports=fi(vo);var ot=I(C("react")),ga=C("@tanstack/react-query"),ya=Y(),kr=I(C("qs")),po=I(C("lodash/unionWith")),fo=I(C("lodash/differenceWith")),gi=I(C("warn-once")),ur=s(e=>e/1e3,"userFriendlySecond"),yi=I(C("lodash/zip")),hi=I(C("lodash/fromPairs")),go=s((e,t=r=>r)=>{let[r,...a]=e;return a.map(o=>(0,hi.default)((0,yi.default)(r,o))).map((o,n,i)=>t.call(void 0,o,n,i))},"importCSVMapper"),ha=I(C("pluralize")),yo=s((e="",t)=>{let r=Fo(e);return t==="singular"?ha.default.singular(r):ha.default.plural(r)},"userFriendlyResourceName"),bi=s((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),U=s((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function Ke(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((o,n)=>e[a+n]===o))}Q(Ke,"Ye");s(Ke,"arrayFindIndex");function ho(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(Ke(e,["auth","login"])!==-1)return["useLogin"];if(Ke(e,["auth","logout"])!==-1)return["useLogout"];if(Ke(e,["auth","identity"])!==-1)return["getUserIdentity"];if(Ke(e,["auth","register"])!==-1)return["useRegister"];if(Ke(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(Ke(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(Ke(e,["auth","onError"])!==-1)return["useCheckError"];if(Ke(e,["auth","permissions"])!==-1)return["usePermissions"];if(Ke(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}Q(ho,"vi");s(ho,"convertToLegacy");var xe=Q(class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return ho(this.segments)}get(e){return e?this.legacy():this.segments}},"Le");s(xe,"BaseKeyBuilder");var je=Q(class extends xe{constructor(e){super(e)}params(e){return new xe([...this.segments,e])}},"ze");s(je,"ParamsKeyBuilder");var bo=Q(class extends xe{constructor(e){super(e)}id(e){return new je([...this.segments,e?String(e):void 0])}},"wr");s(bo,"DataIdRequiringKeyBuilder");var Eo=Q(class extends xe{constructor(e){super(e)}ids(...e){return new je([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}},"Sr");s(Eo,"DataIdsRequiringKeyBuilder");var Po=Q(class extends xe{constructor(e){super(e)}action(e){if(e==="one")return new bo([...this.segments,e]);if(e==="many")return new Eo([...this.segments,e]);if(["list","infinite"].includes(e))return new je([...this.segments,e]);throw new Error("Invalid action type")}},"Ar");s(Po,"DataResourceKeyBuilder");var To=Q(class extends xe{constructor(e){super(e)}resource(e){return new Po([...this.segments,e])}mutation(e){return new je([...e==="custom"?this.segments:[this.segments[0]],e])}},"kr");s(To,"DataKeyBuilder");var Co=Q(class extends xe{constructor(e){super(e)}action(e){return new je([...this.segments,e])}},"Qr");s(Co,"AuthKeyBuilder");var wo=Q(class extends xe{constructor(e){super(e)}action(e){return new je([...this.segments,e])}},"Fr");s(wo,"AccessResourceKeyBuilder");var Lo=Q(class extends xe{constructor(e){super(e)}resource(e){return new wo([...this.segments,e])}},"Vr");s(Lo,"AccessKeyBuilder");var So=Q(class extends xe{constructor(e){super(e)}action(e){return new je([...this.segments,e])}},"Br");s(So,"AuditActionKeyBuilder");var xo=Q(class extends xe{constructor(e){super(e)}resource(e){return new So([...this.segments,e])}action(e){return new je([...this.segments,e])}},"Nr");s(xo,"AuditKeyBuilder");var Mr=Q(class extends xe{constructor(e){super(e)}data(e){return new To(["data",e||"default"])}auth(){return new Co(["auth"])}access(){return new Lo(["access"])}audit(){return new xo(["audit"])}},"xt");s(Mr,"KeyBuilder");var Ye=s(()=>new Mr([]),"keys"),Ei=s((e,t,r,a)=>{let o=t||"default",n={all:[o],resourceAll:[o,e||""],list:i=>[...n.resourceAll,"list",{...i,...U(r,a)||{}}],many:i=>[...n.resourceAll,"getMany",i&&i.map(String),{...U(r,a)||{}}].filter(u=>u!==void 0),detail:i=>[...n.resourceAll,"detail",i==null?void 0:i.toString(),{...U(r,a)||{}}],logList:i=>["logList",e,i,a].filter(u=>u!==void 0)};return n},"queryKeys"),Xt=s(e=>(t,r,a,o)=>{let n=r||"default";return{all:Ye().data(n).get(e),resourceAll:Ye().data(r).resource(t??"").get(e),list:i=>Ye().data(r).resource(t??"").action("list").params({...i,...U(a,o)||{}}).get(e),many:i=>Ye().data(r).resource(t??"").action("many").ids(...i??[]).params({...U(a,o)||{}}).get(e),detail:i=>Ye().data(r).resource(t??"").action("one").id(i??"").params({...U(a,o)||{}}).get(e),logList:i=>[...Ye().audit().resource(t).action("list").params(i).get(e),o].filter(u=>u!==void 0)}},"queryKeysReplacement"),Pi=s((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),qr=s(e=>e.startsWith(":"),"isParameter"),yt=s(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),Ti=s((e,t)=>{let r=yt(e),a=yt(t);return r.length===a.length},"isSegmentCountsSame"),ze=s(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),Ci=s((e,t)=>{let r=ze(e),a=ze(t);if(!Ti(r,a))return!1;let o=yt(r);return yt(a).every((n,i)=>qr(n)||n===o[i])},"checkBySegments"),wi=s((e,t,r)=>{let a=ze(r||""),o=`${a}${a?"/":""}${e}`;return t==="list"?o=`${o}`:t==="create"?o=`${o}/create`:t==="edit"?o=`${o}/edit/:id`:t==="show"?o=`${o}/show/:id`:t==="clone"&&(o=`${o}/clone/:id`),`/${o.replace(/^\//,"")}`},"getDefaultActionPath"),et=s((e,t)=>{var r,a;let o=U((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return o?t.find(n=>(n.identifier??n.name)===o)??{name:o}:void 0},"getParentResource"),Do=s((e,t,r)=>{let a=[],o=et(e,t);for(;o;)a.push(o),o=et(o,t);if(a.length!==0)return`/${a.reverse().map(n=>{var i;let u=r?((i=n.options)==null?void 0:i.route)??n.name:n.name;return ze(u)}).join("/")}`},"getParentPrefixForResource"),Le=s((e,t,r)=>{let a=[],o=["list","show","edit","create","clone"],n=Do(e,t,r);return o.forEach(i=>{var u,m;let d=r&&i==="clone"?e.create:e[i],c;typeof d=="function"||r?c=wi(r?((u=e.meta)==null?void 0:u.route)??((m=e.options)==null?void 0:m.route)??e.name:e.name,i,r?n:void 0):typeof d=="string"?c=d:typeof d=="object"&&(c=d.path),c&&a.push({action:i,resource:e,route:`/${c.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),Li=s(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(n=>({...n,splitted:yt(ze(n.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,o=[...r];for(let n=0;n<a;n++){let i=o.filter(u=>!qr(u.splitted[n]));if(i.length!==0){if(i.length===1){o=i;break}o=i}}return o[0]},"pickMatchedRoute"),Si=s((e,t)=>{let r=t.flatMap(o=>Le(o,t)).filter(o=>Ci(e,o.route)),a=Li(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),Ro=s((e,t)=>{var r;let a,o=Do(e,t,!0);if(o){let n=U(e.meta,e.options);a=`${o}/${(n==null?void 0:n.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),xi=s(e=>{var t;let r=[],a={},o={},n,i;for(let u=0;u<e.length;u++){n=e[u];let m=n.route??((t=U(n==null?void 0:n.meta,n.options))==null?void 0:t.route)??"";a[m]=n,a[m].children=[],o[n.name]=n,o[n.name].children=[]}for(let u in a)a.hasOwnProperty(u)&&(i=a[u],i.parentName&&o[i.parentName]?o[i.parentName].children.push(i):r.push(i));return r},"createTreeView"),Fo=s(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),No=I(C("react")),ba=I(C("pluralize")),Di=I(C("react")),ko=s(({children:e})=>Di.default.createElement("div",null,e),"DefaultLayout"),Ee={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:Fo,plural:ba.default.plural,singular:ba.default.singular},disableServerSideValidation:!1},tt=No.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:ko,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ee}),Ri=s(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:o,children:n,DashboardPage:i,Title:u,Layout:m=ko,Header:d,Sider:c,Footer:f,OffLayoutArea:w,LoginPage:l=gn,catchAll:p,liveMode:h="off",onLiveEvent:g,options:y})=>No.default.createElement(tt.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:u,undoableTimeout:o,Layout:m,Header:d,Sider:c,Footer:f,OffLayoutArea:w,DashboardPage:i,LoginPage:l,catchAll:p,liveMode:h,onLiveEvent:g,options:y}},n),"RefineContextProvider"),Fi=s(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:o,reactQueryDevtoolConfig:n,syncWithLocation:i,undoableTimeout:u,warnWhenUnsavedChanges:m}={})=>{var d,c,f,w,l,p,h,g;let y={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??Ee.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??Ee.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??i??Ee.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??m??Ee.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Ee.liveMode,redirect:{afterCreate:((d=e==null?void 0:e.redirect)==null?void 0:d.afterCreate)??Ee.redirect.afterCreate,afterClone:((c=e==null?void 0:e.redirect)==null?void 0:c.afterClone)??Ee.redirect.afterClone,afterEdit:((f=e==null?void 0:e.redirect)==null?void 0:f.afterEdit)??Ee.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Ee.overtime,textTransformers:{humanize:((w=e==null?void 0:e.textTransformers)==null?void 0:w.humanize)??Ee.textTransformers.humanize,plural:((l=e==null?void 0:e.textTransformers)==null?void 0:l.plural)??Ee.textTransformers.plural,singular:((p=e==null?void 0:e.textTransformers)==null?void 0:p.singular)??Ee.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Ee.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},v=(e==null?void 0:e.disableTelemetry)??t??!1,E={clientConfig:((h=e==null?void 0:e.reactQuery)==null?void 0:h.clientConfig)??o??{},devtoolConfig:((g=e==null?void 0:e.reactQuery)==null?void 0:g.devtoolConfig)??n??{}};return{optionsWithDefaults:y,disableTelemetryWithDefault:v,reactQueryWithDefaults:E}},"handleRefineOptions"),Ni=s(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),Ea=s(async(e,t,r)=>{let a=[];for(let[o,n]of e.entries())try{let i=await n();a.push(t(i,o))}catch(i){a.push(r(i,o))}return a},"sequentialPromises"),ge=s((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(n=>ze(n.route??"")===ze(e))||t.find(n=>n.name===e);let a=t.find(o=>o.identifier===e);return a||(a=t.find(o=>o.name===e)),a},"pickResource"),_=s((e,t,r)=>{if(t)return t;let a=ge(e,r),o=U(a==null?void 0:a.meta,a==null?void 0:a.options);return o!=null&&o.dataProviderName?o.dataProviderName:"default"},"pickDataProvider"),Zt=s(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),Mo=s(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,o=(t==null?void 0:t.pageSize)||10,n=Math.ceil((e.total||0)/o);return a<n?Number(a)+1:void 0},"getNextPageParam"),qo=s(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),Oo=s(e=>{let t=[];return e.forEach(r=>{var a,o;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((o=r.options)==null?void 0:o.label),route:Ro(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),ki=s(e=>yt(ze(e)).flatMap(t=>qr(t)?[t.slice(1)]:[]),"pickRouteParams"),Mi=s((e,t={})=>e.reduce((r,a)=>{let o=t[a];return typeof o<"u"&&(r[a]=o),r},{}),"prepareRouteParams"),Ne=s((e,t={},r={},a={})=>{let o=ki(e),n=Mi(o,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(i,u)=>{let m=n[u];return typeof m<"u"?`${m}`:i})},"composeRoute"),ht=I(C("react")),Ao=ht.default.createContext({}),qi=s(({children:e,isProvided:t,...r})=>{let{replace:a}=qe(),o=s(async m=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,m))}catch(c){return Promise.reject(c)}},"loginFunc"),n=s(async m=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,m))}catch(c){return Promise.reject(c)}},"registerFunc"),i=s(async m=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,m))}catch(c){return Promise.reject(c)}},"logoutFunc"),u=s(async m=>{var d;try{return await((d=r.checkAuth)==null?void 0:d.call(r,m)),Promise.resolve()}catch(c){return c!=null&&c.redirectPath&&a(c.redirectPath),Promise.reject(c)}},"checkAuthFunc");return ht.default.createElement(Ao.Provider,{value:{...r,login:o,logout:i,checkAuth:u,register:n,isProvided:t}},e)},"LegacyAuthContextProvider"),$o=ht.default.createContext({}),Oi=s(({children:e,isProvided:t,...r})=>{let a=s(async d=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,d))}catch(f){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleLogin"),o=s(async d=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,d))}catch(f){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleRegister"),n=s(async d=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,d))}catch(f){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleLogout"),i=s(async d=>{var c;try{let f=await((c=r.check)==null?void 0:c.call(r,d));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleCheck"),u=s(async d=>{var c;try{let f=await((c=r.forgotPassword)==null?void 0:c.call(r,d));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleForgotPassword"),m=s(async d=>{var c;try{let f=await((c=r.updatePassword)==null?void 0:c.call(r,d));return Promise.resolve(f)}catch(f){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",f),Promise.reject(f)}},"handleUpdatePassword");return ht.default.createElement($o.Provider,{value:{...r,login:a,logout:n,check:i,register:o,forgotPassword:u,updatePassword:m,isProvided:t}},e)},"AuthBindingsContextProvider"),ke=s(()=>ht.default.useContext(Ao),"useLegacyAuthContext"),Ie=s(()=>ht.default.useContext($o),"useAuthBindingsContext"),me=s(()=>{let e=ke(),t=Ie();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),Uo=s(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",o=(t==null?void 0:t.mode)??a,n=U(t==null?void 0:t.current,r==null?void 0:r.current)??1,i=U(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:n,pageSize:i,mode:o}},"handlePaginationParams"),Pa=C("react"),Ta=s(e=>{let[t,r]=(0,Pa.useState)(!1);return(0,Pa.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let o=s(()=>r(a.matches),"listener");return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[t,e]),t},"useMediaQuery"),dr=s((e,t,r,a)=>{let o=a?e(t,a,r):e(t,r);return o===t||typeof o>"u"?r??t:o},"safeTranslate");function Io(e,t,r,a,o){var n;let i={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},u=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),m=(t==null?void 0:t.label)??((n=t==null?void 0:t.meta)==null?void 0:n.label)??yo(u,r==="list"?"plural":"singular"),d=o??m,c=dr(e,"documentTitle.default","refine"),f=dr(e,"documentTitle.suffix"," | refine"),w=c;return r&&u&&(w=dr(e,`documentTitle.${u}.${r}`,`${i[r]??""}${d}${f}`,{id:a})),w}Q(Io,"Ho");s(Io,"generateDefaultDocumentTitle");var Ai=C("react"),bt=s(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Ai.useContext)(tt);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Ca=C("react"),Lr=I(C("react")),Qo=Lr.default.createContext({}),$i=s(({children:e})=>{let[t,r]=(0,Lr.useState)(!1);return Lr.default.createElement(Qo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),Or=s(()=>{let{warnWhenUnsavedChanges:e}=(0,Ca.useContext)(tt),{warnWhen:t,setWarnWhen:r}=(0,Ca.useContext)(Qo);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),Ui=C("react"),Vo=s(()=>{let{syncWithLocation:e}=(0,Ui.useContext)(tt);return{syncWithLocation:e}},"useSyncWithLocation"),Ii=C("react"),Qi=s(()=>{let{Title:e}=(0,Ii.useContext)(tt);return e},"useTitle"),Vi=C("react"),Pe=s(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:o,Title:n,hasDashboard:i,mutationMode:u,syncWithLocation:m,undoableTimeout:d,warnWhenUnsavedChanges:c,DashboardPage:f,LoginPage:w,catchAll:l,options:p}=(0,Vi.useContext)(tt);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:o,Title:n,hasDashboard:i,mutationMode:u,syncWithLocation:m,undoableTimeout:d,warnWhenUnsavedChanges:c,DashboardPage:f,LoginPage:w,catchAll:l,options:p}},"useRefineContext"),Ar=s(()=>{let{options:{textTransformers:e}}=Pe();return s((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),wa=s(e=>typeof e=="object"&&e!==null,"isNested"),Ki=s(e=>Array.isArray(e),"isArray"),Sr=s((e,t="")=>wa(e)?Object.keys(e).reduce((r,a)=>{let o=t.length?t+".":"";return wa(e[a])&&Object.keys(e[a]).length?Ki(e[a])&&e[a].length?e[a].forEach((n,i)=>{Object.assign(r,Sr(n,o+a+"."+i))}):Object.assign(r,Sr(e[a],o+a)):r[o+a]=e[a],r},{}):{[t]:e},"flattenObjectKeys"),Bi=s(e=>e.split(".").map(t=>isNaN(Number(t))?t:Number(t)),"propertyPathToArray"),$r=s(e=>{let{current:t,pageSize:r,sorter:a,sorters:o,filters:n}=kr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:U(o,a)??[],parsedFilters:n??[]}},"parseTableParams"),Hi=s(e=>{let t=kr.default.stringify(e);return $r(`/${t}`)},"parseTableParamsFromQuery"),xr=s(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:o,filters:n,...i}=e;return kr.default.stringify({...i,...r||{},sorters:U(o,a),filters:n},t)},"stringifyTableParams"),Ko=s((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),Bo=s((e,t)=>e.field==t.field,"compareSorters"),wt=s((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,gi.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,po.default)(e,t,r,Ko).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),Dr=s((e,t)=>(0,po.default)(e,t,Bo).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Rr=s((e,t)=>[...(0,fo.default)(t,e,Ko),...e],"setInitialFilters"),Fr=s((e,t)=>[...(0,fo.default)(t,e,Bo),...e],"setInitialSorters"),Wi=s((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),zi=s((e,t,r="eq")=>{let a=t==null?void 0:t.find(o=>{if(o.operator!=="or"&&o.operator!=="and"&&"field"in o){let{operator:n,field:i}=o;return i===e&&n===r}});if(a)return a.value||[]},"getDefaultFilter"),ji=s(e=>new Promise((t,r)=>{let a=new FileReader,o=s(()=>{a.result&&(a.removeEventListener("load",o,!1),t(a.result))},"resultHandler");a.addEventListener("load",o,!1),a.readAsDataURL(e.originFileObj),a.onerror=n=>(a.removeEventListener("load",o,!1),r(n))}),"file2Base64"),J=s(()=>{let{options:{useNewQueryKeys:e}}=Pe();return{keys:Ye,preferLegacyKeys:!e}},"useKeys");function Ho({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=ke(),{getPermissions:a}=Ie(),{keys:o,preferLegacyKeys:n}=J(),i=(0,ga.useQuery)(o().auth().action("permissions").get(n),a??(()=>Promise.resolve(void 0)),{enabled:!e&&!!a,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,ya.getXRay)("usePermissions",n)}}),u=(0,ga.useQuery)([...o().auth().action("permissions").get(n),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ya.getXRay)("usePermissions",n)}});return e?u:i}Q(Ho,"gn");s(Ho,"usePermissions");var La=C("@tanstack/react-query"),Sa=Y();function Ur({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=ke(),{getIdentity:a}=Ie(),{keys:o,preferLegacyKeys:n}=J(),i=(0,La.useQuery)(o().auth().action("identity").get(n),a??(()=>Promise.resolve({})),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Sa.getXRay)("useGetIdentity",n)}}),u=(0,La.useQuery)([...o().auth().action("identity").get(n),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Sa.getXRay)("useGetIdentity",n)}});return e?u:i}Q(Ur,"_r");s(Ur,"useGetIdentity");var xa=C("@tanstack/react-query"),Da=Y(),_i=C("@tanstack/react-query"),Ir=s(()=>{let e=(0,_i.useQueryClient)(),{keys:t,preferLegacyKeys:r}=J();return s(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function jt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ir(),a=ve(),o=Me(),{push:n}=qe(),{open:i,close:u}=rt(),{logout:m}=ke(),{logout:d}=Ie(),{keys:c,preferLegacyKeys:f}=J(),w=(0,xa.useMutation)(c().auth().action("logout").get(f),d,{onSuccess:async(p,h)=>{let{success:g,error:y,redirectTo:v}=p,{redirectPath:E}=h??{},R=E??v;g&&(u==null||u("useLogout-error")),(y||!g)&&(i==null||i(cr(y))),await r(),R!==!1&&(a==="legacy"?n(R??"/login"):R&&o({to:R}))},onError:p=>{i==null||i(cr(p))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Da.getXRay)("useLogout",f)}}),l=(0,xa.useMutation)([...c().auth().action("logout").get(f),"v3LegacyAuthProviderCompatible"],m,{onSuccess:async(p,h)=>{let g=(h==null?void 0:h.redirectPath)??p;if(await r(),g!==!1){if(g){a==="legacy"?n(g):o({to:g});return}a==="legacy"?n("/login"):o({to:"/login"})}},onError:p=>{i==null||i(cr(p))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Da.getXRay)("useLogout",f)}});return e?l:w}Q(jt,"mr");s(jt,"useLogout");var cr=s(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),Xi=I(C("react")),Ra=C("@tanstack/react-query"),Fa=Y(),Zi=I(C("qs"));function Gt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ir(),a=ve(),o=Me(),{replace:n}=qe(),i=Qe(),{useLocation:u}=Re(),{search:m}=u(),{close:d,open:c}=rt(),{login:f}=ke(),{login:w}=Ie(),{keys:l,preferLegacyKeys:p}=J(),h=Xi.default.useMemo(()=>{var v;return a==="legacy"?Zi.default.parse(m,{ignoreQueryPrefix:!0}).to:(v=i.params)==null?void 0:v.to},[a,i.params,m]),g=(0,Ra.useMutation)(l().auth().action("login").get(p),w,{onSuccess:async({success:v,redirectTo:E,error:R})=>{v&&(d==null||d("login-error")),(R||!v)&&(c==null||c(mr(R))),await r(),h&&v?a==="legacy"?n(h):o({to:h,type:"replace"}):E?a==="legacy"?n(E):o({to:E,type:"replace"}):a==="legacy"&&n("/")},onError:v=>{c==null||c(mr(v))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Fa.getXRay)("useLogin",p)}}),y=(0,Ra.useMutation)([...l().auth().action("login").get(p),"v3LegacyAuthProviderCompatible"],f,{onSuccess:async v=>{await r(),h&&n(h),v!==!1&&!h&&(typeof v=="string"?a==="legacy"?n(v):o({to:v,type:"replace"}):a==="legacy"?n("/"):o({to:"/",type:"replace"})),d==null||d("login-error")},onError:v=>{c==null||c(mr(v))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Fa.getXRay)("useLogin",p)}});return e?y:g}Q(Gt,"kt");s(Gt,"useLogin");var mr=s(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),Na=C("@tanstack/react-query"),ka=Y();function Qr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ir(),a=ve(),o=Me(),{replace:n}=qe(),{register:i}=ke(),{register:u}=Ie(),{close:m,open:d}=rt(),{keys:c,preferLegacyKeys:f}=J(),w=(0,Na.useMutation)(c().auth().action("register").get(f),u,{onSuccess:async({success:p,redirectTo:h,error:g})=>{p&&(m==null||m("register-error")),(g||!p)&&(d==null||d(vr(g))),await r(),h?a==="legacy"?n(h):o({to:h,type:"replace"}):a==="legacy"&&n("/")},onError:p=>{d==null||d(vr(p))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ka.getXRay)("useRegister",f)}}),l=(0,Na.useMutation)([...c().auth().action("register").get(f),"v3LegacyAuthProviderCompatible"],i,{onSuccess:async p=>{await r(),p!==!1&&(p?a==="legacy"?n(p):o({to:p,type:"replace"}):a==="legacy"?n("/"):o({to:"/",type:"replace"}),m==null||m("register-error"))},onError:p=>{d==null||d(vr(p))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ka.getXRay)("useRegister",f)}});return e?l:w}Q(Qr,"jr");s(Qr,"useRegister");var vr=s(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),Ma=C("@tanstack/react-query"),qa=Y();function Vr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ve(),a=Me(),{replace:o}=qe(),{forgotPassword:n}=ke(),{forgotPassword:i}=Ie(),{close:u,open:m}=rt(),{keys:d,preferLegacyKeys:c}=J(),f=(0,Ma.useMutation)(d().auth().action("forgotPassword").get(c),i,{onSuccess:({success:l,redirectTo:p,error:h})=>{l&&(u==null||u("forgot-password-error")),(h||!l)&&(m==null||m(pr(h))),p&&(r==="legacy"?o(p):a({to:p,type:"replace"}))},onError:l=>{m==null||m(pr(l))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,qa.getXRay)("useForgotPassword",c)}}),w=(0,Ma.useMutation)([...d().auth().action("forgotPassword").get(c),"v3LegacyAuthProviderCompatible"],n,{onSuccess:l=>{l!==!1&&l&&(r==="legacy"?o(l):a({to:l,type:"replace"})),u==null||u("forgot-password-error")},onError:l=>{m==null||m(pr(l))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,qa.getXRay)("useForgotPassword",c)}});return e?w:f}Q(Vr,"Xr");s(Vr,"useForgotPassword");var pr=s(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),Gi=I(C("react")),Oa=C("@tanstack/react-query"),Aa=Y(),Yi=I(C("qs"));function Kr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ve(),a=Me(),{replace:o}=qe(),{updatePassword:n}=ke(),{updatePassword:i}=Ie(),{close:u,open:m}=rt(),{keys:d,preferLegacyKeys:c}=J(),f=Qe(),{useLocation:w}=Re(),{search:l}=w(),p=Gi.default.useMemo(()=>r==="legacy"?Yi.default.parse(l,{ignoreQueryPrefix:!0})??{}:f.params??{},[l,f,r]),h=(0,Oa.useMutation)(d().auth().action("updatePassword").get(c),async y=>i==null?void 0:i({...p,...y}),{onSuccess:({success:y,redirectTo:v,error:E})=>{y&&(u==null||u("update-password-error")),(E||!y)&&(m==null||m(fr(E))),v&&(r==="legacy"?o(v):a({to:v,type:"replace"}))},onError:y=>{m==null||m(fr(y))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Aa.getXRay)("useUpdatePassword",c)}}),g=(0,Oa.useMutation)([...d().auth().action("updatePassword").get(c),"v3LegacyAuthProviderCompatible"],async y=>n==null?void 0:n({...p,...y}),{onSuccess:y=>{y!==!1&&y&&(r==="legacy"?o(y):a({to:y,type:"replace"})),u==null||u("update-password-error")},onError:y=>{m==null||m(fr(y))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Aa.getXRay)("useUpdatePassword",c)}});return e?g:h}Q(Kr,"Zr");s(Kr,"useUpdatePassword");var fr=s(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),$a=C("@tanstack/react-query"),Ua=Y();function Yt({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=ke(),{check:a}=Ie(),{keys:o,preferLegacyKeys:n}=J(),i=(0,$a.useQuery)(o().auth().action("check").params(t).get(n),async()=>await(a==null?void 0:a(t))??{},{retry:!1,enabled:!e,meta:{...(0,Ua.getXRay)("useIsAuthenticated",n)}}),u=(0,$a.useQuery)([...o().auth().action("check").params(t).get(n),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,Ua.getXRay)("useIsAuthenticated",n)}});return e?u:i}Q(Yt,"fr");s(Yt,"useIsAuthenticated");var Ji=Yt,Ia=C("@tanstack/react-query"),Qa=Y();function Te({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ve(),r=Me(),{replace:a}=qe(),{checkError:o}=ke(),{onError:n}=Ie(),{keys:i,preferLegacyKeys:u}=J(),{mutate:m}=jt({v3LegacyAuthProviderCompatible:!!e}),{mutate:d}=jt({v3LegacyAuthProviderCompatible:!!e}),c=(0,Ia.useMutation)(i().auth().action("onError").get(u),n,{onSuccess:({logout:w,redirectTo:l})=>{if(w){d({redirectPath:l});return}if(l){t==="legacy"?a(l):r({to:l,type:"replace"});return}},meta:{...(0,Qa.getXRay)("useOnError",u)}}),f=(0,Ia.useMutation)([...i().auth().action("onError").get(u),"v3LegacyAuthProviderCompatible"],o,{onError:w=>{m({redirectPath:w})},meta:{...(0,Qa.getXRay)("useOnError",u)}});return e?f:c}Q(Te,"ie");s(Te,"useOnError");var es=Te,Wo=s(()=>{let{isProvided:e}=ke(),{isProvided:t}=Ie();return!!(t||e)},"useIsExistAuthentication"),ts=Y(),rs=C("@tanstack/react-query"),gr=C("react"),pe=s(({isLoading:e,interval:t,onInterval:r})=>{let[a,o]=(0,gr.useState)(void 0),{options:n}=Pe(),{overtime:i}=n,u=t??i.interval,m=r??(i==null?void 0:i.onInterval);return(0,gr.useEffect)(()=>{let d;return e&&(d=setInterval(()=>{o(c=>c===void 0?u:c+u)},u)),()=>{clearInterval(d),o(void 0)}},[e,u]),(0,gr.useEffect)(()=>{m&&a&&m(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),Br=s(({resource:e,config:t,filters:r,hasPagination:a,pagination:o,sorters:n,queryOptions:i,successNotification:u,errorNotification:m,meta:d,metaData:c,liveMode:f,onLiveEvent:w,liveParams:l,dataProviderName:p,overtimeOptions:h}={})=>{let{resources:g,resource:y,identifier:v}=Z(e),E=he(),R=re(),$=me(),{mutate:P}=Te({v3LegacyAuthProviderCompatible:!!($!=null&&$.isLegacy)}),b=De(),L=le(),{keys:T,preferLegacyKeys:x}=J(),k=_(v,p,g),D=U(d,c),S=U(r,t==null?void 0:t.filters),q=U(n,t==null?void 0:t.sort),F=U(a,t==null?void 0:t.hasPagination),M=Uo({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:F}),N=M.mode==="server",A=L({resource:y,meta:D}),V={meta:A,metaData:A,filters:S,hasPagination:N,pagination:M,sorters:q,config:{...t,sort:q}},O=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,{getList:W}=E(k);Rt({resource:v,types:["*"],params:{meta:A,metaData:A,pagination:M,hasPagination:N,sort:q,sorters:q,filters:S,subscriptionType:"useList",...l},channel:`resources/${y==null?void 0:y.name}`,enabled:O,liveMode:f,onLiveEvent:w,dataProviderName:k,meta:{...d,dataProviderName:p}});let z=(0,rs.useQuery)(T().data(k).resource(v??"").action("list").params({...D||{},filters:S,hasPagination:N,...N&&{pagination:M},...n&&{sorters:n},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(x),({queryKey:H,pageParam:B,signal:K})=>W({resource:(y==null?void 0:y.name)??"",pagination:M,hasPagination:N,filters:S,sort:q,sorters:q,meta:{...A,queryContext:{queryKey:H,pageParam:B,signal:K}},metaData:{...A,queryContext:{queryKey:H,pageParam:B,signal:K}}}),{...i,enabled:typeof(i==null?void 0:i.enabled)<"u"?i==null?void 0:i.enabled:!!(y!=null&&y.name),select:H=>{var B;let K=H,{current:X,mode:ue,pageSize:oe}=M;return ue==="client"&&(K={...K,data:K.data.slice((X-1)*oe,X*oe),total:K.total}),i!=null&&i.select?(B=i==null?void 0:i.select)==null?void 0:B.call(i,K):K},onSuccess:H=>{var B;(B=i==null?void 0:i.onSuccess)==null||B.call(i,H);let K=typeof u=="function"?u(H,V,v):u;b(K)},onError:H=>{var B;P(H),(B=i==null?void 0:i.onError)==null||B.call(i,H);let K=typeof m=="function"?m(H,V,v):m;b(K,{key:`${v}-useList-notification`,message:R("notifications.error",{statusCode:H.statusCode},`Error (status code: ${H.statusCode})`),description:H.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,ts.getXRay)("useList",x)}}),{elapsedTime:j}=pe({isLoading:z.isFetching,interval:h==null?void 0:h.interval,onInterval:h==null?void 0:h.onInterval});return{...z,overtime:{elapsedTime:j}}},"useList"),as=Y(),os=C("@tanstack/react-query"),Hr=s(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:o,meta:n,metaData:i,liveMode:u,onLiveEvent:m,liveParams:d,dataProviderName:c,overtimeOptions:f})=>{let{resources:w,resource:l,identifier:p}=Z(e),h=he(),g=re(),y=me(),{mutate:v}=Te({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),E=De(),R=le(),{keys:$,preferLegacyKeys:P}=J(),b=U(n,i),L=_(p,c,w),{getOne:T}=h(L),x=R({resource:l,meta:b});Rt({resource:p,types:["*"],channel:`resources/${l==null?void 0:l.name}`,params:{ids:t?[t]:[],id:t,meta:x,metaData:x,subscriptionType:"useOne",...d},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(l==null?void 0:l.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:m,dataProviderName:L,meta:{...n,dataProviderName:c}});let k=(0,os.useQuery)($().data(L).resource(p??"").action("one").id(t??"").params({...b||{}}).get(P),({queryKey:S,pageParam:q,signal:F})=>T({resource:(l==null?void 0:l.name)??"",id:t,meta:{...x,queryContext:{queryKey:S,pageParam:q,signal:F}},metaData:{...x,queryContext:{queryKey:S,pageParam:q,signal:F}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:S=>{var q;(q=r==null?void 0:r.onSuccess)==null||q.call(r,S);let F=typeof a=="function"?a(S,{id:t,...x},p):a;E(F)},onError:S=>{var q;v(S),(q=r==null?void 0:r.onError)==null||q.call(r,S);let F=typeof o=="function"?o(S,{id:t,...x},p):o;E(F,{key:`${t}-${p}-getOne-notification`,message:g("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,as.getXRay)("useOne",P)}}),{elapsedTime:D}=pe({isLoading:k.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...k,overtime:{elapsedTime:D}}},"useOne"),ns=Y(),is=C("@tanstack/react-query"),zo=s(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:o,meta:n,metaData:i,liveMode:u,onLiveEvent:m,liveParams:d,dataProviderName:c,overtimeOptions:f})=>{let{resources:w,resource:l,identifier:p}=Z(e),h=he(),g=re(),y=me(),{mutate:v}=Te({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),E=De(),R=le(),{keys:$,preferLegacyKeys:P}=J(),b=U(n,i),L=_(p,c,w),T=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:x,getOne:k}=h(L),D=R({resource:l,meta:b});Rt({resource:p,types:["*"],params:{ids:t,meta:D,metaData:D,subscriptionType:"useMany",...d},channel:`resources/${l.name}`,enabled:T,liveMode:u,onLiveEvent:m,dataProviderName:L,meta:{...n,dataProviderName:c}});let S=(0,is.useQuery)($().data(L).resource(p).action("many").ids(...t).params({...b||{}}).get(P),({queryKey:F,pageParam:M,signal:N})=>x?x({resource:l==null?void 0:l.name,ids:t,meta:{...D,queryContext:{queryKey:F,pageParam:M,signal:N}},metaData:{...D,queryContext:{queryKey:F,pageParam:M,signal:N}}}):Zt(t.map(A=>k({resource:l==null?void 0:l.name,id:A,meta:{...D,queryContext:{queryKey:F,pageParam:M,signal:N}},metaData:{...D,queryContext:{queryKey:F,pageParam:M,signal:N}}}))),{...r,onSuccess:F=>{var M;(M=r==null?void 0:r.onSuccess)==null||M.call(r,F);let N=typeof a=="function"?a(F,t,p):a;E(N)},onError:F=>{var M;v(F),(M=r==null?void 0:r.onError)==null||M.call(r,F);let N=typeof o=="function"?o(F,t,p):o;E(N,{key:`${t[0]}-${p}-getMany-notification`,message:g("notifications.error",{statusCode:F.statusCode},`Error (status code: ${F.statusCode})`),description:F.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,ns.getXRay)("useMany",P)}}),{elapsedTime:q}=pe({isLoading:S.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...S,overtime:{elapsedTime:q}}},"useMany"),ss=Y(),Va=C("@tanstack/react-query"),Wt=I(C("react")),yr=I(C("lodash/isEqual")),jo=Wt.default.createContext({notifications:[],notificationDispatch:()=>!1}),ls=[],us=s((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,yr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,yr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,yr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),ds=s(({children:e})=>{let[t,r]=(0,Wt.useReducer)(us,ls),a={notifications:t,notificationDispatch:r};return Wt.default.createElement(jo.Provider,{value:a},e,typeof window<"u"&&t.map(o=>Wt.default.createElement(hn,{key:`${o.id}-${o.resource}-queue`,notification:o})))},"UndoableQueueContextProvider"),Nr=s(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=Z(),o=(0,Va.useQueryClient)(),n=he(),{mutationMode:i,undoableTimeout:u}=bt(),m=re(),d=me(),{mutate:c}=Te({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),f=ut(),{log:w}=ct(),{notificationDispatch:l}=Et(),p=De(),h=_e(),g=le(),{options:{textTransformers:y}}=Pe(),{keys:v,preferLegacyKeys:E}=J(),R=(0,Va.useMutation)(({id:P,values:b,resource:L,mutationMode:T,undoableTimeout:x,onCancel:k,meta:D,metaData:S,dataProviderName:q})=>{let{resource:F,identifier:M}=a(L),N=g({resource:F,meta:U(D,S)}),A=T??i,V=x??u;return A!=="undoable"?n(_(M,q,r)).update({resource:F.name,id:P,variables:b,meta:N,metaData:N}):new Promise((O,W)=>{let z=s(()=>{n(_(M,q,r)).update({resource:F.name,id:P,variables:b,meta:N,metaData:N}).then(H=>O(H)).catch(H=>W(H))},"doMutation"),j=s(()=>{W({message:"mutationCancelled"})},"cancelMutation");k&&k(j),l({type:"ADD",payload:{id:P,resource:M,cancelMutation:j,doMutation:z,seconds:V,isSilent:!!k}})})},{onMutate:async({resource:P,id:b,mutationMode:L,values:T,dataProviderName:x,meta:k,metaData:D,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:q}=a(P),F=U(k,D),M=Xt(E)(q,_(q,x,r),F),N=v().data(_(q,x,r)).resource(q),A=o.getQueriesData(N.get(E)),V=L??i;return await o.cancelQueries(N.get(E),void 0,{silent:!0}),V!=="pessimistic"&&(S.list&&o.setQueriesData(N.action("list").params(F??{}).get(E),O=>{if(typeof S.list=="function")return S.list(O,T,b);if(!O)return null;let W=O.data.map(z=>{var j;return((j=z.id)==null?void 0:j.toString())===(b==null?void 0:b.toString())?{id:b,...z,...T}:z});return{...O,data:W}}),S.many&&o.setQueriesData(N.action("many").get(E),O=>{if(typeof S.many=="function")return S.many(O,T,b);if(!O)return null;let W=O.data.map(z=>{var j;return((j=z.id)==null?void 0:j.toString())===(b==null?void 0:b.toString())&&(z={id:b,...z,...T}),z});return{...O,data:W}}),S.detail&&o.setQueriesData(N.action("one").id(b).params(F??{}).get(E),O=>typeof S.detail=="function"?S.detail(O,T,b):O?{...O,data:{...O.data,...T}}:null)),{previousQueries:A,queryKey:M}},onSettled:(P,b,{id:L,resource:T,dataProviderName:x,invalidates:k=["list","many","detail"]})=>{let{identifier:D}=a(T);h({resource:D,dataProviderName:_(D,x,r),invalidates:k,id:L}),l({type:"REMOVE",payload:{id:L,resource:D}})},onSuccess:(P,{id:b,resource:L,successNotification:T,dataProviderName:x,values:k,meta:D,metaData:S},q)=>{var F;let{resource:M,identifier:N}=a(L),A=y.singular(N),V=_(N,x,r),O=g({resource:M,meta:U(D,S)}),W=typeof T=="function"?T(P,{id:b,values:k},N):T;p(W,{key:`${b}-${N}-notification`,description:m("notifications.success","Successful"),message:m("notifications.editSuccess",{resource:m(`${N}.${N}`,A)},`Successfully updated ${A}`),type:"success"}),f==null||f({channel:`resources/${M.name}`,type:"updated",payload:{ids:(F=P.data)!=null&&F.id?[P.data.id]:void 0},date:new Date,meta:{...O,dataProviderName:V}});let z;if(q){let X=o.getQueryData(q.queryKey.detail(b));z=Object.keys(k||{}).reduce((ue,oe)=>{var fe;return ue[oe]=(fe=X==null?void 0:X.data)==null?void 0:fe[oe],ue},{})}let{fields:j,operation:H,variables:B,...K}=O||{};w==null||w.mutate({action:"update",resource:M.name,data:k,previousData:z,meta:{id:b,dataProviderName:V,...K}})},onError:(P,{id:b,resource:L,errorNotification:T,values:x},k)=>{let{identifier:D}=a(L);if(k)for(let S of k.previousQueries)o.setQueryData(S[0],S[1]);if(P.message!=="mutationCancelled"){c==null||c(P);let S=y.singular(D),q=typeof T=="function"?T(P,{id:b,values:x},D):T;p(q,{key:`${b}-${D}-notification`,message:m("notifications.editError",{resource:m(`${D}.${D}`,S),statusCode:P.statusCode},`Error when updating ${S} (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:v().data().mutation("update").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,ss.getXRay)("useUpdate",E)}}),{elapsedTime:$}=pe({isLoading:R.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...R,overtime:{elapsedTime:$}}},"useUpdate"),cs=Y(),ms=C("@tanstack/react-query"),Wr=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=me(),{mutate:a}=Te({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=he(),n=_e(),{resources:i,select:u}=Z(),m=re(),d=ut(),{log:c}=ct(),f=De(),w=le(),{options:{textTransformers:l}}=Pe(),{keys:p,preferLegacyKeys:h}=J(),g=(0,ms.useMutation)(({resource:v,values:E,meta:R,metaData:$,dataProviderName:P})=>{let{resource:b,identifier:L}=u(v),T=w({resource:b,meta:U(R,$)});return o(_(L,P,i)).create({resource:b.name,variables:E,meta:T,metaData:T})},{onSuccess:(v,{resource:E,successNotification:R,dataProviderName:$,invalidates:P=["list","many"],values:b,meta:L,metaData:T})=>{var x,k;let{resource:D,identifier:S}=u(E),q=l.singular(S),F=_(S,$,i),M=w({resource:D,meta:U(L,T)}),N=typeof R=="function"?R(v,b,S):R;f(N,{key:`create-${S}-notification`,message:m("notifications.createSuccess",{resource:m(`${S}.${S}`,q)},`Successfully created ${q}`),description:m("notifications.success","Success"),type:"success"}),n({resource:S,dataProviderName:F,invalidates:P}),d==null||d({channel:`resources/${D.name}`,type:"created",payload:{ids:(x=v==null?void 0:v.data)!=null&&x.id?[v.data.id]:void 0},date:new Date,meta:{...M,dataProviderName:F}});let{fields:A,operation:V,variables:O,...W}=M||{};c==null||c.mutate({action:"create",resource:D.name,data:b,meta:{dataProviderName:F,id:((k=v==null?void 0:v.data)==null?void 0:k.id)??void 0,...W}})},onError:(v,{resource:E,errorNotification:R,values:$})=>{a(v);let{identifier:P}=u(E),b=l.singular(P),L=typeof R=="function"?R(v,$,P):R;f(L,{key:`create-${P}-notification`,description:v.message,message:m("notifications.createError",{resource:m(`${P}.${P}`,b),statusCode:v.statusCode},`There was an error creating ${b} (status code: ${v.statusCode})`),type:"error"})},mutationKey:p().data().mutation("create").get(h),...e,meta:{...e==null?void 0:e.meta,...(0,cs.getXRay)("useCreate",h)}}),{elapsedTime:y}=pe({isLoading:g.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...g,overtime:{elapsedTime:y}}},"useCreate"),vs=Y(),Ka=C("@tanstack/react-query"),ps=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=me(),{mutate:a}=Te({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=he(),{resources:n,select:i}=Z(),u=(0,Ka.useQueryClient)(),{mutationMode:m,undoableTimeout:d}=bt(),{notificationDispatch:c}=Et(),f=re(),w=ut(),{log:l}=ct(),p=De(),h=_e(),g=le(),{options:{textTransformers:y}}=Pe(),{keys:v,preferLegacyKeys:E}=J(),R=(0,Ka.useMutation)(({id:P,mutationMode:b,undoableTimeout:L,resource:T,onCancel:x,meta:k,metaData:D,dataProviderName:S,values:q})=>{let{resource:F,identifier:M}=i(T),N=g({resource:F,meta:U(k,D)}),A=b??m,V=L??d;return A!=="undoable"?o(_(M,S,n)).deleteOne({resource:F.name,id:P,meta:N,metaData:N,variables:q}):new Promise((O,W)=>{let z=s(()=>{o(_(M,S,n)).deleteOne({resource:F.name,id:P,meta:N,metaData:N,variables:q}).then(H=>O(H)).catch(H=>W(H))},"doMutation"),j=s(()=>{W({message:"mutationCancelled"})},"cancelMutation");x&&x(j),c({type:"ADD",payload:{id:P,resource:M,cancelMutation:j,doMutation:z,seconds:V,isSilent:!!x}})})},{onMutate:async({id:P,resource:b,mutationMode:L,dataProviderName:T,meta:x,metaData:k})=>{let{identifier:D}=i(b),S=U(x,k),q=Xt(E)(D,_(D,T,n),S),F=v().data(_(D,T,n)).resource(D),M=L??m;await u.cancelQueries(F.get(E),void 0,{silent:!0});let N=u.getQueriesData(F.get(E));return M!=="pessimistic"&&(u.setQueriesData(F.action("list").params(S??{}).get(E),A=>A?{data:A.data.filter(V=>{var O;return((O=V.id)==null?void 0:O.toString())!==P.toString()}),total:A.total-1}:null),u.setQueriesData(F.action("many").get(E),A=>{if(!A)return null;let V=A.data.filter(O=>{var W;return((W=O.id)==null?void 0:W.toString())!==(P==null?void 0:P.toString())});return{...A,data:V}})),{previousQueries:N,queryKey:q}},onSettled:(P,b,{id:L,resource:T,dataProviderName:x,invalidates:k=["list","many"]})=>{let{identifier:D}=i(T);h({resource:D,dataProviderName:_(D,x,n),invalidates:k}),c({type:"REMOVE",payload:{id:L,resource:D}})},onSuccess:(P,{id:b,resource:L,successNotification:T,dataProviderName:x,meta:k,metaData:D},S)=>{let{resource:q,identifier:F}=i(L),M=y.singular(F),N=_(F,x,n),A=g({resource:q,meta:U(k,D)});u.removeQueries(S==null?void 0:S.queryKey.detail(b));let V=typeof T=="function"?T(P,b,F):T;p(V,{key:`${b}-${F}-notification`,description:f("notifications.success","Success"),message:f("notifications.deleteSuccess",{resource:f(`${F}.${F}`,M)},`Successfully deleted a ${M}`),type:"success"}),w==null||w({channel:`resources/${q.name}`,type:"deleted",payload:{ids:[b]},date:new Date,meta:{...A,dataProviderName:N}});let{fields:O,operation:W,variables:z,...j}=A||{};l==null||l.mutate({action:"delete",resource:q.name,meta:{id:b,dataProviderName:N,...j}}),u.removeQueries(S==null?void 0:S.queryKey.detail(b))},onError:(P,{id:b,resource:L,errorNotification:T},x)=>{let{identifier:k}=i(L);if(x)for(let D of x.previousQueries)u.setQueryData(D[0],D[1]);if(P.message!=="mutationCancelled"){a(P);let D=y.singular(k),S=typeof T=="function"?T(P,b,k):T;p(S,{key:`${b}-${k}-notification`,message:f("notifications.deleteError",{resource:D,statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:v().data().mutation("delete").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,vs.getXRay)("useDelete",E)}}),{elapsedTime:$}=pe({isLoading:R.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...R,overtime:{elapsedTime:$}}},"useDelete"),fs=Y(),gs=C("@tanstack/react-query"),_o=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=he(),{resources:a,select:o}=Z(),n=re(),i=ut(),u=De(),m=_e(),{log:d}=ct(),c=le(),{options:{textTransformers:f}}=Pe(),{keys:w,preferLegacyKeys:l}=J(),p=(0,gs.useMutation)(({resource:g,values:y,meta:v,metaData:E,dataProviderName:R})=>{let{resource:$,identifier:P}=o(g),b=c({resource:$,meta:U(v,E)}),L=r(_(P,R,a));return L.createMany?L.createMany({resource:$.name,variables:y,meta:b,metaData:b}):Zt(y.map(T=>L.create({resource:$.name,variables:T,meta:b,metaData:b})))},{onSuccess:(g,{resource:y,successNotification:v,dataProviderName:E,invalidates:R=["list","many"],values:$,meta:P,metaData:b})=>{let{resource:L,identifier:T}=o(y),x=f.plural(T),k=_(T,E,a),D=c({resource:L,meta:U(P,b)}),S=typeof v=="function"?v(g,$,T):v;u(S,{key:`createMany-${T}-notification`,message:n("notifications.createSuccess",{resource:n(`${T}.${T}`,T)},`Successfully created ${x}`),description:n("notifications.success","Success"),type:"success"}),m({resource:T,dataProviderName:k,invalidates:R});let q=g==null?void 0:g.data.filter(V=>(V==null?void 0:V.id)!==void 0).map(V=>V.id);i==null||i({channel:`resources/${L.name}`,type:"created",payload:{ids:q},date:new Date,meta:{...D,dataProviderName:k}});let{fields:F,operation:M,variables:N,...A}=D||{};d==null||d.mutate({action:"createMany",resource:L.name,data:$,meta:{dataProviderName:k,ids:q,...A}})},onError:(g,{resource:y,errorNotification:v,values:E})=>{let{identifier:R}=o(y),$=typeof v=="function"?v(g,E,R):v;u($,{key:`createMany-${R}-notification`,description:g.message,message:n("notifications.createError",{resource:n(`${R}.${R}`,R),statusCode:g.statusCode},`There was an error creating ${R} (status code: ${g.statusCode}`),type:"error"})},mutationKey:w().data().mutation("createMany").get(l),...e,meta:{...e==null?void 0:e.meta,...(0,fs.getXRay)("useCreateMany",l)}}),{elapsedTime:h}=pe({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:h}}},"useCreateMany"),ys=Y(),Ba=C("@tanstack/react-query"),hs=s(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=Z(),o=(0,Ba.useQueryClient)(),n=he(),i=re(),{mutationMode:u,undoableTimeout:m}=bt(),d=me(),{mutate:c}=Te({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),{notificationDispatch:f}=Et(),w=ut(),l=De(),p=_e(),{log:h}=ct(),g=le(),{options:{textTransformers:y}}=Pe(),{keys:v,preferLegacyKeys:E}=J(),R=(0,Ba.useMutation)(({ids:P,values:b,resource:L,onCancel:T,mutationMode:x,undoableTimeout:k,meta:D,metaData:S,dataProviderName:q})=>{let{resource:F,identifier:M}=a(L),N=g({resource:F,meta:U(D,S)}),A=x??u,V=k??m,O=n(_(M,q,r)),W=s(()=>O.updateMany?O.updateMany({resource:F.name,ids:P,variables:b,meta:N,metaData:N}):Zt(P.map(z=>O.update({resource:F.name,id:z,variables:b,meta:N,metaData:N}))),"mutationFn");return A!=="undoable"?W():new Promise((z,j)=>{let H=s(()=>{W().then(K=>z(K)).catch(K=>j(K))},"doMutation"),B=s(()=>{j({message:"mutationCancelled"})},"cancelMutation");T&&T(B),f({type:"ADD",payload:{id:P,resource:M,cancelMutation:B,doMutation:H,seconds:V,isSilent:!!T}})})},{onMutate:async({resource:P,ids:b,values:L,mutationMode:T,dataProviderName:x,meta:k,metaData:D,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:q}=a(P),F=U(k,D),M=Xt(E)(q,_(q,x,r),U(k,D)),N=v().data(_(q,x,r)).resource(q),A=T??u;await o.cancelQueries(N.get(E),void 0,{silent:!0});let V=o.getQueriesData(N.get(E));if(A!=="pessimistic"&&(S.list&&o.setQueriesData(N.action("list").params(F??{}).get(E),O=>{if(typeof S.list=="function")return S.list(O,L,b);if(!O)return null;let W=O.data.map(z=>z.id!==void 0&&b.filter(j=>j!==void 0).map(String).includes(z.id.toString())?{...z,...L}:z);return{...O,data:W}}),S.many&&o.setQueriesData(N.action("many").get(E),O=>{if(typeof S.many=="function")return S.many(O,L,b);if(!O)return null;let W=O.data.map(z=>z.id!==void 0&&b.filter(j=>j!==void 0).map(String).includes(z.id.toString())?{...z,...L}:z);return{...O,data:W}}),S.detail))for(let O of b)o.setQueriesData(N.action("one").id(O).params(F??{}).get(E),W=>{if(typeof S.detail=="function")return S.detail(W,L,O);if(!W)return null;let z={...W.data,...L};return{...W,data:z}});return{previousQueries:V,queryKey:M}},onSettled:(P,b,{ids:L,resource:T,dataProviderName:x})=>{let{identifier:k}=a(T);p({resource:k,invalidates:["list","many"],dataProviderName:_(k,x,r)}),L.forEach(D=>p({resource:k,invalidates:["detail"],dataProviderName:_(k,x,r),id:D})),f({type:"REMOVE",payload:{id:L,resource:k}})},onSuccess:(P,{ids:b,resource:L,meta:T,metaData:x,dataProviderName:k,successNotification:D,values:S},q)=>{let{resource:F,identifier:M}=a(L),N=y.singular(M),A=_(M,k,r),V=g({resource:F,meta:U(T,x)}),O=typeof D=="function"?D(P,{ids:b,values:S},M):D;l(O,{key:`${b}-${M}-notification`,description:i("notifications.success","Successful"),message:i("notifications.editSuccess",{resource:i(`${M}.${M}`,M)},`Successfully updated ${N}`),type:"success"}),w==null||w({channel:`resources/${F.name}`,type:"updated",payload:{ids:b.map(String)},date:new Date,meta:{...V,dataProviderName:A}});let W=[];q&&b.forEach(K=>{let X=o.getQueryData(q.queryKey.detail(K));W.push(Object.keys(S||{}).reduce((ue,oe)=>{var fe;return ue[oe]=(fe=X==null?void 0:X.data)==null?void 0:fe[oe],ue},{}))});let{fields:z,operation:j,variables:H,...B}=V||{};h==null||h.mutate({action:"updateMany",resource:F.name,data:S,previousData:W,meta:{ids:b,dataProviderName:A,...B}})},onError:(P,{ids:b,resource:L,errorNotification:T,values:x},k)=>{let{identifier:D}=a(L);if(k)for(let S of k.previousQueries)o.setQueryData(S[0],S[1]);if(P.message!=="mutationCancelled"){c==null||c(P);let S=y.singular(D),q=typeof T=="function"?T(P,{ids:b,values:x},D):T;l(q,{key:`${b}-${D}-updateMany-error-notification`,message:i("notifications.editError",{resource:S,statusCode:P.statusCode},`Error when updating ${S} (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:v().data().mutation("updateMany").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,ys.getXRay)("useUpdateMany",E)}}),{elapsedTime:$}=pe({isLoading:R.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...R,overtime:{elapsedTime:$}}},"useUpdateMany"),bs=Y(),Ha=C("@tanstack/react-query"),Es=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=me(),{mutate:a}=Te({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:o,undoableTimeout:n}=bt(),i=he(),{notificationDispatch:u}=Et(),m=re(),d=ut(),c=De(),f=_e(),{log:w}=ct(),{resources:l,select:p}=Z(),h=(0,Ha.useQueryClient)(),g=le(),{options:{textTransformers:y}}=Pe(),{keys:v,preferLegacyKeys:E}=J(),R=(0,Ha.useMutation)(({resource:P,ids:b,mutationMode:L,undoableTimeout:T,onCancel:x,meta:k,metaData:D,dataProviderName:S,values:q})=>{let{resource:F,identifier:M}=p(P),N=g({resource:F,meta:U(k,D)}),A=L??o,V=T??n,O=i(_(M,S,l)),W=s(()=>O.deleteMany?O.deleteMany({resource:F.name,ids:b,meta:N,metaData:N,variables:q}):Zt(b.map(z=>O.deleteOne({resource:F.name,id:z,meta:N,metaData:N,variables:q}))),"mutationFn");return A!=="undoable"?W():new Promise((z,j)=>{let H=s(()=>{W().then(K=>z(K)).catch(K=>j(K))},"doMutation"),B=s(()=>{j({message:"mutationCancelled"})},"cancelMutation");x&&x(B),u({type:"ADD",payload:{id:b,resource:M,cancelMutation:B,doMutation:H,seconds:V,isSilent:!!x}})})},{onMutate:async({ids:P,resource:b,mutationMode:L,dataProviderName:T,meta:x,metaData:k})=>{let{identifier:D}=p(b),S=U(x,k),q=Xt(E)(D,_(D,T,l),S),F=v().data(_(D,T,l)).resource(D),M=L??o;await h.cancelQueries(F.get(E),void 0,{silent:!0});let N=h.getQueriesData(F.get(E));if(M!=="pessimistic"){h.setQueriesData(F.action("list").params(S??{}).get(E),A=>A?{data:A.data.filter(V=>V.id&&!P.map(String).includes(V.id.toString())),total:A.total-1}:null),h.setQueriesData(F.action("many").get(E),A=>{if(!A)return null;let V=A.data.filter(O=>O.id?!P.map(String).includes(O.id.toString()):!1);return{...A,data:V}});for(let A of P)h.setQueriesData(F.action("one").id(A).params(S).get(E),V=>!V||V.data.id==A?null:{...V})}return{previousQueries:N,queryKey:q}},onSettled:(P,b,{resource:L,ids:T,dataProviderName:x,invalidates:k=["list","many"]})=>{let{identifier:D}=p(L);f({resource:D,dataProviderName:_(D,x,l),invalidates:k}),u({type:"REMOVE",payload:{id:T,resource:D}})},onSuccess:(P,{ids:b,resource:L,meta:T,metaData:x,dataProviderName:k,successNotification:D},S)=>{let{resource:q,identifier:F}=p(L),M=_(F,k,l),N=g({resource:q,meta:U(T,x)});b.forEach(j=>h.removeQueries(S==null?void 0:S.queryKey.detail(j)));let A=typeof D=="function"?D(P,b,F):D;c(A,{key:`${b}-${F}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${F}.${F}`,F)},`Successfully deleted ${F}`),type:"success"}),d==null||d({channel:`resources/${q.name}`,type:"deleted",payload:{ids:b},date:new Date,meta:{...N,dataProviderName:M}});let{fields:V,operation:O,variables:W,...z}=N||{};w==null||w.mutate({action:"deleteMany",resource:q.name,meta:{ids:b,dataProviderName:M,...z}}),b.forEach(j=>h.removeQueries(S==null?void 0:S.queryKey.detail(j)))},onError:(P,{ids:b,resource:L,errorNotification:T},x)=>{let{identifier:k}=p(L);if(x)for(let D of x.previousQueries)h.setQueryData(D[0],D[1]);if(P.message!=="mutationCancelled"){a(P);let D=y.singular(k),S=typeof T=="function"?T(P,b,k):T;c(S,{key:`${b}-${k}-notification`,message:m("notifications.deleteError",{resource:D,statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:v().data().mutation("deleteMany").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,bs.getXRay)("useDeleteMany",E)}}),{elapsedTime:$}=pe({isLoading:R.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...R,overtime:{elapsedTime:$}}},"useDeleteMany"),Ps=s(e=>{var t;let r=he(),{resource:a}=Z(),{getApiUrl:o}=r(e??((t=U(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return o()},"useApiUrl"),Ts=C("@tanstack/react-query"),Cs=Y(),ws=s(({url:e,method:t,config:r,queryOptions:a,successNotification:o,errorNotification:n,meta:i,metaData:u,dataProviderName:m,overtimeOptions:d})=>{let c=he(),f=me(),{mutate:w}=Te({v3LegacyAuthProviderCompatible:!!(f!=null&&f.isLegacy)}),l=re(),p=De(),h=le(),{keys:g,preferLegacyKeys:y}=J(),v=U(i,u),{custom:E}=c(m),R=h({meta:v});if(E){let $=(0,Ts.useQuery)({queryKey:g().data(m).mutation("custom").params({method:t,url:e,...r,...v||{}}).get(y),queryFn:({queryKey:b,pageParam:L,signal:T})=>E({url:e,method:t,...r,meta:{...R,queryContext:{queryKey:b,pageParam:L,signal:T}},metaData:{...R,queryContext:{queryKey:b,pageParam:L,signal:T}}}),...a,onSuccess:b=>{var L;(L=a==null?void 0:a.onSuccess)==null||L.call(a,b);let T=typeof o=="function"?o(b,{...r,...R}):o;p(T)},onError:b=>{var L;w(b),(L=a==null?void 0:a.onError)==null||L.call(a,b);let T=typeof n=="function"?n(b,{...r,...R}):n;p(T,{key:`${t}-notification`,message:l("notifications.error",{statusCode:b.statusCode},`Error (status code: ${b.statusCode})`),description:b.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Cs.getXRay)("useCustom",y)}}),{elapsedTime:P}=pe({isLoading:$.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{...$,overtime:{elapsedTime:P}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),Ls=C("@tanstack/react-query"),Ss=Y(),xs=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=me(),{mutate:a}=Te({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=De(),n=he(),i=re(),u=le(),{keys:m,preferLegacyKeys:d}=J(),c=(0,Ls.useMutation)(({url:w,method:l,values:p,meta:h,metaData:g,dataProviderName:y,config:v})=>{let E=u({meta:U(h,g)}),{custom:R}=n(y);if(R)return R({url:w,method:l,payload:p,meta:E,metaData:E,headers:{...v==null?void 0:v.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(w,{successNotification:l,config:p,meta:h,metaData:g})=>{let y=typeof l=="function"?l(w,{...p,...U(h,g)||{}}):l;o(y)},onError:(w,{errorNotification:l,method:p,config:h,meta:g,metaData:y})=>{a(w);let v=typeof l=="function"?l(w,{...h,...U(g,y)||{}}):l;o(v,{key:`${p}-notification`,message:i("notifications.error",{statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})},mutationKey:m().data().mutation("customMutation").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,Ss.getXRay)("useCustomMutation",d)}}),{elapsedTime:f}=pe({isLoading:c.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...c,overtime:{elapsedTime:f}}},"useCustomMutation"),Wa=C("react"),Xo=I(C("react")),Ds=s(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),zr=Xo.default.createContext(Ds()),Rs=s(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Xo.default.createElement(zr.Provider,{value:r},e)},"DataContextProvider"),he=s(()=>{let e=(0,Wa.useContext)(zr);return(0,Wa.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),Fs=Y(),Ns=C("@tanstack/react-query"),ks=s(({resource:e,config:t,filters:r,hasPagination:a,pagination:o,sorters:n,queryOptions:i,successNotification:u,errorNotification:m,meta:d,metaData:c,liveMode:f,onLiveEvent:w,liveParams:l,dataProviderName:p,overtimeOptions:h})=>{let{resources:g,resource:y,identifier:v}=Z(e),E=he(),R=re(),$=me(),{mutate:P}=Te({v3LegacyAuthProviderCompatible:!!($!=null&&$.isLegacy)}),b=De(),L=le(),{keys:T,preferLegacyKeys:x}=J(),k=_(v,p,g),D=U(d,c),S=U(r,t==null?void 0:t.filters),q=U(n,t==null?void 0:t.sort),F=U(a,t==null?void 0:t.hasPagination),M=Uo({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:F}),N=M.mode==="server",A={meta:D,metaData:D,filters:S,hasPagination:N,pagination:M,sorters:q,config:{...t,sort:q}},V=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,O=L({resource:y,meta:D}),{getList:W}=E(k);Rt({resource:v,types:["*"],params:{meta:O,metaData:O,pagination:M,hasPagination:N,sort:q,sorters:q,filters:S,subscriptionType:"useList",...l},channel:`resources/${y.name}`,enabled:V,liveMode:f,onLiveEvent:w,dataProviderName:k,meta:{...O,dataProviderName:p}});let z=(0,Ns.useInfiniteQuery)(T().data(k).resource(v).action("infinite").params({...D||{},filters:S,hasPagination:N,...N&&{pagination:M},...n&&{sorters:n},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(x),({queryKey:H,pageParam:B,signal:K})=>{let X={...M,current:B};return W({resource:y.name,pagination:X,hasPagination:N,filters:S,sort:q,sorters:q,meta:{...O,queryContext:{queryKey:H,pageParam:B,signal:K}},metaData:{...O,queryContext:{queryKey:H,pageParam:B,signal:K}}}).then(({data:ue,total:oe,...fe})=>({data:ue,total:oe,pagination:X,...fe}))},{getNextPageParam:H=>Mo(H),getPreviousPageParam:H=>qo(H),...i,onSuccess:H=>{var B;(B=i==null?void 0:i.onSuccess)==null||B.call(i,H);let K=typeof u=="function"?u(H,A,v):u;b(K)},onError:H=>{var B;P(H),(B=i==null?void 0:i.onError)==null||B.call(i,H);let K=typeof m=="function"?m(H,A,v):m;b(K,{key:`${v}-useInfiniteList-notification`,message:R("notifications.error",{statusCode:H.statusCode},`Error (status code: ${H.statusCode})`),description:H.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,Fs.getXRay)("useInfiniteList",x)}}),{elapsedTime:j}=pe({isLoading:z.isFetching,interval:h==null?void 0:h.interval,onInterval:h==null?void 0:h.onInterval});return{...z,overtime:{elapsedTime:j}}},"useInfiniteList"),Zo=I(C("react")),St=Zo.default.createContext(void 0),Ms=s(({liveProvider:e,children:t})=>Zo.default.createElement(St.Provider,{value:e},t),"LiveContextProvider"),qs=C("react"),Os=C("@tanstack/react-query"),As=C("react"),Go=I(C("react")),$s=C("react"),Us=C("react"),Is=I(C("lodash/isEqual")),Qs=s(e=>{let t=(0,Us.useRef)(e);return(0,Is.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),Yo=s((e,t)=>{let r=Qs(t);return(0,$s.useMemo)(e,r)},"useDeepMemo"),xt=Go.default.createContext({resources:[]}),Vs=s(({resources:e,children:t})=>{let r=Yo(()=>Oo(e??[]),[e]);return Go.default.createElement(xt.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),Jo=I(C("react")),en=Jo.default.createContext("new"),Ks=en.Provider,ve=s(()=>Jo.default.useContext(en),"useRouterType"),Bs=I(C("react")),tn=I(C("react")),rn={},Dt=(0,tn.createContext)(rn),Hs=s(({children:e,router:t})=>tn.default.createElement(Dt.Provider,{value:t??rn},e),"RouterBindingsProvider"),za=I(C("react")),an=s(()=>{let e=(0,za.useContext)(Dt);return za.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),Qe=s(()=>{let e=an();return Bs.default.useMemo(()=>e(),[e])},"useParsed");function Z(e){let{resources:t}=(0,As.useContext)(xt),r=ve(),a=Qe(),o={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},n=s((f,w=!0)=>{let l=ge(f,t,r==="legacy");if(l)return{resource:l,identifier:l.identifier??l.name};if(w){let p={name:f,identifier:f},h=p.identifier??p.name;return{resource:p,identifier:h}}},"select"),i=on(),{useParams:u}=Re(),m=u();if(r==="legacy"){let f=o.resourceNameOrRouteName?o.resourceNameOrRouteName:m.resource,w=f?i(f):void 0,l=(o==null?void 0:o.recordItemId)??m.id,p=m.action,h=(o==null?void 0:o.resourceName)??(w==null?void 0:w.name),g=(w==null?void 0:w.identifier)??(w==null?void 0:w.name);return{resources:t,resource:w,resourceName:h,id:l,action:p,select:n,identifier:g}}let d,c=typeof e=="string"?e:o==null?void 0:o.resourceNameOrRouteName;if(c){let f=ge(c,t);f?d=f:d={name:c}}else a!=null&&a.resource&&(d=a.resource);return{resources:t,resource:d,resourceName:d==null?void 0:d.name,id:a.id,action:a.action,select:n,identifier:(d==null?void 0:d.identifier)??(d==null?void 0:d.name)}}Q(Z,"K");s(Z,"useResource");var ja=C("react"),on=s(()=>{let{resources:e}=(0,ja.useContext)(xt);return(0,ja.useCallback)(t=>ge(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),_e=s(()=>{let{resources:e}=Z(),t=(0,Os.useQueryClient)(),{keys:r,preferLegacyKeys:a}=J();return(0,qs.useCallback)(async({resource:o,dataProviderName:n,invalidates:i,id:u,invalidationFilters:m={type:"all",refetchType:"active"},invalidationOptions:d={cancelRefetch:!1}})=>{if(i===!1)return;let c=_(o,n,e),f=r().data(c).resource(o??"");await Promise.all(i.map(w=>{switch(w){case"all":return t.invalidateQueries(r().data(c).get(a),m,d);case"list":return t.invalidateQueries(f.action("list").get(a),m,d);case"many":return t.invalidateQueries(f.action("many").get(a),m,d);case"resourceAll":return t.invalidateQueries(f.get(a),m,d);case"detail":return t.invalidateQueries(f.action("one").id(u||"").get(a),m,d);default:return}}))},[])},"useInvalidate"),hr=C("react"),Rt=s(({resource:e,params:t,channel:r,types:a,enabled:o=!0,liveMode:n,onLiveEvent:i,dataProviderName:u,meta:m})=>{var d;let{resource:c,identifier:f}=Z(e),w=(0,hr.useContext)(St),{liveMode:l,onLiveEvent:p}=(0,hr.useContext)(tt),h=n??l,g=_e(),y=u??(m==null?void 0:m.dataProviderName)??((d=c==null?void 0:c.meta)==null?void 0:d.dataProviderName);(0,hr.useEffect)(()=>{let v,E=s(R=>{h==="auto"&&g({resource:f,dataProviderName:y,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),i==null||i(R),p==null||p(R)},"callback");return h&&h!=="off"&&o&&(v=w==null?void 0:w.subscribe({channel:r,params:{resource:c==null?void 0:c.name,...t},types:a,callback:E,dataProviderName:y,meta:{...m,dataProviderName:y}})),()=>{v&&(w==null||w.unsubscribe(v))}},[o])},"useResourceSubscription"),Ws=C("react"),nn=s(e=>{let{liveMode:t}=(0,Ws.useContext)(tt);return e??t},"useLiveMode"),_a=C("react"),zs=s(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:o,dataProviderName:n="default",meta:i})=>{let u=(0,_a.useContext)(St);(0,_a.useEffect)(()=>{let m;return a&&(m=u==null?void 0:u.subscribe({channel:t,params:e,types:r,callback:o,dataProviderName:n,meta:{...i,dataProviderName:n}})),()=>{m&&(u==null||u.unsubscribe(m))}},[a])},"useSubscription"),js=C("react"),ut=s(()=>{let e=(0,js.useContext)(St);return e==null?void 0:e.publish},"usePublish"),_s=C("react"),Et=s(()=>{let{notifications:e,notificationDispatch:t}=(0,_s.useContext)(jo);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),Xs=C("react"),sn=I(C("react")),jr=(0,sn.createContext)({}),Zs=s(({open:e,close:t,children:r})=>sn.default.createElement(jr.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),rt=s(()=>{let{open:e,close:t}=(0,Xs.useContext)(jr);return{open:e,close:t}},"useNotification"),Gs=C("react"),De=s(()=>{let{open:e}=rt();return(0,Gs.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),Xa=C("react"),ln=I(C("react")),dt=ln.default.createContext({}),Ys=s(({children:e,i18nProvider:t})=>ln.default.createElement(dt.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),Js=s(()=>{let{i18nProvider:e}=(0,Xa.useContext)(dt);return(0,Xa.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),Za=C("react"),re=s(()=>{let{i18nProvider:e}=(0,Za.useContext)(dt);return(0,Za.useMemo)(()=>{function t(r,a,o){return(e==null?void 0:e.translate(r,a,o))??o??(typeof a=="string"&&typeof o>"u"?a:r)}return Q(t,"r"),s(t,"translate"),t},[e])},"useTranslate"),Ga=C("react"),el=s(()=>{let{i18nProvider:e}=(0,Ga.useContext)(dt);return(0,Ga.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),tl=C("react"),rl=C("export-to-csv-fix-source-map"),al=s(({resourceName:e,resource:t,sorter:r,sorters:a,filters:o,maxItemCount:n,pageSize:i=20,mapData:u=s(l=>l,"mapData"),exportOptions:m,meta:d,metaData:c,dataProviderName:f,onError:w}={})=>{let[l,p]=(0,tl.useState)(!1),h=he(),g=le(),{resource:y,resources:v,identifier:E}=Z(U(t,e)),R=`${Ar()(E,"plural")}-${new Date().toLocaleString()}`,{getList:$}=h(_(E,f,v)),P=g({resource:y,meta:U(d,c)});return{isLoading:l,triggerExport:s(async()=>{p(!0);let b=[],L=1,T=!0;for(;T;)try{let{data:x,total:k}=await $({resource:(y==null?void 0:y.name)??"",filters:o,sort:U(a,r),sorters:U(a,r),pagination:{current:L,pageSize:i,mode:"server"},meta:P,metaData:P});L++,b.push(...x),n&&b.length>=n&&(b=b.slice(0,n),T=!1),k===b.length&&(T=!1)}catch(x){p(!1),T=!1,w==null||w(x);return}new rl.ExportToCsv({filename:R,useKeysAsHeaders:!0,...m}).generateCsv(b.map(u)),p(!1)},"triggerExport")}},"useExport"),br=I(C("react")),ol=I(C("warn-once")),nl=I(C("lodash/debounce")),il=s(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:o,redirect:n,successNotification:i,errorNotification:u,meta:m,metaData:d,queryMeta:c,mutationMeta:f,mutationMode:w,liveMode:l,onLiveEvent:p,liveParams:h,undoableTimeout:g,dataProviderName:y,invalidates:v,queryOptions:E,createMutationOptions:R,updateMutationOptions:$,overtimeOptions:P,autoSave:b,optimisticUpdateMap:L}={})=>{let T=_e(),{options:x}=Pe(),k=le(),{resource:D,id:S,action:q,identifier:F}=Z(e),{identifier:M}=Z(),N=s(()=>e&&e!==M?r:r??S,"getDefaultId")(),[A,V]=br.default.useState(N);br.default.useEffect(()=>{V(N)},[N]);let O=s(()=>t||(q==="edit"||q==="clone"?q:"create"),"getAction")(),W=k({resource:D,meta:U(m,d)}),{mutationMode:z}=bt(),j=w??z,H=O==="create",B=O==="edit",K=O==="clone";(0,ol.default)((K||B)&&!!e&&!r&&(E==null?void 0:E.enabled)!==!1,`[useForm]: action: "${O}", resource: "${F}", id: ${A} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let X=Ni({redirectFromProps:n,action:O,redirectOptions:x.redirect}),ue=Hr({resource:F,id:A??"",queryOptions:{enabled:A!==void 0&&(B||K),...E},liveMode:l,onLiveEvent:p,liveParams:h,meta:{...W,...c},metaData:{...W,...c},dataProviderName:y}),{isFetching:oe}=ue,fe=Wr({mutationOptions:R}),{mutate:kt,isLoading:Mt}=fe,Oe=Nr({mutationOptions:$}),{mutate:qt,isLoading:Xe}=Oe,Ze=Nr({}),{setWarnWhen:at}=Or(),Ge=un(),mt=s(async ae=>{at(!1);let Ae=s(ie=>{Ge({redirect:X,resource:D,id:ie,meta:U(m,d)})},"onSuccess");return j!=="pessimistic"&&setTimeout(()=>{Ae()}),new Promise((ie,Be)=>{if(j!=="pessimistic"&&ie(),!!D)return kt({values:ae,resource:F??D.name,successNotification:i,errorNotification:u,meta:{...W,...f},metaData:{...W,...f},dataProviderName:y,invalidates:v},{onSuccess:(de,$e,Ue)=>{var He;a&&a(de,ae,Ue);let We=(He=de==null?void 0:de.data)==null?void 0:He.id;Ae(We),ie(de)},onError:(de,$e,Ue)=>{if(o)return o(de,ae,Ue);Be()}})})},"onFinishCreate");br.default.useEffect(()=>()=>{b!=null&&b.invalidateOnUnmount&&Ze.status==="success"&&T({id:A,invalidates:v||["list","many","detail"],dataProviderName:y,resource:F})},[b==null?void 0:b.invalidateOnUnmount,Ze.status]);let vt=s(ae=>{if(!D||!B)return;let Ae={id:A??"",values:ae,resource:F??D.name,successNotification:!1,errorNotification:!1,meta:{...W,...f},metaData:{...W,...f},dataProviderName:y,invalidates:[],mutationMode:"pessimistic"};return Ze.mutate(Ae,{onSuccess:(ie,Be,de)=>{a&&a(ie,ae,de,!0)},onError:(ie,Be,de)=>{if(o)return o(ie,ae,de,!0)}})},"onFinishAutoSaveMutation"),Ot=(0,nl.default)(ae=>vt(ae),(b==null?void 0:b.debounce)||1e3),Pt=H||K?{formLoading:oe||Mt,mutationResult:fe,onFinish:mt}:{formLoading:oe||Xe,mutationResult:Oe,onFinish:s(async ae=>{if(at(!1),!D)return;let Ae={id:A??"",values:ae,resource:F??D.name,mutationMode:j,undoableTimeout:g,successNotification:i,errorNotification:u,meta:{...W,...f},metaData:{...W,...f},dataProviderName:y,invalidates:v,optimisticUpdateMap:L},ie=s(()=>{Ge({redirect:X,resource:D,id:A,meta:U(m,d)})},"onSuccess");return j!=="pessimistic"&&setTimeout(()=>{ie()}),new Promise((Be,de)=>(j!=="pessimistic"&&Be(),setTimeout(()=>{qt(Ae,{onSuccess:($e,Ue,He)=>{a&&a($e,ae,He),j==="pessimistic"&&ie(),Be($e)},onError:($e,Ue,He)=>{if(o)return o($e,ae,He);de()}})})))},"onFinishUpdate")},{elapsedTime:or}=pe({isLoading:Pt.mutationResult.isLoading||ue.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{...Pt,queryResult:ue,onFinishAutoSave:Ot,autoSaveProps:{status:Ze.status,data:Ze.data,error:Ze.error},id:A,setId:V,redirect:(ae,Ae)=>{Ge({redirect:ae!==void 0?ae:B?"list":"edit",resource:D,id:Ae??A,meta:U(m,d)})},overtime:{elapsedTime:or}}},"useForm"),sl=C("react"),un=s(()=>{let{show:e,edit:t,list:r,create:a}=qe();return(0,sl.useCallback)(({redirect:o,resource:n,id:i,meta:u={}})=>{if(o&&n)return n.show&&o==="show"&&i?e(n,i,void 0,u):n.edit&&o==="edit"&&i?t(n,i,void 0,u):n.create&&o==="create"?a(n,void 0,u):r(n,"push",u)},[])},"useRedirectionAfterSubmission"),Er=I(C("react")),ll=I(C("react")),Jt=s(()=>{let e=ve(),{resource:t,resources:r}=Z(),a=Qe();return ll.default.useCallback(({resource:o,action:n,meta:i})=>{var u;let m=o||t;if(!m)return;let d=(u=Le(m,r,e==="legacy").find(c=>c.action===n))==null?void 0:u.route;return d?Ne(d,m==null?void 0:m.meta,a,i):void 0},[r,t,a])},"useGetToPath"),Me=s(()=>{let e=(0,Er.useContext)(Dt),{select:t}=Z(),r=Jt(),a=Er.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,Er.useCallback)(o=>{if(typeof o.to!="object")return a({...o,to:o.to});let{resource:n}=t(o.to.resource);ul(o.to,n);let i=r({resource:n,action:o.to.action,meta:{id:o.to.id}});return a({...o,to:i})},[t,a])},"useGo"),ul=s((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors"),Ya=I(C("react")),dn=s(()=>{let e=(0,Ya.useContext)(Dt);return Ya.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),qe=s(()=>{let{resources:e}=Z(),t=ve(),{useHistory:r}=Re(),a=r(),o=Qe(),n=Me(),i=dn(),u=s((l,p="push")=>{t==="legacy"?a[p](l):n({to:l,type:p})},"handleUrl"),m=s((l,p={})=>{var h;if(t==="legacy"){let g=typeof l=="string"?ge(l,e,!0)??{name:l,route:l}:l,y=Le(g,e,!0).find(v=>v.action==="create");return y?Ne(y.route,g==null?void 0:g.meta,o,p):""}else{let g=typeof l=="string"?ge(l,e)??{name:l}:l,y=(h=Le(g,e).find(v=>v.action==="create"))==null?void 0:h.route;return y?n({to:Ne(y,g==null?void 0:g.meta,o,p),type:"path"}):""}},"createUrl"),d=s((l,p,h={})=>{var g;let y=encodeURIComponent(p);if(t==="legacy"){let v=typeof l=="string"?ge(l,e,!0)??{name:l,route:l}:l,E=Le(v,e,!0).find(R=>R.action==="edit");return E?Ne(E.route,v==null?void 0:v.meta,o,{...h,id:y}):""}else{let v=typeof l=="string"?ge(l,e)??{name:l}:l,E=(g=Le(v,e).find(R=>R.action==="edit"))==null?void 0:g.route;return E?n({to:Ne(E,v==null?void 0:v.meta,o,{...h,id:y}),type:"path"}):""}},"editUrl"),c=s((l,p,h={})=>{var g;let y=encodeURIComponent(p);if(t==="legacy"){let v=typeof l=="string"?ge(l,e,!0)??{name:l,route:l}:l,E=Le(v,e,!0).find(R=>R.action==="clone");return E?Ne(E.route,v==null?void 0:v.meta,o,{...h,id:y}):""}else{let v=typeof l=="string"?ge(l,e)??{name:l}:l,E=(g=Le(v,e).find(R=>R.action==="clone"))==null?void 0:g.route;return E?n({to:Ne(E,v==null?void 0:v.meta,o,{...h,id:y}),type:"path"}):""}},"cloneUrl"),f=s((l,p,h={})=>{var g;let y=encodeURIComponent(p);if(t==="legacy"){let v=typeof l=="string"?ge(l,e,!0)??{name:l,route:l}:l,E=Le(v,e,!0).find(R=>R.action==="show");return E?Ne(E.route,v==null?void 0:v.meta,o,{...h,id:y}):""}else{let v=typeof l=="string"?ge(l,e)??{name:l}:l,E=(g=Le(v,e).find(R=>R.action==="show"))==null?void 0:g.route;return E?n({to:Ne(E,v==null?void 0:v.meta,o,{...h,id:y}),type:"path"}):""}},"showUrl"),w=s((l,p={})=>{var h;if(t==="legacy"){let g=typeof l=="string"?ge(l,e,!0)??{name:l,route:l}:l,y=Le(g,e,!0).find(v=>v.action==="list");return y?Ne(y.route,g==null?void 0:g.meta,o,p):""}else{let g=typeof l=="string"?ge(l,e)??{name:l}:l,y=(h=Le(g,e).find(v=>v.action==="list"))==null?void 0:h.route;return y?n({to:Ne(y,g==null?void 0:g.meta,o,p),type:"path"}):""}},"listUrl");return{create:s((l,p="push",h={})=>{u(m(l,h),p)},"create"),createUrl:m,edit:s((l,p,h="push",g={})=>{u(d(l,p,g),h)},"edit"),editUrl:d,clone:s((l,p,h="push",g={})=>{u(c(l,p,g),h)},"clone"),cloneUrl:c,show:s((l,p,h="push",g={})=>{u(f(l,p,g),h)},"show"),showUrl:f,list:s((l,p="push",h={})=>{u(w(l,h),p)},"list"),listUrl:w,push:s((l,...p)=>{t==="legacy"?a.push(l,...p):n({to:l,type:"push"})},"push"),replace:s((l,...p)=>{t==="legacy"?a.replace(l,...p):n({to:l,type:"replace"})},"replace"),goBack:s(()=>{t==="legacy"?a.goBack():i()},"goBack")}},"useNavigation"),Ja=I(C("react")),dl=I(C("warn-once")),cl=s(({resource:e,id:t,successNotification:r,errorNotification:a,meta:o,metaData:n,liveMode:i,onLiveEvent:u,dataProviderName:m,queryOptions:d,overtimeOptions:c}={})=>{let{resource:f,id:w,identifier:l}=Z(e),{identifier:p}=Z(),h=le(),g=s(()=>e&&e!==p?t:t??w,"getDefaultId")(),[y,v]=(0,Ja.useState)(g);Ja.default.useEffect(()=>{v(g)},[g]);let E=h({resource:f,meta:U(o,n)});(0,dl.default)(!!e&&!t,`[useShow]: resource: "${l}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let R=Hr({resource:l,id:y??"",queryOptions:{enabled:y!==void 0,...d},successNotification:r,errorNotification:a,meta:E,metaData:E,liveMode:i,onLiveEvent:u,dataProviderName:m}),{elapsedTime:$}=pe({isLoading:R.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{queryResult:R,showId:y,setShowId:v,overtime:{elapsedTime:$}}},"useShow"),Vt=C("react"),ml=C("papaparse"),vl=I(C("lodash/chunk")),pl=s(({resourceName:e,resource:t,mapData:r=s(c=>c,"mapData"),paparseOptions:a,batchSize:o=Number.MAX_SAFE_INTEGER,onFinish:n,meta:i,metaData:u,onProgress:m,dataProviderName:d}={})=>{let[c,f]=(0,Vt.useState)(0),[w,l]=(0,Vt.useState)(0),[p,h]=(0,Vt.useState)(!1),{resource:g,identifier:y}=Z(t??e),v=le(),E=_o(),R=Wr(),$=v({resource:g,meta:U(i,u)}),P;o===1?P=R:P=E;let b=s(()=>{l(0),f(0),h(!1)},"handleCleanup"),L=s(x=>{let k={succeeded:x.filter(D=>D.type==="success"),errored:x.filter(D=>D.type==="error")};n==null||n(k),h(!1)},"handleFinish");(0,Vt.useEffect)(()=>{m==null||m({totalAmount:w,processedAmount:c})},[w,c]);let T=s(({file:x})=>(b(),new Promise(k=>{h(!0),(0,ml.parse)(x,{complete:async({data:D})=>{let S=go(D,r);if(l(S.length),o===1){let q=S.map(M=>s(async()=>({response:await R.mutateAsync({resource:y??"",values:M,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:$,metaData:$}),value:M}),"fn")),F=await Ea(q,({response:M,value:N})=>(f(A=>A+1),{response:[M.data],type:"success",request:[N]}),(M,N)=>({response:[M],type:"error",request:[S[N]]}));k(F)}else{let q=(0,vl.default)(S,o),F=q.map(N=>s(async()=>({response:await E.mutateAsync({resource:y??"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:$,metaData:$}),value:N,currentBatchLength:N.length}),"fn")),M=await Ea(F,({response:N,currentBatchLength:A,value:V})=>(f(O=>O+A),{response:N.data,type:"success",request:V}),(N,A)=>({response:[N],type:"error",request:q[A]}));k(M)}},...a})}).then(k=>(L(k),k))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:x=>{x.target.files&&x.target.files.length>0&&T({file:x.target.files[0]})}},mutationResult:P,isLoading:p,handleChange:T}},"useImport"),Pr=C("react"),fl=s(({defaultVisible:e=!1}={})=>{let[t,r]=(0,Pr.useState)(e),a=(0,Pr.useCallback)(()=>r(!0),[t]),o=(0,Pr.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:o}},"useModal"),gl=s(({resource:e,action:t,meta:r,legacy:a})=>Jt()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),eo=I(C("react")),er=s(()=>{let e=(0,eo.useContext)(Dt);return e!=null&&e.Link?e.Link:s(({to:t,...r})=>eo.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),yl=C("react"),cn=I(C("react")),Je={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},hl=cn.default.createContext(Je),_r=hl,bl=s(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:o,Link:n,routes:i})=>cn.default.createElement(_r.Provider,{value:{useHistory:t??Je.useHistory,useLocation:r??Je.useLocation,useParams:a??Je.useParams,Prompt:o??Je.Prompt,Link:n??Je.Link,routes:i??Je.routes}},e),"LegacyRouterContextProvider"),Re=s(()=>{let e=(0,yl.useContext)(_r),{useHistory:t,useLocation:r,useParams:a,Prompt:o,Link:n,routes:i}=e??Je;return{useHistory:t,useLocation:r,useParams:a,Prompt:o,Link:n,routes:i}},"useRouterContext"),El=C("@tanstack/react-query"),Pl=C("react"),mn=I(C("react")),Ft=mn.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),Tl=s(({can:e,children:t,options:r})=>mn.default.createElement(Ft.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),Xr=s(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:o,show:n,clone:i,children:u,meta:m,options:d,...c}=e,{icon:f,...w}=m??{},{icon:l,...p}=d??{};return{...c,...m?{meta:w}:{},...d?{options:p}:{}}},"sanitizeResource"),Cl=Y(),vn=s(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:o}=(0,Pl.useContext)(Ft),{keys:n,preferLegacyKeys:i}=J(),{resource:u,...m}=r??{},d=Xr(u),c=(0,El.useQuery)(n().access().resource(t).action(e).params({params:{...m,resource:d},enabled:a==null?void 0:a.enabled}).get(i),()=>(o==null?void 0:o({action:e,resource:t,params:{...m,resource:d}}))??Promise.resolve({can:!0}),{enabled:typeof o<"u",...a,meta:{...a==null?void 0:a.meta,...(0,Cl.getXRay)("useCan",i)},retry:!1});return typeof o>"u"?{data:{can:!0}}:c},"useCan"),to=I(C("react")),wl=s(()=>{let{can:e}=to.default.useContext(Ft);return{can:to.default.useMemo(()=>e?s(async({params:t,...r})=>{let a=t!=null&&t.resource?Xr(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),ft=C("react"),Ll=I(C("lodash/uniqBy")),Sl=I(C("lodash/debounce")),Kt=I(C("lodash/get")),xl=s(e=>{let[t,r]=(0,ft.useState)([]),[a,o]=(0,ft.useState)([]),[n,i]=(0,ft.useState)([]),{resource:u,sort:m,sorters:d,filters:c=[],optionLabel:f="title",optionValue:w="id",debounce:l=300,successNotification:p,errorNotification:h,defaultValueQueryOptions:g,queryOptions:y,fetchSize:v,pagination:E,hasPagination:R=!1,liveMode:$,defaultValue:P=[],onLiveEvent:b,onSearch:L,liveParams:T,meta:x,metaData:k,dataProviderName:D,overtimeOptions:S}=e,{resource:q,identifier:F}=Z(u),M=le()({resource:q,meta:U(x,k)}),N=Array.isArray(P)?P:[P],A=(0,ft.useCallback)(K=>{i(K.data.map(X=>({label:(0,Kt.default)(X,f),value:(0,Kt.default)(X,w)})))},[f,w]),V=g??y,O=zo({resource:F,ids:N,queryOptions:{...V,enabled:N.length>0&&((V==null?void 0:V.enabled)??!0),onSuccess:K=>{var X;A(K),(X=V==null?void 0:V.onSuccess)==null||X.call(V,K)}},meta:M,metaData:M,liveMode:"off",dataProviderName:D}),W=(0,ft.useCallback)(K=>{o(K.data.map(X=>({label:(0,Kt.default)(X,f),value:(0,Kt.default)(X,w)})))},[f,w]),z=Br({resource:F,sorters:U(d,m),filters:c.concat(t),pagination:{current:E==null?void 0:E.current,pageSize:(E==null?void 0:E.pageSize)??v,mode:E==null?void 0:E.mode},hasPagination:R,queryOptions:{...y,onSuccess:K=>{var X;W(K),(X=y==null?void 0:y.onSuccess)==null||X.call(y,K)}},successNotification:p,errorNotification:h,meta:M,metaData:M,liveMode:$,liveParams:T,onLiveEvent:b,dataProviderName:D}),j=s(K=>{if(L){r(L(K));return}if(K)r([{field:f,operator:"contains",value:K}]);else{r([]);return}},"onSearch"),{elapsedTime:H}=pe({isLoading:z.isFetching||O.isFetching,interval:S==null?void 0:S.interval,onInterval:S==null?void 0:S.onInterval}),B=(0,ft.useMemo)(()=>(0,Ll.default)([...a,...n],"value"),[a,n]);return{queryResult:z,defaultValueQueryResult:O,options:B,onSearch:(0,Sl.default)(j,l),overtime:{elapsedTime:H}}},"useSelect"),nt=I(C("react")),ro=I(C("qs")),Bt=I(C("lodash/differenceWith")),Ht=I(C("lodash/isEqual")),Dl=I(C("warn-once")),ao=[],oo=[];function pn({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:o,permanentSorter:n=oo,defaultSetFilterBehavior:i,initialFilter:u,permanentFilter:m=ao,filters:d,sorters:c,syncWithLocation:f,resource:w,successNotification:l,errorNotification:p,queryOptions:h,liveMode:g,onLiveEvent:y,liveParams:v,meta:E,metaData:R,dataProviderName:$,overtimeOptions:P}={}){var b,L,T,x,k;let{syncWithLocation:D}=Vo(),S=f??D,q=nn(g),F=ve(),{useLocation:M}=Re(),{search:N,pathname:A}=M(),V=le(),O=Qe(),W=((d==null?void 0:d.mode)||"server")==="server",z=((c==null?void 0:c.mode)||"server")==="server",j=r===!1?"off":"server",H=((a==null?void 0:a.mode)??j)!=="off",B=U(a==null?void 0:a.current,e),K=U(a==null?void 0:a.pageSize,t),X=U(E,R),{parsedCurrent:ue,parsedPageSize:oe,parsedSorter:fe,parsedFilters:kt}=$r(N??"?"),Mt=U(d==null?void 0:d.initial,u),Oe=U(d==null?void 0:d.permanent,m)??ao,qt=U(c==null?void 0:c.initial,o),Xe=U(c==null?void 0:c.permanent,n)??oo,Ze=U(d==null?void 0:d.defaultBehavior,i)??"merge",at,Ge,mt,vt;S?(at=((b=O==null?void 0:O.params)==null?void 0:b.current)||ue||B||1,Ge=((L=O==null?void 0:O.params)==null?void 0:L.pageSize)||oe||K||10,mt=((T=O==null?void 0:O.params)==null?void 0:T.sorters)||(fe.length?fe:qt),vt=((x=O==null?void 0:O.params)==null?void 0:x.filters)||(kt.length?kt:Mt)):(at=B||1,Ge=K||10,mt=qt,vt=Mt);let{replace:Ot}=qe(),Pt=Me(),{resource:or,identifier:ae}=Z(w),Ae=V({resource:or,meta:X});nt.default.useEffect(()=>{(0,Dl.default)(typeof ae>"u","useTable: `resource` is not defined.")},[ae]);let[ie,Be]=(0,nt.useState)(Fr(Xe,mt??[])),[de,$e]=(0,nt.useState)(Rr(Oe,vt??[])),[Ue,He]=(0,nt.useState)(at),[We,Jr]=(0,nt.useState)(Ge),Ln=s(({pagination:{current:se,pageSize:Fe},sorter:At,filters:$t})=>{if(F==="new")return Pt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...H?{current:se,pageSize:Fe}:{},sorters:At,filters:$t,...ea()}})??"";{let Tt=ro.default.parse(N==null?void 0:N.substring(1)),Nn=xr({pagination:{pageSize:Fe,current:se},sorters:ie??At,filters:$t,...Tt});return`${A??""}?${Nn??""}`}},"createLinkForSyncWithLocation");(0,nt.useEffect)(()=>{N===""&&(He(at),Jr(Ge),Be(Fr(Xe,mt??[])),$e(Rr(Oe,vt??[])))},[N]);let ea=s(()=>{if(F==="new"){let{sorters:se,filters:Fe,pageSize:At,current:$t,...Tt}=(O==null?void 0:O.params)??{};return Tt}else{let{sorter:se,filters:Fe,pageSize:At,current:$t,...Tt}=ro.default.parse(N,{ignoreQueryPrefix:!0});return Tt}},"currentQueryParams");(0,nt.useEffect)(()=>{if(S){let se=ea();if(F==="new")Pt({type:"replace",options:{keepQuery:!0},query:{...H?{pageSize:We,current:Ue}:{},sorters:(0,Bt.default)(ie,Xe,Ht.default),filters:(0,Bt.default)(de,Oe,Ht.default)}});else{let Fe=xr({...H?{pagination:{pageSize:We,current:Ue}}:{},sorters:(0,Bt.default)(ie,Xe,Ht.default),filters:(0,Bt.default)(de,Oe,Ht.default),...se});return Ot==null?void 0:Ot(`${A}?${Fe}`,void 0,{shallow:!0})}}},[S,Ue,We,ie,de]);let nr=Br({resource:ae,hasPagination:r,pagination:{current:Ue,pageSize:We,mode:a==null?void 0:a.mode},filters:W?wt(Oe,de):void 0,sorters:z?Dr(Xe,ie):void 0,queryOptions:h,successNotification:l,errorNotification:p,meta:Ae,metaData:Ae,liveMode:q,liveParams:v,onLiveEvent:y,dataProviderName:$}),Sn=s(se=>{$e(Fe=>wt(Oe,se,Fe))},"setFiltersAsMerge"),xn=s(se=>{$e(wt(Oe,se))},"setFiltersAsReplace"),Dn=s(se=>{$e(Fe=>wt(Oe,se(Fe)))},"setFiltersWithSetter"),Rn=s((se,Fe=Ze)=>{typeof se=="function"?Dn(se):Fe==="replace"?xn(se):Sn(se)},"setFiltersFn"),ta=s(se=>{Be(()=>Dr(Xe,se))},"setSortWithUnion"),{elapsedTime:Fn}=pe({isLoading:nr.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{tableQueryResult:nr,sorters:ie,setSorters:ta,sorter:ie,setSorter:ta,filters:de,setFilters:Rn,current:Ue,setCurrent:He,pageSize:We,setPageSize:Jr,pageCount:We?Math.ceil((((k=nr.data)==null?void 0:k.total)??0)/We):1,createLinkForSyncWithLocation:Ln,overtime:{elapsedTime:Fn}}}Q(pn,"Ni");s(pn,"useTable");var no=C("react"),Tr=C("@tanstack/react-query"),fn=I(C("react")),tr=fn.default.createContext({}),Rl=s(({create:e,get:t,update:r,children:a})=>fn.default.createElement(tr.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),io=Y(),ct=s(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Tr.useQueryClient)(),a=(0,no.useContext)(tr),{keys:o,preferLegacyKeys:n}=J(),i=me(),{resources:u}=(0,no.useContext)(xt),{data:m,refetch:d,isLoading:c}=Ur({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy),queryOptions:{enabled:!!(a!=null&&a.create)}}),f=(0,Tr.useMutation)(async l=>{var p,h,g,y,v;let E=ge(l.resource,u),R=U((p=E==null?void 0:E.meta)==null?void 0:p.audit,(h=E==null?void 0:E.options)==null?void 0:h.audit,(y=(g=E==null?void 0:E.options)==null?void 0:g.auditLog)==null?void 0:y.permissions);if(R&&!Pi(R,l.action))return;let $;return c&&a!=null&&a.create&&($=await d()),await((v=a.create)==null?void 0:v.call(a,{...l,author:m??($==null?void 0:$.data)}))},{mutationKey:o().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,io.getXRay)("useLog",n)}}),w=(0,Tr.useMutation)(async l=>{var p;return await((p=a.update)==null?void 0:p.call(a,l))},{onSuccess:l=>{l!=null&&l.resource&&r.invalidateQueries(o().audit().resource((l==null?void 0:l.resource)??"").action("list").get(n))},mutationKey:o().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,io.getXRay)("useLog",n)}});return{log:f,rename:w}},"useLog"),Fl=C("react"),Nl=C("@tanstack/react-query"),kl=Y(),Ml=s(({resource:e,action:t,meta:r,author:a,metaData:o,queryOptions:n})=>{let{get:i}=(0,Fl.useContext)(tr),{keys:u,preferLegacyKeys:m}=J();return(0,Nl.useQuery)(u().audit().resource(e).action("list").params(r).get(m),()=>(i==null?void 0:i({resource:e,action:t,author:a,meta:r,metaData:o}))??Promise.resolve([]),{enabled:typeof i<"u",...n,retry:!1,meta:{...n==null?void 0:n.meta,...(0,kl.getXRay)("useLogList",m)}})},"useLogList"),ql=C("react"),Ol=I(C("warn-once")),Al=s(({meta:e={}}={})=>{let t=ve(),{i18nProvider:r}=(0,ql.useContext)(dt),a=Qe(),o=re(),{resources:n,resource:i,action:u}=Z(),{options:{textTransformers:m}}=Pe(),d=[];if(!(i!=null&&i.name))return{breadcrumbs:d};let c=s(f=>{var w,l,p,h,g,y;let v=typeof f=="string"?ge(f,n,t==="legacy")??{name:f}:f;if(v){let E=U((w=v==null?void 0:v.meta)==null?void 0:w.parent,v==null?void 0:v.parentName);E&&c(E);let R=Le(v,n,t==="legacy").find(b=>b.action==="list"),$=(l=R==null?void 0:R.resource)!=null&&l.list?R==null?void 0:R.route:void 0,P=$?t==="legacy"?$:Ne($,v==null?void 0:v.meta,a,e):void 0;d.push({label:U((p=v.meta)==null?void 0:p.label,(h=v.options)==null?void 0:h.label)??o(`${v.name}.${v.name}`,m.humanize(v.name)),href:P,icon:U((g=v.meta)==null?void 0:g.icon,(y=v.options)==null?void 0:y.icon,v.icon)})}},"addBreadcrumb");if(c(i),u&&u!=="list"){let f=`actions.${u}`,w=o(f);typeof r<"u"&&w===f?((0,Ol.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),d.push({label:o(`buttons.${u}`,m.humanize(u))})):d.push({label:o(f,m.humanize(u))})}return{breadcrumbs:d}},"useBreadcrumb"),Cr=I(C("react")),zt=s((e,t,r=!1)=>{let a=[],o=et(e,t);for(;o;)a.push(o),o=et(o,t);return a.reverse(),`/${[...a,e].map(n=>ze((r?n.route:void 0)??n.identifier??n.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),$l=s((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(o=>{let n=[],i=et(o,e);for(;i;)n.push(i),i=et(i,e);n.reverse();let u=r;n.forEach(d=>{let c=(t?d.route:void 0)??d.identifier??d.name;u.children[c]||(u.children[c]={item:d,children:{}}),u=u.children[c]});let m=(t?o.route:void 0)??o.identifier??o.name;u.children[m]||(u.children[m]={item:o,children:{}})});let a=s(o=>{let n=[];return Object.keys(o.children).forEach(i=>{let u=zt(o.children[i].item,e,t),m={...o.children[i].item,key:u,children:a(o.children[i])};n.push(m)}),n},"flatten");return a(r)},"createTree"),so=s(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Ul=s(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=re(),a=Jt(),o=ve(),{resource:n,resources:i}=Z(),{pathname:u}=Qe(),{useLocation:m}=Re(),{pathname:d}=m(),c=Ar(),f=`/${((o==="legacy"?so(d):u?so(u):void 0)??"").replace(/^\//,"")}`,w=n?zt(n,i,o==="legacy"):f??"",l=Cr.default.useMemo(()=>{if(!n)return[];let g=et(n,i),y=[zt(n,i)];for(;g;)y.push(zt(g,i)),g=et(g,i);return y},[]),p=Cr.default.useCallback(g=>{var y,v,E,R,$,P;if((((y=g==null?void 0:g.meta)==null?void 0:y.hide)??((v=g==null?void 0:g.options)==null?void 0:v.hide))||!(g!=null&&g.list)&&g.children.length===0)return;let b=g.list?a({resource:g,action:"list",legacy:o==="legacy",meta:e}):void 0;if(!(t&&b&&b.match(/(\/|^):(.+?)(\/|$){1}/)))return{...g,route:b,icon:U((E=g.meta)==null?void 0:E.icon,(R=g.options)==null?void 0:R.icon,g.icon),label:U(($=g==null?void 0:g.meta)==null?void 0:$.label,(P=g==null?void 0:g.options)==null?void 0:P.label)??r(`${g.name}.${g.name}`,c(g.name,"plural"))}},[o,e,r,t]),h=Cr.default.useMemo(()=>{let g=$l(i,o==="legacy"),y=s(v=>v.flatMap(E=>{let R=y(E.children),$=p({...E,children:R});return $?[$]:[]}),"prepare");return y(g)},[i,o,p]);return{defaultOpenKeys:l,selectedKey:w,menuItems:h}},"useMenu"),le=s(()=>{let{params:e}=Qe();return s(({resource:t,meta:r}={})=>{let{meta:a}=Xr(t)??{meta:{}},{filters:o,sorters:n,current:i,pageSize:u,...m}=e??{};return{...a,...m,...r}},"getMetaFn")},"useMeta"),Il=s(()=>{let[e,t]=(0,ot.useState)(),r=re(),{push:a}=qe(),o=Me(),n=ve(),{resource:i,action:u}=Z();return(0,ot.useEffect)(()=>{i&&u&&t(r("pages.error.info",{action:u,resource:i.name},`You may have forgotten to add the "${u}" component to "${i.name}" resource.`))},[i,u]),ot.default.createElement(ot.default.Fragment,null,ot.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&ot.default.createElement("p",null,e),ot.default.createElement("button",{onClick:()=>{n==="legacy"?a("/"):o({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),ce=I(C("react")),gn=s(()=>{let[e,t]=(0,ce.useState)(""),[r,a]=(0,ce.useState)(""),o=re(),n=me(),{mutate:i}=Gt({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)});return ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("h1",null,o("pages.login.title","Sign in your account")),ce.default.createElement("form",{onSubmit:u=>{u.preventDefault(),i({username:e,password:r})}},ce.default.createElement("table",null,ce.default.createElement("tbody",null,ce.default.createElement("tr",null,ce.default.createElement("td",null,o("pages.login.username",void 0,"username"),":"),ce.default.createElement("td",null,ce.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),ce.default.createElement("tr",null,ce.default.createElement("td",null,o("pages.login.password",void 0,"password"),":"),ce.default.createElement("td",null,ce.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>a(u.target.value)}))))),ce.default.createElement("br",null),ce.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),gt=I(C("react")),ee=I(C("react")),Ql=s(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:o,wrapperProps:n,renderContent:i,formProps:u,title:m=void 0})=>{let d=ve(),c=er(),{Link:f}=Re(),w=d==="legacy"?f:c,[l,p]=(0,ee.useState)(""),[h,g]=(0,ee.useState)(""),[y,v]=(0,ee.useState)(!1),E=re(),R=me(),{mutate:$}=Gt({v3LegacyAuthProviderCompatible:!!(R!=null&&R.isLegacy)}),P=s((T,x)=>ee.default.createElement(w,{to:T},x),"renderLink"),b=s(()=>e?e.map(T=>ee.default.createElement("div",{key:T.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ee.default.createElement("button",{onClick:()=>$({providerName:T.name}),style:{display:"flex",alignItems:"center"}},T==null?void 0:T.icon,T.label??ee.default.createElement("label",null,T.label)))):null,"renderProviders"),L=ee.default.createElement("div",{...o},ee.default.createElement("h1",{style:{textAlign:"center"}},E("pages.login.title","Sign in to your account")),b(),ee.default.createElement("hr",null),ee.default.createElement("form",{onSubmit:T=>{T.preventDefault(),$({email:l,password:h,remember:y})},...u},ee.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ee.default.createElement("label",{htmlFor:"email-input"},E("pages.login.fields.email","Email")),ee.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:l,onChange:T=>p(T.target.value)}),ee.default.createElement("label",{htmlFor:"password-input"},E("pages.login.fields.password","Password")),ee.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:h,onChange:T=>g(T.target.value)}),a??ee.default.createElement(ee.default.Fragment,null,ee.default.createElement("label",{htmlFor:"remember-me-input"},E("pages.login.buttons.rememberMe","Remember me"),ee.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:y,value:y.toString(),onChange:()=>{v(!y)}}))),ee.default.createElement("br",null),r??P("/forgot-password",E("pages.login.buttons.forgotPassword","Forgot password?")),ee.default.createElement("input",{type:"submit",value:E("pages.login.signin","Sign in")}),t??ee.default.createElement("span",null,E("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",P("/register",E("pages.login.register","Sign up"))))));return ee.default.createElement("div",{...n},i?i(L,m):L)},"LoginPage"),ne=I(C("react")),Vl=s(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:o,formProps:n,title:i=void 0})=>{let u=ve(),m=er(),{Link:d}=Re(),c=u==="legacy"?d:m,[f,w]=(0,ne.useState)(""),[l,p]=(0,ne.useState)(""),h=re(),g=me(),{mutate:y,isLoading:v}=Qr({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),E=s((P,b)=>ne.default.createElement(c,{to:P},b),"renderLink"),R=s(()=>e?e.map(P=>ne.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ne.default.createElement("button",{onClick:()=>y({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,P.label??ne.default.createElement("label",null,P.label)))):null,"renderProviders"),$=ne.default.createElement("div",{...a},ne.default.createElement("h1",{style:{textAlign:"center"}},h("pages.register.title","Sign up for your account")),R(),ne.default.createElement("hr",null),ne.default.createElement("form",{onSubmit:P=>{P.preventDefault(),y({email:f,password:l})},...n},ne.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ne.default.createElement("label",{htmlFor:"email-input"},h("pages.register.fields.email","Email")),ne.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:P=>w(P.target.value)}),ne.default.createElement("label",{htmlFor:"password-input"},h("pages.register.fields.password","Password")),ne.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:l,onChange:P=>p(P.target.value)}),ne.default.createElement("input",{type:"submit",value:h("pages.register.buttons.submit","Sign up"),disabled:v}),t??ne.default.createElement(ne.default.Fragment,null,ne.default.createElement("span",null,h("pages.login.buttons.haveAccount","Have an account?")," ",E("/login",h("pages.login.signin","Sign in")))))));return ne.default.createElement("div",{...r},o?o($,i):$)},"RegisterPage"),Ce=I(C("react")),Kl=s(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:o,title:n=void 0})=>{let i=re(),u=ve(),m=er(),{Link:d}=Re(),c=u==="legacy"?d:m,[f,w]=(0,Ce.useState)(""),{mutate:l,isLoading:p}=Vr(),h=s((y,v)=>Ce.default.createElement(c,{to:y},v),"renderLink"),g=Ce.default.createElement("div",{...r},Ce.default.createElement("h1",{style:{textAlign:"center"}},i("pages.forgotPassword.title","Forgot your password?")),Ce.default.createElement("hr",null),Ce.default.createElement("form",{onSubmit:y=>{y.preventDefault(),l({email:f})},...o},Ce.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ce.default.createElement("label",{htmlFor:"email-input"},i("pages.forgotPassword.fields.email","Email")),Ce.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:y=>w(y.target.value)}),Ce.default.createElement("input",{type:"submit",disabled:p,value:i("pages.forgotPassword.buttons.submit","Send reset instructions")}),Ce.default.createElement("br",null),e??Ce.default.createElement("span",null,i("pages.register.buttons.haveAccount","Have an account? ")," ",h("/login",i("pages.login.signin","Sign in"))))));return Ce.default.createElement("div",{...t},a?a(g,n):g)},"ForgotPasswordPage"),we=I(C("react")),Bl=s(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:o=void 0})=>{let n=re(),i=me(),{mutate:u,isLoading:m}=Kr({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)}),[d,c]=(0,we.useState)(""),[f,w]=(0,we.useState)(""),l=we.default.createElement("div",{...t},we.default.createElement("h1",{style:{textAlign:"center"}},n("pages.updatePassword.title","Update Password")),we.default.createElement("hr",null),we.default.createElement("form",{onSubmit:p=>{p.preventDefault(),u({password:d,confirmPassword:f})},...a},we.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},we.default.createElement("label",{htmlFor:"password-input"},n("pages.updatePassword.fields.password","New Password")),we.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:d,onChange:p=>c(p.target.value)}),we.default.createElement("label",{htmlFor:"confirm-password-input"},n("pages.updatePassword.fields.confirmPassword","Confirm New Password")),we.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:f,onChange:p=>w(p.target.value)}),we.default.createElement("input",{type:"submit",disabled:m,value:n("pages.updatePassword.buttons.submit","Update")}))));return we.default.createElement("div",{...e},r?r(l,o):l)},"UpdatePasswordPage"),Hl=s(e=>{let{type:t}=e;return gt.default.createElement(gt.default.Fragment,null,s(()=>{switch(t){case"register":return gt.default.createElement(Vl,{...e});case"forgotPassword":return gt.default.createElement(Kl,{...e});case"updatePassword":return gt.default.createElement(Bl,{...e});default:return gt.default.createElement(Ql,{...e})}},"renderView")())},"AuthPage"),be=I(C("react")),yn=s(()=>be.default.createElement(be.default.Fragment,null,be.default.createElement("h1",null,"Welcome on board"),be.default.createElement("p",null,"Your configuration is completed."),be.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",be.default.createElement("code",null,"`resources`")," property of ",be.default.createElement("code",null,"`<Refine>`")),be.default.createElement("div",{style:{display:"flex",gap:8}},be.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},be.default.createElement("button",null,"Documentation")),be.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},be.default.createElement("button",null,"Examples")),be.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},be.default.createElement("button",null,"Community")))),"ReadyPage"),G=I(C("react")),Wl=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:G.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:G.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),G.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:G.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),G.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:G.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],zl=s(()=>{let e=Ta("(max-width: 1010px)"),t=Ta("(max-width: 650px)"),r=s(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),a=s(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),o=s(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return G.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},G.default.createElement("div",{style:{height:"89px"}}),G.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},G.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),G.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),G.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},G.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),G.default.createElement("h4",{style:{fontSize:o(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),G.default.createElement("div",{style:{height:"64px"}}),G.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},Wl.map(n=>G.default.createElement(jl,{key:`welcome-page-${n.title}`,card:n}))),G.default.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),jl=s(({card:e})=>{let{title:t,description:r,icon:a,link:o}=e,[n,i]=(0,G.useState)(!1);return G.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},G.default.createElement("div",{style:{display:"flex",alignItems:"center"}},G.default.createElement("a",{onPointerEnter:()=>i(!0),onPointerLeave:()=>i(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:o},a,G.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),G.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...n&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),G.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),te=I(C("react")),wr=C("@tanstack/react-query"),_l=Y(),lo=I(C("react")),it=C("react"),Xl="4.44.11",Zl=s(()=>{var e;let t=Wo(),r=(0,it.useContext)(tr),a=(0,it.useContext)(St),o=(0,it.useContext)(_r),n=(0,it.useContext)(zr),{i18nProvider:i}=(0,it.useContext)(dt),u=(0,it.useContext)(jr),m=(0,it.useContext)(Ft),{resources:d}=Z(),c=Pe(),f=!!r.create||!!r.get||!!r.update,w=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),l=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,p=!!n,h=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),g=!!u.close||!!u.open,y=!!m.can,v=(e=c==null?void 0:c.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:f,live:w,router:l,data:p,i18n:h,notification:g,accessControl:y},version:Xl,resourceCount:d.length,projectId:v}},"useTelemetryData"),Gl=s(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Yl=s(e=>{let t=new Image;t.src=e},"throughImage"),Jl=s(e=>{fetch(e)},"throughFetch"),eu=s(e=>{typeof Image<"u"?Yl(e):typeof fetch<"u"&&Jl(e)},"transport"),tu=s(()=>{let e=Zl(),t=lo.default.useRef(!1);return lo.default.useEffect(()=>{if(t.current)return;let r=Gl(e);r&&(eu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),ru=s(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),uo=I(C("react")),au=s(e=>{let t=uo.default.useRef(!1);uo.default.useEffect(()=>{t.current===!1&&e&&ru(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),ou=s(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:o,notificationProvider:n,accessControlProvider:i,auditLogProvider:u,resources:m,DashboardPage:d,ReadyPage:c,LoginPage:f,catchAll:w,children:l,liveProvider:p,i18nProvider:h,Title:g,Layout:y,Sider:v,Header:E,Footer:R,OffLayoutArea:$,onLiveEvent:P,options:b})=>{let{optionsWithDefaults:L,disableTelemetryWithDefault:T,reactQueryWithDefaults:x}=Fi({options:b}),k=Yo(()=>{var q;return x.clientConfig instanceof wr.QueryClient?x.clientConfig:new wr.QueryClient({...x.clientConfig,defaultOptions:{...x.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(q=x.clientConfig.defaultOptions)==null?void 0:q.queries}}})},[x.clientConfig]);(0,_l.useQuerySubscription)(k);let D=te.default.useMemo(()=>typeof n=="function"?n:()=>n??{},[n])();if(au(o),a&&!o&&(m??[]).length===0)return c?te.default.createElement(c,null):te.default.createElement(yn,null);let{RouterComponent:S=te.default.Fragment}=o?{}:a??{};return te.default.createElement(wr.QueryClientProvider,{client:k},te.default.createElement(Zs,{...D},te.default.createElement(qi,{...e??{},isProvided:!!e},te.default.createElement(Oi,{...t??{},isProvided:!!t},te.default.createElement(Rs,{...r},te.default.createElement(Ms,{liveProvider:p},te.default.createElement(Ks,{value:a&&!o?"legacy":"new"},te.default.createElement(Hs,{router:o},te.default.createElement(bl,{...a},te.default.createElement(Vs,{resources:m??[]},te.default.createElement(Ys,{i18nProvider:h},te.default.createElement(Tl,{...i??{}},te.default.createElement(Rl,{...u??{}},te.default.createElement(ds,null,te.default.createElement(Ri,{mutationMode:L.mutationMode,warnWhenUnsavedChanges:L.warnWhenUnsavedChanges,syncWithLocation:L.syncWithLocation,Title:g,undoableTimeout:L.undoableTimeout,catchAll:w,DashboardPage:d,LoginPage:f,Layout:y,Sider:v,Footer:R,Header:E,OffLayoutArea:$,hasDashboard:!!d,liveMode:L.liveMode,onLiveEvent:P,options:L},te.default.createElement($i,null,te.default.createElement(S,null,l,!T&&te.default.createElement(tu,null),te.default.createElement(En,null))))))))))))))))))},"Refine"),co=C("react"),hn=s(({notification:e})=>{let t=re(),{notificationDispatch:r}=Et(),{open:a}=rt(),[o,n]=(0,co.useState)(),i=s(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:ur(e.seconds)},`You have ${ur(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:ur(e.seconds)}),e.seconds>0)){o&&clearTimeout(o);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);n(u)}},"cancelNotification");return(0,co.useEffect)(()=>{i()},[e]),null},"UndoableQueue"),_t=I(C("react")),nu=s(({children:e,Layout:t,Sider:r,Header:a,Title:o,Footer:n,OffLayoutArea:i})=>{let{Layout:u,Footer:m,Header:d,Sider:c,Title:f,OffLayoutArea:w}=Pe();return _t.default.createElement(t??u,{Sider:r??c,Header:a??d,Footer:n??m,Title:o??f,OffLayoutArea:i??w},e,_t.default.createElement(iu,null))},"LayoutWrapper"),iu=s(()=>{let{Prompt:e}=Re(),t=re(),{warnWhen:r,setWarnWhen:a}=Or(),o=s(n=>(n.preventDefault(),n.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),n.returnValue),"warnWhenListener");return(0,_t.useEffect)(()=>(r&&window.addEventListener("beforeunload",o),window.removeEventListener("beforeunload",o)),[r]),_t.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),Se=I(C("react")),su=s(()=>{let e=Me(),[t,r]=Se.default.useState(void 0);return Se.default.useEffect(()=>{t&&e(t)},[t]),Se.default.useCallback(a=>{t||r(a)},[t])},"useDeferredGo");function bn({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:o}){var n;let i=me(),u=ve(),m=!!(i!=null&&i.isProvided),d=!!(i!=null&&i.isLegacy),c=u==="legacy",f=Qe(),w=Me(),l=su(),{replace:p}=qe(),{useLocation:h}=Re(),g=h(),{isLoading:y,isFetching:v,isSuccess:E,data:{authenticated:R,redirectTo:$}={},refetch:P}=Yt({v3LegacyAuthProviderCompatible:d});Se.default.useEffect(()=>{P()},[r,a]);let b=Se.default.useRef({status:y?"initial":"pending",content:o??null});v?b.current.status="pending":v||(b.current.status="settled");let L=m?d?E:R:!0;if(b.current.status==="settled")if(L)b.current.content=Se.default.createElement(Se.default.Fragment,null,r??null);else if(typeof a<"u")b.current.content=Se.default.createElement(Se.default.Fragment,null,a);else{let T=`${c?g==null?void 0:g.pathname:f.pathname}`.replace(/(\?.*|#.*)$/,""),x=d?typeof e=="string"?e:"/login":typeof e=="string"?e:$;if(x)if(c){let k=t?`?to=${encodeURIComponent(T)}`:"";p(`${x}${k}`)}else l({to:x,query:t?{to:(n=f.params)!=null&&n.to?f.params.to:w({to:T,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return m?Se.default.createElement(Se.default.Fragment,null,b.current.content):Se.default.createElement(Se.default.Fragment,null,r??null)}Q(bn,"pi");s(bn,"Authenticated");var lu=C("react"),En=s(()=>{let{useLocation:e}=Re(),{checkAuth:t}=ke(),r=e();return(0,lu.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),st=I(C("react")),uu=s(({resource:e,action:t,params:r,fallback:a,onUnauthorized:o,children:n,...i})=>{let{resource:u,id:m,action:d}=Z(e),{identifier:c}=Z(),f=s(()=>{let g=(r==null?void 0:r.id)??m;return e&&e!==c?r==null?void 0:r.id:g},"getDefaultId")(),w=e??(u==null?void 0:u.name),l=t??d??"",p=r??{id:f,resource:u},{data:h}=vn({resource:w,action:l,params:p});return(0,st.useEffect)(()=>{o&&(h==null?void 0:h.can)===!1&&o({resource:w,action:l,reason:h==null?void 0:h.reason,params:p})},[h==null?void 0:h.can]),h!=null&&h.can?st.default.isValidElement(n)?st.default.cloneElement(n,i):st.default.createElement(st.default.Fragment,null,n):(h==null?void 0:h.can)===!1?st.default.createElement(st.default.Fragment,null,a??null):null},"CanAccess"),lt=I(C("react")),du=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],cu=s(()=>((0,lt.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),du.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),lt.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},lt.default.createElement("div",{style:{width:"200px"}}),lt.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},lt.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},lt.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),lt.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going."))))),"GitHubBanner")});var Gr=C("react"),Tn=Ct(C("lodash-es/get")),Cn=Ct(C("lodash-es/has")),wn=C("react-hook-form"),Ve=Ct(Zr());var Nt=Q(({refineCoreProps:e,warnWhenUnsavedChanges:t,disableServerSideValidation:r=!1,...a}={})=>{let{options:o}=(0,Ve.useRefineContext)(),n=(o==null?void 0:o.disableServerSideValidation)||r,i=(0,Ve.useTranslate)(),{warnWhenUnsavedChanges:u,setWarnWhen:m}=(0,Ve.useWarnAboutChange)(),d=t??u,c=(0,wn.useForm)({...a}),{watch:f,setValue:w,getValues:l,handleSubmit:p,setError:h}=c,g=(0,Ve.useForm)({...e,onMutationError:(L,T,x)=>{var D,S;if(n){(D=e==null?void 0:e.onMutationError)==null||D.call(e,L,T,x);return}let k=L==null?void 0:L.errors;for(let q in k){if(!Object.keys((0,Ve.flattenObjectKeys)(T)).includes(q))continue;let M=k[q],N="";Array.isArray(M)&&(N=M.join(" ")),typeof M=="string"&&(N=M),typeof M=="boolean"&&M&&(N="Field is not valid."),typeof M=="object"&&"key"in M&&(N=i(M.key,M.message)),h(q,{message:N})}(S=e==null?void 0:e.onMutationError)==null||S.call(e,L,T,x)}}),{queryResult:y,onFinish:v,formLoading:E,onFinishAutoSave:R}=g;(0,Gr.useEffect)(()=>{var x;let L=(x=y==null?void 0:y.data)==null?void 0:x.data;if(!L)return;Object.keys((0,Ve.flattenObjectKeys)(l())).forEach(k=>{let D=(0,Cn.default)(L,k),S=(0,Tn.default)(L,k);D&&w(k,S)})},[y==null?void 0:y.data,w,l]),(0,Gr.useEffect)(()=>{let L=f((T,{type:x})=>{x==="change"&&$(T)});return()=>L.unsubscribe()},[f]);let $=Q(L=>{var T;if(d&&m(!0),e!=null&&e.autoSave){m(!1);let x=(T=e.autoSave)==null?void 0:T.onFinish;return R(x?x(L):L)}return L},"onValuesChange"),P=Q((L,T)=>async x=>(m(!1),p(L,T)(x)),"handleSubmit");return{...c,handleSubmit:P,refineCore:g,saveButtonProps:{disabled:E,onClick:L=>{P(v,()=>!1)(L)}}}},"useForm");var rr=C("react");var mu=Q(({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:a=!1}=e??{},[o,n]=(0,rr.useState)(r),i=Nt({...t}),{trigger:u,getValues:m,setValue:d,formState:{dirtyFields:c},refineCore:{queryResult:f}}=i;(0,rr.useEffect)(()=>{var g;let p=(g=f==null?void 0:f.data)==null?void 0:g.data;if(!p)return;let h=Object.keys(m());Object.entries(p).forEach(([y,v])=>{let E=y;h.includes(E)&&(c[E]||d(E,v))})},[f==null?void 0:f.data,o,d,m]);let w=Q(p=>{let h=p;p<0&&(h=0),n(h)},"go");return{...i,steps:{currentStep:o,gotoStep:Q(async p=>{if(p===o)return;if(p<o&&!a){w(p);return}await u()&&w(p)},"gotoStep")}}},"useStepsForm");var Yr=C("react"),ye=Ct(Zr());var ar=Ct(C("react"));var vu=Q(({modalProps:e,refineCoreProps:t,syncWithLocation:r,...a}={})=>{var j,H;let o=(0,ye.useInvalidate)(),[n,i]=ar.default.useState(!1),u=(0,ye.useTranslate)(),{resource:m,action:d}=t??{},{resource:c,action:f,identifier:w}=(0,ye.useResource)(m),l=(0,ye.useParsed)(),p=(0,ye.useGo)(),h=(0,ye.useUserFriendlyName)(),g=d??f??"",y=!(typeof r=="object"&&(r==null?void 0:r.syncId)===!1),v=typeof r=="object"&&"key"in r?r.key:c&&g&&r?`modal-${w}-${g}`:void 0,{defaultVisible:E=!1,autoSubmitClose:R=!0,autoResetForm:$=!0}=e??{},P=Nt({refineCoreProps:{...t,meta:{...v?{[v]:void 0}:{},...t==null?void 0:t.meta}},...a}),{reset:b,refineCore:{onFinish:L,id:T,setId:x,autoSaveProps:k},saveButtonProps:D,handleSubmit:S}=P,{visible:q,show:F,close:M}=(0,ye.useModal)({defaultVisible:E});ar.default.useEffect(()=>{var B,K,X,ue;if(n===!1&&v){let oe=(K=(B=l==null?void 0:l.params)==null?void 0:B[v])==null?void 0:K.open;if(typeof oe=="boolean"?oe&&F():typeof oe=="string"&&oe==="true"&&F(),y){let fe=(ue=(X=l==null?void 0:l.params)==null?void 0:X[v])==null?void 0:ue.id;fe&&(x==null||x(fe))}i(!0)}},[v,l,y,x]),ar.default.useEffect(()=>{var B;n===!0&&(q&&v?p({query:{[v]:{...(B=l==null?void 0:l.params)==null?void 0:B[v],open:!0,...y&&T&&{id:T}}},options:{keepQuery:!0},type:"replace"}):v&&!q&&p({query:{[v]:void 0},options:{keepQuery:!0},type:"replace"}))},[T,q,F,v,y]);let N=Q(async B=>{await L(B),R&&M(),$&&b()},"submit"),{warnWhen:A,setWarnWhen:V}=(0,ye.useWarnAboutChange)(),O=(0,Yr.useCallback)(()=>{var B;if(k.status==="success"&&((B=t==null?void 0:t.autoSave)!=null&&B.invalidateOnClose)&&o({id:T,invalidates:t.invalidates||["list","many","detail"],dataProviderName:t.dataProviderName,resource:w}),A)if(window.confirm(u("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))V(!1);else return;x==null||x(void 0),M()},[A,k.status]),W=(0,Yr.useCallback)(B=>{typeof B<"u"&&(x==null||x(B)),(!(g==="edit"||g==="clone")||(typeof B<"u"||typeof T<"u"))&&F()},[T]),z=u(`${w}.titles.${d}`,void 0,`${h(`${d} ${((j=c==null?void 0:c.meta)==null?void 0:j.label)??((H=c==null?void 0:c.options)==null?void 0:H.label)??(c==null?void 0:c.label)??w}`,"singular")}`);return{modal:{submit:N,close:O,show:W,visible:q,title:z},...P,saveButtonProps:{...D,onClick:B=>S(N)(B)}}},"useModalForm");})();
//# sourceMappingURL=index.js.map