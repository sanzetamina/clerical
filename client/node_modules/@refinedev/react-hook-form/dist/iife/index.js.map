{"version":3,"sources":["../../../devtools-shared/src/index.ts","../../../devtools-shared/src/event-types.ts","../../../devtools-shared/src/scopes.ts","../../../devtools-shared/src/context.tsx","../../../devtools-shared/src/send.ts","../../../devtools-shared/src/receive.ts","../../../devtools-internal/src/index.ts","../../../devtools-internal/src/get-trace.ts","../../../devtools-internal/src/clean-stack.ts","../../../devtools-internal/src/constants.ts","../../../devtools-internal/src/is-refine-stack.ts","../../../devtools-internal/src/get-package-name-from-filename.ts","../../../devtools-internal/src/get-resource-path.ts","../../../devtools-internal/src/get-xray.ts","../../../devtools-internal/src/use-query-subscription.tsx","../../../devtools-internal/src/listeners.ts","../../../devtools-internal/src/create-identifier.ts","../../../core/src/index.tsx","../../../core/src/components/pages/error/index.tsx","../../../core/src/hooks/auth/usePermissions/index.ts","../../../core/src/definitions/table/index.ts","../../../core/src/definitions/helpers/userFriendlySeconds/index.ts","../../../core/src/definitions/helpers/importCSVMapper/index.ts","../../../core/src/definitions/helpers/userFriendlyResourceName/index.ts","../../../core/src/definitions/helpers/handleUseParams/index.tsx","../../../core/src/definitions/helpers/pickNotDeprecated/index.ts","../../../core/src/definitions/helpers/keys/index.ts","../../../core/src/definitions/helpers/queryKeys/index.ts","../../../core/src/definitions/helpers/hasPermission/index.ts","../../../core/src/definitions/helpers/router/is-parameter.ts","../../../core/src/definitions/helpers/router/split-to-segments.ts","../../../core/src/definitions/helpers/router/is-segment-counts-same.ts","../../../core/src/definitions/helpers/router/remove-leading-trailing-slashes.ts","../../../core/src/definitions/helpers/router/check-by-segments.ts","../../../core/src/definitions/helpers/router/get-default-action-path.ts","../../../core/src/definitions/helpers/router/get-parent-resource.ts","../../../core/src/definitions/helpers/router/get-parent-prefix-for-resource.ts","../../../core/src/definitions/helpers/router/get-action-routes-from-resource.ts","../../../core/src/definitions/helpers/router/pick-matched-route.ts","../../../core/src/definitions/helpers/router/match-resource-from-route.ts","../../../core/src/definitions/helpers/routeGenerator/index.ts","../../../core/src/definitions/helpers/treeView/createTreeView/index.ts","../../../core/src/definitions/helpers/humanizeString/index.ts","../../../core/src/contexts/refine/index.tsx","../../../core/src/components/layoutWrapper/defaultLayout/index.tsx","../../../core/src/definitions/helpers/handleRefineOptions/index.ts","../../../core/src/definitions/helpers/redirectPage/index.ts","../../../core/src/definitions/helpers/sequentialPromises/index.ts","../../../core/src/definitions/helpers/pick-resource/index.ts","../../../core/src/definitions/helpers/pickDataProvider/index.ts","../../../core/src/definitions/helpers/handleMultiple/index.ts","../../../core/src/definitions/helpers/useInfinitePagination/index.ts","../../../core/src/definitions/helpers/legacy-resource-transform/index.ts","../../../core/src/definitions/helpers/router/pick-route-params.ts","../../../core/src/definitions/helpers/router/prepare-route-params.ts","../../../core/src/definitions/helpers/router/compose-route.ts","../../../core/src/contexts/auth/index.tsx","../../../core/src/definitions/helpers/useActiveAuthProvider/index.ts","../../../core/src/definitions/helpers/handlePaginationParams/index.ts","../../../core/src/definitions/helpers/useMediaQuery/index.ts","../../../core/src/definitions/helpers/safe-translate/index.ts","../../../core/src/definitions/helpers/generateDocumentTitle/index.ts","../../../core/src/hooks/refine/useMutationMode.ts","../../../core/src/hooks/refine/useWarnAboutChange/index.ts","../../../core/src/contexts/unsavedWarn/index.tsx","../../../core/src/hooks/refine/useSyncWithLocation.ts","../../../core/src/hooks/refine/useTitle.tsx","../../../core/src/hooks/refine/useRefineContext.ts","../../../core/src/definitions/helpers/useUserFriendlyName/index.ts","../../../core/src/definitions/helpers/flatten-object-keys/index.ts","../../../core/src/definitions/helpers/property-path-to-array/index.ts","../../../core/src/definitions/upload/file2Base64/index.ts","../../../core/src/hooks/useKeys/index.tsx","../../../core/src/hooks/auth/useGetIdentity/index.ts","../../../core/src/hooks/auth/useLogout/index.ts","../../../core/src/hooks/auth/useInvalidateAuthStore/index.ts","../../../core/src/hooks/auth/useLogin/index.ts","../../../core/src/hooks/auth/useRegister/index.ts","../../../core/src/hooks/auth/useForgotPassword/index.ts","../../../core/src/hooks/auth/useUpdatePassword/index.ts","../../../core/src/hooks/auth/useIsAuthenticated/index.ts","../../../core/src/hooks/auth/useOnError/index.ts","../../../core/src/hooks/auth/useIsExistAuthentication/index.ts","../../../core/src/hooks/data/useList.ts","../../../core/src/hooks/useLoadingOvertime/index.ts","../../../core/src/hooks/data/useOne.ts","../../../core/src/hooks/data/useMany.ts","../../../core/src/hooks/data/useUpdate.ts","../../../core/src/contexts/undoableQueue/undoableQueueContext.tsx","../../../core/src/hooks/data/useCreate.ts","../../../core/src/hooks/data/useDelete.ts","../../../core/src/hooks/data/useCreateMany.ts","../../../core/src/hooks/data/useUpdateMany.ts","../../../core/src/hooks/data/useDeleteMany.ts","../../../core/src/hooks/data/useApiUrl.ts","../../../core/src/hooks/data/useCustom.ts","../../../core/src/hooks/data/useCustomMutation.ts","../../../core/src/hooks/data/useDataProvider.tsx","../../../core/src/contexts/data/index.tsx","../../../core/src/hooks/data/useInfiniteList.ts","../../../core/src/contexts/live/index.tsx","../../../core/src/hooks/invalidate/index.tsx","../../../core/src/hooks/resource/useResource/index.ts","../../../core/src/contexts/resource/index.tsx","../../../core/src/hooks/deepMemo/index.tsx","../../../core/src/hooks/memoized/index.tsx","../../../core/src/contexts/router-picker/index.tsx","../../../core/src/hooks/router/use-parsed/index.tsx","../../../core/src/contexts/router/index.tsx","../../../core/src/hooks/router/use-parse/index.tsx","../../../core/src/hooks/resource/useResourceWithRoute/index.ts","../../../core/src/hooks/live/useResourceSubscription/index.ts","../../../core/src/hooks/live/useLiveMode/index.ts","../../../core/src/hooks/live/useSubscription/index.ts","../../../core/src/hooks/live/usePublish/index.ts","../../../core/src/hooks/notification/useCancelNotification/index.tsx","../../../core/src/hooks/notification/useNotification/index.ts","../../../core/src/contexts/notification/index.tsx","../../../core/src/hooks/notification/useHandleNotification/index.ts","../../../core/src/hooks/translate/useSetLocale.ts","../../../core/src/contexts/translation/index.tsx","../../../core/src/hooks/translate/useTranslate.ts","../../../core/src/hooks/translate/useGetLocale.ts","../../../core/src/hooks/export/index.ts","../../../core/src/hooks/form/useForm.ts","../../../core/src/hooks/redirection/index.ts","../../../core/src/hooks/router/use-go/index.tsx","../../../core/src/hooks/router/use-get-to-path/index.ts","../../../core/src/hooks/router/use-back/index.tsx","../../../core/src/hooks/navigation/index.ts","../../../core/src/hooks/show/useShow.ts","../../../core/src/hooks/import/index.tsx","../../../core/src/hooks/modal/useModal/index.tsx","../../../core/src/hooks/router/use-to-path/index.ts","../../../core/src/hooks/router/use-link/index.tsx","../../../core/src/hooks/legacy-router/useRouterContext.ts","../../../core/src/contexts/legacy-router/index.tsx","../../../core/src/hooks/accessControl/useCan/index.ts","../../../core/src/contexts/accessControl/index.tsx","../../../core/src/definitions/helpers/sanitize-resource/index.ts","../../../core/src/hooks/accessControl/useCanWithoutCache.ts","../../../core/src/hooks/useSelect/index.ts","../../../core/src/hooks/useTable/index.ts","../../../core/src/hooks/auditLog/useLog/index.ts","../../../core/src/contexts/auditLog/index.tsx","../../../core/src/hooks/auditLog/useLogList/index.ts","../../../core/src/hooks/breadcrumb/index.ts","../../../core/src/hooks/menu/useMenu.tsx","../../../core/src/definitions/helpers/menu/create-resource-key.ts","../../../core/src/definitions/helpers/menu/create-tree.ts","../../../core/src/hooks/useMeta/index.ts","../../../core/src/components/pages/login/index.tsx","../../../core/src/components/pages/auth/index.tsx","../../../core/src/components/pages/auth/components/login/index.tsx","../../../core/src/components/pages/auth/components/register/index.tsx","../../../core/src/components/pages/auth/components/forgotPassword/index.tsx","../../../core/src/components/pages/auth/components/updatePassword/index.tsx","../../../core/src/components/pages/ready/index.tsx","../../../core/src/components/pages/welcome/index.tsx","../../../core/src/components/containers/refine/index.tsx","../../../core/src/components/telemetry/index.tsx","../../../core/src/hooks/useTelemetryData/index.ts","../../../core/src/definitions/helpers/check-router-prop-misuse/index.ts","../../../core/src/hooks/router/use-router-misuse-warning/index.ts","../../../core/src/components/undoableQueue/index.tsx","../../../core/src/components/layoutWrapper/index.tsx","../../../core/src/components/authenticated/index.tsx","../../../core/src/components/routeChangeHandler/index.tsx","../../../core/src/components/canAccess/index.tsx","../../../core/src/components/gh-banner/index.tsx","../../../core/src/components/gh-banner/styles.ts","../../src/useForm/index.ts","../../src/useStepsForm/index.ts","../../src/useModalForm/index.ts"],"sourcesContent":["export { DevtoolsEvent, DevtoolsEventPayloads } from \"./event-types\";\nexport { TraceType } from \"./trace\";\nexport { Feed, FeedSection } from \"./feed\";\nexport {\n    PackageType,\n    PackageLatestVersionType,\n    AvailablePackageType,\n} from \"./package\";\nexport { RefineHook, Scopes, hooksByScope, scopes } from \"./scopes\";\n\nexport { DevToolsContextProvider, DevToolsContext } from \"./context\";\n\nexport { send } from \"./send\";\nexport { receive } from \"./receive\";\n","import {\n    Mutation,\n    MutationKey,\n    MutationStatus,\n    QueryKey,\n    QueryState,\n    QueryStatus,\n} from \"@tanstack/react-query\";\nimport { TraceType } from \"./trace\";\n\nexport enum DevtoolsEvent {\n    RELOAD = \"devtools:reload\",\n    DEVTOOLS_INIT = \"devtools:init\",\n    DEVTOOLS_HANDSHAKE = \"devtools:handshake\",\n    DEVTOOLS_ALREADY_CONNECTED = \"devtools:already-connected\",\n    ACTIVITY = \"devtools:send-activity\",\n    DEVTOOLS_ACTIVITY_UPDATE = \"devtools:activity-update\",\n    DEVTOOLS_CONNECTED_APP = \"devtools:connected-app\",\n    DEVTOOLS_DISCONNECTED_APP = \"devtools:disconnected-app\",\n    DEVTOOLS_HIGHLIGHT_IN_MONITOR = \"devtools:highlight-in-monitor\",\n    DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION = \"devtools:highlight-in-monitor-action\",\n    DEVTOOLS_LOGIN_SUCCESS = \"devtools:login-success\",\n    DEVTOOLS_RELOAD_AFTER_LOGIN = \"devtools:reload-after-login\",\n}\n\ntype Timestamps = {\n    createdAt: number;\n    updatedAt: number;\n};\n\ntype ActivityPayload =\n    | {\n          type: \"mutation\";\n          identifier: string;\n          key?: MutationKey;\n          status?: MutationStatus;\n          trace?: TraceType[];\n          state: Mutation<any, any, any, any>[\"state\"];\n          variables?: Mutation<any, any, any, any>[\"state\"][\"variables\"];\n          hookName: string;\n          resourcePath: string | null;\n          legacyKey: boolean;\n      }\n    | {\n          type: \"query\";\n          identifier: string;\n          key?: QueryKey;\n          status?: QueryStatus;\n          trace?: TraceType[];\n          state: QueryState<any, any>;\n          hookName: string;\n          resourcePath: string | null;\n          legacyKey: boolean;\n      };\n\nexport type DevtoolsEventPayloads = {\n    [DevtoolsEvent.RELOAD]: {};\n    [DevtoolsEvent.DEVTOOLS_INIT]: { url: string };\n    [DevtoolsEvent.DEVTOOLS_HANDSHAKE]: { url: string };\n    [DevtoolsEvent.DEVTOOLS_ALREADY_CONNECTED]: { url: string };\n    [DevtoolsEvent.ACTIVITY]: ActivityPayload;\n    [DevtoolsEvent.DEVTOOLS_ACTIVITY_UPDATE]: {\n        updatedActivities: (ActivityPayload & Timestamps)[];\n    };\n    [DevtoolsEvent.DEVTOOLS_CONNECTED_APP]: { url: string | null };\n    [DevtoolsEvent.DEVTOOLS_DISCONNECTED_APP]: {};\n    [DevtoolsEvent.DEVTOOLS_HIGHLIGHT_IN_MONITOR]: { name: string };\n    [DevtoolsEvent.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION]: { name: string };\n    [DevtoolsEvent.DEVTOOLS_LOGIN_SUCCESS]: {};\n    [DevtoolsEvent.DEVTOOLS_RELOAD_AFTER_LOGIN]: {};\n};\n","export type RefineHook =\n    | \"useCan\"\n    | \"useLog\"\n    | \"useLogList\"\n    | \"useCreate\"\n    | \"useCreateMany\"\n    | \"useCustom\"\n    | \"useCustomMutation\"\n    | \"useDelete\"\n    | \"useDeleteMany\"\n    | \"useInfiniteList\"\n    | \"useList\"\n    | \"useMany\"\n    | \"useOne\"\n    | \"useUpdate\"\n    | \"useUpdateMany\"\n    | \"useForgotPassword\"\n    | \"useGetIdentity\"\n    | \"useIsAuthenticated\"\n    | \"useLogin\"\n    | \"useLogout\"\n    | \"useOnError\"\n    | \"usePermissions\"\n    | \"useRegister\"\n    | \"useUpdatePassword\";\n\nexport type Scopes = \"data\" | \"audit-log\" | \"access-control\" | \"auth\";\n\nexport const scopes: Record<RefineHook, Scopes> = {\n    useCan: \"access-control\",\n    useLog: \"audit-log\",\n    useLogList: \"audit-log\",\n    useCreate: \"data\",\n    useCreateMany: \"data\",\n    useCustom: \"data\",\n    useCustomMutation: \"data\",\n    useDelete: \"data\",\n    useDeleteMany: \"data\",\n    useInfiniteList: \"data\",\n    useList: \"data\",\n    useMany: \"data\",\n    useOne: \"data\",\n    useUpdate: \"data\",\n    useUpdateMany: \"data\",\n    useForgotPassword: \"auth\",\n    useGetIdentity: \"auth\",\n    useIsAuthenticated: \"auth\",\n    useLogin: \"auth\",\n    useLogout: \"auth\",\n    useOnError: \"auth\",\n    usePermissions: \"auth\",\n    useRegister: \"auth\",\n    useUpdatePassword: \"auth\",\n};\n\nexport const hooksByScope = Object.entries(scopes).reduce(\n    (acc, [hook, scope]) => {\n        if (!acc[scope]) {\n            acc[scope] = [];\n        }\n\n        acc[scope].push(hook as RefineHook);\n\n        return acc;\n    },\n    {} as Record<Scopes, RefineHook[]>,\n);\n","import React from \"react\";\nimport { DevtoolsEvent } from \"./event-types\";\nimport { send } from \"./send\";\nimport { receive } from \"./receive\";\n\ntype DevToolsContextValue = {\n    __devtools: boolean;\n    port: number;\n    url: string;\n    secure: boolean;\n    ws: WebSocket | null;\n    devtoolsUrl?: string;\n};\n\nexport const DevToolsContext = React.createContext<DevToolsContextValue>({\n    __devtools: false,\n    port: 5002,\n    url: \"localhost\",\n    secure: false,\n    ws: null,\n});\n\ntype Props = React.PropsWithChildren<\n    Partial<Pick<DevToolsContextValue, \"port\" | \"__devtools\">>\n>;\n\nexport const DevToolsContextProvider: React.FC<Props> = ({\n    __devtools,\n    port,\n    children,\n}) => {\n    const [values, setValues] = React.useState<DevToolsContextValue>({\n        __devtools: __devtools ?? false,\n        port: port ?? 5002,\n        url: \"localhost\",\n        secure: false,\n        ws: null,\n    });\n\n    const [ws, setWs] = React.useState<WebSocket | null>(null);\n\n    React.useEffect(() => {\n        const wsInstance = new WebSocket(\n            `${values.secure ? \"wss\" : \"ws\"}://localhost:${values.port}`,\n        );\n\n        const unsubscribe = receive(\n            wsInstance,\n            DevtoolsEvent.DEVTOOLS_HANDSHAKE,\n            (data) => {\n                setValues((v) => ({\n                    ...v,\n                    devtoolsUrl: data.url,\n                }));\n                unsubscribe();\n            },\n        );\n\n        wsInstance.addEventListener(\"open\", () => {\n            if (!values.__devtools) {\n                send(wsInstance, DevtoolsEvent.DEVTOOLS_INIT, {\n                    url: window.location.origin,\n                });\n            }\n        });\n\n        setWs(wsInstance);\n\n        return () => {\n            unsubscribe();\n\n            wsInstance.close(1000, window.location.origin);\n        };\n    }, []);\n\n    const contextValues = React.useMemo<DevToolsContextValue>(\n        () => ({\n            ...values,\n            ws,\n        }),\n        [values, ws],\n    );\n\n    return (\n        <DevToolsContext.Provider value={contextValues}>\n            {children}\n        </DevToolsContext.Provider>\n    );\n};\n","import { DevtoolsEvent, DevtoolsEventPayloads } from \"./event-types\";\n\nexport async function send<T extends DevtoolsEvent>(\n    ws: WebSocket,\n    event: T,\n    payload: DevtoolsEventPayloads[T],\n) {\n    // check if the socket is open\n    // if not, wait for it to open\n    if (ws.readyState !== ws.OPEN) {\n        await new Promise<void>((resolve) => {\n            const listener = () => {\n                ws.send(JSON.stringify({ event, payload }));\n                resolve();\n                ws.removeEventListener(\"open\", listener);\n            };\n\n            ws.addEventListener(\"open\", listener);\n        });\n        return;\n    } else {\n        ws.send(JSON.stringify({ event, payload }));\n        return;\n    }\n}\n","// receive ws message by adding a listener to the ws object\n\nimport { DevtoolsEvent, DevtoolsEventPayloads } from \"./event-types\";\n\nexport function receive<T extends DevtoolsEvent>(\n    ws: WebSocket,\n    event: T,\n    callback: (payload: DevtoolsEventPayloads[T]) => void,\n) {\n    const listener = (e: MessageEvent) => {\n        const { event: receivedEvent, payload } = JSON.parse(e.data);\n        if (event === receivedEvent) {\n            callback(payload);\n        }\n    };\n\n    ws.addEventListener(\"message\", listener);\n\n    return () => {\n        ws.removeEventListener(\"message\", listener);\n    };\n}\n","export { getTrace } from \"./get-trace\";\nexport { getXRay } from \"./get-xray\";\nexport { useQuerySubscription } from \"./use-query-subscription\";\n","import ErrorStackParser from \"error-stack-parser\";\nimport { cleanStack } from \"./clean-stack\";\nimport { isRefineStack } from \"./is-refine-stack\";\nimport { getPackageNameFromFilename } from \"./get-package-name-from-filename\";\nimport { TraceType } from \"@refinedev/devtools-shared\";\n\nexport function getTrace() {\n    if (__DEV_CONDITION__ !== \"development\") {\n        return [];\n    } else {\n        try {\n            const error = new Error();\n            const stack = ErrorStackParser.parse(error);\n            const clean = cleanStack(stack);\n            const traces = clean\n                .map(\n                    (frame) =>\n                        ({\n                            file: frame.fileName,\n                            line: frame.lineNumber,\n                            column: frame.columnNumber,\n                            function: frame.functionName,\n                            isRefine: isRefineStack(frame.fileName),\n                            packageName: getPackageNameFromFilename(\n                                frame.fileName,\n                            ),\n                        } as TraceType),\n                )\n                .filter((trace) => trace.function);\n            return traces.slice(1);\n        } catch (error) {\n            return [];\n        }\n    }\n}\n","import type { StackFrame } from \"error-stack-parser\";\n\nconst unrelatedFunctionName = \"renderWithHooks\";\n\nexport const cleanStack = (stack: StackFrame[]) => {\n    const firstUnrelatedIndex = stack.findIndex(\n        (frame) => frame.functionName === unrelatedFunctionName,\n    );\n\n    if (firstUnrelatedIndex !== -1) {\n        return stack.slice(0, firstUnrelatedIndex);\n    }\n\n    return stack;\n};\n","export const REFINE_PACKAGE_FILEPATH_REGEXP =\n    __DEV_CONDITION__ !== \"development\"\n        ? /node_modules\\/refinedev\\/(?<name>.*?)\\//\n        : /\\/refine\\/packages\\/(?<name>.*?)\\//;\n","import { REFINE_PACKAGE_FILEPATH_REGEXP } from \"./constants\";\n\nexport const isRefineStack = (filename?: string) => {\n    if (!filename) return false;\n\n    const match = filename.match(REFINE_PACKAGE_FILEPATH_REGEXP);\n\n    return !!match;\n};\n","import { REFINE_PACKAGE_FILEPATH_REGEXP } from \"./constants\";\n\nexport const getPackageNameFromFilename = (filename?: string) => {\n    if (!filename) return;\n\n    const match = filename.match(REFINE_PACKAGE_FILEPATH_REGEXP);\n\n    const name = match?.groups?.name;\n\n    if (!name) return;\n\n    return `@refinedev/${name}`;\n};\n","import {\n    DevtoolsEvent,\n    DevtoolsEventPayloads,\n    RefineHook,\n    scopes,\n} from \"@refinedev/devtools-shared\";\n\nexport type Activity =\n    DevtoolsEventPayloads[DevtoolsEvent.DEVTOOLS_ACTIVITY_UPDATE][\"updatedActivities\"][number];\n\nexport const getResourcePath = (\n    hookName: RefineHook,\n    legacyKey: boolean,\n): string | null => {\n    if (scopes[hookName] === \"auth\") {\n        return null;\n    }\n    if (hookName === \"useCan\") {\n        if (legacyKey) {\n            return \"key[1].resource\";\n        } else {\n            return \"key[1]\";\n        }\n    }\n    if (scopes[hookName] === \"audit-log\") {\n        if (hookName === \"useLog\") {\n            return \"variables.resource\";\n        }\n        return \"key[1]\";\n    }\n    if (scopes[hookName] === \"data\") {\n        if (hookName === \"useCustom\" || hookName === \"useCustomMutation\") {\n            return null;\n        }\n        switch (hookName) {\n            case \"useList\":\n            case \"useInfiniteList\":\n            case \"useOne\":\n            case \"useMany\":\n                if (legacyKey) {\n                    return \"key[1]\";\n                } else {\n                    return \"key[2]\";\n                }\n            case \"useCreate\":\n            case \"useCreateMany\":\n            case \"useDelete\":\n            case \"useDeleteMany\":\n            case \"useUpdate\":\n            case \"useUpdateMany\":\n                return \"variables.resource\";\n        }\n    }\n    return null;\n};\n","import { RefineHook, TraceType } from \"@refinedev/devtools-shared\";\nimport { getTrace } from \"./get-trace\";\nimport { getResourcePath } from \"./get-resource-path\";\n\nexport type XRayResponse = {\n    hookName: string;\n    trace: TraceType[];\n    resourcePath: string | null;\n    legacyKey: boolean;\n};\n\nexport function getXRay(hookName: string, legacyKey: boolean): XRayResponse {\n    if (__DEV_CONDITION__ !== \"development\") {\n        return {\n            hookName: \"\",\n            trace: [],\n            resourcePath: null,\n            legacyKey: false,\n        };\n    } else {\n        const trace = getTrace().slice(1);\n\n        const resourcePath = getResourcePath(hookName as RefineHook, legacyKey);\n\n        return {\n            hookName,\n            trace,\n            resourcePath,\n            legacyKey,\n        };\n    }\n}\n","import { DevToolsContext } from \"@refinedev/devtools-shared\";\nimport { QueryClient } from \"@tanstack/react-query\";\nimport React, { useContext } from \"react\";\nimport { createQueryListener, createMutationListener } from \"./listeners\";\n\nexport const useQuerySubscription =\n    __DEV_CONDITION__ !== \"development\"\n        ? () => ({})\n        : (queryClient: QueryClient) => {\n              const { ws } = useContext(DevToolsContext);\n              const queryCacheSubscription = React.useRef<() => void>();\n              const mutationCacheSubscription = React.useRef<() => void>();\n\n              React.useEffect(() => {\n                  if (!ws) return () => 0;\n\n                  const queryCache = queryClient.getQueryCache();\n\n                  const queryListener = createQueryListener(ws);\n\n                  queryCache.getAll().forEach(queryListener);\n\n                  queryCacheSubscription.current = queryCache.subscribe(\n                      ({ query, type }) =>\n                          (type === \"added\" || type === \"updated\") &&\n                          queryListener(query),\n                  );\n\n                  return () => {\n                      queryCacheSubscription.current?.();\n                  };\n              }, [ws, queryClient]);\n\n              React.useEffect(() => {\n                  if (!ws) return () => 0;\n\n                  const mutationCache = queryClient.getMutationCache();\n\n                  const mutationListener = createMutationListener(ws);\n\n                  mutationCache.getAll().forEach(mutationListener);\n\n                  mutationCacheSubscription.current = mutationCache.subscribe(\n                      ({ mutation, type }) =>\n                          (type === \"added\" || type === \"updated\") &&\n                          mutationListener(mutation),\n                  );\n\n                  return () => {\n                      mutationCacheSubscription.current?.();\n                  };\n              }, [ws, queryClient]);\n\n              return {};\n          };\n","import { DevtoolsEvent, send } from \"@refinedev/devtools-shared\";\nimport { Mutation, Query } from \"@tanstack/react-query\";\n\nimport { createIdentifier } from \"./create-identifier\";\nimport { XRayResponse } from \"./get-xray\";\n\nexport const createMutationListener =\n    (ws: WebSocket) => (mutation?: Mutation) => {\n        if (!mutation?.meta?.trace) return;\n\n        const meta: XRayResponse = mutation?.meta as any;\n\n        new Promise<void>((resolve) => {\n            send(ws, DevtoolsEvent.ACTIVITY, {\n                type: \"mutation\",\n                identifier: createIdentifier(\n                    mutation?.options.mutationKey,\n                    mutation?.meta?.trace as any,\n                ),\n                key: mutation?.options.mutationKey as any,\n                status: mutation?.state.status,\n                state: mutation?.state,\n                variables: mutation?.state?.variables,\n                ...meta,\n            });\n            resolve();\n        });\n\n        // console.table({\n        //     type: \"mutation\",\n        //     key: mutation?.options.mutationKey,\n        //     id: mutation?.mutationId,\n        //     status: mutation?.state.status,\n        //     trace: mutation?.meta?.trace,\n        //     state: mutation?.state,\n        //     variables: mutation?.state?.variables,\n        // });\n    };\n\nexport const createQueryListener = (ws: WebSocket) => (query: Query) => {\n    if (!query?.meta?.trace) return;\n\n    const meta: XRayResponse = query?.meta as any;\n\n    new Promise<void>((resolve) => {\n        send(ws, DevtoolsEvent.ACTIVITY, {\n            type: \"query\",\n            identifier: createIdentifier(\n                query.queryKey,\n                query.meta?.trace as any,\n            ),\n            key: query.queryKey as any,\n            status: query.state.status,\n            state: query.state,\n            ...meta,\n        });\n        resolve();\n    });\n\n    // console.table({\n    //     type: \"query\",\n    //     key: query.queryKey,\n    //     status: query.state.status,\n    //     trace: query.meta?.trace,\n    //     state: query.state,\n    // });\n};\n","import { TraceType } from \"@refinedev/devtools-shared\";\nimport { MutationKey, QueryKey } from \"@tanstack/react-query\";\n\nexport const createIdentifier = (\n    key?: QueryKey | MutationKey,\n    trace?: TraceType[],\n) => {\n    const simpleTrace = trace?.map(\n        (t) =>\n            `${t.file}:${t.line}:${t.column}#${t.function}-${t.packageName}-${\n                t.isRefine ? 1 : 0\n            }`,\n    );\n    const str = JSON.stringify([...(key ?? []), ...(simpleTrace ?? [])]);\n\n    return str;\n};\n","export * from \"./components\";\nexport * from \"./hooks\";\n\nexport {\n    Action,\n    ActionWithPage,\n    AccessControlProvider,\n    AuditLogProvider,\n    LegacyAuthProvider,\n    AuthBindings,\n    BaseKey,\n    BaseRecord,\n    CanParams,\n    CanReturnType,\n    ConditionalFilter,\n    CreateManyResponse,\n    CreateResponse,\n    CrudFilter,\n    CrudFilters,\n    CrudOperators,\n    CrudSort,\n    CrudSorting,\n    CustomResponse,\n    DeleteManyResponse,\n    DeleteOneResponse,\n    FormAction,\n    GetListResponse,\n    GetManyResponse,\n    GetOneResponse,\n    HttpError,\n    LayoutProps,\n    LiveEvent,\n    LiveModeProps,\n    LogicalFilter,\n    LogParams,\n    MapDataFn,\n    MetaQuery,\n    MetaDataQuery,\n    MutationMode,\n    NotificationProvider,\n    OpenNotificationParams,\n    Option,\n    BaseOption,\n    Pagination,\n    PromptProps,\n    RedirectionTypes,\n    RedirectAction,\n    ResourceErrorRouterParams,\n    ResourceProps,\n    ResourceRouterParams,\n    RouteAction,\n    SortOrder,\n    SuccessErrorNotification,\n    TitleProps,\n    TranslationProvider,\n    UpdateManyResponse,\n    UpdateResponse,\n    I18nProvider,\n    IAccessControlContext,\n    ILegacyAuthContext,\n    IDataContextProvider as DataProvider,\n    ILiveContext as LiveProvider,\n    ILog,\n    ILogData,\n    ILoginForm,\n    INotificationContext,\n    IResourceComponents,\n    IResourceComponentsProps,\n    IResourceContext as ResourceProvider,\n    ITranslationContext,\n    IResourceItem,\n    IRouterProvider,\n    ITreeMenu,\n    IQueryKeys,\n    AccessControlBindings,\n    DataBindings,\n    i18nBindings,\n    LiveBindings,\n    NotificationsBindings,\n    ResourceBindings,\n    RouterBindings,\n    ParseResponse,\n    ParsedParams,\n    GoConfig,\n    BackFunction,\n    GoFunction,\n    ParseFunction,\n    Prettify,\n    FormWithSyncWithLocationParams,\n    AutoSaveIndicatorProps,\n    AutoSaveProps,\n    GetListParams,\n    GetManyParams,\n    GetOneParams,\n    CreateParams,\n    CreateManyParams,\n    UpdateParams,\n    UpdateManyParams,\n    DeleteOneParams,\n    DeleteManyParams,\n    CustomParams,\n} from \"./interfaces\";\n\n// all auth types\nexport * from \"./interfaces/auth\";\n\nexport {\n    getDefaultFilter,\n    getDefaultSortOrder,\n    parseTableParams,\n    parseTableParamsFromQuery,\n    setInitialFilters,\n    setInitialSorters,\n    stringifyTableParams,\n    unionFilters,\n    unionSorters,\n} from \"./definitions/table\";\nexport {\n    createTreeView,\n    handleUseParams,\n    importCSVMapper,\n    routeGenerator,\n    userFriendlyResourceName,\n    getNextPageParam,\n    getPreviousPageParam,\n    pickNotDeprecated,\n    legacyResourceTransform,\n    matchResourceFromRoute,\n    useActiveAuthProvider,\n    useUserFriendlyName,\n    queryKeys,\n    pickDataProvider,\n    keys,\n    KeyBuilder,\n    flattenObjectKeys,\n    propertyPathToArray,\n} from \"./definitions/helpers\";\nexport { file2Base64 } from \"./definitions/upload\";\nexport { generateDefaultDocumentTitle } from \"./definitions\";\n\nexport { ResourceContext } from \"./contexts/resource/index\";\nexport { TranslationContext } from \"./contexts/translation/index\";\nexport { AccessControlContext } from \"./contexts/accessControl/index\";\n","import React, { useEffect, useState } from \"react\";\n\nimport {\n    useNavigation,\n    useTranslate,\n    useResource,\n    useGo,\n    useRouterType,\n} from \"@hooks\";\n\n/**\n * When the app is navigated to a non-existent route, refine shows a default error page.\n * A custom error component can be used for this error page.\n *\n * @see {@link https://refine.dev/docs/packages/documentation/routers/} for more details.\n */\nexport const ErrorComponent: React.FC = () => {\n    const [errorMessage, setErrorMessage] = useState<string>();\n    const translate = useTranslate();\n    const { push } = useNavigation();\n    const go = useGo();\n    const routerType = useRouterType();\n\n    const { resource, action } = useResource();\n\n    useEffect(() => {\n        if (resource && action) {\n            setErrorMessage(\n                translate(\n                    \"pages.error.info\",\n                    {\n                        action: action,\n                        resource: resource.name,\n                    },\n                    `You may have forgotten to add the \"${action}\" component to \"${resource.name}\" resource.`,\n                ),\n            );\n        }\n    }, [resource, action]);\n\n    return (\n        <>\n            <h1>\n                {translate(\n                    \"pages.error.404\",\n                    undefined,\n                    \"Sorry, the page you visited does not exist.\",\n                )}\n            </h1>\n            {errorMessage && <p>{errorMessage}</p>}\n            <button\n                onClick={() => {\n                    if (routerType === \"legacy\") {\n                        push(\"/\");\n                    } else {\n                        go({ to: \"/\" });\n                    }\n                }}\n            >\n                {translate(\"pages.error.backHome\", undefined, \"Back Home\")}\n            </button>\n        </>\n    );\n};\n","import {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nimport { useKeys } from \"@hooks/useKeys\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { PermissionResponse } from \"../../../interfaces\";\n\nexport type UsePermissionsLegacyProps<TData = any> = {\n    v3LegacyAuthProviderCompatible: true;\n    options?: UseQueryOptions<TData>;\n};\n\nexport type UsePermissionsProps<TData = PermissionResponse> = {\n    v3LegacyAuthProviderCompatible?: false;\n    options?: UseQueryOptions<TData>;\n};\n\nexport type UsePermissionsCombinedProps<TData = any> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    options?: UseQueryOptions<TData> | UseQueryOptions<PermissionResponse>;\n};\n\nexport type UsePermissionsLegacyReturnType<TData = any> = UseQueryResult<\n    TData,\n    unknown\n>;\n\nexport type UsePermissionsReturnType<TData = PermissionResponse> =\n    UseQueryResult<TData, unknown>;\n\nexport type UsePermissionsCombinedReturnType<TData = any> =\n    | UseQueryResult<TData, unknown>\n    | UseQueryResult<PermissionResponse, unknown>;\n\nexport function usePermissions<TData = any>(\n    props: UsePermissionsLegacyProps<TData>,\n): UsePermissionsLegacyReturnType<TData>;\n\nexport function usePermissions<TData = PermissionResponse>(\n    props?: UsePermissionsProps<TData>,\n): UsePermissionsReturnType<TData>;\n\nexport function usePermissions<TData = any>(\n    props?: UsePermissionsCombinedProps<TData>,\n): UsePermissionsCombinedReturnType<TData>;\n\n/**\n * `usePermissions` calls the `getPermissions` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/usePermissions} for more details.\n *\n * @typeParam TData - Result data of the query\n *\n */\nexport function usePermissions<TData = any>({\n    v3LegacyAuthProviderCompatible = false,\n    options,\n}: UsePermissionsProps<TData> | UsePermissionsLegacyProps<TData> = {}):\n    | UsePermissionsReturnType\n    | UsePermissionsLegacyReturnType<TData> {\n    const { getPermissions: legacyGetPermission } = useLegacyAuthContext();\n    const { getPermissions } = useAuthBindingsContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const queryResponse = useQuery<TData>(\n        keys().auth().action(\"permissions\").get(preferLegacyKeys),\n        // Enabled check for `getPermissions` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        (getPermissions as (params?: unknown) => Promise<TData>) ??\n            (() => Promise.resolve(undefined)),\n        {\n            enabled: !v3LegacyAuthProviderCompatible && !!getPermissions,\n            ...(v3LegacyAuthProviderCompatible ? {} : options),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible ? {} : options?.meta),\n                ...getXRay(\"usePermissions\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const legacyQueryResponse = useQuery<TData>(\n        [\n            ...keys().auth().action(\"permissions\").get(preferLegacyKeys),\n            \"v3LegacyAuthProviderCompatible\",\n        ],\n        // Enabled check for `getPermissions` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        legacyGetPermission ?? (() => Promise.resolve(undefined)),\n        {\n            enabled: v3LegacyAuthProviderCompatible && !!legacyGetPermission,\n            ...(v3LegacyAuthProviderCompatible ? options : {}),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible ? options?.meta : {}),\n                ...getXRay(\"usePermissions\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible ? legacyQueryResponse : queryResponse;\n}\n","import qs, { IStringifyOptions } from \"qs\";\nimport unionWith from \"lodash/unionWith\";\nimport differenceWith from \"lodash/differenceWith\";\nimport warnOnce from \"warn-once\";\n\nimport {\n    CrudFilters,\n    CrudSorting,\n    CrudFilter,\n    CrudSort,\n    CrudOperators,\n    SortOrder,\n} from \"../../interfaces\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\n\nexport const parseTableParams = (url: string) => {\n    const { current, pageSize, sorter, sorters, filters } = qs.parse(\n        url.substring(1), // remove first ? character\n    );\n\n    return {\n        parsedCurrent: current && Number(current),\n        parsedPageSize: pageSize && Number(pageSize),\n        parsedSorter: (pickNotDeprecated(sorters, sorter) as CrudSorting) ?? [],\n        parsedFilters: (filters as CrudFilters) ?? [],\n    };\n};\n\nexport const parseTableParamsFromQuery = (params: any) => {\n    const url = qs.stringify(params);\n    return parseTableParams(`/${url}`);\n};\n\n/**\n * @internal This function is used to stringify table params from the useTable hook.\n */\nexport const stringifyTableParams = (params: {\n    pagination?: { current?: number; pageSize?: number };\n    sorters: CrudSorting;\n    filters: CrudFilters;\n    [key: string]: any;\n}): string => {\n    const options: IStringifyOptions = {\n        skipNulls: true,\n        arrayFormat: \"indices\",\n        encode: false,\n    };\n    const { pagination, sorter, sorters, filters, ...rest } = params;\n\n    const queryString = qs.stringify(\n        {\n            ...rest,\n            ...(pagination ? pagination : {}),\n            sorters: pickNotDeprecated(sorters, sorter),\n            filters,\n        },\n        options,\n    );\n\n    return queryString;\n};\n\nexport const compareFilters = (\n    left: CrudFilter,\n    right: CrudFilter,\n): boolean => {\n    if (\n        left.operator !== \"and\" &&\n        left.operator !== \"or\" &&\n        right.operator !== \"and\" &&\n        right.operator !== \"or\"\n    ) {\n        return (\n            (\"field\" in left ? left.field : undefined) ==\n                (\"field\" in right ? right.field : undefined) &&\n            left.operator == right.operator\n        );\n    }\n\n    return (\n        (\"key\" in left ? left.key : undefined) ==\n            (\"key\" in right ? right.key : undefined) &&\n        left.operator == right.operator\n    );\n};\n\nexport const compareSorters = (left: CrudSort, right: CrudSort): boolean =>\n    left.field == right.field;\n// Keep only one CrudFilter per type according to compareFilters\n// Items in the array that is passed first to unionWith have higher priority\n// CrudFilter items with undefined values are necessary to signify no filter\n// After union, don't keep CrudFilter items with undefined value in the result\n// Items in the arrays with higher priority are put at the end.\nexport const unionFilters = (\n    permanentFilter: CrudFilters,\n    newFilters: CrudFilters,\n    prevFilters: CrudFilters = [],\n): CrudFilters => {\n    const isKeyRequired = newFilters.filter(\n        (f) => (f.operator === \"or\" || f.operator === \"and\") && !f.key,\n    );\n\n    if (isKeyRequired.length > 1) {\n        warnOnce(\n            true,\n            `[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. \\nFor more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`,\n        );\n    }\n\n    return unionWith(\n        permanentFilter,\n        newFilters,\n        prevFilters,\n        compareFilters,\n    ).filter(\n        (crudFilter) =>\n            crudFilter.value !== undefined &&\n            crudFilter.value !== null &&\n            (crudFilter.operator !== \"or\" ||\n                (crudFilter.operator === \"or\" &&\n                    crudFilter.value.length !== 0)) &&\n            (crudFilter.operator !== \"and\" ||\n                (crudFilter.operator === \"and\" &&\n                    crudFilter.value.length !== 0)),\n    );\n};\n\nexport const unionSorters = (\n    permanentSorter: CrudSorting,\n    newSorters: CrudSorting,\n): CrudSorting =>\n    unionWith(permanentSorter, newSorters, compareSorters).filter(\n        (crudSorter) =>\n            crudSorter.order !== undefined && crudSorter.order !== null,\n    );\n// Prioritize filters in the permanentFilter and put it at the end of result array\nexport const setInitialFilters = (\n    permanentFilter: CrudFilters,\n    defaultFilter: CrudFilters,\n): CrudFilters => [\n    ...differenceWith(defaultFilter, permanentFilter, compareFilters),\n    ...permanentFilter,\n];\n\nexport const setInitialSorters = (\n    permanentSorter: CrudSorting,\n    defaultSorter: CrudSorting,\n): CrudSorting => [\n    ...differenceWith(defaultSorter, permanentSorter, compareSorters),\n    ...permanentSorter,\n];\n\nexport const getDefaultSortOrder = (\n    columnName: string,\n    sorter?: CrudSorting,\n): SortOrder | undefined => {\n    if (!sorter) {\n        return undefined;\n    }\n\n    const sortItem = sorter.find((item) => item.field === columnName);\n\n    if (sortItem) {\n        return sortItem.order as SortOrder;\n    }\n\n    return undefined;\n};\n\nexport const getDefaultFilter = (\n    columnName: string,\n    filters?: CrudFilters,\n    operatorType: CrudOperators = \"eq\",\n): CrudFilter[\"value\"] | undefined => {\n    const filter = filters?.find((filter) => {\n        if (\n            filter.operator !== \"or\" &&\n            filter.operator !== \"and\" &&\n            \"field\" in filter\n        ) {\n            const { operator, field } = filter;\n            return field === columnName && operator === operatorType;\n        }\n        return undefined;\n    });\n\n    if (filter) {\n        return filter.value || [];\n    }\n\n    return undefined;\n};\n","export const userFriendlySecond = (miliseconds: number): number => {\n    return miliseconds / 1000; //convert to seconds\n};\n","import zip from \"lodash/zip\";\nimport fromPairs from \"lodash/fromPairs\";\nimport { MapDataFn } from \"../../../interfaces\";\n\nexport const importCSVMapper = <TItem = any, TVariables = any>(\n    data: any[][],\n    mapData: MapDataFn<TItem, TVariables> = (item) => item as any,\n): TVariables[] => {\n    const [headers, ...body] = data;\n    return body\n        .map((entry) => fromPairs(zip(headers, entry)))\n        .map((item: any, index, array: any) =>\n            mapData.call(undefined, item, index, array),\n        );\n};\n","import pluralize from \"pluralize\";\nimport { humanizeString } from \"@definitions\";\n\n/**\n * A method that the internal uses\n * @internal\n * @deprecated use `useUserFriendlyName` instead.\n */\nexport const userFriendlyResourceName = (\n    resource = \"\",\n    type: \"singular\" | \"plural\",\n): string => {\n    const humanizeResource = humanizeString(resource);\n    if (type === \"singular\") {\n        return pluralize.singular(humanizeResource);\n    }\n    return pluralize.plural(humanizeResource);\n};\n","export const handleUseParams = (params: any = {}): any => {\n    if (params?.id) {\n        return {\n            ...params,\n            id: decodeURIComponent(params.id),\n        };\n    }\n    return params;\n};\n","/*\n * Returns first value that is not undefined.\n * @internal This is an internal helper function. Please do not use externally.\n */\nexport const pickNotDeprecated = <T extends unknown[]>(\n    ...args: T\n): T[never] => {\n    return args.find((arg) => typeof arg !== \"undefined\");\n};\n","import { BaseKey } from \"src/interfaces\";\n\ntype ParametrizedDataActions = \"list\" | \"infinite\";\ntype IdRequiredDataActions = \"one\";\ntype IdsRequiredDataActions = \"many\";\ntype DataMutationActions =\n    | \"custom\"\n    | \"customMutation\"\n    | \"create\"\n    | \"createMany\"\n    | \"update\"\n    | \"updateMany\"\n    | \"delete\"\n    | \"deleteMany\";\n\ntype AuthActionType =\n    | \"login\"\n    | \"logout\"\n    | \"identity\"\n    | \"register\"\n    | \"forgotPassword\"\n    | \"check\"\n    | \"onError\"\n    | \"permissions\"\n    | \"updatePassword\";\n\ntype AuditActionType = \"list\" | \"log\" | \"rename\";\n\ntype IdType = BaseKey;\ntype IdsType = IdType[];\n\ntype ParamsType = any;\n\ntype KeySegment = string | IdType | IdsType | ParamsType;\n\nexport function arrayFindIndex<T>(array: T[], slice: T[]): number {\n    return array.findIndex(\n        (item, index) =>\n            index <= array.length - slice.length &&\n            slice.every(\n                (sliceItem, sliceIndex) =>\n                    array[index + sliceIndex] === sliceItem,\n            ),\n    );\n}\n\nexport function arrayReplace<T>(\n    array: T[],\n    partToBeReplaced: T[],\n    newPart: T[],\n): T[] {\n    const newArray: T[] = [...array];\n    const startIndex = arrayFindIndex(array, partToBeReplaced);\n\n    if (startIndex !== -1) {\n        newArray.splice(startIndex, partToBeReplaced.length, ...newPart);\n    }\n\n    return newArray;\n}\n\nexport function stripUndefined(segments: KeySegment[]) {\n    return segments.filter((segment) => segment !== undefined);\n}\n\nfunction convertToLegacy(segments: KeySegment[]) {\n    // for `list`, `many` and `one`\n    if (segments[0] === \"data\") {\n        // [data, dpName, resource, action, ...];\n        const newSegments = segments.slice(1);\n\n        if (newSegments[2] === \"many\") {\n            newSegments[2] = \"getMany\";\n        } else if (newSegments[2] === \"infinite\") {\n            newSegments[2] = \"list\";\n        } else if (newSegments[2] === \"one\") {\n            newSegments[2] = \"detail\";\n        } else if (newSegments[1] === \"custom\") {\n            const newParams = {\n                ...newSegments[2],\n            };\n            delete newParams.method;\n            delete newParams.url;\n\n            return [\n                newSegments[0],\n                newSegments[1],\n                newSegments[2].method,\n                newSegments[2].url,\n                newParams,\n            ];\n        }\n\n        return newSegments;\n    }\n    // for `audit` -> `logList`\n    if (segments[0] === \"audit\") {\n        // [audit, resource, action, params] (for log and list)\n        // or\n        // [audit, action, params] (for rename)\n        if (segments[2] === \"list\") {\n            return [\"logList\", segments[1], segments[3]];\n        }\n    }\n    // for `access` -> `useCan`\n    if (segments[0] === \"access\") {\n        // [access, resource, action, params]\n        if (segments.length === 4) {\n            return [\n                \"useCan\",\n                {\n                    resource: segments[1],\n                    action: segments[2],\n                    ...segments[3], // params: { params, enabled }\n                },\n            ];\n        }\n    }\n    // for `auth`\n    if (segments[0] === \"auth\") {\n        if (arrayFindIndex(segments, [\"auth\", \"login\"]) !== -1) {\n            return [\"useLogin\"];\n        }\n        if (arrayFindIndex(segments, [\"auth\", \"logout\"]) !== -1) {\n            return [\"useLogout\"];\n        }\n        if (arrayFindIndex(segments, [\"auth\", \"identity\"]) !== -1) {\n            return [\"getUserIdentity\"];\n        }\n        if (arrayFindIndex(segments, [\"auth\", \"register\"]) !== -1) {\n            return [\"useRegister\"];\n        }\n        if (arrayFindIndex(segments, [\"auth\", \"forgotPassword\"]) !== -1) {\n            return [\"useForgotPassword\"];\n        }\n        if (arrayFindIndex(segments, [\"auth\", \"check\"]) !== -1) {\n            return [\"useAuthenticated\", segments[2]]; // [auth, check, params]\n        }\n        if (arrayFindIndex(segments, [\"auth\", \"onError\"]) !== -1) {\n            return [\"useCheckError\"];\n        }\n        if (arrayFindIndex(segments, [\"auth\", \"permissions\"]) !== -1) {\n            return [\"usePermissions\"];\n        }\n        if (arrayFindIndex(segments, [\"auth\", \"updatePassword\"]) !== -1) {\n            return [\"useUpdatePassword\"];\n        }\n    }\n    return segments;\n}\n\nclass BaseKeyBuilder {\n    segments: KeySegment[] = [];\n\n    constructor(segments: KeySegment[] = []) {\n        this.segments = segments;\n    }\n\n    key() {\n        return this.segments;\n    }\n\n    legacy() {\n        return convertToLegacy(this.segments);\n    }\n\n    get(legacy?: boolean) {\n        return legacy ? this.legacy() : this.segments;\n    }\n}\n\nclass ParamsKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    params(paramsValue?: ParamsType) {\n        return new BaseKeyBuilder([...this.segments, paramsValue]);\n    }\n}\n\nclass DataIdRequiringKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    id(idValue?: IdType) {\n        return new ParamsKeyBuilder([\n            ...this.segments,\n            idValue ? String(idValue) : undefined,\n        ]);\n    }\n}\n\nclass DataIdsRequiringKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    ids(...idsValue: IdsType) {\n        return new ParamsKeyBuilder([\n            ...this.segments,\n            ...(idsValue.length ? [idsValue.map((el) => String(el))] : []),\n        ]);\n    }\n}\n\nclass DataResourceKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    action(actionType: ParametrizedDataActions): ParamsKeyBuilder;\n    action(actionType: IdRequiredDataActions): DataIdRequiringKeyBuilder;\n    action(actionType: IdsRequiredDataActions): DataIdsRequiringKeyBuilder;\n    action(\n        actionType:\n            | ParametrizedDataActions\n            | IdRequiredDataActions\n            | IdsRequiredDataActions,\n    ):\n        | ParamsKeyBuilder\n        | DataIdRequiringKeyBuilder\n        | DataIdsRequiringKeyBuilder {\n        if (actionType === \"one\") {\n            return new DataIdRequiringKeyBuilder([\n                ...this.segments,\n                actionType,\n            ]);\n        } else if (actionType === \"many\") {\n            return new DataIdsRequiringKeyBuilder([\n                ...this.segments,\n                actionType,\n            ]);\n        } else if ([\"list\", \"infinite\"].includes(actionType)) {\n            return new ParamsKeyBuilder([...this.segments, actionType]);\n        } else {\n            throw new Error(\"Invalid action type\");\n        }\n    }\n}\n\nclass DataKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    resource(resourceName?: string) {\n        return new DataResourceKeyBuilder([...this.segments, resourceName]);\n    }\n\n    mutation(mutationName: DataMutationActions) {\n        return new ParamsKeyBuilder([\n            ...(mutationName === \"custom\" ? this.segments : [this.segments[0]]),\n            mutationName,\n        ]);\n    }\n}\n\nclass AuthKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    action(actionType: AuthActionType) {\n        return new ParamsKeyBuilder([...this.segments, actionType]);\n    }\n}\n\nclass AccessResourceKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    action(resourceName: string) {\n        return new ParamsKeyBuilder([...this.segments, resourceName]);\n    }\n}\n\nclass AccessKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    resource(resourceName?: string) {\n        return new AccessResourceKeyBuilder([...this.segments, resourceName]);\n    }\n}\n\nclass AuditActionKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    action(actionType: Extract<AuditActionType, \"list\">) {\n        return new ParamsKeyBuilder([...this.segments, actionType]);\n    }\n}\n\nclass AuditKeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    resource(resourceName?: string) {\n        return new AuditActionKeyBuilder([...this.segments, resourceName]);\n    }\n\n    action(actionType: Extract<AuditActionType, \"rename\" | \"log\">) {\n        return new ParamsKeyBuilder([...this.segments, actionType]);\n    }\n}\n\nexport class KeyBuilder extends BaseKeyBuilder {\n    constructor(segments: KeySegment[]) {\n        super(segments);\n    }\n\n    data(name?: string) {\n        return new DataKeyBuilder([\"data\", name || \"default\"]);\n    }\n\n    auth() {\n        return new AuthKeyBuilder([\"auth\"]);\n    }\n\n    access() {\n        return new AccessKeyBuilder([\"access\"]);\n    }\n\n    audit() {\n        return new AuditKeyBuilder([\"audit\"]);\n    }\n}\n\nexport const keys = () => new KeyBuilder([]);\n","import { IQueryKeys } from \"src/interfaces\";\nimport { QueryKey } from \"@tanstack/react-query\";\n\nimport { MetaQuery } from \"src/interfaces\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\nimport { keys as newKeys } from \"../keys\";\n\n/**\n * @deprecated `queryKeys` is deprecated. Please use `keys` instead.\n */\nexport const queryKeys = (\n    resource?: string,\n    dataProviderName?: string,\n    meta?: MetaQuery,\n    /**\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery | undefined,\n): IQueryKeys => {\n    const providerName = dataProviderName || \"default\";\n    const keys: IQueryKeys = {\n        all: [providerName],\n        resourceAll: [providerName, resource || \"\"],\n        list: (config) => [\n            ...keys.resourceAll,\n            \"list\",\n            {\n                ...config,\n                ...(pickNotDeprecated(meta, metaData) || {}),\n            } as QueryKey,\n        ],\n        many: (ids) =>\n            [\n                ...keys.resourceAll,\n                \"getMany\",\n                (ids && ids.map(String)) as QueryKey,\n                { ...(pickNotDeprecated(meta, metaData) || {}) } as QueryKey,\n            ].filter((item) => item !== undefined),\n        detail: (id) => [\n            ...keys.resourceAll,\n            \"detail\",\n            id?.toString(),\n            { ...(pickNotDeprecated(meta, metaData) || {}) } as QueryKey,\n        ],\n        logList: (meta) =>\n            [\"logList\", resource, meta as any, metaData as QueryKey].filter(\n                (item) => item !== undefined,\n            ),\n    };\n    return keys;\n};\n\nexport const queryKeysReplacement = (preferLegacyKeys?: boolean) => {\n    return (\n        resource?: string,\n        dataProviderName?: string,\n        meta?: MetaQuery,\n        /**\n         * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n         */\n        metaData?: MetaQuery | undefined,\n    ): IQueryKeys => {\n        const providerName = dataProviderName || \"default\";\n\n        const keys: IQueryKeys = {\n            all: newKeys().data(providerName).get(preferLegacyKeys),\n            resourceAll: newKeys()\n                .data(dataProviderName)\n                .resource(resource ?? \"\")\n                .get(preferLegacyKeys),\n            list: (config) =>\n                newKeys()\n                    .data(dataProviderName)\n                    .resource(resource ?? \"\")\n                    .action(\"list\")\n                    .params({\n                        ...config,\n                        ...(pickNotDeprecated(meta, metaData) || {}),\n                    })\n                    .get(preferLegacyKeys),\n            many: (ids) =>\n                newKeys()\n                    .data(dataProviderName)\n                    .resource(resource ?? \"\")\n                    .action(\"many\")\n                    .ids(...(ids ?? []))\n                    .params({\n                        ...(pickNotDeprecated(meta, metaData) || {}),\n                    })\n                    .get(preferLegacyKeys),\n            detail: (id) =>\n                newKeys()\n                    .data(dataProviderName)\n                    .resource(resource ?? \"\")\n                    .action(\"one\")\n                    .id(id ?? \"\")\n                    .params({\n                        ...(pickNotDeprecated(meta, metaData) || {}),\n                    })\n                    .get(preferLegacyKeys),\n            logList: (meta) =>\n                [\n                    ...newKeys()\n                        .audit()\n                        .resource(resource)\n                        .action(\"list\")\n                        .params(meta)\n                        .get(preferLegacyKeys),\n                    metaData as QueryKey,\n                ].filter((item) => item !== undefined),\n        };\n\n        return keys;\n    };\n};\n","export const hasPermission = (\n    permissions: string[] | undefined,\n    action: string | undefined,\n): boolean => {\n    if (!permissions || !action) {\n        return false;\n    }\n    return !!permissions.find((i) => i === action);\n};\n","/**\n * Check if a segment is a parameter. (e.g. :id)\n */\nexport const isParameter = (segment: string) => {\n    return segment.startsWith(\":\");\n};\n","/**\n * Split a path to segments.\n */\nexport const splitToSegments = (path: string) => {\n    const segments = path.split(\"/\").filter((segment) => segment !== \"\");\n    return segments;\n};\n","import { splitToSegments } from \"./split-to-segments\";\n\n/**\n * Checks if the both routes have the same number of segments.\n */\nexport const isSegmentCountsSame = (route: string, resourceRoute: string) => {\n    const routeSegments = splitToSegments(route);\n    const resourceRouteSegments = splitToSegments(resourceRoute);\n\n    return routeSegments.length === resourceRouteSegments.length;\n};\n","/**\n * Remove leading and trailing slashes from a route.\n */\nexport const removeLeadingTrailingSlashes = (route: string) => {\n    return route.replace(/^\\/|\\/$/g, \"\");\n};\n","import { isParameter } from \"./is-parameter\";\nimport { isSegmentCountsSame } from \"./is-segment-counts-same\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\nimport { splitToSegments } from \"./split-to-segments\";\n\n/**\n * This function if the route and resourceRoute match by segments.\n * - First, trailing and leading slashes are removed\n * - Then, the route and resourceRoute are split to segments and checked if they have the same number of segments\n * - Then, each segment is checked if it is a parameter or if it matches the resourceRoute segment\n * - If all segments match, the function returns true, otherwise false\n */\nexport const checkBySegments = (route: string, resourceRoute: string) => {\n    const stdRoute = removeLeadingTrailingSlashes(route);\n    const stdResourceRoute = removeLeadingTrailingSlashes(resourceRoute);\n    // we need to check if the route and resourceRoute have the same number of segments\n    // if not, we can't match them\n    if (!isSegmentCountsSame(stdRoute, stdResourceRoute)) {\n        return false;\n    }\n\n    const routeSegments = splitToSegments(stdRoute);\n    const resourceRouteSegments = splitToSegments(stdResourceRoute);\n\n    return resourceRouteSegments.every((segment, index) => {\n        return isParameter(segment) || segment === routeSegments[index];\n    });\n};\n","import { Action } from \"src/interfaces\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\n\n/**\n * This helper function returns the default path for a given action and resource.\n * It also applies the parentPrefix if provided.\n * This is used by the legacy router and the new router if the resource doesn't provide a custom path.\n */\nexport const getDefaultActionPath = (\n    resourceName: string,\n    action: Action,\n    parentPrefix?: string,\n): string => {\n    const cleanParentPrefix = removeLeadingTrailingSlashes(parentPrefix || \"\");\n\n    let path = `${cleanParentPrefix}${\n        cleanParentPrefix ? \"/\" : \"\"\n    }${resourceName}`;\n\n    if (action === \"list\") {\n        path = `${path}`;\n    } else if (action === \"create\") {\n        path = `${path}/create`;\n    } else if (action === \"edit\") {\n        path = `${path}/edit/:id`;\n    } else if (action === \"show\") {\n        path = `${path}/show/:id`;\n    } else if (action === \"clone\") {\n        path = `${path}/clone/:id`;\n    }\n\n    return `/${path.replace(/^\\//, \"\")}`;\n};\n","import { IResourceItem } from \"src/interfaces\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\n/**\n * Returns the parent resource of the given resource.\n * Works both with the deprecated `parentName` and the new `parent` property.\n */\nexport const getParentResource = (\n    resource: IResourceItem,\n    resources: IResourceItem[],\n): IResourceItem | undefined => {\n    const parentName = pickNotDeprecated(\n        resource.meta?.parent,\n        resource.options?.parent,\n        resource.parentName,\n    );\n\n    if (!parentName) {\n        return undefined;\n    }\n\n    const parentResource = resources.find(\n        (resource) => (resource.identifier ?? resource.name) === parentName,\n    );\n\n    /**\n     * If the parent resource is not found, we return a resource object with the name of the parent resource.\n     * Because we still want to have nesting and prefixing for the resource even if the parent is not explicitly defined.\n     */\n    return parentResource ?? { name: parentName };\n};\n","import { ResourceProps } from \"src/interfaces/bindings/resource\";\nimport { getParentResource } from \"./get-parent-resource\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\n\n/**\n * Returns the parent prefix for a resource\n * - If `legacy` is provided, the computation is based on the `route` option of the resource\n */\nexport const getParentPrefixForResource = (\n    resource: ResourceProps,\n    resources: ResourceProps[],\n    /**\n     * Uses legacy route if true (`options.route`)\n     */\n    legacy?: boolean,\n): string | undefined => {\n    const parents: ResourceProps[] = [];\n\n    let parent = getParentResource(resource, resources);\n\n    while (parent) {\n        parents.push(parent);\n        parent = getParentResource(parent, resources);\n    }\n\n    if (parents.length === 0) {\n        return undefined;\n    }\n\n    return `/${parents\n        .reverse()\n        .map((parent) => {\n            const v = legacy\n                ? parent.options?.route ?? parent.name\n                : parent.name;\n            return removeLeadingTrailingSlashes(v);\n        })\n        .join(\"/\")}`;\n};\n","import { Action, IResourceItem } from \"src/interfaces\";\nimport { getDefaultActionPath } from \"./get-default-action-path\";\nimport { getParentPrefixForResource } from \"./get-parent-prefix-for-resource\";\n\nexport type ResourceActionRoute = {\n    action: Action;\n    resource: IResourceItem;\n    route: string;\n};\n\n/**\n * This function returns all the routes for available actions for a resource.\n * - If the action is a function, it means we're fallbacking to default path for the action\n * - If the action is a string, it means we don't have the component, but we have the route\n * - If the action is an object, it means we have the component and the route\n * - It will return an array of objects with the action, the resource and the route\n */\nexport const getActionRoutesFromResource = (\n    resource: IResourceItem,\n    resources: IResourceItem[],\n    /**\n     * Uses legacy route if true (`options.route`)\n     */\n    legacy?: boolean,\n) => {\n    const actions: ResourceActionRoute[] = [];\n\n    const actionList: Action[] = [\"list\", \"show\", \"edit\", \"create\", \"clone\"];\n\n    const parentPrefix = getParentPrefixForResource(\n        resource,\n        resources,\n        legacy,\n    );\n\n    actionList.forEach((action) => {\n        const item =\n            legacy && action === \"clone\" ? resource.create : resource[action];\n\n        let route: string | undefined = undefined;\n\n        if (typeof item === \"function\" || legacy) {\n            // means we're fallbacking to default path for the action\n            route = getDefaultActionPath(\n                legacy\n                    ? resource.meta?.route ??\n                          resource.options?.route ??\n                          resource.name\n                    : resource.name,\n                action,\n                legacy ? parentPrefix : undefined,\n            );\n        } else if (typeof item === \"string\") {\n            // means we don't have the component, but we have the route\n            route = item;\n        } else if (typeof item === \"object\") {\n            // means we have the component and the route\n            route = item.path;\n        }\n\n        if (route) {\n            actions.push({\n                action,\n                resource,\n                route: `/${route.replace(/^\\//, \"\")}`,\n            });\n        }\n    });\n\n    return actions;\n};\n","import { ResourceActionRoute } from \"./get-action-routes-from-resource\";\nimport { isParameter } from \"./is-parameter\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\nimport { splitToSegments } from \"./split-to-segments\";\n\n/**\n * Picks the most eligible route from the given matched routes.\n * - If there's only one route, it returns it.\n * - If there's more than one route, it picks the best non-greedy match.\n */\nexport const pickMatchedRoute = (\n    routes: ResourceActionRoute[],\n): ResourceActionRoute | undefined => {\n    // these routes are all matched, we should pick the least parametrized one\n\n    // no routes, no match\n    if (routes.length === 0) {\n        return undefined;\n    }\n\n    // no need to calculate the route segments if there's only one route\n    if (routes.length === 1) {\n        return routes[0];\n    }\n\n    // remove trailing and leading slashes\n    // split them to segments\n    const sanitizedRoutes = routes.map((route) => ({\n        ...route,\n        splitted: splitToSegments(removeLeadingTrailingSlashes(route.route)),\n    }));\n\n    // at this point, before calling this function, we already checked for segment lenghts and expect all of them to be the same\n    const segmentsCount = sanitizedRoutes[0]?.splitted.length ?? 0;\n\n    let eligibleRoutes: Array<(typeof sanitizedRoutes)[number]> = [\n        ...sanitizedRoutes,\n    ];\n\n    // loop through the segments\n    for (let i = 0; i < segmentsCount; i++) {\n        const nonParametrizedRoutes = eligibleRoutes.filter(\n            (route) => !isParameter(route.splitted[i]),\n        );\n\n        if (nonParametrizedRoutes.length === 0) {\n            // keep the eligible routes as they are\n            continue;\n        }\n        if (nonParametrizedRoutes.length === 1) {\n            // no need to continue, we found the route\n            eligibleRoutes = nonParametrizedRoutes;\n            break;\n        }\n\n        // we have more than one non-parametrized route, we need to check the next segment\n        eligibleRoutes = nonParametrizedRoutes;\n    }\n\n    return eligibleRoutes[0];\n};\n","import { Action, IResourceItem } from \"../../../interfaces\";\nimport { checkBySegments } from \"./check-by-segments\";\nimport { getActionRoutesFromResource } from \"./get-action-routes-from-resource\";\nimport { pickMatchedRoute } from \"./pick-matched-route\";\n\n/**\n * Match the resource from the route\n * - It will calculate all possible routes for resources and their actions\n * - It will check if the route matches any of the possible routes\n * - It will return the most eligible resource and action\n */\nexport const matchResourceFromRoute = (\n    route: string,\n    resources: IResourceItem[],\n): {\n    found: boolean;\n    resource?: IResourceItem;\n    action?: Action;\n    matchedRoute?: string;\n} => {\n    const allActionRoutes = resources.flatMap((resource) => {\n        return getActionRoutesFromResource(resource, resources);\n    });\n\n    const allFound = allActionRoutes.filter((actionRoute) => {\n        return checkBySegments(route, actionRoute.route);\n    });\n\n    const mostEligible = pickMatchedRoute(allFound);\n\n    return {\n        found: !!mostEligible,\n        resource: mostEligible?.resource,\n        action: mostEligible?.action,\n        matchedRoute: mostEligible?.route,\n    };\n};\n","import { ResourceProps } from \"src/interfaces/bindings/resource\";\nimport { getParentPrefixForResource } from \"../router\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\n/**\n * generates route for the resource based on parents and custom routes\n * @deprecated this is a **legacy** function and works only with the old resource definition\n */\nexport const routeGenerator = (\n    item: ResourceProps,\n    resourcesFromProps: ResourceProps[],\n): string | undefined => {\n    let route;\n\n    const parentPrefix = getParentPrefixForResource(\n        item,\n        resourcesFromProps,\n        true,\n    );\n\n    if (parentPrefix) {\n        const meta = pickNotDeprecated(item.meta, item.options);\n        route = `${parentPrefix}/${meta?.route ?? item.name}`;\n    } else {\n        route = item.options?.route ?? item.name;\n    }\n\n    return `/${route.replace(/^\\//, \"\")}`;\n};\n","import { pickNotDeprecated } from \"@definitions/helpers/pickNotDeprecated\";\nimport { IResourceItem, ITreeMenu, IMenuItem } from \"src/interfaces\";\n\n/**\n * @deprecated This helper is deprecated. Please use `createTree` instead.\n */\nexport const createTreeView = (\n    resources: IResourceItem[] | IMenuItem[],\n): ITreeMenu[] | ITreeMenu[] => {\n    const tree = [];\n    const resourcesRouteObject: { [key: string]: any } = {};\n    const resourcesNameObject: { [key: string]: any } = {};\n    let parent: IResourceItem | IMenuItem;\n    let child: ITreeMenu;\n\n    for (let i = 0; i < resources.length; i++) {\n        parent = resources[i];\n\n        const route =\n            parent.route ??\n            pickNotDeprecated(parent?.meta, parent.options)?.route ??\n            \"\";\n\n        resourcesRouteObject[route] = parent;\n        resourcesRouteObject[route][\"children\"] = [];\n\n        resourcesNameObject[parent.name] = parent;\n        resourcesNameObject[parent.name][\"children\"] = [];\n    }\n\n    for (const name in resourcesRouteObject) {\n        if (resourcesRouteObject.hasOwnProperty(name)) {\n            child = resourcesRouteObject[name];\n\n            if (child.parentName && resourcesNameObject[child.parentName]) {\n                resourcesNameObject[child.parentName][\"children\"].push(child);\n            } else {\n                tree.push(child);\n            }\n        }\n    }\n\n    return tree;\n};\n","export const humanizeString = (text: string): string => {\n    text = text.replace(/([a-z]{1})([A-Z]{1})/g, \"$1-$2\");\n    text = text.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g, \"$1-$2$3\");\n\n    text = text\n        .toLowerCase()\n        .replace(/[_-]+/g, \" \")\n        .replace(/\\s{2,}/g, \" \")\n        .trim();\n    text = text.charAt(0).toUpperCase() + text.slice(1);\n\n    return text;\n};\n// https://www.npmjs.com/package/humanize-string\n","import React from \"react\";\nimport pluralize from \"pluralize\";\nimport { humanizeString } from \"../../definitions/helpers/humanizeString\";\n\nimport {\n    IRefineContextOptions,\n    IRefineContext,\n    IRefineContextProvider,\n} from \"./IRefineContext\";\nimport { DefaultLayout } from \"@components/layoutWrapper/defaultLayout\";\n\nimport { LoginPage as DefaultLoginPage } from \"@components/pages\";\n\nexport const defaultRefineOptions: IRefineContextOptions = {\n    mutationMode: \"pessimistic\",\n    syncWithLocation: false,\n    undoableTimeout: 5000,\n    warnWhenUnsavedChanges: false,\n    liveMode: \"off\",\n    redirect: {\n        afterCreate: \"list\",\n        afterClone: \"list\",\n        afterEdit: \"list\",\n    },\n    overtime: {\n        interval: 1000,\n    },\n    textTransformers: {\n        humanize: humanizeString,\n        plural: pluralize.plural,\n        singular: pluralize.singular,\n    },\n    disableServerSideValidation: false,\n};\n\nexport const RefineContext = React.createContext<IRefineContext>({\n    hasDashboard: false,\n    mutationMode: \"pessimistic\",\n    warnWhenUnsavedChanges: false,\n    syncWithLocation: false,\n    undoableTimeout: 5000,\n    Title: undefined,\n    Sider: undefined,\n    Header: undefined,\n    Footer: undefined,\n    Layout: DefaultLayout,\n    OffLayoutArea: undefined,\n    liveMode: \"off\",\n    onLiveEvent: undefined,\n    options: defaultRefineOptions,\n});\n\nexport const RefineContextProvider: React.FC<IRefineContextProvider> = ({\n    hasDashboard,\n    mutationMode,\n    warnWhenUnsavedChanges,\n    syncWithLocation,\n    undoableTimeout,\n    children,\n    DashboardPage,\n    Title,\n    Layout = DefaultLayout,\n    Header,\n    Sider,\n    Footer,\n    OffLayoutArea,\n    LoginPage = DefaultLoginPage,\n    catchAll,\n    liveMode = \"off\",\n    onLiveEvent,\n    options,\n}) => {\n    return (\n        <RefineContext.Provider\n            value={{\n                hasDashboard,\n                mutationMode,\n                warnWhenUnsavedChanges,\n                syncWithLocation,\n                Title,\n                undoableTimeout,\n                Layout,\n                Header,\n                Sider,\n                Footer,\n                OffLayoutArea,\n                DashboardPage,\n                LoginPage,\n                catchAll,\n                liveMode,\n                onLiveEvent,\n                options,\n            }}\n        >\n            {children}\n        </RefineContext.Provider>\n    );\n};\n","import React from \"react\";\n\nimport { LayoutProps } from \"../../../interfaces\";\n\nexport const DefaultLayout: React.FC<LayoutProps> = ({ children }) => {\n    return <div>{children}</div>;\n};\n","import { QueryClient, QueryClientConfig } from \"@tanstack/react-query\";\n\nimport { defaultRefineOptions } from \"@contexts/refine\";\nimport {\n    IRefineContextOptions,\n    IRefineOptions,\n    LiveModeProps,\n    MutationMode,\n} from \"src/interfaces\";\n\ntype HandleRefineOptionsProps = {\n    options?: IRefineOptions;\n    mutationMode?: MutationMode;\n    syncWithLocation?: boolean;\n    warnWhenUnsavedChanges?: boolean;\n    undoableTimeout?: number;\n    liveMode?: LiveModeProps[\"liveMode\"];\n    disableTelemetry?: boolean;\n    reactQueryClientConfig?: QueryClientConfig;\n    reactQueryDevtoolConfig?: any | false;\n};\n\ntype HandleRefineOptionsReturnValues = {\n    optionsWithDefaults: IRefineContextOptions;\n    disableTelemetryWithDefault: boolean;\n    reactQueryWithDefaults: {\n        clientConfig: QueryClientConfig | InstanceType<typeof QueryClient>;\n        devtoolConfig: false | any;\n    };\n};\n\nexport const handleRefineOptions = ({\n    options,\n    disableTelemetry,\n    liveMode,\n    mutationMode,\n    reactQueryClientConfig,\n    reactQueryDevtoolConfig,\n    syncWithLocation,\n    undoableTimeout,\n    warnWhenUnsavedChanges,\n}: HandleRefineOptionsProps = {}): HandleRefineOptionsReturnValues => {\n    const optionsWithDefaults: IRefineContextOptions = {\n        breadcrumb: options?.breadcrumb,\n        mutationMode:\n            options?.mutationMode ??\n            mutationMode ??\n            defaultRefineOptions.mutationMode,\n        undoableTimeout:\n            options?.undoableTimeout ??\n            undoableTimeout ??\n            defaultRefineOptions.undoableTimeout,\n        syncWithLocation:\n            options?.syncWithLocation ??\n            syncWithLocation ??\n            defaultRefineOptions.syncWithLocation,\n        warnWhenUnsavedChanges:\n            options?.warnWhenUnsavedChanges ??\n            warnWhenUnsavedChanges ??\n            defaultRefineOptions.warnWhenUnsavedChanges,\n        liveMode:\n            options?.liveMode ?? liveMode ?? defaultRefineOptions.liveMode,\n        redirect: {\n            afterCreate:\n                options?.redirect?.afterCreate ??\n                defaultRefineOptions.redirect.afterCreate,\n            afterClone:\n                options?.redirect?.afterClone ??\n                defaultRefineOptions.redirect.afterClone,\n            afterEdit:\n                options?.redirect?.afterEdit ??\n                defaultRefineOptions.redirect.afterEdit,\n        },\n        overtime: options?.overtime ?? defaultRefineOptions.overtime,\n        textTransformers: {\n            humanize:\n                options?.textTransformers?.humanize ??\n                defaultRefineOptions.textTransformers.humanize,\n            plural:\n                options?.textTransformers?.plural ??\n                defaultRefineOptions.textTransformers.plural,\n            singular:\n                options?.textTransformers?.singular ??\n                defaultRefineOptions.textTransformers.singular,\n        },\n        disableServerSideValidation:\n            options?.disableServerSideValidation ??\n            defaultRefineOptions.disableServerSideValidation,\n        projectId: options?.projectId,\n        useNewQueryKeys: options?.useNewQueryKeys,\n    };\n\n    const disableTelemetryWithDefault =\n        options?.disableTelemetry ?? disableTelemetry ?? false;\n\n    const reactQueryWithDefaults = {\n        clientConfig:\n            options?.reactQuery?.clientConfig ?? reactQueryClientConfig ?? {},\n        devtoolConfig:\n            options?.reactQuery?.devtoolConfig ?? reactQueryDevtoolConfig ?? {},\n    };\n\n    return {\n        optionsWithDefaults,\n        disableTelemetryWithDefault,\n        reactQueryWithDefaults,\n    };\n};\n","import { Action, IRefineContextOptions, RedirectAction } from \"src/interfaces\";\n\ntype RedirectPageProps = {\n    redirectFromProps?: RedirectAction;\n    action: Action;\n    redirectOptions: IRefineContextOptions[\"redirect\"];\n};\n\nexport const redirectPage = ({\n    redirectFromProps,\n    action,\n    redirectOptions,\n}: RedirectPageProps): RedirectAction => {\n    if (redirectFromProps || redirectFromProps === false) {\n        return redirectFromProps;\n    }\n\n    switch (action) {\n        case \"clone\":\n            return redirectOptions.afterClone;\n        case \"create\":\n            return redirectOptions.afterCreate;\n        case \"edit\":\n            return redirectOptions.afterEdit;\n        default:\n            return false;\n    }\n};\n","type EachResolve<TResolve, Response> = (\n    result: TResolve,\n    index: number,\n) => Response;\ntype EachReject<TReject, Response> = (\n    error: TReject,\n    index: number,\n) => Response;\n\nexport const sequentialPromises = async <\n    TResolve = unknown,\n    TReject = unknown,\n    TResolveResponse = unknown,\n    TRejectResponse = unknown,\n>(\n    promises: (() => Promise<TResolve>)[],\n    onEachResolve: EachResolve<TResolve, TResolveResponse>,\n    onEachReject: EachReject<TReject, TRejectResponse>,\n): Promise<(TResolveResponse | TRejectResponse)[]> => {\n    const results = [];\n    // @ts-expect-error Remove this when we enable `downLevelIterations`\n    for (const [index, promise] of promises.entries()) {\n        try {\n            const result = await promise();\n\n            results.push(onEachResolve(result, index));\n        } catch (error) {\n            results.push(onEachReject(error as TReject, index));\n        }\n    }\n    return results;\n};\n","import { IResourceItem } from \"src/interfaces/bindings/resource\";\nimport { removeLeadingTrailingSlashes } from \"../router/remove-leading-trailing-slashes\";\n\n/**\n * Picks the resource based on the provided identifier.\n * Identifier fallbacks to `name` if `identifier` is not explicitly provided to the resource.\n * If legacy is true, then resource is matched by `route` first and then by `name`.\n */\nexport const pickResource = (\n    identifier?: string,\n    resources: IResourceItem[] = [],\n    /**\n     * If true, the identifier will be checked for `route` and `name` properties\n     */\n    legacy = false,\n): IResourceItem | undefined => {\n    if (!identifier) {\n        return undefined;\n    }\n\n    if (legacy) {\n        const resourceByRoute = resources.find(\n            (r) =>\n                removeLeadingTrailingSlashes(r.route ?? \"\") ===\n                removeLeadingTrailingSlashes(identifier),\n        );\n\n        const resource = resourceByRoute\n            ? resourceByRoute\n            : resources.find((r) => r.name === identifier);\n\n        return resource;\n    }\n\n    let resource = resources.find((r) => r.identifier === identifier);\n    if (!resource) {\n        resource = resources.find((r) => r.name === identifier);\n    }\n\n    return resource;\n};\n","import { IResourceItem } from \"src/interfaces/bindings/resource\";\nimport { pickResource } from \"../pick-resource\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\n/**\n * Picks the data provider name based on the provided name or fallbacks to resource definition, or `default`.\n */\nexport const pickDataProvider = (\n    resourceName?: string,\n    dataProviderName?: string,\n    resources?: IResourceItem[],\n) => {\n    if (dataProviderName) {\n        return dataProviderName;\n    }\n\n    /**\n     * In this helper, we don't do `route` based matching therefore there's no need to check for `legacy` behaviors.\n     */\n    const resource = pickResource(resourceName, resources);\n\n    const meta = pickNotDeprecated(resource?.meta, resource?.options);\n\n    if (meta?.dataProviderName) {\n        return meta.dataProviderName;\n    }\n\n    return \"default\";\n};\n","export const handleMultiple = async <TData = unknown>(\n    promises: Promise<{ data: TData }>[],\n): Promise<{ data: TData[] }> => {\n    return {\n        data: (await Promise.all(promises)).map((res) => res.data),\n    };\n};\n","import { GetListResponse } from \"../../../interfaces\";\n\nexport const getNextPageParam = (lastPage: GetListResponse) => {\n    const { pagination, cursor } = lastPage;\n\n    // cursor pagination\n    if (cursor?.next) {\n        return cursor.next;\n    }\n\n    const current = pagination?.current || 1;\n\n    const pageSize = pagination?.pageSize || 10;\n    const totalPages = Math.ceil((lastPage.total || 0) / pageSize);\n\n    return current < totalPages ? Number(current) + 1 : undefined;\n};\n\nexport const getPreviousPageParam = (lastPage: GetListResponse) => {\n    const { pagination, cursor } = lastPage;\n\n    // cursor pagination\n    if (cursor?.prev) {\n        return cursor.prev;\n    }\n\n    const current = pagination?.current || 1;\n\n    return current === 1 ? undefined : current - 1;\n};\n","import {\n    IResourceItem,\n    ResourceProps,\n} from \"../../../interfaces/bindings/resource\";\n\nimport { routeGenerator } from \"../routeGenerator\";\n\n/**\n * For the legacy definition of resources, we did a basic transformation for provided resources\n * - This is meant to provide an easier way to access properties.\n * - In the new definition, we don't need to do transformations and properties can be accessed via helpers or manually.\n * This is kept for backward compability\n */\nexport const legacyResourceTransform = (resources: ResourceProps[]) => {\n    const _resources: IResourceItem[] = [];\n\n    resources.forEach((resource) => {\n        _resources.push({\n            ...resource,\n            label: resource.meta?.label ?? resource.options?.label,\n            route: routeGenerator(resource, resources),\n            canCreate: !!resource.create,\n            canEdit: !!resource.edit,\n            canShow: !!resource.show,\n            canDelete: resource.canDelete,\n        });\n    });\n\n    return _resources;\n};\n","import { splitToSegments } from \"./split-to-segments\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\nimport { isParameter } from \"./is-parameter\";\n\n/**\n * Picks the route parameters from the given route.\n * (e.g. /users/:id/posts/:postId => ['id', 'postId'])\n */\nexport const pickRouteParams = (route: string) => {\n    const segments = splitToSegments(removeLeadingTrailingSlashes(route));\n\n    return segments.flatMap((s) => {\n        if (isParameter(s)) {\n            return [s.slice(1)];\n        }\n\n        return [];\n    });\n};\n","/**\n * Prepares the route params by checking the existing params and meta data.\n * Meta data is prioritized over params.\n * Params are prioritized over predetermined id, action and resource.\n * This means, we can use `meta` for user supplied params (both manually or from the query string)\n */\nexport const prepareRouteParams = <\n    TRouteParams extends Record<string, unknown> = Record<string, unknown>,\n>(\n    routeParams: (keyof TRouteParams)[],\n    meta: Record<string, unknown> = {},\n): Partial<TRouteParams> => {\n    return routeParams.reduce((acc, key) => {\n        const value = meta[key as string];\n        if (typeof value !== \"undefined\") {\n            acc[key] = value as TRouteParams[keyof TRouteParams];\n        }\n        return acc;\n    }, {} as Partial<TRouteParams>);\n};\n","import { MetaQuery, ParseResponse } from \"src/interfaces\";\nimport { pickRouteParams } from \"./pick-route-params\";\nimport { prepareRouteParams } from \"./prepare-route-params\";\n\n/**\n * This function will compose a route with the given params and meta.\n * - A route can have parameters like (eg: /users/:id)\n * - First we pick the route params from the route (eg: [id])\n * - Then we prepare the route params with the given params and meta (eg: { id: 1 })\n * - Then we replace the route params with the prepared route params (eg: /users/1)\n */\nexport const composeRoute = (\n    designatedRoute: string,\n    resourceMeta: MetaQuery = {},\n    parsed: ParseResponse = {},\n    meta: Record<string, unknown> = {},\n): string => {\n    // pickRouteParams (from the route)\n    const routeParams = pickRouteParams(designatedRoute);\n    // prepareRouteParams (from route params, params and meta)\n    const preparedRouteParams = prepareRouteParams(routeParams, {\n        ...resourceMeta,\n        ...(typeof parsed?.id !== \"undefined\" ? { id: parsed.id } : {}),\n        ...(typeof parsed?.action !== \"undefined\"\n            ? { action: parsed.action }\n            : {}),\n        ...(typeof parsed?.resource !== \"undefined\"\n            ? { resource: parsed.resource }\n            : {}),\n        ...parsed?.params,\n        ...meta,\n    });\n    // replace route params with prepared route params\n    return designatedRoute.replace(/:([^\\/]+)/g, (match, key) => {\n        const fromParams = preparedRouteParams[key];\n        if (typeof fromParams !== \"undefined\") {\n            return `${fromParams}`;\n        }\n        return match;\n    });\n};\n","import React, { PropsWithChildren } from \"react\";\n\nimport { useNavigation } from \"@hooks\";\nimport { ILegacyAuthContext, IAuthBindingsContext } from \"../../interfaces\";\n\n/**\n * @deprecated `LegacyAuthContext` is deprecated with refine@4, use `AuthBindingsContext` instead, however, we still support `LegacyAuthContext` for backward compatibility.\n */\nexport const LegacyAuthContext = React.createContext<ILegacyAuthContext>({});\n\n/**\n * @deprecated `LegacyAuthContextProvider` is deprecated with refine@4, use `AuthBindingsContextProvider` instead, however, we still support `LegacyAuthContextProvider` for backward compatibility.\n */\nexport const LegacyAuthContextProvider: React.FC<\n    ILegacyAuthContext & {\n        children?: React.ReactNode;\n    }\n> = ({ children, isProvided, ...authOperations }) => {\n    const { replace } = useNavigation();\n\n    const loginFunc = async (params: any) => {\n        try {\n            const result = await authOperations.login?.(params);\n\n            return result;\n        } catch (error) {\n            return Promise.reject(error);\n        }\n    };\n\n    const registerFunc = async (params: any) => {\n        try {\n            const result = await authOperations.register?.(params);\n\n            return result;\n        } catch (error) {\n            return Promise.reject(error);\n        }\n    };\n\n    const logoutFunc = async (params: any) => {\n        try {\n            const redirectPath = await authOperations.logout?.(params);\n\n            return redirectPath;\n        } catch (error) {\n            return Promise.reject(error);\n        }\n    };\n\n    const checkAuthFunc = async (params: any) => {\n        try {\n            await authOperations.checkAuth?.(params);\n            return Promise.resolve();\n        } catch (error) {\n            if ((error as { redirectPath?: string })?.redirectPath) {\n                replace((error as { redirectPath: string }).redirectPath);\n            }\n\n            return Promise.reject(error);\n        }\n    };\n\n    return (\n        <LegacyAuthContext.Provider\n            value={{\n                ...authOperations,\n                login: loginFunc,\n                logout: logoutFunc,\n                checkAuth: checkAuthFunc,\n                register: registerFunc,\n                isProvided,\n            }}\n        >\n            {children}\n        </LegacyAuthContext.Provider>\n    );\n};\n\nexport const AuthBindingsContext = React.createContext<\n    Partial<IAuthBindingsContext>\n>({});\n\nexport const AuthBindingsContextProvider: React.FC<\n    PropsWithChildren<IAuthBindingsContext>\n> = ({ children, isProvided, ...authBindings }) => {\n    const handleLogin = async (params: unknown) => {\n        try {\n            const result = await authBindings.login?.(params);\n\n            return result;\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in login: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleRegister = async (params: unknown) => {\n        try {\n            const result = await authBindings.register?.(params);\n\n            return result;\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in register: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleLogout = async (params: unknown) => {\n        try {\n            const result = await authBindings.logout?.(params);\n\n            return result;\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in logout: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleCheck = async (params: unknown) => {\n        try {\n            const result = await authBindings.check?.(params);\n\n            return Promise.resolve(result);\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in check: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleForgotPassword = async (params: unknown) => {\n        try {\n            const result = await authBindings.forgotPassword?.(params);\n\n            return Promise.resolve(result);\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in forgotPassword: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleUpdatePassword = async (params: unknown) => {\n        try {\n            const result = await authBindings.updatePassword?.(params);\n            return Promise.resolve(result);\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in updatePassword: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    return (\n        <AuthBindingsContext.Provider\n            value={{\n                ...authBindings,\n                login: handleLogin as IAuthBindingsContext[\"login\"],\n                logout: handleLogout as IAuthBindingsContext[\"logout\"],\n                check: handleCheck as IAuthBindingsContext[\"check\"],\n                register: handleRegister as IAuthBindingsContext[\"register\"],\n                forgotPassword:\n                    handleForgotPassword as IAuthBindingsContext[\"forgotPassword\"],\n                updatePassword:\n                    handleUpdatePassword as IAuthBindingsContext[\"updatePassword\"],\n                isProvided,\n            }}\n        >\n            {children}\n        </AuthBindingsContext.Provider>\n    );\n};\n\n/**\n * @deprecated `useLegacyAuthContext` is deprecated with refine@4, use `useAuthBindingsContext` instead, however, we still support `useLegacyAuthContext` for backward compatibility.\n */\nexport const useLegacyAuthContext = () => {\n    const context = React.useContext(LegacyAuthContext);\n\n    return context;\n};\n\nexport const useAuthBindingsContext = () => {\n    const context = React.useContext(AuthBindingsContext);\n\n    return context;\n};\n","import { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\n/**\n * @returns authProvider or legacyAuthProvider if provided, otherwise null\n * @internal\n * NOTE: Will be removed in v5\n */\nexport const useActiveAuthProvider = () => {\n    const legacyAuthProvider = useLegacyAuthContext();\n    const authProvider = useAuthBindingsContext();\n\n    if (authProvider.isProvided) {\n        return { isLegacy: false, ...authProvider };\n    }\n\n    if (legacyAuthProvider.isProvided) {\n        // legacyAuthProvider interface is different from authProvider interface\n        // we need to convert it to authProvider interface for simple usage\n        // in the future, we will remove legacyAuthProvider\n        return {\n            isLegacy: true,\n            ...legacyAuthProvider,\n            check: legacyAuthProvider.checkAuth,\n            onError: legacyAuthProvider.checkError,\n            getIdentity: legacyAuthProvider.getUserIdentity,\n        };\n    }\n\n    return null;\n};\n","import { Pagination } from \"../../../interfaces\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\ntype HandlePaginationParamsProps = {\n    hasPagination?: boolean;\n    pagination?: Pagination;\n    configPagination?: Pagination;\n};\n\nexport const handlePaginationParams = ({\n    hasPagination,\n    pagination,\n    configPagination,\n}: HandlePaginationParamsProps = {}): Required<Pagination> => {\n    const hasPaginationString = hasPagination === false ? \"off\" : \"server\";\n    const mode = pagination?.mode ?? hasPaginationString;\n\n    const current =\n        pickNotDeprecated(pagination?.current, configPagination?.current) ?? 1;\n\n    const pageSize =\n        pickNotDeprecated(pagination?.pageSize, configPagination?.pageSize) ??\n        10;\n\n    return {\n        current,\n        pageSize,\n        mode,\n    };\n};\n","import { useState, useEffect } from \"react\";\n\nexport const useMediaQuery = (query: string) => {\n    const [matches, setMatches] = useState(false);\n\n    useEffect(() => {\n        const media = window.matchMedia(query);\n        if (media.matches !== matches) {\n            setMatches(media.matches);\n        }\n        const listener = () => setMatches(media.matches);\n        window.addEventListener(\"resize\", listener);\n        return () => window.removeEventListener(\"resize\", listener);\n    }, [matches, query]);\n\n    return matches;\n};\n","import type { useTranslate } from \"@hooks/translate\";\n\nexport const safeTranslate = (\n    translate: ReturnType<typeof useTranslate>,\n    key: string,\n    defaultMessage?: string,\n    options?: any,\n) => {\n    const translated = options\n        ? translate(key, options, defaultMessage)\n        : translate(key, defaultMessage);\n\n    const fallback = defaultMessage ?? key;\n\n    if (translated === key || typeof translated === \"undefined\") {\n        return fallback;\n    }\n\n    return translated;\n};\n","import { IResourceItem } from \"@contexts/resource\";\nimport { userFriendlyResourceName } from \"../userFriendlyResourceName\";\nimport type { useTranslate } from \"@hooks/translate\";\nimport { safeTranslate } from \"../safe-translate\";\n\n/**\n * Generates document title for the given resource and action.\n */\nexport function generateDefaultDocumentTitle(\n    translate: ReturnType<typeof useTranslate>,\n    resource?: IResourceItem,\n    action?: string,\n    id?: string,\n    resourceName?: string,\n) {\n    const actionPrefixMatcher = {\n        create: \"Create new \",\n        clone: `#${id ?? \"\"} Clone `,\n        edit: `#${id ?? \"\"} Edit `,\n        show: `#${id ?? \"\"} Show `,\n        list: \"\",\n    };\n\n    const identifier = resource?.identifier ?? resource?.name;\n\n    const resourceNameFallback =\n        resource?.label ??\n        resource?.meta?.label ??\n        userFriendlyResourceName(\n            identifier,\n            action === \"list\" ? \"plural\" : \"singular\",\n        );\n\n    const resourceNameWithFallback = resourceName ?? resourceNameFallback;\n\n    const defaultTitle = safeTranslate(\n        translate,\n        \"documentTitle.default\",\n        \"refine\",\n    );\n    const suffix = safeTranslate(\n        translate,\n        \"documentTitle.suffix\",\n        \" | refine\",\n    );\n    let autoGeneratedTitle = defaultTitle;\n\n    if (action && identifier) {\n        autoGeneratedTitle = safeTranslate(\n            translate,\n            `documentTitle.${identifier}.${action}`,\n            `${\n                actionPrefixMatcher[\n                    action as keyof typeof actionPrefixMatcher\n                ] ?? \"\"\n            }${resourceNameWithFallback}${suffix}`,\n            { id },\n        );\n    }\n\n    return autoGeneratedTitle;\n}\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { IRefineContextOptions } from \"../../interfaces\";\n\ntype UseMutationModeType = () => {\n    mutationMode: IRefineContextOptions[\"mutationMode\"];\n    undoableTimeout: IRefineContextOptions[\"undoableTimeout\"];\n};\n\n/**\n * Mutation mode determines which mode the mutation runs with.\n * Mutations can run under three different modes: `pessimistic`, `optimistic` and `undoable`.\n * Each mode corresponds to a different type of user experience.\n *\n * @see {@link https://refine.dev/docs/guides-and-concepts/mutation-mode} for more details.\n */\nexport const useMutationMode: UseMutationModeType = () => {\n    const { mutationMode, undoableTimeout } = useContext(RefineContext);\n\n    return { mutationMode, undoableTimeout };\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { UnsavedWarnContext } from \"@contexts/unsavedWarn\";\nimport {\n    IRefineContextOptions,\n    IUnsavedWarnContext,\n} from \"../../../interfaces\";\n\ntype UseWarnAboutChangeType = () => {\n    warnWhenUnsavedChanges: IRefineContextOptions[\"warnWhenUnsavedChanges\"];\n    warnWhen: NonNullable<IUnsavedWarnContext[\"warnWhen\"]>;\n    setWarnWhen: NonNullable<IUnsavedWarnContext[\"setWarnWhen\"]>;\n};\n\n/**\n * When you have unsaved changes and try to leave the current page, **refine** shows a confirmation modal box.\n * To activate this feature, set the `warnWhenUnsavedChanges` to `true`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/components/refine-config#warnwhenunsavedchanges} for more details.\n */\nexport const useWarnAboutChange: UseWarnAboutChangeType = () => {\n    const { warnWhenUnsavedChanges } = useContext(RefineContext);\n\n    const { warnWhen, setWarnWhen } = useContext(UnsavedWarnContext);\n\n    return {\n        warnWhenUnsavedChanges,\n        warnWhen: Boolean(warnWhen),\n        setWarnWhen: setWarnWhen ?? (() => undefined),\n    };\n};\n","import React, { ReactNode, useState } from \"react\";\n\nimport { IUnsavedWarnContext } from \"./IUnsavedWarnContext\";\n\nexport const UnsavedWarnContext = React.createContext<IUnsavedWarnContext>({});\n\nexport const UnsavedWarnContextProvider: React.FC<{ children: ReactNode }> = ({\n    children,\n}) => {\n    const [warnWhen, setWarnWhen] = useState(false);\n\n    return (\n        <UnsavedWarnContext.Provider value={{ warnWhen, setWarnWhen }}>\n            {children}\n        </UnsavedWarnContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { IRefineContextOptions } from \"../../interfaces\";\n\ntype UseSyncWithLocationType = () => {\n    syncWithLocation: IRefineContextOptions[\"syncWithLocation\"];\n};\n\n/**\n * List query parameter values can be edited manually by typing directly in the URL.\n * To activate this feature `syncWithLocation` needs to be set to `true`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/components/refine-config/#syncwithlocation} for more details.\n */\nexport const useSyncWithLocation: UseSyncWithLocationType = () => {\n    const { syncWithLocation } = useContext(RefineContext);\n\n    return { syncWithLocation };\n};\n","import { useContext } from \"react\";\nimport { RefineContext } from \"@contexts/refine\";\nimport { TitleProps } from \"../../interfaces\";\n\n/**\n * `useTitle` returns a component that calls the `<Title>` passed to the `<Refine>`.\n * In this way, it becomes easier for us to access this component in various parts of the application.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/refine/useTitle} for more details.\n */\nexport const useTitle: () => React.FC<TitleProps> | undefined = () => {\n    const { Title } = useContext(RefineContext);\n\n    return Title;\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\n\nexport const useRefineContext = () => {\n    const {\n        Footer,\n        Header,\n        Layout,\n        OffLayoutArea,\n        Sider,\n        Title,\n        hasDashboard,\n        mutationMode,\n        syncWithLocation,\n        undoableTimeout,\n        warnWhenUnsavedChanges,\n        DashboardPage,\n        LoginPage,\n        catchAll,\n        options,\n    } = useContext(RefineContext);\n\n    return {\n        Footer,\n        Header,\n        Layout,\n        OffLayoutArea,\n        Sider,\n        Title,\n        hasDashboard,\n        mutationMode,\n        syncWithLocation,\n        undoableTimeout,\n        warnWhenUnsavedChanges,\n        DashboardPage,\n        LoginPage,\n        catchAll,\n        options,\n    };\n};\n","import { useRefineContext } from \"@hooks/refine\";\n\n/**\n * A method that the internal uses\n * @internal\n */\nexport const useUserFriendlyName = () => {\n    const {\n        options: { textTransformers },\n    } = useRefineContext();\n\n    const getFriendlyName = (\n        name = \"\",\n        type: \"singular\" | \"plural\",\n    ): string => {\n        const humanizeName = textTransformers.humanize(name);\n        if (type === \"singular\") {\n            return textTransformers.singular(humanizeName);\n        }\n        return textTransformers.plural(humanizeName);\n    };\n\n    return getFriendlyName;\n};\n","const isNested = (obj: any) => typeof obj === \"object\" && obj !== null;\nconst isArray = (obj: any) => Array.isArray(obj);\n\nexport const flattenObjectKeys = (obj: any, prefix = \"\") => {\n    if (!isNested(obj)) {\n        return {\n            [prefix]: obj,\n        };\n    }\n\n    return Object.keys(obj).reduce((acc, key) => {\n        const currentPrefix = prefix.length ? prefix + \".\" : \"\";\n\n        if (isNested(obj[key]) && Object.keys(obj[key]).length) {\n            if (isArray(obj[key]) && obj[key].length) {\n                obj[key].forEach((item: unknown[], index: number) => {\n                    Object.assign(\n                        acc,\n                        flattenObjectKeys(\n                            item,\n                            currentPrefix + key + \".\" + index,\n                        ),\n                    );\n                });\n            } else {\n                Object.assign(\n                    acc,\n                    flattenObjectKeys(obj[key], currentPrefix + key),\n                );\n            }\n        } else {\n            acc[currentPrefix + key] = obj[key];\n        }\n        return acc;\n    }, {} as Record<string, unknown>);\n};\n","export const propertyPathToArray = (propertyPath: string) => {\n    return propertyPath\n        .split(\".\")\n        .map((item) => (!isNaN(Number(item)) ? Number(item) : item));\n};\n","export const file2Base64 = (file: any): Promise<string> => {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        const resultHandler = () => {\n            if (reader.result) {\n                reader.removeEventListener(\"load\", resultHandler, false);\n\n                resolve(reader.result as string);\n            }\n        };\n\n        reader.addEventListener(\"load\", resultHandler, false);\n\n        reader.readAsDataURL(file.originFileObj as Blob);\n        reader.onerror = (error) => {\n            reader.removeEventListener(\"load\", resultHandler, false);\n            return reject(error);\n        };\n    });\n};\n","import { useRefineContext } from \"..\";\nimport { keys } from \"@definitions/index\";\n\nexport const useKeys = () => {\n    const {\n        options: { useNewQueryKeys },\n    } = useRefineContext();\n\n    return {\n        keys,\n        preferLegacyKeys: !useNewQueryKeys,\n    };\n};\n","import {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { IdentityResponse } from \"../../../interfaces\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nexport type UseGetIdentityLegacyProps<TData> = {\n    v3LegacyAuthProviderCompatible: true;\n    queryOptions?: UseQueryOptions<TData>;\n};\n\nexport type UseGetIdentityProps<TData = IdentityResponse> = {\n    v3LegacyAuthProviderCompatible?: false;\n    queryOptions?: UseQueryOptions<TData>;\n};\n\nexport type UseGetIdentityCombinedProps<TData = any> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    queryOptions?: UseQueryOptions<TData> | UseQueryOptions<IdentityResponse>;\n};\n\nexport type UseGetIdentityLegacyReturnType<TData> = UseQueryResult<\n    TData,\n    unknown\n>;\n\nexport type UseGetIdentityReturnType<TData = IdentityResponse> = UseQueryResult<\n    TData,\n    unknown\n>;\n\nexport type UsePermissionsCombinedReturnType<TData = any> =\n    | UseQueryResult<TData, unknown>\n    | UseQueryResult<IdentityResponse, unknown>;\n\nexport function useGetIdentity<TData = any>(\n    props: UseGetIdentityLegacyProps<TData>,\n): UseGetIdentityLegacyReturnType<TData>;\n\nexport function useGetIdentity<TData = IdentityResponse>(\n    props?: UseGetIdentityProps<TData>,\n): UseGetIdentityReturnType<TData>;\n\nexport function useGetIdentity<TData = any>(\n    props?: UseGetIdentityCombinedProps<TData>,\n): UsePermissionsCombinedReturnType<TData>;\n\n/**\n * `useGetIdentity` calls the `getUserIdentity` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useGetIdentity} for more details.\n *\n * @typeParam TData - Result data of the query\n *\n */\nexport function useGetIdentity<TData = any>({\n    v3LegacyAuthProviderCompatible = false,\n    queryOptions,\n}: UseGetIdentityProps<TData> | UseGetIdentityLegacyProps<TData> = {}):\n    | UseGetIdentityReturnType<TData>\n    | UseGetIdentityLegacyReturnType<TData> {\n    const { getUserIdentity: legacyGetUserIdentity } = useLegacyAuthContext();\n    const { getIdentity } = useAuthBindingsContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const queryResponse = useQuery<TData>(\n        keys().auth().action(\"identity\").get(preferLegacyKeys),\n        // Enabled check for `getIdentity` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        (getIdentity as (params?: unknown) => Promise<TData>) ??\n            (() => Promise.resolve({})),\n        {\n            enabled: !v3LegacyAuthProviderCompatible && !!getIdentity,\n            retry: false,\n            ...(v3LegacyAuthProviderCompatible === true ? {} : queryOptions),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible === true\n                    ? {}\n                    : queryOptions?.meta),\n                ...getXRay(\"useGetIdentity\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const legacyQueryResponse = useQuery<TData>(\n        [\n            ...keys().auth().action(\"identity\").get(preferLegacyKeys),\n            \"v3LegacyAuthProviderCompatible\",\n        ],\n        // Enabled check for `getUserIdentity` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        legacyGetUserIdentity ?? (() => Promise.resolve({})),\n        {\n            enabled: v3LegacyAuthProviderCompatible && !!legacyGetUserIdentity,\n            retry: false,\n            ...(v3LegacyAuthProviderCompatible ? queryOptions : {}),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible ? queryOptions?.meta : {}),\n                ...getXRay(\"useGetIdentity\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible ? legacyQueryResponse : queryResponse;\n}\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nimport { useGo, useNavigation, useNotification, useRouterType } from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport {\n    RefineError,\n    OpenNotificationParams,\n    TLogoutData,\n} from \"../../../interfaces\";\nimport { AuthActionResponse } from \"src/interfaces/bindings/auth\";\nimport { useInvalidateAuthStore } from \"../useInvalidateAuthStore\";\nimport { useKeys } from \"@hooks/useKeys\";\n\ntype Variables = {\n    redirectPath?: string | false;\n};\n\nexport type UseLogoutLegacyProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            TLogoutData,\n            Error | RefineError,\n            (TVariables & Variables) | void,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseLogoutProps<TVariables> = {\n    v3LegacyAuthProviderCompatible?: false;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse,\n            Error | RefineError,\n            (TVariables & Variables) | void,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseLogoutCombinedProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TLogoutData,\n            Error | RefineError,\n            (TVariables & Variables) | void,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseLogoutLegacyReturnType<TVariables> = UseMutationResult<\n    TLogoutData,\n    Error | RefineError,\n    (TVariables & Variables) | void,\n    unknown\n>;\n\nexport type UseLogoutReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse,\n    Error | RefineError,\n    (TVariables & Variables) | void,\n    unknown\n>;\n\nexport type UseLogoutCombinedReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse | TLogoutData,\n    Error | RefineError,\n    (TVariables & Variables) | void,\n    unknown\n>;\n\nexport function useLogout<TVariables = {}>(\n    props: UseLogoutLegacyProps<TVariables>,\n): UseLogoutLegacyReturnType<TVariables>;\n\nexport function useLogout<TVariables = {}>(\n    props?: UseLogoutProps<TVariables>,\n): UseLogoutReturnType<TVariables>;\n\nexport function useLogout<TVariables = {}>(\n    props?: UseLogoutCombinedProps<TVariables>,\n): UseLogoutCombinedReturnType<TVariables>;\n\n/**\n * `useLogout` calls the `logout` method from the {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useLogout} for more details.\n *\n */\nexport function useLogout<TVariables = {}>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}: UseLogoutProps<TVariables> | UseLogoutLegacyProps<TVariables> = {}):\n    | UseLogoutLegacyReturnType<TVariables>\n    | UseLogoutReturnType<TVariables> {\n    const invalidateAuthStore = useInvalidateAuthStore();\n    const routerType = useRouterType();\n    const go = useGo();\n    const { push } = useNavigation();\n    const { open, close } = useNotification();\n    const { logout: legacyLogoutFromContext } = useLegacyAuthContext();\n    const { logout: logoutFromContext } = useAuthBindingsContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error | RefineError,\n        (TVariables & Variables) | void,\n        unknown\n    >(keys().auth().action(\"logout\").get(preferLegacyKeys), logoutFromContext, {\n        onSuccess: async (data, variables) => {\n            const { success, error, redirectTo } = data;\n            const { redirectPath } = variables ?? {};\n\n            const redirect = redirectPath ?? redirectTo;\n\n            if (success) {\n                close?.(\"useLogout-error\");\n            }\n\n            if (error || !success) {\n                open?.(buildNotification(error));\n            }\n\n            await invalidateAuthStore();\n\n            if (redirect !== false) {\n                if (routerType === \"legacy\") {\n                    push(redirect ?? \"/login\");\n                } else {\n                    if (redirect) {\n                        go({ to: redirect });\n                    }\n                }\n            }\n        },\n        onError: (error: any) => {\n            open?.(buildNotification(error));\n        },\n        ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n        meta: {\n            ...(v3LegacyAuthProviderCompatible === true\n                ? {}\n                : mutationOptions?.meta),\n            ...getXRay(\"useLogout\", preferLegacyKeys),\n        },\n    });\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TLogoutData,\n        Error | RefineError,\n        (TVariables & Variables) | void,\n        unknown\n    >(\n        [\n            ...keys().auth().action(\"logout\").get(preferLegacyKeys),\n            \"v3LegacyAuthProviderCompatible\",\n        ],\n        legacyLogoutFromContext,\n        {\n            onSuccess: async (data, variables) => {\n                const redirectPath = variables?.redirectPath ?? data;\n\n                await invalidateAuthStore();\n\n                if (redirectPath === false) {\n                    return;\n                }\n\n                if (redirectPath) {\n                    if (routerType === \"legacy\") {\n                        push(redirectPath);\n                    } else {\n                        go({ to: redirectPath });\n                    }\n                    return;\n                }\n\n                if (routerType === \"legacy\") {\n                    push(\"/login\");\n                } else {\n                    go({ to: \"/login\" });\n                }\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible\n                    ? mutationOptions?.meta\n                    : {}),\n                ...getXRay(\"useLogout\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (\n    error?: Error | RefineError,\n): OpenNotificationParams => {\n    return {\n        key: \"useLogout-error\",\n        type: \"error\",\n        message: error?.name || \"Logout Error\",\n        description: error?.message || \"Something went wrong during logout\",\n    };\n};\n","import { useKeys } from \"@hooks/useKeys\";\nimport { useQueryClient } from \"@tanstack/react-query\";\n\nexport const useInvalidateAuthStore = () => {\n    const queryClient = useQueryClient();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const invalidate = async () => {\n        await Promise.all(\n            ([\"check\", \"identity\", \"permissions\"] as const).map((action) =>\n                queryClient.invalidateQueries(\n                    keys().auth().action(action).get(preferLegacyKeys),\n                ),\n            ),\n        );\n    };\n\n    return invalidate;\n};\n","import React from \"react\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\nimport qs from \"qs\";\n\nimport {\n    useNavigation,\n    useRouterContext,\n    useNotification,\n    useRouterType,\n    useParsed,\n    useGo,\n} from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\nimport {\n    RefineError,\n    OpenNotificationParams,\n    TLoginData,\n} from \"../../../interfaces\";\nimport { AuthActionResponse } from \"src/interfaces/bindings/auth\";\nimport { useInvalidateAuthStore } from \"../useInvalidateAuthStore\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nexport type UseLoginLegacyProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            TLoginData,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseLoginProps<TVariables> = {\n    v3LegacyAuthProviderCompatible?: false;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseLoginCombinedProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TLoginData,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseLoginLegacyReturnType<TVariables> = UseMutationResult<\n    TLoginData,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport type UseLoginReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport type UseLoginCombinedReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse | TLoginData,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport function useLogin<TVariables = {}>(\n    props: UseLoginLegacyProps<TVariables>,\n): UseLoginLegacyReturnType<TVariables>;\n\nexport function useLogin<TVariables = {}>(\n    props?: UseLoginProps<TVariables>,\n): UseLoginReturnType<TVariables>;\n\nexport function useLogin<TVariables = {}>(\n    props?: UseLoginCombinedProps<TVariables>,\n): UseLoginCombinedReturnType<TVariables>;\n\n/**\n * `useLogin` calls `login` method from {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useLogin} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useLogin<TVariables = {}>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}: UseLoginProps<TVariables> | UseLoginLegacyProps<TVariables> = {}):\n    | UseLoginLegacyReturnType<TVariables>\n    | UseLoginReturnType<TVariables> {\n    const invalidateAuthStore = useInvalidateAuthStore();\n    const routerType = useRouterType();\n\n    const go = useGo();\n    const { replace } = useNavigation();\n\n    const parsed = useParsed();\n\n    const { useLocation } = useRouterContext();\n    const { search } = useLocation();\n\n    const { close, open } = useNotification();\n    const { login: legacyLoginFromContext } = useLegacyAuthContext();\n    const { login: loginFromContext } = useAuthBindingsContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const to = React.useMemo(() => {\n        if (routerType === \"legacy\") {\n            const legacySearch = qs.parse(search, {\n                ignoreQueryPrefix: true,\n            });\n            return legacySearch.to;\n        } else {\n            return parsed.params?.to;\n        }\n    }, [routerType, parsed.params, search]);\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error | RefineError,\n        TVariables,\n        unknown\n    >(keys().auth().action(\"login\").get(preferLegacyKeys), loginFromContext, {\n        onSuccess: async ({ success, redirectTo, error }) => {\n            if (success) {\n                close?.(\"login-error\");\n            }\n\n            if (error || !success) {\n                open?.(buildNotification(error));\n            }\n\n            await invalidateAuthStore();\n\n            if (to && success) {\n                if (routerType === \"legacy\") {\n                    replace(to as string);\n                } else {\n                    go({ to: to as string, type: \"replace\" });\n                }\n            } else if (redirectTo) {\n                if (routerType === \"legacy\") {\n                    replace(redirectTo);\n                } else {\n                    go({ to: redirectTo, type: \"replace\" });\n                }\n            } else {\n                if (routerType === \"legacy\") {\n                    replace(\"/\");\n                }\n            }\n        },\n        onError: (error: any) => {\n            open?.(buildNotification(error));\n        },\n        ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n        meta: {\n            ...(v3LegacyAuthProviderCompatible === true\n                ? {}\n                : mutationOptions?.meta),\n            ...getXRay(\"useLogin\", preferLegacyKeys),\n        },\n    });\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TLoginData,\n        Error | RefineError,\n        TVariables,\n        unknown\n    >(\n        [\n            ...keys().auth().action(\"login\").get(preferLegacyKeys),\n            \"v3LegacyAuthProviderCompatible\",\n        ],\n        legacyLoginFromContext,\n        {\n            onSuccess: async (redirectPathFromAuth) => {\n                await invalidateAuthStore();\n\n                if (to) {\n                    replace(to as string);\n                }\n\n                if (redirectPathFromAuth !== false && !to) {\n                    if (typeof redirectPathFromAuth === \"string\") {\n                        if (routerType === \"legacy\") {\n                            replace(redirectPathFromAuth);\n                        } else {\n                            go({ to: redirectPathFromAuth, type: \"replace\" });\n                        }\n                    } else {\n                        if (routerType === \"legacy\") {\n                            replace(\"/\");\n                        } else {\n                            go({ to: \"/\", type: \"replace\" });\n                        }\n                    }\n                }\n\n                close?.(\"login-error\");\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible\n                    ? mutationOptions?.meta\n                    : {}),\n                ...getXRay(\"useLogin\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (\n    error?: Error | RefineError,\n): OpenNotificationParams => {\n    return {\n        message: error?.name || \"Login Error\",\n        description: error?.message || \"Invalid credentials\",\n        key: \"login-error\",\n        type: \"error\",\n    };\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nimport { useNavigation, useRouterType, useGo, useNotification } from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\nimport {\n    AuthActionResponse,\n    RefineError,\n    OpenNotificationParams,\n    TLoginData,\n    TRegisterData,\n} from \"../../../interfaces\";\nimport { useInvalidateAuthStore } from \"../useInvalidateAuthStore\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nexport type UseRegisterLegacyProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            TRegisterData,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseRegisterProps<TVariables> = {\n    v3LegacyAuthProviderCompatible?: false;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseRegisterCombinedProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TRegisterData,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseRegisterLegacyReturnType<TVariables> = UseMutationResult<\n    TRegisterData,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport type UseRegisterReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport type UseRegisterCombinedReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse | TLoginData,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport function useRegister<TVariables = {}>(\n    props: UseRegisterLegacyProps<TVariables>,\n): UseRegisterLegacyReturnType<TVariables>;\n\nexport function useRegister<TVariables = {}>(\n    props?: UseRegisterProps<TVariables>,\n): UseRegisterReturnType<TVariables>;\n\nexport function useRegister<TVariables = {}>(\n    props?: UseRegisterCombinedProps<TVariables>,\n): UseRegisterCombinedReturnType<TVariables>;\n\n/**\n * `useRegister` calls `register` method from {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useRegister} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useRegister<TVariables = {}>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}: UseRegisterProps<TVariables> | UseRegisterLegacyProps<TVariables> = {}):\n    | UseRegisterReturnType<TVariables>\n    | UseRegisterLegacyReturnType<TVariables> {\n    const invalidateAuthStore = useInvalidateAuthStore();\n    const routerType = useRouterType();\n    const go = useGo();\n    const { replace } = useNavigation();\n    const { register: legacyRegisterFromContext } = useLegacyAuthContext();\n    const { register: registerFromContext } = useAuthBindingsContext();\n    const { close, open } = useNotification();\n\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error | RefineError,\n        TVariables,\n        unknown\n    >(\n        keys().auth().action(\"register\").get(preferLegacyKeys),\n        registerFromContext,\n        {\n            onSuccess: async ({ success, redirectTo, error }) => {\n                if (success) {\n                    close?.(\"register-error\");\n                }\n\n                if (error || !success) {\n                    open?.(buildNotification(error));\n                }\n\n                await invalidateAuthStore();\n\n                if (redirectTo) {\n                    if (routerType === \"legacy\") {\n                        replace(redirectTo);\n                    } else {\n                        go({ to: redirectTo, type: \"replace\" });\n                    }\n                } else {\n                    if (routerType === \"legacy\") {\n                        replace(\"/\");\n                    }\n                }\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible === true\n                    ? {}\n                    : mutationOptions?.meta),\n                ...getXRay(\"useRegister\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TRegisterData,\n        Error | RefineError,\n        TVariables,\n        unknown\n    >(\n        [\n            ...keys().auth().action(\"register\").get(preferLegacyKeys),\n            \"v3LegacyAuthProviderCompatible\",\n        ],\n        legacyRegisterFromContext,\n        {\n            onSuccess: async (redirectPathFromAuth) => {\n                await invalidateAuthStore();\n\n                if (redirectPathFromAuth !== false) {\n                    if (redirectPathFromAuth) {\n                        if (routerType === \"legacy\") {\n                            replace(redirectPathFromAuth);\n                        } else {\n                            go({ to: redirectPathFromAuth, type: \"replace\" });\n                        }\n                    } else {\n                        if (routerType === \"legacy\") {\n                            replace(\"/\");\n                        } else {\n                            go({ to: \"/\", type: \"replace\" });\n                        }\n                    }\n                    close?.(\"register-error\");\n                }\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible\n                    ? mutationOptions?.meta\n                    : {}),\n                ...getXRay(\"useRegister\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (\n    error?: Error | RefineError,\n): OpenNotificationParams => {\n    return {\n        message: error?.name || \"Register Error\",\n        description: error?.message || \"Error while registering\",\n        key: \"register-error\",\n        type: \"error\",\n    };\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nimport { useGo, useNavigation, useNotification, useRouterType } from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\nimport {\n    AuthActionResponse,\n    RefineError,\n    OpenNotificationParams,\n    TForgotPasswordData,\n} from \"../../../interfaces\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nexport type UseForgotPasswordLegacyProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            TForgotPasswordData,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseForgotPasswordProps<TVariables> = {\n    v3LegacyAuthProviderCompatible?: false;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseForgotPasswordCombinedProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TForgotPasswordData,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseForgotPasswordLegacyReturnType<TVariables> = UseMutationResult<\n    TForgotPasswordData,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport type UseForgotPasswordReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport type UseForgotPasswordCombinedReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse | TForgotPasswordData,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport function useForgotPassword<TVariables = {}>(\n    props: UseForgotPasswordLegacyProps<TVariables>,\n): UseForgotPasswordLegacyReturnType<TVariables>;\n\nexport function useForgotPassword<TVariables = {}>(\n    props?: UseForgotPasswordProps<TVariables>,\n): UseForgotPasswordReturnType<TVariables>;\n\nexport function useForgotPassword<TVariables = {}>(\n    props?: UseForgotPasswordCombinedProps<TVariables>,\n): UseForgotPasswordCombinedReturnType<TVariables>;\n\n/**\n * `useForgotPassword` calls `forgotPassword` method from {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useForgotPassword} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useForgotPassword<TVariables = {}>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}:\n    | UseForgotPasswordProps<TVariables>\n    | UseForgotPasswordLegacyProps<TVariables> = {}):\n    | UseForgotPasswordReturnType<TVariables>\n    | UseForgotPasswordLegacyReturnType<TVariables> {\n    const routerType = useRouterType();\n    const go = useGo();\n    const { replace } = useNavigation();\n    const {\n        forgotPassword: v3LegacyAuthProviderCompatibleForgotPasswordFromContext,\n    } = useLegacyAuthContext();\n    const { forgotPassword: forgotPasswordFromContext } =\n        useAuthBindingsContext();\n    const { close, open } = useNotification();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error | RefineError,\n        TVariables,\n        unknown\n    >(\n        keys().auth().action(\"forgotPassword\").get(preferLegacyKeys),\n        forgotPasswordFromContext,\n        {\n            onSuccess: ({ success, redirectTo, error }) => {\n                if (success) {\n                    close?.(\"forgot-password-error\");\n                }\n\n                if (error || !success) {\n                    open?.(buildNotification(error));\n                }\n\n                if (redirectTo) {\n                    if (routerType === \"legacy\") {\n                        replace(redirectTo);\n                    } else {\n                        go({ to: redirectTo, type: \"replace\" });\n                    }\n                }\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible === true\n                    ? {}\n                    : mutationOptions?.meta),\n                ...getXRay(\"useForgotPassword\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TForgotPasswordData,\n        Error | RefineError,\n        TVariables,\n        unknown\n    >(\n        [\n            ...keys().auth().action(\"forgotPassword\").get(preferLegacyKeys),\n            \"v3LegacyAuthProviderCompatible\",\n        ],\n        v3LegacyAuthProviderCompatibleForgotPasswordFromContext,\n        {\n            onSuccess: (redirectPathFromAuth) => {\n                if (redirectPathFromAuth !== false) {\n                    if (redirectPathFromAuth) {\n                        if (routerType === \"legacy\") {\n                            replace(redirectPathFromAuth);\n                        } else {\n                            go({ to: redirectPathFromAuth, type: \"replace\" });\n                        }\n                    }\n                }\n                close?.(\"forgot-password-error\");\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible\n                    ? mutationOptions?.meta\n                    : {}),\n                ...getXRay(\"useForgotPassword\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (\n    error?: Error | RefineError,\n): OpenNotificationParams => {\n    return {\n        message: error?.name || \"Forgot Password Error\",\n        description: error?.message || \"Error while resetting password\",\n        key: \"forgot-password-error\",\n        type: \"error\",\n    };\n};\n","import React from \"react\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\nimport qs from \"qs\";\n\nimport {\n    useNavigation,\n    useRouterType,\n    useGo,\n    useParsed,\n    useNotification,\n    useRouterContext,\n} from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport {\n    AuthActionResponse,\n    RefineError,\n    OpenNotificationParams,\n    TUpdatePasswordData,\n    UpdatePasswordFormTypes,\n} from \"../../../interfaces\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nexport type UseUpdatePasswordLegacyProps<\n    TVariables extends UpdatePasswordFormTypes,\n> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            TUpdatePasswordData,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseUpdatePasswordProps<TVariables extends UpdatePasswordFormTypes> =\n    {\n        v3LegacyAuthProviderCompatible?: false;\n        mutationOptions?: Omit<\n            UseMutationOptions<\n                AuthActionResponse,\n                Error | RefineError,\n                TVariables,\n                unknown\n            >,\n            \"mutationFn\"\n        >;\n    };\n\nexport type UseUpdatePasswordCombinedProps<\n    TVariables extends UpdatePasswordFormTypes,\n> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TUpdatePasswordData,\n            Error | RefineError,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseUpdatePasswordLegacyReturnType<\n    TVariables extends UpdatePasswordFormTypes,\n> = UseMutationResult<\n    TUpdatePasswordData,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport type UseUpdatePasswordReturnType<\n    TVariables extends UpdatePasswordFormTypes,\n> = UseMutationResult<\n    AuthActionResponse,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport type UseUpdatePasswordCombinedReturnType<\n    TVariables extends UpdatePasswordFormTypes,\n> = UseMutationResult<\n    AuthActionResponse | TUpdatePasswordData,\n    Error | RefineError,\n    TVariables,\n    unknown\n>;\n\nexport function useUpdatePassword<TVariables extends UpdatePasswordFormTypes>(\n    props: UseUpdatePasswordLegacyProps<TVariables>,\n): UseUpdatePasswordLegacyReturnType<TVariables>;\n\nexport function useUpdatePassword<TVariables extends UpdatePasswordFormTypes>(\n    props?: UseUpdatePasswordProps<TVariables>,\n): UseUpdatePasswordReturnType<TVariables>;\n\nexport function useUpdatePassword<TVariables extends UpdatePasswordFormTypes>(\n    props?: UseUpdatePasswordCombinedProps<TVariables>,\n): UseUpdatePasswordCombinedReturnType<TVariables>;\n\n/**\n * `useUpdatePassword` calls `updatePassword` method from {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useUpdatePassword} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useUpdatePassword<\n    TVariables extends UpdatePasswordFormTypes = {},\n>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}:\n    | UseUpdatePasswordProps<TVariables>\n    | UseUpdatePasswordLegacyProps<TVariables> = {}):\n    | UseUpdatePasswordReturnType<TVariables>\n    | UseUpdatePasswordLegacyReturnType<TVariables> {\n    const routerType = useRouterType();\n\n    const go = useGo();\n    const { replace } = useNavigation();\n    const { updatePassword: legacyUpdatePasswordFromContext } =\n        useLegacyAuthContext();\n    const { updatePassword: updatePasswordFromContext } =\n        useAuthBindingsContext();\n    const { close, open } = useNotification();\n\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const parsed = useParsed();\n    const { useLocation } = useRouterContext();\n    const { search } = useLocation();\n\n    const params = React.useMemo(() => {\n        if (routerType === \"legacy\") {\n            const queryStrings = qs.parse(search, {\n                ignoreQueryPrefix: true,\n            });\n            return queryStrings ?? {};\n        } else {\n            return parsed.params ?? {};\n        }\n    }, [search, parsed, routerType]);\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error,\n        TVariables,\n        unknown\n    >(\n        keys().auth().action(\"updatePassword\").get(preferLegacyKeys),\n        async (variables) => {\n            return updatePasswordFromContext?.({\n                ...params,\n                ...variables,\n            }) as Promise<AuthActionResponse>;\n        },\n        {\n            onSuccess: ({ success, redirectTo, error }) => {\n                if (success) {\n                    close?.(\"update-password-error\");\n                }\n\n                if (error || !success) {\n                    open?.(buildNotification(error));\n                }\n\n                if (redirectTo) {\n                    if (routerType === \"legacy\") {\n                        replace(redirectTo);\n                    } else {\n                        go({ to: redirectTo, type: \"replace\" });\n                    }\n                }\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible === true\n                    ? {}\n                    : mutationOptions?.meta),\n                ...getXRay(\"useUpdatePassword\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TUpdatePasswordData,\n        Error | RefineError,\n        TVariables,\n        unknown\n    >(\n        [\n            ...keys().auth().action(\"updatePassword\").get(preferLegacyKeys),\n            \"v3LegacyAuthProviderCompatible\",\n        ],\n        async (variables) => {\n            return legacyUpdatePasswordFromContext?.({\n                ...params,\n                ...variables,\n            });\n        },\n        {\n            onSuccess: (redirectPathFromAuth) => {\n                if (redirectPathFromAuth !== false) {\n                    if (redirectPathFromAuth) {\n                        if (routerType === \"legacy\") {\n                            replace(redirectPathFromAuth);\n                        } else {\n                            go({ to: redirectPathFromAuth, type: \"replace\" });\n                        }\n                    }\n                }\n                close?.(\"update-password-error\");\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n            meta: {\n                ...(v3LegacyAuthProviderCompatible\n                    ? mutationOptions?.meta\n                    : {}),\n                ...getXRay(\"useUpdatePassword\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (\n    error?: Error | RefineError,\n): OpenNotificationParams => {\n    return {\n        message: error?.name || \"Update Password Error\",\n        description: error?.message || \"Error while updating password\",\n        key: \"update-password-error\",\n        type: \"error\",\n    };\n};\n","import { useQuery, UseQueryResult } from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { CheckResponse } from \"../../../interfaces\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nexport type UseIsAuthenticatedLegacyProps = {\n    v3LegacyAuthProviderCompatible: true;\n    params?: any;\n};\n\nexport type UseIsAuthenticatedProps = {\n    v3LegacyAuthProviderCompatible?: false;\n    params?: any;\n};\n\nexport type UseIsAuthenticatedCombinedProps = {\n    v3LegacyAuthProviderCompatible: boolean;\n    params?: any;\n};\n\nexport type UseIsAuthenticatedLegacyReturnType = UseQueryResult<any, any>;\n\nexport type UseIsAuthenticatedReturnType = UseQueryResult<CheckResponse, any>;\n\nexport type UseIsAuthenticatedCombinedReturnType = UseQueryResult<\n    CheckResponse | any,\n    any\n>;\n\nexport function useIsAuthenticated(\n    props: UseIsAuthenticatedLegacyProps,\n): UseIsAuthenticatedLegacyReturnType;\n\nexport function useIsAuthenticated(\n    props?: UseIsAuthenticatedProps,\n): UseIsAuthenticatedReturnType;\n\nexport function useIsAuthenticated(\n    props?: UseIsAuthenticatedCombinedProps,\n): UseIsAuthenticatedCombinedReturnType;\n\n/**\n *  `useIsAuthenticated` calls the `checkAuth` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useAuthenticated} for more details.\n */\nexport function useIsAuthenticated({\n    v3LegacyAuthProviderCompatible = false,\n    params,\n}: UseIsAuthenticatedProps | UseIsAuthenticatedLegacyProps = {}):\n    | UseIsAuthenticatedReturnType\n    | UseIsAuthenticatedLegacyReturnType {\n    const { checkAuth } = useLegacyAuthContext();\n    const { check } = useAuthBindingsContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const queryResponse = useQuery(\n        keys().auth().action(\"check\").params(params).get(preferLegacyKeys),\n        async () => (await check?.(params)) ?? {},\n        {\n            retry: false,\n            enabled: !v3LegacyAuthProviderCompatible,\n            meta: {\n                ...getXRay(\"useIsAuthenticated\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const legacyQueryResponse = useQuery(\n        [\n            ...keys()\n                .auth()\n                .action(\"check\")\n                .params(params)\n                .get(preferLegacyKeys),\n            \"v3LegacyAuthProviderCompatible\",\n        ],\n        async () => (await checkAuth?.(params)) ?? {},\n        {\n            retry: false,\n            enabled: v3LegacyAuthProviderCompatible,\n            meta: {\n                ...getXRay(\"useIsAuthenticated\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible ? legacyQueryResponse : queryResponse;\n}\n\n/**\n * @deprecated `useAuthenticated` is deprecated with refine@4, use `useIsAuthenticated` instead, however, we still support `useAuthenticated` for backward compatibility.\n */\nexport const useAuthenticated = useIsAuthenticated;\n","import { useMutation, UseMutationResult } from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { OnErrorResponse } from \"../../../interfaces\";\nimport { useGo, useLogout, useNavigation, useRouterType } from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nexport type UseOnErrorLegacyProps = {\n    v3LegacyAuthProviderCompatible: true;\n};\n\nexport type UseOnErrorProps = {\n    v3LegacyAuthProviderCompatible?: false;\n};\n\nexport type UseOnErrorCombinedProps = {\n    v3LegacyAuthProviderCompatible: boolean;\n};\n\nexport type UseOnErrorLegacyReturnType = UseMutationResult<\n    void,\n    string | undefined,\n    any,\n    unknown\n>;\n\nexport type UseOnErrorReturnType = UseMutationResult<\n    OnErrorResponse,\n    unknown,\n    unknown,\n    unknown\n>;\nexport type UseOnErrorCombinedReturnType = UseMutationResult<\n    OnErrorResponse | void,\n    unknown,\n    unknown,\n    unknown\n>;\n\nexport function useOnError(\n    props: UseOnErrorLegacyProps,\n): UseOnErrorLegacyReturnType;\n\nexport function useOnError(props?: UseOnErrorProps): UseOnErrorReturnType;\n\nexport function useOnError(\n    props?: UseOnErrorCombinedProps,\n): UseOnErrorCombinedReturnType;\n\n/**\n * `useOnError` calls the `checkError` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useCheckError} for more details.\n *\n */\nexport function useOnError({\n    v3LegacyAuthProviderCompatible = false,\n}: UseOnErrorProps | UseOnErrorLegacyProps = {}):\n    | UseOnErrorReturnType\n    | UseOnErrorLegacyReturnType {\n    const routerType = useRouterType();\n    const go = useGo();\n    const { replace } = useNavigation();\n\n    const { checkError: legacyCheckErrorFromContext } = useLegacyAuthContext();\n    const { onError: onErrorFromContext } = useAuthBindingsContext();\n\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const { mutate: legacyLogout } = useLogout({\n        v3LegacyAuthProviderCompatible: Boolean(v3LegacyAuthProviderCompatible),\n    });\n    const { mutate: logout } = useLogout({\n        v3LegacyAuthProviderCompatible: Boolean(v3LegacyAuthProviderCompatible),\n    });\n\n    const mutation = useMutation(\n        keys().auth().action(\"onError\").get(preferLegacyKeys),\n        onErrorFromContext,\n        {\n            onSuccess: ({ logout: shouldLogout, redirectTo }) => {\n                if (shouldLogout) {\n                    logout({ redirectPath: redirectTo });\n                    return;\n                }\n\n                if (redirectTo) {\n                    if (routerType === \"legacy\") {\n                        replace(redirectTo);\n                    } else {\n                        go({ to: redirectTo, type: \"replace\" });\n                    }\n                    return;\n                }\n            },\n            meta: {\n                ...getXRay(\"useOnError\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation(\n        [\n            ...keys().auth().action(\"onError\").get(preferLegacyKeys),\n            \"v3LegacyAuthProviderCompatible\",\n        ],\n        legacyCheckErrorFromContext,\n        {\n            onError: (redirectPath?: string) => {\n                legacyLogout({ redirectPath });\n            },\n            meta: {\n                ...getXRay(\"useOnError\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\n/**\n * @deprecated `useCheckError` is deprecated with refine@4, use `useOnError` instead, however, we still support `useCheckError` for backward compatibility.\n */\nexport const useCheckError = useOnError;\n","import { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\n/**\n * A hook that the UI uses\n * @internal\n */\nexport const useIsExistAuthentication = (): boolean => {\n    const { isProvided: legacyIsProvided } = useLegacyAuthContext();\n    const { isProvided } = useAuthBindingsContext();\n\n    return Boolean(isProvided || legacyIsProvided);\n};\n","import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    handlePaginationParams,\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n    useDataProvider,\n    useHandleNotification,\n    useMeta,\n    useOnError,\n    useResource,\n    useResourceSubscription,\n    useTranslate,\n} from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    BaseRecord,\n    CrudFilters,\n    CrudSorting,\n    GetListResponse,\n    HttpError,\n    LiveModeProps,\n    MetaQuery,\n    Pagination,\n    Prettify,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport interface UseListConfig {\n    pagination?: Pagination;\n    hasPagination?: boolean;\n    sort?: CrudSorting;\n    filters?: CrudFilters;\n}\n\nexport type BaseListProps = {\n    /**\n     * Configuration for pagination, sorting and filtering\n     * @type [`UseListConfig`](/docs/api-reference/core/hooks/data/useList/#config-parameters)\n     * @deprecated `config` property is deprecated. Use `pagination`, `hasPagination`, `sorters` and `filters` instead.\n     */\n    config?: UseListConfig;\n    /**\n     * Pagination properties\n     */\n    pagination?: Pagination;\n    /**\n     * Whether to use server-side pagination or not\n     * @deprecated `hasPagination` property is deprecated. Use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * Sorter parameters\n     */\n    sorters?: CrudSorting;\n    /**\n     * Filter parameters\n     */\n    filters?: CrudFilters;\n    /**\n     * Meta data query for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * Meta data query for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use\n     */\n    dataProviderName?: string;\n};\n\nexport type UseListProps<TQueryFnData, TError, TData> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource?: string;\n\n    /**\n     * Tanstack Query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<\n        GetListResponse<TQueryFnData>,\n        TError,\n        GetListResponse<TData>\n    >;\n} & BaseListProps &\n    SuccessErrorNotification<\n        GetListResponse<TData>,\n        TError,\n        Prettify<BaseListProps>\n    > &\n    LiveModeProps &\n    UseLoadingOvertimeOptionsProps;\n\n/**\n * `useList` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving items from a `resource` with pagination, sort, and filter configurations.\n *\n * It uses the `getList` method as the query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useList} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useList = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TData extends BaseRecord = TQueryFnData,\n>({\n    resource: resourceFromProp,\n    config,\n    filters,\n    hasPagination,\n    pagination,\n    sorters,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n    overtimeOptions,\n}: UseListProps<TQueryFnData, TError, TData> = {}): QueryObserverResult<\n    GetListResponse<TData>,\n    TError\n> &\n    UseLoadingOvertimeReturnType => {\n    const { resources, resource, identifier } = useResource(resourceFromProp);\n\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n    const getMeta = useMeta();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const pickedDataProvider = pickDataProvider(\n        identifier,\n        dataProviderName,\n        resources,\n    );\n    const preferredMeta = pickNotDeprecated(meta, metaData);\n    const prefferedFilters = pickNotDeprecated(filters, config?.filters);\n    const prefferedSorters = pickNotDeprecated(sorters, config?.sort);\n    const prefferedHasPagination = pickNotDeprecated(\n        hasPagination,\n        config?.hasPagination,\n    );\n    const prefferedPagination = handlePaginationParams({\n        pagination,\n        configPagination: config?.pagination,\n        hasPagination: prefferedHasPagination,\n    });\n    const isServerPagination = prefferedPagination.mode === \"server\";\n\n    const combinedMeta = getMeta({ resource, meta: preferredMeta });\n\n    const notificationValues = {\n        meta: combinedMeta,\n        metaData: combinedMeta,\n        filters: prefferedFilters,\n        hasPagination: isServerPagination,\n        pagination: prefferedPagination,\n        sorters: prefferedSorters,\n        config: {\n            ...config,\n            sort: prefferedSorters,\n        },\n    };\n\n    const isEnabled =\n        queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n    const { getList } = dataProvider(pickedDataProvider);\n\n    useResourceSubscription({\n        resource: identifier,\n        types: [\"*\"],\n        params: {\n            meta: combinedMeta,\n            metaData: combinedMeta,\n            pagination: prefferedPagination,\n            hasPagination: isServerPagination,\n            sort: prefferedSorters,\n            sorters: prefferedSorters,\n            filters: prefferedFilters,\n            subscriptionType: \"useList\",\n            ...liveParams,\n        },\n        channel: `resources/${resource?.name}`,\n        enabled: isEnabled,\n        liveMode,\n        onLiveEvent,\n        dataProviderName: pickedDataProvider,\n        meta: {\n            ...meta,\n            dataProviderName,\n        },\n    });\n\n    const queryResponse = useQuery<\n        GetListResponse<TQueryFnData>,\n        TError,\n        GetListResponse<TData>\n    >(\n        keys()\n            .data(pickedDataProvider)\n            .resource(identifier ?? \"\")\n            .action(\"list\")\n            .params({\n                ...(preferredMeta || {}),\n                filters: prefferedFilters,\n                hasPagination: isServerPagination,\n                ...(isServerPagination && {\n                    pagination: prefferedPagination,\n                }),\n                ...(sorters && {\n                    sorters,\n                }),\n                ...(config?.sort && {\n                    sort: config?.sort,\n                }),\n            })\n            .get(preferLegacyKeys),\n        ({ queryKey, pageParam, signal }) => {\n            return getList<TQueryFnData>({\n                resource: resource?.name ?? \"\",\n                pagination: prefferedPagination,\n                hasPagination: isServerPagination,\n                filters: prefferedFilters,\n                sort: prefferedSorters,\n                sorters: prefferedSorters,\n                meta: {\n                    ...combinedMeta,\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n                metaData: {\n                    ...combinedMeta,\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n            });\n        },\n        {\n            ...queryOptions,\n            enabled:\n                typeof queryOptions?.enabled !== \"undefined\"\n                    ? queryOptions?.enabled\n                    : !!resource?.name,\n            select: (rawData) => {\n                let data = rawData;\n\n                const { current, mode, pageSize } = prefferedPagination;\n\n                if (mode === \"client\") {\n                    data = {\n                        ...data,\n                        data: data.data.slice(\n                            (current - 1) * pageSize,\n                            current * pageSize,\n                        ),\n                        total: data.total,\n                    };\n                }\n\n                if (queryOptions?.select) {\n                    return queryOptions?.select?.(data);\n                }\n\n                return data as unknown as GetListResponse<TData>;\n            },\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(\n                              data,\n                              notificationValues,\n                              identifier,\n                          )\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, notificationValues, identifier)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${identifier}-useList-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n            meta: {\n                ...queryOptions?.meta,\n                ...getXRay(\"useList\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: queryResponse.isFetching,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...queryResponse, overtime: { elapsedTime } };\n};\n","import { useEffect, useState } from \"react\";\nimport { useRefineContext } from \"..\";\n\nexport type UseLoadingOvertimeRefineContext = Omit<\n    UseLoadingOvertimeCoreProps,\n    \"isLoading\" | \"interval\"\n> &\n    Required<Pick<UseLoadingOvertimeCoreProps, \"interval\">>;\n\nexport type UseLoadingOvertimeOptionsProps = {\n    overtimeOptions?: UseLoadingOvertimeCoreOptions;\n};\n\nexport type UseLoadingOvertimeReturnType = {\n    overtime: {\n        elapsedTime?: number;\n    };\n};\n\ntype UseLoadingOvertimeCoreOptions = Omit<\n    UseLoadingOvertimeCoreProps,\n    \"isLoading\"\n>;\n\ntype UseLoadingOvertimeCoreReturnType = {\n    elapsedTime?: number;\n};\n\nexport type UseLoadingOvertimeCoreProps = {\n    /**\n     * The loading state. If true, the elapsed time will be calculated.\n     */\n    isLoading: boolean;\n\n    /**\n     * The interval in milliseconds. If the loading time exceeds this time, the `onInterval` callback will be called.\n     * If not specified, the `interval` value from the `overtime` option of the `RefineProvider` will be used.\n     *\n     * @default: 1000 (1 second)\n     */\n    interval?: number;\n\n    /**\n     * The callback function that will be called when the loading time exceeds the specified time.\n     * If not specified, the `onInterval` value from the `overtime` option of the `RefineProvider` will be used.\n     *\n     * @param elapsedInterval The elapsed time in milliseconds.\n     */\n    onInterval?: (elapsedInterval: number) => void;\n};\n\n/**\n * if you need to do something when the loading time exceeds the specified time, refine provides the `useLoadingOvertime` hook.\n * It returns the elapsed time in milliseconds.\n *\n * @example\n * const { elapsedTime } = useLoadingOvertime({\n *    isLoading,\n *    interval: 1000,\n *    onInterval(elapsedInterval) {\n *        console.log(\"loading overtime\", elapsedInterval);\n *    },\n * });\n */\nexport const useLoadingOvertime = ({\n    isLoading,\n    interval: intervalProp,\n    onInterval: onIntervalProp,\n}: UseLoadingOvertimeCoreProps): UseLoadingOvertimeCoreReturnType => {\n    const [elapsedTime, setElapsedTime] = useState<number | undefined>(\n        undefined,\n    );\n    // get overtime options from refine context\n    const { options } = useRefineContext();\n    const { overtime } = options;\n\n    // pick props or refine context options\n    const interval = intervalProp ?? overtime.interval;\n    const onInterval = onIntervalProp ?? overtime?.onInterval;\n\n    useEffect(() => {\n        let intervalFn: ReturnType<typeof setInterval>;\n\n        if (isLoading) {\n            intervalFn = setInterval(() => {\n                // increase elapsed time\n                setElapsedTime((prevElapsedTime) => {\n                    if (prevElapsedTime === undefined) {\n                        return interval;\n                    }\n\n                    return prevElapsedTime + interval;\n                });\n            }, interval);\n        }\n\n        return () => {\n            clearInterval(intervalFn);\n            // reset elapsed time\n            setElapsedTime(undefined);\n        };\n    }, [isLoading, interval]);\n\n    useEffect(() => {\n        // call onInterval callback\n        if (onInterval && elapsedTime) {\n            onInterval(elapsedTime);\n        }\n    }, [elapsedTime]);\n\n    return {\n        elapsedTime,\n    };\n};\n","import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions\";\nimport {\n    useDataProvider,\n    useHandleNotification,\n    useMeta,\n    useOnError,\n    useResource,\n    useResourceSubscription,\n    useTranslate,\n} from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    BaseKey,\n    BaseRecord,\n    GetOneResponse,\n    HttpError,\n    LiveModeProps,\n    MetaQuery,\n    Prettify,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport type UseOneProps<TQueryFnData, TError, TData> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource?: string;\n    /**\n     * id of the item in the resource\n     * @type [`BaseKey`](/docs/api-reference/core/interfaceReferences/#basekey)\n     */\n    id?: BaseKey;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<\n        GetOneResponse<TQueryFnData>,\n        TError,\n        GetOneResponse<TData>\n    >;\n    /**\n     * Metadata query for `dataProvider`,\n     */\n    meta?: MetaQuery;\n    /**\n     * Meta data query for `dataProvider`,\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default `\"default\"``\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification<\n    GetOneResponse<TData>,\n    TError,\n    Prettify<{ id?: BaseKey } & MetaQuery>\n> &\n    LiveModeProps &\n    UseLoadingOvertimeOptionsProps;\n\n/**\n * `useOne` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving single items from a `resource`.\n *\n * It uses `getOne` method as query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useOne} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useOne = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TData extends BaseRecord = TQueryFnData,\n>({\n    resource: resourceFromProp,\n    id,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n    overtimeOptions,\n}: UseOneProps<TQueryFnData, TError, TData>): QueryObserverResult<\n    GetOneResponse<TData>\n> &\n    UseLoadingOvertimeReturnType => {\n    const { resources, resource, identifier } = useResource(resourceFromProp);\n\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n    const getMeta = useMeta();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const preferredMeta = pickNotDeprecated(meta, metaData);\n    const pickedDataProvider = pickDataProvider(\n        identifier,\n        dataProviderName,\n        resources,\n    );\n\n    const { getOne } = dataProvider(pickedDataProvider);\n\n    const combinedMeta = getMeta({ resource, meta: preferredMeta });\n\n    useResourceSubscription({\n        resource: identifier,\n        types: [\"*\"],\n        channel: `resources/${resource?.name}`,\n        params: {\n            ids: id ? [id] : [],\n            id: id,\n            meta: combinedMeta,\n            metaData: combinedMeta,\n            subscriptionType: \"useOne\",\n            ...liveParams,\n        },\n        enabled:\n            typeof queryOptions?.enabled !== \"undefined\"\n                ? queryOptions?.enabled\n                : typeof resource?.name !== \"undefined\" &&\n                  typeof id !== \"undefined\",\n        liveMode,\n        onLiveEvent,\n        dataProviderName: pickedDataProvider,\n        meta: {\n            ...meta,\n            dataProviderName,\n        },\n    });\n\n    const queryResponse = useQuery<\n        GetOneResponse<TQueryFnData>,\n        TError,\n        GetOneResponse<TData>\n    >(\n        keys()\n            .data(pickedDataProvider)\n            .resource(identifier ?? \"\")\n            .action(\"one\")\n            .id(id ?? \"\")\n            .params({\n                ...(preferredMeta || {}),\n            })\n            .get(preferLegacyKeys),\n        ({ queryKey, pageParam, signal }) =>\n            getOne<TQueryFnData>({\n                resource: resource?.name ?? \"\",\n                id: id!,\n                meta: {\n                    ...combinedMeta,\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n                metaData: {\n                    ...combinedMeta,\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n            }),\n        {\n            ...queryOptions,\n            enabled:\n                typeof queryOptions?.enabled !== \"undefined\"\n                    ? queryOptions?.enabled\n                    : typeof id !== \"undefined\",\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(\n                              data,\n                              {\n                                  id,\n                                  ...combinedMeta,\n                              },\n                              identifier,\n                          )\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(\n                              err,\n                              {\n                                  id,\n                                  ...combinedMeta,\n                              },\n                              identifier,\n                          )\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${id}-${identifier}-getOne-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n            meta: {\n                ...queryOptions?.meta,\n                ...getXRay(\"useOne\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: queryResponse.isFetching,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...queryResponse, overtime: { elapsedTime } };\n};\n","import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    handleMultiple,\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n    useDataProvider,\n    useHandleNotification,\n    useMeta,\n    useOnError,\n    useResource,\n    useResourceSubscription,\n    useTranslate,\n} from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    BaseKey,\n    BaseRecord,\n    GetManyResponse,\n    HttpError,\n    LiveModeProps,\n    MetaQuery,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport type UseManyProps<TQueryFnData, TError, TData> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * ids of the item in the resource\n     * @type [`BaseKey[]`](/docs/api-reference/core/interfaceReferences/#basekey)\n     */\n    ids: BaseKey[];\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<\n        GetManyResponse<TQueryFnData>,\n        TError,\n        GetManyResponse<TData>\n    >;\n    /**\n     * Metadata query for `dataProvider`,\n     */\n    meta?: MetaQuery;\n    /**\n     * Metadata query for `dataProvider`,\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default \"default\"\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification<GetManyResponse<TData>, TError, BaseKey[]> &\n    LiveModeProps &\n    UseLoadingOvertimeOptionsProps;\n\n/**\n * `useMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving multiple items from a `resource`.\n *\n * It uses `getMany` method as query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useMany} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useMany = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TData extends BaseRecord = TQueryFnData,\n>({\n    resource: resourceFromProp,\n    ids,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n    overtimeOptions,\n}: UseManyProps<TQueryFnData, TError, TData>): QueryObserverResult<\n    GetManyResponse<TData>\n> &\n    UseLoadingOvertimeReturnType => {\n    const { resources, resource, identifier } = useResource(resourceFromProp);\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n    const getMeta = useMeta();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const preferredMeta = pickNotDeprecated(meta, metaData);\n    const pickedDataProvider = pickDataProvider(\n        identifier,\n        dataProviderName,\n        resources,\n    );\n    const isEnabled =\n        queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n    const { getMany, getOne } = dataProvider(pickedDataProvider);\n\n    const combinedMeta = getMeta({ resource, meta: preferredMeta });\n\n    useResourceSubscription({\n        resource: identifier,\n        types: [\"*\"],\n        params: {\n            ids: ids,\n            meta: combinedMeta,\n            metaData: combinedMeta,\n            subscriptionType: \"useMany\",\n            ...liveParams,\n        },\n        channel: `resources/${resource.name}`,\n        enabled: isEnabled,\n        liveMode,\n        onLiveEvent,\n        dataProviderName: pickedDataProvider,\n        meta: {\n            ...meta,\n            dataProviderName,\n        },\n    });\n\n    const queryResponse = useQuery<\n        GetManyResponse<TQueryFnData>,\n        TError,\n        GetManyResponse<TData>\n    >(\n        keys()\n            .data(pickedDataProvider)\n            .resource(identifier)\n            .action(\"many\")\n            .ids(...ids)\n            .params({\n                ...(preferredMeta || {}),\n            })\n            .get(preferLegacyKeys),\n        ({ queryKey, pageParam, signal }) => {\n            if (getMany) {\n                return getMany({\n                    resource: resource?.name,\n                    ids,\n                    meta: {\n                        ...combinedMeta,\n                        queryContext: {\n                            queryKey,\n                            pageParam,\n                            signal,\n                        },\n                    },\n                    metaData: {\n                        ...combinedMeta,\n                        queryContext: {\n                            queryKey,\n                            pageParam,\n                            signal,\n                        },\n                    },\n                });\n            } else {\n                return handleMultiple(\n                    ids.map((id) =>\n                        getOne<TQueryFnData>({\n                            resource: resource?.name,\n                            id,\n                            meta: {\n                                ...combinedMeta,\n                                queryContext: {\n                                    queryKey,\n                                    pageParam,\n                                    signal,\n                                },\n                            },\n                            metaData: {\n                                ...combinedMeta,\n                                queryContext: {\n                                    queryKey,\n                                    pageParam,\n                                    signal,\n                                },\n                            },\n                        }),\n                    ),\n                );\n            }\n        },\n        {\n            ...queryOptions,\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, ids, identifier)\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, ids, identifier)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${ids[0]}-${identifier}-getMany-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n            meta: {\n                ...queryOptions?.meta,\n                ...getXRay(\"useMany\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: queryResponse.isFetching,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...queryResponse, overtime: { elapsedTime } };\n};\n","import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    pickDataProvider,\n    pickNotDeprecated,\n    queryKeysReplacement,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n    useCancelNotification,\n    useDataProvider,\n    useHandleNotification,\n    useInvalidate,\n    useLog,\n    useMeta,\n    useMutationMode,\n    useOnError,\n    usePublish,\n    useRefineContext,\n    useResource,\n    useTranslate,\n} from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    BaseKey,\n    BaseRecord,\n    GetListResponse,\n    GetManyResponse,\n    GetOneResponse,\n    HttpError,\n    IQueryKeys,\n    MetaQuery,\n    MutationMode,\n    OptimisticUpdateMapType,\n    PrevContext as UpdateContext,\n    PreviousQuery,\n    SuccessErrorNotification,\n    UpdateResponse,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport type UpdateParams<TData, TError, TVariables> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * id for mutation function\n     */\n    id: BaseKey;\n    /**\n     * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n     */\n    mutationMode?: MutationMode;\n    /**\n     * Duration in ms to wait before executing the mutation when `mutationMode = \"undoable\"`\n     */\n    undoableTimeout?: number;\n    /**\n     * Provides a function to cancel the mutation when `mutationMode = \"undoable\"`\n     */\n    onCancel?: (cancelMutation: () => void) => void;\n    /**\n     * Values for mutation function\n     */\n    values: TVariables;\n    /**\n     * Metadata query for dataProvider\n     */\n    meta?: MetaQuery;\n    /**\n     * Metadata query for dataProvider\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default \"default\"\n     */\n    dataProviderName?: string;\n    /**\n     *  You can use it to manage the invalidations that will occur at the end of the mutation.\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n    /**\n     * You can use it to customize the optimistic update logic.\n     * @default {\n     *   list: true,\n     *   many: true,\n     *   detail: true,\n     * }\n     */\n    optimisticUpdateMap?: OptimisticUpdateMapType<TData, TVariables>;\n} & SuccessErrorNotification<\n    UpdateResponse<TData>,\n    TError,\n    { id: BaseKey; values: TVariables }\n>;\n\nexport type UseUpdateReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    UpdateResponse<TData>,\n    TError,\n    UpdateParams<TData, TError, TVariables>,\n    UpdateContext<TData>\n> &\n    UseLoadingOvertimeReturnType;\n\nexport type UseUpdateProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            UpdateResponse<TData>,\n            TError,\n            UpdateParams<TData, TError, TVariables>,\n            UpdateContext<TData>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n    >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useUpdate` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for update mutations.\n *\n * It uses `update` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useUpdate} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useUpdate = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n    overtimeOptions,\n}: UseUpdateProps<TData, TError, TVariables> = {}): UseUpdateReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const { resources, select } = useResource();\n    const queryClient = useQueryClient();\n    const dataProvider = useDataProvider();\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const publish = usePublish();\n    const { log } = useLog();\n    const { notificationDispatch } = useCancelNotification();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n    const getMeta = useMeta();\n    const {\n        options: { textTransformers },\n    } = useRefineContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        UpdateResponse<TData>,\n        TError,\n        UpdateParams<TData, TError, TVariables>,\n        UpdateContext<TData>\n    >(\n        ({\n            id,\n            values,\n            resource: resourceName,\n            mutationMode,\n            undoableTimeout,\n            onCancel,\n            meta,\n            metaData,\n            dataProviderName,\n        }) => {\n            const { resource, identifier } = select(resourceName);\n\n            const combinedMeta = getMeta({\n                resource,\n                meta: pickNotDeprecated(meta, metaData),\n            });\n\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return dataProvider(\n                    pickDataProvider(identifier, dataProviderName, resources),\n                ).update<TData, TVariables>({\n                    resource: resource.name,\n                    id,\n                    variables: values,\n                    meta: combinedMeta,\n                    metaData: combinedMeta,\n                });\n            }\n            const updatePromise = new Promise<UpdateResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        dataProvider(\n                            pickDataProvider(\n                                identifier,\n                                dataProviderName,\n                                resources,\n                            ),\n                        )\n                            .update<TData, TVariables>({\n                                resource: resource.name,\n                                id,\n                                variables: values,\n                                meta: combinedMeta,\n                                metaData: combinedMeta,\n                            })\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id: id,\n                            resource: identifier,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return updatePromise;\n        },\n        {\n            onMutate: async ({\n                resource: resourceName,\n                id,\n                mutationMode,\n                values,\n                dataProviderName,\n                meta,\n                metaData,\n                optimisticUpdateMap = { list: true, many: true, detail: true },\n            }) => {\n                const { identifier } = select(resourceName);\n\n                const preferredMeta = pickNotDeprecated(meta, metaData);\n\n                const queryKey = queryKeysReplacement(preferLegacyKeys)(\n                    identifier,\n                    pickDataProvider(identifier, dataProviderName, resources),\n                    preferredMeta,\n                );\n\n                const resourceKeys = keys()\n                    .data(\n                        pickDataProvider(\n                            identifier,\n                            dataProviderName,\n                            resources,\n                        ),\n                    )\n                    .resource(identifier);\n\n                const previousQueries: PreviousQuery<TData>[] =\n                    queryClient.getQueriesData(\n                        resourceKeys.get(preferLegacyKeys),\n                    );\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    resourceKeys.get(preferLegacyKeys),\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                if (mutationModePropOrContext !== \"pessimistic\") {\n                    if (optimisticUpdateMap.list) {\n                        // Set the previous queries to the new ones:\n                        queryClient.setQueriesData(\n                            resourceKeys\n                                .action(\"list\")\n                                .params(preferredMeta ?? {})\n                                .get(preferLegacyKeys),\n                            (previous?: GetListResponse<TData> | null) => {\n                                if (\n                                    typeof optimisticUpdateMap.list ===\n                                    \"function\"\n                                ) {\n                                    return optimisticUpdateMap.list(\n                                        previous,\n                                        values,\n                                        id,\n                                    );\n                                }\n\n                                if (!previous) {\n                                    return null;\n                                }\n\n                                const data = previous.data.map(\n                                    (record: TData) => {\n                                        if (\n                                            record.id?.toString() ===\n                                            id?.toString()\n                                        ) {\n                                            return {\n                                                id,\n                                                ...record,\n                                                ...values,\n                                            } as unknown as TData;\n                                        }\n                                        return record;\n                                    },\n                                );\n\n                                return {\n                                    ...previous,\n                                    data,\n                                };\n                            },\n                        );\n                    }\n\n                    if (optimisticUpdateMap.many) {\n                        queryClient.setQueriesData(\n                            resourceKeys.action(\"many\").get(preferLegacyKeys),\n                            (previous?: GetManyResponse<TData> | null) => {\n                                if (\n                                    typeof optimisticUpdateMap.many ===\n                                    \"function\"\n                                ) {\n                                    return optimisticUpdateMap.many(\n                                        previous,\n                                        values,\n                                        id,\n                                    );\n                                }\n\n                                if (!previous) {\n                                    return null;\n                                }\n\n                                const data = previous.data.map(\n                                    (record: TData) => {\n                                        if (\n                                            record.id?.toString() ===\n                                            id?.toString()\n                                        ) {\n                                            record = {\n                                                id,\n                                                ...record,\n                                                ...values,\n                                            } as unknown as TData;\n                                        }\n                                        return record;\n                                    },\n                                );\n                                return {\n                                    ...previous,\n                                    data,\n                                };\n                            },\n                        );\n                    }\n\n                    if (optimisticUpdateMap.detail) {\n                        queryClient.setQueriesData(\n                            resourceKeys\n                                .action(\"one\")\n                                .id(id)\n                                .params(preferredMeta ?? {})\n                                .get(preferLegacyKeys),\n                            (previous?: GetOneResponse<TData> | null) => {\n                                if (\n                                    typeof optimisticUpdateMap.detail ===\n                                    \"function\"\n                                ) {\n                                    return optimisticUpdateMap.detail(\n                                        previous,\n                                        values,\n                                        id,\n                                    );\n                                }\n\n                                if (!previous) {\n                                    return null;\n                                }\n\n                                return {\n                                    ...previous,\n                                    data: {\n                                        ...previous.data,\n                                        ...values,\n                                    },\n                                };\n                            },\n                        );\n                    }\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            onSettled: (\n                _data,\n                _error,\n                {\n                    id,\n                    resource: resourceName,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\", \"detail\"],\n                },\n            ) => {\n                const { identifier } = select(resourceName);\n\n                invalidateStore({\n                    resource: identifier,\n                    dataProviderName: pickDataProvider(\n                        identifier,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                    id,\n                });\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id, resource: identifier },\n                });\n            },\n            onSuccess: (\n                data,\n                {\n                    id,\n                    resource: resourceName,\n                    successNotification,\n                    dataProviderName: dataProviderNameFromProp,\n                    values,\n                    meta,\n                    metaData,\n                },\n                context,\n            ) => {\n                const { resource, identifier } = select(resourceName);\n                const resourceSingular = textTransformers.singular(identifier);\n\n                const dataProviderName = pickDataProvider(\n                    identifier,\n                    dataProviderNameFromProp,\n                    resources,\n                );\n\n                const combinedMeta = getMeta({\n                    resource,\n                    meta: pickNotDeprecated(meta, metaData),\n                });\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, { id, values }, identifier)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${id}-${identifier}-notification`,\n                    description: translate(\n                        \"notifications.success\",\n                        \"Successful\",\n                    ),\n                    message: translate(\n                        \"notifications.editSuccess\",\n                        {\n                            resource: translate(\n                                `${identifier}.${identifier}`,\n                                resourceSingular,\n                            ),\n                        },\n                        `Successfully updated ${resourceSingular}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource.name}`,\n                    type: \"updated\",\n                    payload: {\n                        ids: data.data?.id ? [data.data.id] : undefined,\n                    },\n                    date: new Date(),\n                    meta: {\n                        ...combinedMeta,\n                        dataProviderName,\n                    },\n                });\n\n                let previousData: any;\n                if (context) {\n                    const queryData = queryClient.getQueryData<\n                        UpdateResponse<TData>\n                    >(context.queryKey.detail(id));\n\n                    previousData = Object.keys(values || {}).reduce<any>(\n                        (acc, item) => {\n                            acc[item] = queryData?.data?.[item];\n                            return acc;\n                        },\n                        {},\n                    );\n                }\n\n                const {\n                    fields: _fields,\n                    operation: _operation,\n                    variables: _variables,\n                    ...rest\n                } = combinedMeta || {};\n                log?.mutate({\n                    action: \"update\",\n                    resource: resource.name,\n                    data: values,\n                    previousData,\n                    meta: {\n                        id,\n                        dataProviderName,\n                        ...rest,\n                    },\n                });\n            },\n            onError: (\n                err: TError,\n                { id, resource: resourceName, errorNotification, values },\n                context,\n            ) => {\n                const { identifier } = select(resourceName);\n\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError?.(err);\n\n                    const resourceSingular =\n                        textTransformers.singular(identifier);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, { id, values }, identifier)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${id}-${identifier}-notification`,\n                        message: translate(\n                            \"notifications.editError\",\n                            {\n                                resource: translate(\n                                    `${identifier}.${identifier}`,\n                                    resourceSingular,\n                                ),\n                                statusCode: err.statusCode,\n                            },\n                            `Error when updating ${resourceSingular} (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n            mutationKey: keys().data().mutation(\"update\").get(preferLegacyKeys),\n            ...mutationOptions,\n            meta: {\n                ...mutationOptions?.meta,\n                ...getXRay(\"useUpdate\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: mutation.isLoading,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...mutation, overtime: { elapsedTime } };\n};\n","import React, { ReactNode, useReducer } from \"react\";\nimport isEqual from \"lodash/isEqual\";\n\nimport { UndoableQueue } from \"@components\";\n\nimport { IUndoableQueue, IUndoableQueueContext } from \"../../interfaces\";\nimport { ActionTypes } from \"./actionTypes\";\n\nexport const UndoableQueueContext = React.createContext<IUndoableQueueContext>({\n    notifications: [],\n    notificationDispatch: () => false,\n});\n\nconst initialState: IUndoableQueue[] = [];\n\nexport const undoableQueueReducer = (state: IUndoableQueue[], action: any) => {\n    switch (action.type) {\n        case ActionTypes.ADD:\n            const newState = state.filter(\n                (notificationItem: IUndoableQueue) => {\n                    return !(\n                        isEqual(notificationItem.id, action.payload.id) &&\n                        notificationItem.resource == action.payload.resource\n                    );\n                },\n            );\n\n            return [\n                ...newState,\n                {\n                    ...action.payload,\n                    isRunning: true,\n                },\n            ];\n        case ActionTypes.REMOVE:\n            return state.filter(\n                (notificationItem: IUndoableQueue) =>\n                    !(\n                        isEqual(notificationItem.id, action.payload.id) &&\n                        notificationItem.resource == action.payload.resource\n                    ),\n            );\n        case ActionTypes.DECREASE_NOTIFICATION_SECOND:\n            return state.map((notificationItem: IUndoableQueue) => {\n                if (\n                    isEqual(notificationItem.id, action.payload.id) &&\n                    notificationItem.resource == action.payload.resource\n                ) {\n                    return {\n                        ...notificationItem,\n                        seconds: action.payload.seconds - 1000,\n                    };\n                }\n                return notificationItem;\n            });\n        default:\n            return state;\n    }\n};\n\nexport const UndoableQueueContextProvider: React.FC<{\n    children: ReactNode;\n}> = ({ children }) => {\n    const [notifications, notificationDispatch] = useReducer(\n        undoableQueueReducer,\n        initialState,\n    );\n\n    const notificationData = { notifications, notificationDispatch };\n\n    return (\n        <UndoableQueueContext.Provider value={notificationData}>\n            {children}\n            {typeof window !== \"undefined\" &&\n                notifications.map((notification) => (\n                    <UndoableQueue\n                        key={`${notification.id}-${notification.resource}-queue`}\n                        notification={notification}\n                    />\n                ))}\n        </UndoableQueueContext.Provider>\n    );\n};\n","import {\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\n\nimport {\n    useDataProvider,\n    useHandleNotification,\n    useInvalidate,\n    useLog,\n    useMeta,\n    useOnError,\n    usePublish,\n    useRefineContext,\n    useResource,\n    useTranslate,\n} from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    BaseRecord,\n    CreateResponse,\n    HttpError,\n    IQueryKeys,\n    MetaQuery,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\ntype useCreateParams<TData, TError, TVariables> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * Values for mutation function\n     */\n    values: TVariables;\n    /**\n     * Meta data for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * Meta data for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n    /**\n     * You can use it to manage the invalidations that will occur at the end of the mutation.\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification<CreateResponse<TData>, TError, TVariables>;\n\nexport type UseCreateReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    CreateResponse<TData>,\n    TError,\n    useCreateParams<TData, TError, TVariables>,\n    unknown\n>;\n\nexport type UseCreateProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            CreateResponse<TData>,\n            TError,\n            useCreateParams<TData, TError, TVariables>,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useCreate` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for create mutations.\n *\n * It uses `create` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useCreate} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\n\nexport const useCreate = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n    overtimeOptions,\n}: UseCreateProps<TData, TError, TVariables> = {}): UseCreateReturnType<\n    TData,\n    TError,\n    TVariables\n> &\n    UseLoadingOvertimeReturnType => {\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const dataProvider = useDataProvider();\n    const invalidateStore = useInvalidate();\n    const { resources, select } = useResource();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const { log } = useLog();\n    const handleNotification = useHandleNotification();\n    const getMeta = useMeta();\n    const {\n        options: { textTransformers },\n    } = useRefineContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        CreateResponse<TData>,\n        TError,\n        useCreateParams<TData, TError, TVariables>,\n        unknown\n    >(\n        ({\n            resource: resourceName,\n            values,\n            meta,\n            metaData,\n            dataProviderName,\n        }: useCreateParams<TData, TError, TVariables>) => {\n            const { resource, identifier } = select(resourceName);\n\n            const combinedMeta = getMeta({\n                resource,\n                meta: pickNotDeprecated(meta, metaData),\n            });\n\n            return dataProvider(\n                pickDataProvider(identifier, dataProviderName, resources),\n            ).create<TData, TVariables>({\n                resource: resource.name,\n                variables: values,\n                meta: combinedMeta,\n                metaData: combinedMeta,\n            });\n        },\n        {\n            onSuccess: (\n                data,\n                {\n                    resource: resourceName,\n                    successNotification: successNotificationFromProp,\n                    dataProviderName: dataProviderNameFromProp,\n                    invalidates = [\"list\", \"many\"],\n                    values,\n                    meta,\n                    metaData,\n                },\n            ) => {\n                const { resource, identifier } = select(resourceName);\n                const resourceSingular = textTransformers.singular(identifier);\n\n                const dataProviderName = pickDataProvider(\n                    identifier,\n                    dataProviderNameFromProp,\n                    resources,\n                );\n\n                const combinedMeta = getMeta({\n                    resource,\n                    meta: pickNotDeprecated(meta, metaData),\n                });\n\n                const notificationConfig =\n                    typeof successNotificationFromProp === \"function\"\n                        ? successNotificationFromProp(data, values, identifier)\n                        : successNotificationFromProp;\n\n                handleNotification(notificationConfig, {\n                    key: `create-${identifier}-notification`,\n                    message: translate(\n                        \"notifications.createSuccess\",\n                        {\n                            resource: translate(\n                                `${identifier}.${identifier}`,\n                                resourceSingular,\n                            ),\n                        },\n                        `Successfully created ${resourceSingular}`,\n                    ),\n                    description: translate(\"notifications.success\", \"Success\"),\n                    type: \"success\",\n                });\n\n                invalidateStore({\n                    resource: identifier,\n                    dataProviderName,\n                    invalidates,\n                });\n\n                publish?.({\n                    channel: `resources/${resource.name}`,\n                    type: \"created\",\n                    payload: {\n                        ids: data?.data?.id ? [data.data.id] : undefined,\n                    },\n                    date: new Date(),\n                    meta: {\n                        ...combinedMeta,\n                        dataProviderName,\n                    },\n                });\n\n                const {\n                    fields: _fields,\n                    operation: _operation,\n                    variables: _variables,\n                    ...rest\n                } = combinedMeta || {};\n                log?.mutate({\n                    action: \"create\",\n                    resource: resource.name,\n                    data: values,\n                    meta: {\n                        dataProviderName,\n                        id: data?.data?.id ?? undefined,\n                        ...rest,\n                    },\n                });\n            },\n            onError: (\n                err: TError,\n                {\n                    resource: resourceName,\n                    errorNotification: errorNotificationFromProp,\n                    values,\n                },\n            ) => {\n                checkError(err);\n\n                const { identifier } = select(resourceName);\n\n                const resourceSingular = textTransformers.singular(identifier);\n\n                const notificationConfig =\n                    typeof errorNotificationFromProp === \"function\"\n                        ? errorNotificationFromProp(err, values, identifier)\n                        : errorNotificationFromProp;\n\n                handleNotification(notificationConfig, {\n                    key: `create-${identifier}-notification`,\n                    description: err.message,\n                    message: translate(\n                        \"notifications.createError\",\n                        {\n                            resource: translate(\n                                `${identifier}.${identifier}`,\n                                resourceSingular,\n                            ),\n                            statusCode: err.statusCode,\n                        },\n                        `There was an error creating ${resourceSingular} (status code: ${err.statusCode})`,\n                    ),\n                    type: \"error\",\n                });\n            },\n            mutationKey: keys().data().mutation(\"create\").get(preferLegacyKeys),\n            ...mutationOptions,\n            meta: {\n                ...mutationOptions?.meta,\n                ...getXRay(\"useCreate\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: mutation.isLoading,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...mutation, overtime: { elapsedTime } };\n};\n","import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    pickDataProvider,\n    pickNotDeprecated,\n    queryKeysReplacement,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n    useCancelNotification,\n    useDataProvider,\n    useHandleNotification,\n    useInvalidate,\n    useLog,\n    useMeta,\n    useMutationMode,\n    useOnError,\n    usePublish,\n    useRefineContext,\n    useResource,\n    useTranslate,\n} from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    BaseKey,\n    BaseRecord,\n    DeleteOneResponse,\n    GetListResponse,\n    HttpError,\n    IQueryKeys,\n    MetaQuery,\n    MutationMode,\n    PrevContext as DeleteContext,\n    PreviousQuery,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport type DeleteParams<TData, TError, TVariables> = {\n    /**\n     * id for mutation function\n     */\n    id: BaseKey;\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n     */\n    mutationMode?: MutationMode;\n    /**\n     * Duration in ms to wait before executing the mutation when `mutationMode = \"undoable\"`\n     */\n    undoableTimeout?: number;\n    /**\n     * Provides a function to cancel the mutation when `mutationMode = \"undoable\"`\n     */\n    onCancel?: (cancelMutation: () => void) => void;\n    /**\n     * Metadata query for dataProvider\n     */\n    meta?: MetaQuery;\n    /**\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default \"default\"\n     */\n    dataProviderName?: string;\n    /**\n     *  You can use it to manage the invalidations that will occur at the end of the mutation.\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n    /**\n     * Values for mutation function\n     */\n    values?: TVariables;\n} & SuccessErrorNotification<DeleteOneResponse<TData>, TError, BaseKey>;\n\nexport type UseDeleteReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    DeleteOneResponse<TData>,\n    TError,\n    DeleteParams<TData, TError, TVariables>,\n    DeleteContext<TData>\n> &\n    UseLoadingOvertimeReturnType;\n\nexport type UseDeleteProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            DeleteOneResponse<TData>,\n            TError,\n            DeleteParams<TData, TError, TVariables>,\n            DeleteContext<TData>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n    >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useDelete` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for delete mutations.\n *\n * It uses `deleteOne` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useDelete} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n */\nexport const useDelete = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n    overtimeOptions,\n}: UseDeleteProps<TData, TError, TVariables> = {}): UseDeleteReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const dataProvider = useDataProvider();\n\n    const { resources, select } = useResource();\n    const queryClient = useQueryClient();\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n\n    const { notificationDispatch } = useCancelNotification();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const { log } = useLog();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n    const getMeta = useMeta();\n    const {\n        options: { textTransformers },\n    } = useRefineContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        DeleteOneResponse<TData>,\n        TError,\n        DeleteParams<TData, TError, TVariables>,\n        DeleteContext<TData>\n    >(\n        ({\n            id,\n            mutationMode,\n            undoableTimeout,\n            resource: resourceName,\n            onCancel,\n            meta,\n            metaData,\n            dataProviderName,\n            values,\n        }) => {\n            const { resource, identifier } = select(resourceName);\n\n            const combinedMeta = getMeta({\n                resource,\n                meta: pickNotDeprecated(meta, metaData),\n            });\n\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return dataProvider(\n                    pickDataProvider(identifier, dataProviderName, resources),\n                ).deleteOne<TData, TVariables>({\n                    resource: resource.name,\n                    id,\n                    meta: combinedMeta,\n                    metaData: combinedMeta,\n                    variables: values,\n                });\n            }\n\n            const deletePromise = new Promise<DeleteOneResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        dataProvider(\n                            pickDataProvider(\n                                identifier,\n                                dataProviderName,\n                                resources,\n                            ),\n                        )\n                            .deleteOne<TData, TVariables>({\n                                resource: resource.name,\n                                id,\n                                meta: combinedMeta,\n                                metaData: combinedMeta,\n                                variables: values,\n                            })\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id,\n                            resource: identifier,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return deletePromise;\n        },\n        {\n            onMutate: async ({\n                id,\n                resource: resourceName,\n                mutationMode,\n                dataProviderName,\n                meta,\n                metaData,\n            }) => {\n                const { identifier } = select(resourceName);\n\n                const preferredMeta = pickNotDeprecated(meta, metaData);\n\n                const queryKey = queryKeysReplacement(preferLegacyKeys)(\n                    identifier,\n                    pickDataProvider(identifier, dataProviderName, resources),\n                    preferredMeta,\n                );\n\n                const resourceKeys = keys()\n                    .data(\n                        pickDataProvider(\n                            identifier,\n                            dataProviderName,\n                            resources,\n                        ),\n                    )\n                    .resource(identifier);\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    resourceKeys.get(preferLegacyKeys),\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                const previousQueries: PreviousQuery<TData>[] =\n                    queryClient.getQueriesData(\n                        resourceKeys.get(preferLegacyKeys),\n                    );\n\n                if (mutationModePropOrContext !== \"pessimistic\") {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        resourceKeys\n                            .action(\"list\")\n                            .params(preferredMeta ?? {})\n                            .get(preferLegacyKeys),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n                            const data = previous.data.filter(\n                                (record: TData) =>\n                                    record.id?.toString() !== id.toString(),\n                            );\n\n                            return {\n                                data,\n                                total: previous.total - 1,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        resourceKeys.action(\"many\").get(preferLegacyKeys),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n                            const data = previous.data.filter(\n                                (record: TData) => {\n                                    return (\n                                        record.id?.toString() !== id?.toString()\n                                    );\n                                },\n                            );\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            onSettled: (\n                _data,\n                _error,\n                {\n                    id,\n                    resource: resourceName,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                },\n            ) => {\n                const { identifier } = select(resourceName);\n\n                // invalidate the cache for the list and many queries:\n                invalidateStore({\n                    resource: identifier,\n                    dataProviderName: pickDataProvider(\n                        identifier,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id, resource: identifier },\n                });\n            },\n            onSuccess: (\n                _data,\n                {\n                    id,\n                    resource: resourceName,\n                    successNotification,\n                    dataProviderName: dataProviderNameFromProp,\n                    meta,\n                    metaData,\n                },\n                context,\n            ) => {\n                const { resource, identifier } = select(resourceName);\n                const resourceSingular = textTransformers.singular(identifier);\n\n                const dataProviderName = pickDataProvider(\n                    identifier,\n                    dataProviderNameFromProp,\n                    resources,\n                );\n\n                const combinedMeta = getMeta({\n                    resource,\n                    meta: pickNotDeprecated(meta, metaData),\n                });\n\n                // Remove the queries from the cache:\n                queryClient.removeQueries(context?.queryKey.detail(id));\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(_data, id, identifier)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${id}-${identifier}-notification`,\n                    description: translate(\"notifications.success\", \"Success\"),\n                    message: translate(\n                        \"notifications.deleteSuccess\",\n                        {\n                            resource: translate(\n                                `${identifier}.${identifier}`,\n                                resourceSingular,\n                            ),\n                        },\n                        `Successfully deleted a ${resourceSingular}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource.name}`,\n                    type: \"deleted\",\n                    payload: {\n                        ids: [id],\n                    },\n                    date: new Date(),\n                    meta: {\n                        ...combinedMeta,\n                        dataProviderName,\n                    },\n                });\n\n                const {\n                    fields: _fields,\n                    operation: _operation,\n                    variables: _variables,\n                    ...rest\n                } = combinedMeta || {};\n                log?.mutate({\n                    action: \"delete\",\n                    resource: resource.name,\n                    meta: {\n                        id,\n                        dataProviderName,\n                        ...rest,\n                    },\n                });\n\n                // Remove the queries from the cache:\n                queryClient.removeQueries(context?.queryKey.detail(id));\n            },\n            onError: (\n                err: TError,\n                { id, resource: resourceName, errorNotification },\n                context,\n            ) => {\n                const { identifier } = select(resourceName);\n\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError(err);\n\n                    const resourceSingular =\n                        textTransformers.singular(identifier);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, id, identifier)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${id}-${identifier}-notification`,\n                        message: translate(\n                            \"notifications.deleteError\",\n                            {\n                                resource: resourceSingular,\n                                statusCode: err.statusCode,\n                            },\n                            `Error (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n            mutationKey: keys().data().mutation(\"delete\").get(preferLegacyKeys),\n            ...mutationOptions,\n            meta: {\n                ...mutationOptions?.meta,\n                ...getXRay(\"useDelete\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: mutation.isLoading,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...mutation, overtime: { elapsedTime } };\n};\n","import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\n\nimport {\n    handleMultiple,\n    pickDataProvider,\n    pickNotDeprecated,\n} from \"@definitions\";\nimport {\n    useDataProvider,\n    useHandleNotification,\n    useInvalidate,\n    useLog,\n    useMeta,\n    usePublish,\n    useRefineContext,\n    useResource,\n    useTranslate,\n} from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    BaseRecord,\n    CreateManyResponse,\n    HttpError,\n    IQueryKeys,\n    MetaQuery,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\ntype useCreateManyParams<TData, TError, TVariables> = {\n    resource: string;\n    values: TVariables[];\n    meta?: MetaQuery;\n    metaData?: MetaQuery;\n    dataProviderName?: string;\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification<CreateManyResponse<TData>, TError, TVariables[]>;\n\nexport type UseCreateManyReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    CreateManyResponse<TData>,\n    TError,\n    useCreateManyParams<TData, TError, TVariables>,\n    unknown\n>;\n\nexport type UseCreateManyProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            CreateManyResponse<TData>,\n            TError,\n            useCreateManyParams<TData, TError, TVariables>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useCreateMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple create mutations.\n *\n * It uses `createMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useCreateMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useCreateMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n    overtimeOptions,\n}: UseCreateManyProps<TData, TError, TVariables> = {}): UseCreateManyReturnType<\n    TData,\n    TError,\n    TVariables\n> &\n    UseLoadingOvertimeReturnType => {\n    const dataProvider = useDataProvider();\n    const { resources, select } = useResource();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n    const { log } = useLog();\n    const getMeta = useMeta();\n    const {\n        options: { textTransformers },\n    } = useRefineContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        CreateManyResponse<TData>,\n        TError,\n        useCreateManyParams<TData, TError, TVariables>\n    >(\n        ({\n            resource: resourceName,\n            values,\n            meta,\n            metaData,\n            dataProviderName,\n        }: useCreateManyParams<TData, TError, TVariables>) => {\n            const { resource, identifier } = select(resourceName);\n\n            const combinedMeta = getMeta({\n                resource,\n                meta: pickNotDeprecated(meta, metaData),\n            });\n\n            const selectedDataProvider = dataProvider(\n                pickDataProvider(identifier, dataProviderName, resources),\n            );\n\n            if (selectedDataProvider.createMany) {\n                return selectedDataProvider.createMany<TData, TVariables>({\n                    resource: resource.name,\n                    variables: values,\n                    meta: combinedMeta,\n                    metaData: combinedMeta,\n                });\n            } else {\n                return handleMultiple(\n                    values.map((val) =>\n                        selectedDataProvider.create<TData, TVariables>({\n                            resource: resource.name,\n                            variables: val,\n                            meta: combinedMeta,\n                            metaData: combinedMeta,\n                        }),\n                    ),\n                );\n            }\n        },\n        {\n            onSuccess: (\n                response,\n                {\n                    resource: resourceName,\n                    successNotification,\n                    dataProviderName: dataProviderNameFromProp,\n                    invalidates = [\"list\", \"many\"],\n                    values,\n                    meta,\n                    metaData,\n                },\n            ) => {\n                const { resource, identifier } = select(resourceName);\n                const resourcePlural = textTransformers.plural(identifier);\n\n                const dataProviderName = pickDataProvider(\n                    identifier,\n                    dataProviderNameFromProp,\n                    resources,\n                );\n\n                const combinedMeta = getMeta({\n                    resource,\n                    meta: pickNotDeprecated(meta, metaData),\n                });\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(response, values, identifier)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `createMany-${identifier}-notification`,\n                    message: translate(\n                        \"notifications.createSuccess\",\n                        {\n                            resource: translate(\n                                `${identifier}.${identifier}`,\n                                identifier,\n                            ),\n                        },\n                        `Successfully created ${resourcePlural}`,\n                    ),\n                    description: translate(\"notifications.success\", \"Success\"),\n                    type: \"success\",\n                });\n\n                invalidateStore({\n                    resource: identifier,\n                    dataProviderName,\n                    invalidates,\n                });\n\n                const ids = response?.data\n                    .filter((item) => item?.id !== undefined)\n                    .map((item) => item.id!);\n                publish?.({\n                    channel: `resources/${resource.name}`,\n                    type: \"created\",\n                    payload: {\n                        ids,\n                    },\n                    date: new Date(),\n                    meta: {\n                        ...combinedMeta,\n                        dataProviderName,\n                    },\n                });\n\n                const {\n                    fields: _fields,\n                    operation: _operation,\n                    variables: _variables,\n                    ...rest\n                } = combinedMeta || {};\n                log?.mutate({\n                    action: \"createMany\",\n                    resource: resource.name,\n                    data: values,\n                    meta: {\n                        dataProviderName,\n                        ids,\n                        ...rest,\n                    },\n                });\n            },\n            onError: (\n                err: TError,\n                { resource: resourceName, errorNotification, values },\n            ) => {\n                const { identifier } = select(resourceName);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, values, identifier)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `createMany-${identifier}-notification`,\n                    description: err.message,\n                    message: translate(\n                        \"notifications.createError\",\n                        {\n                            resource: translate(\n                                `${identifier}.${identifier}`,\n                                identifier,\n                            ),\n                            statusCode: err.statusCode,\n                        },\n                        `There was an error creating ${identifier} (status code: ${err.statusCode}`,\n                    ),\n                    type: \"error\",\n                });\n            },\n            mutationKey: keys()\n                .data()\n                .mutation(\"createMany\")\n                .get(preferLegacyKeys),\n            ...mutationOptions,\n            meta: {\n                ...mutationOptions?.meta,\n                ...getXRay(\"useCreateMany\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: mutation.isLoading,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...mutation, overtime: { elapsedTime } };\n};\n","import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    handleMultiple,\n    pickDataProvider,\n    pickNotDeprecated,\n    queryKeysReplacement,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n    useCancelNotification,\n    useDataProvider,\n    useHandleNotification,\n    useInvalidate,\n    useLog,\n    useMeta,\n    useMutationMode,\n    useOnError,\n    usePublish,\n    useRefineContext,\n    useResource,\n    useTranslate,\n} from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    BaseKey,\n    BaseRecord,\n    GetListResponse,\n    GetManyResponse,\n    GetOneResponse,\n    HttpError,\n    IQueryKeys,\n    MetaQuery,\n    MutationMode,\n    OptimisticUpdateManyMapType,\n    PrevContext as UpdateContext,\n    QueryResponse,\n    SuccessErrorNotification,\n    UpdateManyResponse,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\ntype UpdateManyParams<TData, TError, TVariables> = {\n    /**\n     * ids for mutation function\n     */\n    ids: BaseKey[];\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n     */\n    mutationMode?: MutationMode;\n    /**\n     * Duration in ms to wait before executing the mutation when `mutationMode = \"undoable\"`\n     */\n    undoableTimeout?: number;\n    /**\n     * Provides a function to cancel the mutation when `mutationMode = \"undoable\"`\n     */\n    onCancel?: (cancelMutation: () => void) => void;\n    /**\n     * Values for mutation function\n     */\n    values: TVariables;\n    /**\n     * meta data for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * meta data for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default \"default\"\n     */\n    dataProviderName?: string;\n    /**\n     *  You can use it to manage the invalidations that will occur at the end of the mutation.\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n    /**\n     * You can use it to manage the invalidations that will occur at the end of the mutation.\n     * @default {\n     *   list: true,\n     *   many: true,\n     *   detail: true,\n     * }\n     */\n    optimisticUpdateMap?: OptimisticUpdateManyMapType<TData, TVariables>;\n} & SuccessErrorNotification<\n    UpdateManyResponse<TData>,\n    TError,\n    { ids: BaseKey[]; values: TVariables }\n>;\n\ntype UseUpdateManyReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    UpdateManyResponse<TData>,\n    TError,\n    UpdateManyParams<TData, TError, TVariables>,\n    UpdateContext<TData>\n> &\n    UseLoadingOvertimeReturnType;\n\nexport type UseUpdateManyProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            UpdateManyResponse<TData>,\n            TError,\n            UpdateManyParams<TData, TError, TVariables>,\n            UpdateContext<TData>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n    >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useUpdateMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple update mutations.\n *\n * It uses `updateMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useUpdateMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useUpdateMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n    overtimeOptions,\n}: UseUpdateManyProps<TData, TError, TVariables> = {}): UseUpdateManyReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const { resources, select } = useResource();\n    const queryClient = useQueryClient();\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const { notificationDispatch } = useCancelNotification();\n    const publish = usePublish();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n    const { log } = useLog();\n    const getMeta = useMeta();\n    const {\n        options: { textTransformers },\n    } = useRefineContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        UpdateManyResponse<TData>,\n        TError,\n        UpdateManyParams<TData, TError, TVariables>,\n        UpdateContext<TData>\n    >(\n        ({\n            ids,\n            values,\n            resource: resourceName,\n            onCancel,\n            mutationMode,\n            undoableTimeout,\n            meta,\n            metaData,\n            dataProviderName,\n        }: UpdateManyParams<TData, TError, TVariables>) => {\n            const { resource, identifier } = select(resourceName);\n\n            const combinedMeta = getMeta({\n                resource,\n                meta: pickNotDeprecated(meta, metaData),\n            });\n\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            const selectedDataProvider = dataProvider(\n                pickDataProvider(identifier, dataProviderName, resources),\n            );\n\n            const mutationFn = () => {\n                if (selectedDataProvider.updateMany) {\n                    return selectedDataProvider.updateMany<TData, TVariables>({\n                        resource: resource.name,\n                        ids,\n                        variables: values,\n                        meta: combinedMeta,\n                        metaData: combinedMeta,\n                    });\n                } else {\n                    return handleMultiple(\n                        ids.map((id) =>\n                            selectedDataProvider.update<TData, TVariables>({\n                                resource: resource.name,\n                                id,\n                                variables: values,\n                                meta: combinedMeta,\n                                metaData: combinedMeta,\n                            }),\n                        ),\n                    );\n                }\n            };\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return mutationFn();\n            }\n\n            const updatePromise = new Promise<UpdateManyResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        mutationFn()\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id: ids,\n                            resource: identifier,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return updatePromise;\n        },\n\n        {\n            onMutate: async ({\n                resource: resourceName,\n                ids,\n                values,\n                mutationMode,\n                dataProviderName,\n                meta,\n                metaData,\n                optimisticUpdateMap = { list: true, many: true, detail: true },\n            }) => {\n                const { identifier } = select(resourceName);\n                const preferredMeta = pickNotDeprecated(meta, metaData);\n\n                const queryKey = queryKeysReplacement(preferLegacyKeys)(\n                    identifier,\n                    pickDataProvider(identifier, dataProviderName, resources),\n                    pickNotDeprecated(meta, metaData),\n                );\n\n                const resourceKeys = keys()\n                    .data(\n                        pickDataProvider(\n                            identifier,\n                            dataProviderName,\n                            resources,\n                        ),\n                    )\n                    .resource(identifier);\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    resourceKeys.get(preferLegacyKeys),\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                const previousQueries = queryClient.getQueriesData<\n                    QueryResponse<TData>\n                >(resourceKeys.get(preferLegacyKeys));\n\n                if (mutationModePropOrContext !== \"pessimistic\") {\n                    if (optimisticUpdateMap.list) {\n                        // Set the previous queries to the new ones:\n                        queryClient.setQueriesData(\n                            resourceKeys\n                                .action(\"list\")\n                                .params(preferredMeta ?? {})\n                                .get(preferLegacyKeys),\n                            (previous?: GetListResponse<TData> | null) => {\n                                if (\n                                    typeof optimisticUpdateMap.list ===\n                                    \"function\"\n                                ) {\n                                    return optimisticUpdateMap.list(\n                                        previous,\n                                        values,\n                                        ids,\n                                    );\n                                }\n\n                                if (!previous) {\n                                    return null;\n                                }\n\n                                const data = previous.data.map(\n                                    (record: TData) => {\n                                        if (\n                                            record.id !== undefined &&\n                                            ids\n                                                .filter(\n                                                    (id) => id !== undefined,\n                                                )\n                                                .map(String)\n                                                .includes(record.id.toString())\n                                        ) {\n                                            return {\n                                                ...record,\n                                                ...values,\n                                            };\n                                        }\n\n                                        return record;\n                                    },\n                                );\n\n                                return {\n                                    ...previous,\n                                    data,\n                                };\n                            },\n                        );\n                    }\n\n                    if (optimisticUpdateMap.many) {\n                        queryClient.setQueriesData(\n                            resourceKeys.action(\"many\").get(preferLegacyKeys),\n                            (previous?: GetManyResponse<TData> | null) => {\n                                if (\n                                    typeof optimisticUpdateMap.many ===\n                                    \"function\"\n                                ) {\n                                    return optimisticUpdateMap.many(\n                                        previous,\n                                        values,\n                                        ids,\n                                    );\n                                }\n\n                                if (!previous) {\n                                    return null;\n                                }\n\n                                const data = previous.data.map(\n                                    (record: TData) => {\n                                        if (\n                                            record.id !== undefined &&\n                                            ids\n                                                .filter(\n                                                    (id) => id !== undefined,\n                                                )\n                                                .map(String)\n                                                .includes(record.id.toString())\n                                        ) {\n                                            return {\n                                                ...record,\n                                                ...values,\n                                            };\n                                        }\n                                        return record;\n                                    },\n                                );\n                                return {\n                                    ...previous,\n                                    data,\n                                };\n                            },\n                        );\n                    }\n\n                    if (optimisticUpdateMap.detail) {\n                        for (const id of ids) {\n                            queryClient.setQueriesData(\n                                resourceKeys\n                                    .action(\"one\")\n                                    .id(id)\n                                    .params(preferredMeta ?? {})\n                                    .get(preferLegacyKeys),\n                                (previous?: GetOneResponse<TData> | null) => {\n                                    if (\n                                        typeof optimisticUpdateMap.detail ===\n                                        \"function\"\n                                    ) {\n                                        return optimisticUpdateMap.detail(\n                                            previous,\n                                            values,\n                                            id,\n                                        );\n                                    }\n\n                                    if (!previous) {\n                                        return null;\n                                    }\n\n                                    const data = {\n                                        ...previous.data,\n                                        ...values,\n                                    };\n                                    return {\n                                        ...previous,\n                                        data,\n                                    };\n                                },\n                            );\n                        }\n                    }\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            onSettled: (\n                _data,\n                _error,\n                { ids, resource: resourceName, dataProviderName },\n            ) => {\n                const { identifier } = select(resourceName);\n\n                // invalidate the cache for the list and many queries:\n                invalidateStore({\n                    resource: identifier,\n                    invalidates: [\"list\", \"many\"],\n                    dataProviderName: pickDataProvider(\n                        identifier,\n                        dataProviderName,\n                        resources,\n                    ),\n                });\n\n                ids.forEach((id) =>\n                    invalidateStore({\n                        resource: identifier,\n                        invalidates: [\"detail\"],\n                        dataProviderName: pickDataProvider(\n                            identifier,\n                            dataProviderName,\n                            resources,\n                        ),\n                        id,\n                    }),\n                );\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id: ids, resource: identifier },\n                });\n            },\n            onSuccess: (\n                data,\n                {\n                    ids,\n                    resource: resourceName,\n                    meta,\n                    metaData,\n                    dataProviderName: dataProviderNameFromProp,\n                    successNotification,\n                    values,\n                },\n                context,\n            ) => {\n                const { resource, identifier } = select(resourceName);\n                const resourceSingular = textTransformers.singular(identifier);\n\n                const dataProviderName = pickDataProvider(\n                    identifier,\n                    dataProviderNameFromProp,\n                    resources,\n                );\n\n                const combinedMeta = getMeta({\n                    resource,\n                    meta: pickNotDeprecated(meta, metaData),\n                });\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, { ids, values }, identifier)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${ids}-${identifier}-notification`,\n                    description: translate(\n                        \"notifications.success\",\n                        \"Successful\",\n                    ),\n                    message: translate(\n                        \"notifications.editSuccess\",\n                        {\n                            resource: translate(\n                                `${identifier}.${identifier}`,\n                                identifier,\n                            ),\n                        },\n                        `Successfully updated ${resourceSingular}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource.name}`,\n                    type: \"updated\",\n                    payload: {\n                        ids: ids.map(String),\n                    },\n                    date: new Date(),\n                    meta: {\n                        ...combinedMeta,\n                        dataProviderName,\n                    },\n                });\n\n                const previousData: any[] = [];\n                if (context) {\n                    ids.forEach((id) => {\n                        const queryData = queryClient.getQueryData<\n                            UpdateManyResponse<TData>\n                        >(context.queryKey.detail(id));\n\n                        previousData.push(\n                            Object.keys(values || {}).reduce<any>(\n                                (acc, item: any) => {\n                                    acc[item] = queryData?.data?.[item];\n                                    return acc;\n                                },\n                                {},\n                            ),\n                        );\n                    });\n                }\n\n                const {\n                    fields: _fields,\n                    operation: _operation,\n                    variables: _variables,\n                    ...rest\n                } = combinedMeta || {};\n                log?.mutate({\n                    action: \"updateMany\",\n                    resource: resource.name,\n                    data: values,\n                    previousData,\n                    meta: {\n                        ids,\n                        dataProviderName,\n                        ...rest,\n                    },\n                });\n            },\n            onError: (\n                err: TError,\n                { ids, resource: resourceName, errorNotification, values },\n                context,\n            ) => {\n                const { identifier } = select(resourceName);\n\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError?.(err);\n\n                    const resourceSingular =\n                        textTransformers.singular(identifier);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(\n                                  err,\n                                  { ids, values },\n                                  identifier,\n                              )\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${ids}-${identifier}-updateMany-error-notification`,\n                        message: translate(\n                            \"notifications.editError\",\n                            {\n                                resource: resourceSingular,\n                                statusCode: err.statusCode,\n                            },\n                            `Error when updating ${resourceSingular} (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n            mutationKey: keys()\n                .data()\n                .mutation(\"updateMany\")\n                .get(preferLegacyKeys),\n            ...mutationOptions,\n            meta: {\n                ...mutationOptions?.meta,\n                ...getXRay(\"useUpdateMany\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: mutation.isLoading,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...mutation, overtime: { elapsedTime } };\n};\n","import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    handleMultiple,\n    pickDataProvider,\n    pickNotDeprecated,\n    queryKeysReplacement,\n    useActiveAuthProvider,\n} from \"@definitions\";\nimport {\n    useCancelNotification,\n    useDataProvider,\n    useHandleNotification,\n    useInvalidate,\n    useLog,\n    useMeta,\n    useMutationMode,\n    useOnError,\n    usePublish,\n    useRefineContext,\n    useResource,\n    useTranslate,\n} from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    BaseKey,\n    BaseRecord,\n    DeleteManyResponse,\n    GetListResponse,\n    HttpError,\n    IQueryKeys,\n    MetaQuery,\n    MutationMode,\n    PrevContext as DeleteContext,\n    PreviousQuery,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport type DeleteManyParams<TData, TError, TVariables> = {\n    /**\n     * ids for mutation function\n     */\n    ids: BaseKey[];\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n     */\n    mutationMode?: MutationMode;\n    /**\n     * Duration in ms to wait before executing the mutation when `mutationMode = \"undoable\"`\n     */\n    undoableTimeout?: number;\n    /**\n     * Provides a function to cancel the mutation when `mutationMode = \"undoable\"`\n     */\n    onCancel?: (cancelMutation: () => void) => void;\n    /**\n     * Metadata query for dataProvider\n     */\n    meta?: MetaQuery;\n    /**\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default \"default\"\n     */\n    dataProviderName?: string;\n    /**\n     *  You can use it to manage the invalidations that will occur at the end of the mutation.\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n    /**\n     * Values for mutation function\n     */\n    values?: TVariables;\n} & SuccessErrorNotification<DeleteManyResponse<TData>, TError, BaseKey[]>;\n\nexport type UseDeleteManyReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    DeleteManyResponse<TData>,\n    TError,\n    DeleteManyParams<TData, TError, TVariables>,\n    unknown\n> &\n    UseLoadingOvertimeReturnType;\n\nexport type UseDeleteManyProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            DeleteManyResponse<TData>,\n            TError,\n            DeleteManyParams<TData, TError, TVariables>,\n            DeleteContext<TData>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n    >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useDeleteMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple delete mutations.\n *\n * It uses `deleteMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useDeleteMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n */\nexport const useDeleteMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n    overtimeOptions,\n}: UseDeleteManyProps<TData, TError, TVariables> = {}): UseDeleteManyReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n    const dataProvider = useDataProvider();\n    const { notificationDispatch } = useCancelNotification();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n    const { log } = useLog();\n    const { resources, select } = useResource();\n    const queryClient = useQueryClient();\n    const getMeta = useMeta();\n    const {\n        options: { textTransformers },\n    } = useRefineContext();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        DeleteManyResponse<TData>,\n        TError,\n        DeleteManyParams<TData, TError, TVariables>,\n        DeleteContext<TData>\n    >(\n        ({\n            resource: resourceName,\n            ids,\n            mutationMode,\n            undoableTimeout,\n            onCancel,\n            meta,\n            metaData,\n            dataProviderName,\n            values,\n        }: DeleteManyParams<TData, TError, TVariables>) => {\n            const { resource, identifier } = select(resourceName);\n\n            const combinedMeta = getMeta({\n                resource,\n                meta: pickNotDeprecated(meta, metaData),\n            });\n\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            const selectedDataProvider = dataProvider(\n                pickDataProvider(identifier, dataProviderName, resources),\n            );\n\n            const mutationFn = () => {\n                if (selectedDataProvider.deleteMany) {\n                    return selectedDataProvider.deleteMany<TData, TVariables>({\n                        resource: resource.name,\n                        ids,\n                        meta: combinedMeta,\n                        metaData: combinedMeta,\n                        variables: values,\n                    });\n                } else {\n                    return handleMultiple(\n                        ids.map((id) =>\n                            selectedDataProvider.deleteOne<TData, TVariables>({\n                                resource: resource.name,\n                                id,\n                                meta: combinedMeta,\n                                metaData: combinedMeta,\n                                variables: values,\n                            }),\n                        ),\n                    );\n                }\n            };\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return mutationFn();\n            }\n\n            const updatePromise = new Promise<DeleteManyResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        mutationFn()\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id: ids,\n                            resource: identifier,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return updatePromise;\n        },\n        {\n            onMutate: async ({\n                ids,\n                resource: resourceName,\n                mutationMode,\n                dataProviderName,\n                meta,\n                metaData,\n            }) => {\n                const { identifier } = select(resourceName);\n\n                const preferredMeta = pickNotDeprecated(meta, metaData);\n\n                const queryKey = queryKeysReplacement(preferLegacyKeys)(\n                    identifier,\n                    pickDataProvider(identifier, dataProviderName, resources),\n                    preferredMeta,\n                );\n\n                const resourceKeys = keys()\n                    .data(\n                        pickDataProvider(\n                            identifier,\n                            dataProviderName,\n                            resources,\n                        ),\n                    )\n                    .resource(identifier);\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    resourceKeys.get(preferLegacyKeys),\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                const previousQueries: PreviousQuery<TData>[] =\n                    queryClient.getQueriesData(\n                        resourceKeys.get(preferLegacyKeys),\n                    );\n\n                if (mutationModePropOrContext !== \"pessimistic\") {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        resourceKeys\n                            .action(\"list\")\n                            .params(preferredMeta ?? {})\n                            .get(preferLegacyKeys),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.filter(\n                                (item) =>\n                                    item.id &&\n                                    !ids\n                                        .map(String)\n                                        .includes(item.id.toString()),\n                            );\n\n                            return {\n                                data,\n                                total: previous.total - 1,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        resourceKeys.action(\"many\").get(preferLegacyKeys),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.filter(\n                                (record: TData) => {\n                                    if (record.id) {\n                                        return !ids\n                                            .map(String)\n                                            .includes(record.id.toString());\n                                    }\n                                    return false;\n                                },\n                            );\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n\n                    for (const id of ids) {\n                        queryClient.setQueriesData(\n                            resourceKeys\n                                .action(\"one\")\n                                .id(id)\n                                .params(preferredMeta)\n                                .get(preferLegacyKeys),\n                            (previous?: any | null) => {\n                                if (!previous || previous.data.id == id) {\n                                    return null;\n                                }\n                                return {\n                                    ...previous,\n                                };\n                            },\n                        );\n                    }\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            // Always refetch after error or success:\n            onSettled: (\n                _data,\n                _error,\n                {\n                    resource: resourceName,\n                    ids,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                },\n            ) => {\n                const { identifier } = select(resourceName);\n\n                // invalidate the cache for the list and many queries:\n                invalidateStore({\n                    resource: identifier,\n                    dataProviderName: pickDataProvider(\n                        identifier,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id: ids, resource: identifier },\n                });\n            },\n            onSuccess: (\n                _data,\n                {\n                    ids,\n                    resource: resourceName,\n                    meta,\n                    metaData,\n                    dataProviderName: dataProviderNameFromProp,\n                    successNotification,\n                },\n                context,\n            ) => {\n                const { resource, identifier } = select(resourceName);\n\n                const dataProviderName = pickDataProvider(\n                    identifier,\n                    dataProviderNameFromProp,\n                    resources,\n                );\n\n                const combinedMeta = getMeta({\n                    resource,\n                    meta: pickNotDeprecated(meta, metaData),\n                });\n\n                // Remove the queries from the cache:\n                ids.forEach((id) =>\n                    queryClient.removeQueries(context?.queryKey.detail(id)),\n                );\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(_data, ids, identifier)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${ids}-${identifier}-notification`,\n                    description: translate(\"notifications.success\", \"Success\"),\n                    message: translate(\n                        \"notifications.deleteSuccess\",\n                        {\n                            resource: translate(\n                                `${identifier}.${identifier}`,\n                                identifier,\n                            ),\n                        },\n                        `Successfully deleted ${identifier}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource.name}`,\n                    type: \"deleted\",\n                    payload: { ids },\n                    date: new Date(),\n                    meta: {\n                        ...combinedMeta,\n                        dataProviderName,\n                    },\n                });\n\n                const {\n                    fields: _fields,\n                    operation: _operation,\n                    variables: _variables,\n                    ...rest\n                } = combinedMeta || {};\n                log?.mutate({\n                    action: \"deleteMany\",\n                    resource: resource.name,\n                    meta: {\n                        ids,\n                        dataProviderName,\n                        ...rest,\n                    },\n                });\n\n                // Remove the queries from the cache:\n                ids.forEach((id) =>\n                    queryClient.removeQueries(context?.queryKey.detail(id)),\n                );\n            },\n            onError: (\n                err,\n                { ids, resource: resourceName, errorNotification },\n                context,\n            ) => {\n                const { identifier } = select(resourceName);\n\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError(err);\n                    const resourceSingular =\n                        textTransformers.singular(identifier);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, ids, identifier)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${ids}-${identifier}-notification`,\n                        message: translate(\n                            \"notifications.deleteError\",\n                            {\n                                resource: resourceSingular,\n                                statusCode: err.statusCode,\n                            },\n                            `Error (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n            mutationKey: keys()\n                .data()\n                .mutation(\"deleteMany\")\n                .get(preferLegacyKeys),\n            ...mutationOptions,\n            meta: {\n                ...mutationOptions?.meta,\n                ...getXRay(\"useDeleteMany\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: mutation.isLoading,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...mutation, overtime: { elapsedTime } };\n};\n","import { pickNotDeprecated } from \"@definitions/index\";\nimport { useDataProvider, useResource } from \"@hooks\";\n\nexport const useApiUrl = (dataProviderName?: string): string => {\n    const dataProvider = useDataProvider();\n    const { resource } = useResource();\n\n    const { getApiUrl } = dataProvider(\n        dataProviderName ??\n            pickNotDeprecated(resource?.meta, resource?.options)\n                ?.dataProviderName,\n    );\n\n    return getApiUrl();\n};\n","import {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nimport { pickNotDeprecated, useActiveAuthProvider } from \"@definitions/helpers\";\nimport {\n    useDataProvider,\n    useHandleNotification,\n    useMeta,\n    useOnError,\n    useTranslate,\n} from \"@hooks\";\nimport {\n    BaseRecord,\n    CrudFilters,\n    CrudSorting,\n    CustomResponse,\n    HttpError,\n    MetaQuery,\n    Prettify,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\nimport { useKeys } from \"@hooks/useKeys\";\n\ninterface UseCustomConfig<TQuery, TPayload> {\n    /**\n     * @deprecated `sort` is deprecated, use `sorters` instead.\n     */\n    sort?: CrudSorting;\n    sorters?: CrudSorting;\n    filters?: CrudFilters;\n    query?: TQuery;\n    payload?: TPayload;\n    headers?: {};\n}\n\nexport type UseCustomProps<TQueryFnData, TError, TQuery, TPayload, TData> = {\n    /**\n     * request's URL\n     */\n    url: string;\n    /**\n     * request's method (`GET`, `POST`, etc.)\n     */\n    method: \"get\" | \"delete\" | \"head\" | \"options\" | \"post\" | \"put\" | \"patch\";\n    /**\n     * The config of your request. You can send headers, payload, query, filters and sorters using this field\n     */\n    config?: UseCustomConfig<TQuery, TPayload>;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\"\n     */\n    queryOptions?: UseQueryOptions<\n        CustomResponse<TQueryFnData>,\n        TError,\n        CustomResponse<TData>\n    >;\n    /**\n     * meta data for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * meta data for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification<\n    CustomResponse<TData>,\n    TError,\n    Prettify<UseCustomConfig<TQuery, TPayload> & MetaQuery>\n> &\n    UseLoadingOvertimeOptionsProps;\n\n/**\n * `useCustom` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for custom requests.\n *\n * It uses the `custom` method from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useCustom} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TQuery - Values for query params\n * @typeParam TPayload - Values for params\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useCustom = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TQuery = unknown,\n    TPayload = unknown,\n    TData extends BaseRecord = TQueryFnData,\n>({\n    url,\n    method,\n    config,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    dataProviderName,\n    overtimeOptions,\n}: UseCustomProps<\n    TQueryFnData,\n    TError,\n    TQuery,\n    TPayload,\n    TData\n>): QueryObserverResult<CustomResponse<TData>, TError> &\n    UseLoadingOvertimeReturnType => {\n    const dataProvider = useDataProvider();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const translate = useTranslate();\n    const handleNotification = useHandleNotification();\n    const getMeta = useMeta();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const preferredMeta = pickNotDeprecated(meta, metaData);\n\n    const { custom } = dataProvider(dataProviderName);\n\n    const combinedMeta = getMeta({ meta: preferredMeta });\n\n    if (custom) {\n        const queryResponse = useQuery<\n            CustomResponse<TQueryFnData>,\n            TError,\n            CustomResponse<TData>\n        >({\n            queryKey: keys()\n                .data(dataProviderName)\n                .mutation(\"custom\")\n                .params({\n                    method,\n                    url,\n                    ...config,\n                    ...(preferredMeta || {}),\n                })\n                .get(preferLegacyKeys),\n            queryFn: ({ queryKey, pageParam, signal }) =>\n                custom<TQueryFnData>({\n                    url,\n                    method,\n                    ...config,\n                    meta: {\n                        ...combinedMeta,\n                        queryContext: {\n                            queryKey,\n                            pageParam,\n                            signal,\n                        },\n                    },\n                    metaData: {\n                        ...combinedMeta,\n                        queryContext: {\n                            queryKey,\n                            pageParam,\n                            signal,\n                        },\n                    },\n                }),\n            ...queryOptions,\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, {\n                              ...config,\n                              ...combinedMeta,\n                          })\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, {\n                              ...config,\n                              ...combinedMeta,\n                          })\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${method}-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n            meta: {\n                ...queryOptions?.meta,\n                ...getXRay(\"useCustom\", preferLegacyKeys),\n            },\n        });\n        const { elapsedTime } = useLoadingOvertime({\n            isLoading: queryResponse.isFetching,\n            interval: overtimeOptions?.interval,\n            onInterval: overtimeOptions?.onInterval,\n        });\n\n        return { ...queryResponse, overtime: { elapsedTime } };\n    } else {\n        throw Error(\"Not implemented custom on data provider.\");\n    }\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nimport {\n    useDataProvider,\n    useHandleNotification,\n    useTranslate,\n    useOnError,\n    useMeta,\n} from \"@hooks\";\nimport {\n    CreateResponse,\n    BaseRecord,\n    HttpError,\n    SuccessErrorNotification,\n    MetaQuery,\n    Prettify,\n} from \"../../interfaces\";\nimport { pickNotDeprecated, useActiveAuthProvider } from \"@definitions/helpers\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\nimport { useKeys } from \"@hooks/useKeys\";\n\ninterface UseCustomMutationConfig {\n    headers?: {};\n}\n\ntype useCustomMutationParams<TData, TError, TVariables> = {\n    url: string;\n    method: \"post\" | \"put\" | \"patch\" | \"delete\";\n    values: TVariables;\n    /**\n     * Meta data for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * Meta data for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    dataProviderName?: string;\n    config?: UseCustomMutationConfig;\n} & SuccessErrorNotification<\n    CreateResponse<TData>,\n    TError,\n    Prettify<UseCustomMutationConfig & MetaQuery>\n>;\n\nexport type UseCustomMutationReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    CreateResponse<TData>,\n    TError,\n    useCustomMutationParams<TData, TError, TVariables>,\n    unknown\n>;\n\nexport type UseCustomMutationProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            CreateResponse<TData>,\n            TError,\n            useCustomMutationParams<TData, TError, TVariables>,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useCustomMutation` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for create mutations.\n *\n * It uses the `custom` method from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useCustomMutation} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\n\nexport const useCustomMutation = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n    overtimeOptions,\n}: UseCustomMutationProps<\n    TData,\n    TError,\n    TVariables\n> = {}): UseCustomMutationReturnType<TData, TError, TVariables> &\n    UseLoadingOvertimeReturnType => {\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n    const getMeta = useMeta();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const mutation = useMutation<\n        CreateResponse<TData>,\n        TError,\n        useCustomMutationParams<TData, TError, TVariables>,\n        unknown\n    >(\n        ({\n            url,\n            method,\n            values,\n            meta,\n            metaData,\n            dataProviderName,\n            config,\n        }: useCustomMutationParams<TData, TError, TVariables>) => {\n            const combinedMeta = getMeta({\n                meta: pickNotDeprecated(meta, metaData),\n            });\n\n            const { custom } = dataProvider(dataProviderName);\n\n            if (custom) {\n                return custom<TData>({\n                    url,\n                    method,\n                    payload: values,\n                    meta: combinedMeta,\n                    metaData: combinedMeta,\n                    headers: { ...config?.headers },\n                });\n            }\n\n            throw Error(\"Not implemented custom on data provider.\");\n        },\n        {\n            onSuccess: (\n                data,\n                {\n                    successNotification: successNotificationFromProp,\n                    config,\n                    meta,\n                    metaData,\n                },\n            ) => {\n                const notificationConfig =\n                    typeof successNotificationFromProp === \"function\"\n                        ? successNotificationFromProp(data, {\n                              ...config,\n                              ...(pickNotDeprecated(meta, metaData) || {}),\n                          })\n                        : successNotificationFromProp;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (\n                err: TError,\n                {\n                    errorNotification: errorNotificationFromProp,\n                    method,\n                    config,\n                    meta,\n                    metaData,\n                },\n            ) => {\n                checkError(err);\n\n                const notificationConfig =\n                    typeof errorNotificationFromProp === \"function\"\n                        ? errorNotificationFromProp(err, {\n                              ...config,\n                              ...(pickNotDeprecated(meta, metaData) || {}),\n                          })\n                        : errorNotificationFromProp;\n\n                handleNotification(notificationConfig, {\n                    key: `${method}-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n            mutationKey: keys()\n                .data()\n                .mutation(\"customMutation\")\n                .get(preferLegacyKeys),\n            ...mutationOptions,\n            meta: {\n                ...mutationOptions?.meta,\n                ...getXRay(\"useCustomMutation\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: mutation.isLoading,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...mutation, overtime: { elapsedTime } };\n};\n","import { useCallback, useContext } from \"react\";\n\nimport { DataContext } from \"@contexts/data\";\nimport {\n    IDataContextProvider,\n    IDataMultipleContextProvider,\n} from \"../../interfaces\";\n\nexport const useDataProvider = (): ((\n    /**\n     * The name of the `data provider` you want to access\n     */\n    dataProviderName?: string,\n) => IDataContextProvider) => {\n    const context = useContext<IDataMultipleContextProvider>(DataContext);\n\n    const handleDataProvider = useCallback(\n        (dataProviderName?: string) => {\n            if (dataProviderName) {\n                const dataProvider = context[dataProviderName];\n                if (!dataProvider) {\n                    throw new Error(\n                        `\"${dataProviderName}\" Data provider not found`,\n                    );\n                }\n                return context[dataProviderName];\n            }\n            if (context.default) {\n                return context.default;\n            } else\n                throw new Error(\n                    `There is no \"default\" data provider. Please pass dataProviderName.`,\n                );\n        },\n        [context],\n    );\n\n    return handleDataProvider;\n};\n","import React from \"react\";\nimport { ReactNode } from \"react\";\n\nimport {\n    IDataContextProvider,\n    IDataMultipleContextProvider,\n} from \"../../interfaces\";\n\nexport const defaultDataProvider = () => {\n    return {\n        default: {\n            create: () => Promise.resolve({ data: { id: 1 } }),\n            createMany: () => Promise.resolve({ data: [] }),\n            deleteOne: () => Promise.resolve({ data: { id: 1 } }),\n            deleteMany: () => Promise.resolve({ data: [] }),\n            getList: () => Promise.resolve({ data: [], total: 0 }),\n            getMany: () => Promise.resolve({ data: [] }),\n            getOne: () => Promise.resolve({ data: { id: 1 } }),\n            update: () => Promise.resolve({ data: { id: 1 } }),\n            updateMany: () => Promise.resolve({ data: [] }),\n            custom: () => Promise.resolve({ data: {} }),\n            getApiUrl: () => \"\",\n        },\n    };\n};\n\nexport const DataContext = React.createContext<IDataMultipleContextProvider>(\n    defaultDataProvider() as IDataMultipleContextProvider,\n);\n\nexport const DataContextProvider: React.FC<\n    | IDataMultipleContextProvider\n    | (IDataContextProvider & {\n          children: ReactNode;\n      })\n> = ({ children, ...rest }) => {\n    let dataProviders;\n    if (!rest.getList || !rest.getOne) {\n        dataProviders = rest as IDataMultipleContextProvider;\n    } else {\n        dataProviders = {\n            default: rest,\n        } as IDataMultipleContextProvider;\n    }\n    return (\n        <DataContext.Provider value={dataProviders}>\n            {children}\n        </DataContext.Provider>\n    );\n};\n","import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n    InfiniteData,\n    InfiniteQueryObserverResult,\n    useInfiniteQuery,\n    UseInfiniteQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    getNextPageParam,\n    getPreviousPageParam,\n    handlePaginationParams,\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n    useDataProvider,\n    useHandleNotification,\n    useMeta,\n    useOnError,\n    useResource,\n    useResourceSubscription,\n    useTranslate,\n} from \"@hooks\";\nimport {\n    BaseRecord,\n    CrudFilters,\n    CrudSorting,\n    GetListResponse,\n    HttpError,\n    LiveModeProps,\n    MetaQuery,\n    Pagination,\n    Prettify,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\n\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport interface UseInfiniteListConfig {\n    pagination?: Pagination;\n    hasPagination?: boolean;\n    sort?: CrudSorting;\n    filters?: CrudFilters;\n}\n\ntype BaseInfiniteListProps = {\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     *  Metadata query for `dataProvider`\n     *  @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * Configuration for pagination, sorting and filtering\n     * @type [`useInfiniteListConfig`](/docs/api-reference/core/hooks/data/useInfiniteList/#config-parameters)\n     * @deprecated `config` property is deprecated. Use `pagination`, `hasPagination`, `sorters` and `filters` instead.\n     */\n    config?: UseInfiniteListConfig;\n    /**\n     * Pagination properties\n     */\n    pagination?: Pagination;\n    /**\n     * Whether to use server-side pagination or not\n     * @deprecated `hasPagination` property is deprecated. Use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * Sorter parameters\n     */\n    sorters?: CrudSorting;\n    /**\n     * Filter parameters\n     */\n    filters?: CrudFilters;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use\n     */\n    dataProviderName?: string;\n};\n\nexport type UseInfiniteListProps<TQueryFnData, TError, TData> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * Tanstack Query's [useInfiniteQuery](https://tanstack.com/query/v4/docs/react/reference/useInfiniteQuery) options\n     */\n    queryOptions?: UseInfiniteQueryOptions<\n        GetListResponse<TQueryFnData>,\n        TError,\n        GetListResponse<TData>\n    >;\n} & BaseInfiniteListProps &\n    SuccessErrorNotification<\n        InfiniteData<GetListResponse<TData>>,\n        TError,\n        Prettify<BaseInfiniteListProps>\n    > &\n    LiveModeProps &\n    UseLoadingOvertimeOptionsProps;\n\n/**\n * `useInfiniteList` is a modified version of `react-query`'s {@link https://tanstack.com/query/latest/docs/react/guides/infinite-queries `useInfiniteQuery`} used for retrieving items from a `resource` with pagination, sort, and filter configurations.\n *\n * It uses the `getList` method as the query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useInfiniteList} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useInfiniteList = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TData extends BaseRecord = TQueryFnData,\n>({\n    resource: resourceFromProp,\n    config,\n    filters,\n    hasPagination,\n    pagination,\n    sorters,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n    overtimeOptions,\n}: UseInfiniteListProps<\n    TQueryFnData,\n    TError,\n    TData\n>): InfiniteQueryObserverResult<GetListResponse<TData>, TError> &\n    UseLoadingOvertimeReturnType => {\n    const { resources, resource, identifier } = useResource(resourceFromProp);\n\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n    const getMeta = useMeta();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const pickedDataProvider = pickDataProvider(\n        identifier,\n        dataProviderName,\n        resources,\n    );\n    const preferredMeta = pickNotDeprecated(meta, metaData);\n    const prefferedFilters = pickNotDeprecated(filters, config?.filters);\n    const prefferedSorters = pickNotDeprecated(sorters, config?.sort);\n    const prefferedHasPagination = pickNotDeprecated(\n        hasPagination,\n        config?.hasPagination,\n    );\n    const prefferedPagination = handlePaginationParams({\n        pagination,\n        configPagination: config?.pagination,\n        hasPagination: prefferedHasPagination,\n    });\n    const isServerPagination = prefferedPagination.mode === \"server\";\n    const notificationValues = {\n        meta: preferredMeta,\n        metaData: preferredMeta,\n        filters: prefferedFilters,\n        hasPagination: isServerPagination,\n        pagination: prefferedPagination,\n        sorters: prefferedSorters,\n        config: {\n            ...config,\n            sort: prefferedSorters,\n        },\n    };\n\n    const isEnabled =\n        queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n    const combinedMeta = getMeta({ resource, meta: preferredMeta });\n\n    const { getList } = dataProvider(pickedDataProvider);\n\n    useResourceSubscription({\n        resource: identifier,\n        types: [\"*\"],\n        params: {\n            meta: combinedMeta,\n            metaData: combinedMeta,\n            pagination: prefferedPagination,\n            hasPagination: isServerPagination,\n            sort: prefferedSorters,\n            sorters: prefferedSorters,\n            filters: prefferedFilters,\n            subscriptionType: \"useList\",\n            ...liveParams,\n        },\n        channel: `resources/${resource.name}`,\n        enabled: isEnabled,\n        liveMode,\n        onLiveEvent,\n        dataProviderName: pickedDataProvider,\n        meta: {\n            ...combinedMeta,\n            dataProviderName,\n        },\n    });\n\n    const queryResponse = useInfiniteQuery<\n        GetListResponse<TQueryFnData>,\n        TError,\n        GetListResponse<TData>\n    >(\n        keys()\n            .data(pickedDataProvider)\n            .resource(identifier)\n            .action(\"infinite\")\n            .params({\n                ...(preferredMeta || {}),\n                filters: prefferedFilters,\n                hasPagination: isServerPagination,\n                ...(isServerPagination && {\n                    pagination: prefferedPagination,\n                }),\n                ...(sorters && {\n                    sorters,\n                }),\n                ...(config?.sort && {\n                    sort: config?.sort,\n                }),\n            })\n            .get(preferLegacyKeys),\n        ({ queryKey, pageParam, signal }) => {\n            const paginationProperties = {\n                ...prefferedPagination,\n                current: pageParam,\n            };\n\n            return getList<TQueryFnData>({\n                resource: resource.name,\n                pagination: paginationProperties,\n                hasPagination: isServerPagination,\n                filters: prefferedFilters,\n                sort: prefferedSorters,\n                sorters: prefferedSorters,\n                meta: {\n                    ...combinedMeta,\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n                metaData: {\n                    ...combinedMeta,\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n            }).then(({ data, total, ...rest }) => {\n                return {\n                    data,\n                    total,\n                    pagination: paginationProperties,\n                    ...rest,\n                };\n            });\n        },\n        {\n            getNextPageParam: (lastPage) => getNextPageParam(lastPage),\n            getPreviousPageParam: (lastPage) => getPreviousPageParam(lastPage),\n            ...queryOptions,\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(\n                              data,\n                              notificationValues,\n                              identifier,\n                          )\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, notificationValues, identifier)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${identifier}-useInfiniteList-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n            meta: {\n                ...queryOptions?.meta,\n                ...getXRay(\"useInfiniteList\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: queryResponse.isFetching,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...queryResponse, overtime: { elapsedTime } };\n};\n","import React from \"react\";\n\nimport { ILiveContext, ILiveContextProvider } from \"./ILiveContext\";\n\nexport const LiveContext = React.createContext<ILiveContext>(undefined);\n\nexport const LiveContextProvider: React.FC<ILiveContextProvider> = ({\n    liveProvider,\n    children,\n}) => {\n    return (\n        <LiveContext.Provider value={liveProvider}>\n            {children}\n        </LiveContext.Provider>\n    );\n};\n","import { useCallback } from \"react\";\nimport {\n    InvalidateOptions,\n    InvalidateQueryFilters,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { useResource } from \"@hooks/resource\";\nimport { pickDataProvider } from \"@definitions\";\nimport { BaseKey, IQueryKeys } from \"../../interfaces\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nexport type UseInvalidateProp = {\n    resource?: string;\n    id?: BaseKey;\n    dataProviderName?: string;\n    invalidates: Array<keyof IQueryKeys> | false;\n    invalidationFilters?: InvalidateQueryFilters;\n    invalidationOptions?: InvalidateOptions;\n};\n\nexport const useInvalidate = (): ((\n    props: UseInvalidateProp,\n) => Promise<void>) => {\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const invalidate = useCallback(\n        async ({\n            resource,\n            dataProviderName,\n            invalidates,\n            id,\n            invalidationFilters = { type: \"all\", refetchType: \"active\" },\n            invalidationOptions = { cancelRefetch: false },\n        }: UseInvalidateProp) => {\n            if (invalidates === false) {\n                return;\n            }\n            const dp = pickDataProvider(resource, dataProviderName, resources);\n\n            const queryKey = keys()\n                .data(dp)\n                .resource(resource ?? \"\");\n\n            await Promise.all(\n                invalidates.map((key) => {\n                    switch (key) {\n                        case \"all\":\n                            return queryClient.invalidateQueries(\n                                keys().data(dp).get(preferLegacyKeys),\n                                invalidationFilters,\n                                invalidationOptions,\n                            );\n                        case \"list\":\n                            return queryClient.invalidateQueries(\n                                queryKey.action(\"list\").get(preferLegacyKeys),\n                                invalidationFilters,\n                                invalidationOptions,\n                            );\n                        case \"many\":\n                            return queryClient.invalidateQueries(\n                                queryKey.action(\"many\").get(preferLegacyKeys),\n                                invalidationFilters,\n                                invalidationOptions,\n                            );\n                        case \"resourceAll\":\n                            return queryClient.invalidateQueries(\n                                queryKey.get(preferLegacyKeys),\n                                invalidationFilters,\n                                invalidationOptions,\n                            );\n                        case \"detail\":\n                            return queryClient.invalidateQueries(\n                                queryKey\n                                    .action(\"one\")\n                                    .id(id || \"\")\n                                    .get(preferLegacyKeys),\n                                invalidationFilters,\n                                invalidationOptions,\n                            );\n                        default:\n                            return;\n                    }\n                }),\n            );\n\n            return;\n        },\n        [],\n    );\n\n    return invalidate;\n};\n","import { useContext } from \"react\";\n\nimport { ResourceContext } from \"@contexts/resource\";\nimport {\n    Action,\n    BaseKey,\n    IResourceItem,\n    ResourceRouterParams,\n} from \"../../../interfaces\";\nimport { useRouterContext, useResourceWithRoute } from \"@hooks\";\nimport { useRouterType } from \"../../../contexts/router-picker\";\nimport { useParsed } from \"../../router/use-parsed\";\nimport { pickResource } from \"../../../definitions/helpers/pick-resource\";\n\nexport type UseResourceLegacyProps = {\n    /**\n     * Determines which resource to use for redirection\n     * @deprecated resourceName deprecated. Use resourceNameOrRouteName instead # https://github.com/refinedev/refine/issues/1618\n     */\n    resourceName?: string;\n    /**\n     * Determines which resource to use for redirection\n     * @default Resource name that it reads from route\n     */\n    resourceNameOrRouteName?: string;\n    /**\n     * Adds id to the end of the URL\n     * @deprecated resourceName deprecated. Use resourceNameOrRouteName instead # https://github.com/refinedev/refine/issues/1618\n     */\n    recordItemId?: BaseKey;\n};\n\n/**\n * Matches the resource by identifier.\n * If not provided, the resource from the route will be returned.\n * If your resource does not explicitly define an identifier, the resource name will be used.\n */\nexport type UseResourceParam = string | undefined;\n\ntype SelectReturnType<T extends boolean> = T extends true\n    ? { resource: IResourceItem; identifier: string }\n    : { resource: IResourceItem; identifier: string } | undefined;\n\nexport type UseResourceReturnType = {\n    resources: IResourceItem[];\n    resource?: IResourceItem;\n    /**\n     * @deprecated Use `resource.name` instead when you need to get the resource name.\n     */\n    resourceName?: string;\n    id?: BaseKey;\n    action?: Action;\n    select: <T extends boolean = true>(\n        resourceName: string,\n        force?: T,\n    ) => SelectReturnType<T>;\n    identifier?: string;\n};\n\ntype UseResourceReturnTypeWithResource = UseResourceReturnType & {\n    resource: IResourceItem;\n    identifier: string;\n};\n\n/**\n * @deprecated Use `useResource` with `identifier` property instead. (`identifier` does not check by route name in new router)\n */\nexport function useResource(\n    props: UseResourceLegacyProps,\n): UseResourceReturnType;\nexport function useResource(): UseResourceReturnType;\nexport function useResource<TIdentifier = UseResourceParam>(\n    identifier: TIdentifier,\n): TIdentifier extends NonNullable<UseResourceParam>\n    ? UseResourceReturnTypeWithResource\n    : UseResourceReturnType;\n/**\n * `useResource` is used to get `resources` that are defined as property of the `<Refine>` component.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/resource/useResource} for more details.\n */\nexport function useResource(\n    args?: UseResourceLegacyProps | UseResourceParam,\n): UseResourceReturnType {\n    const { resources } = useContext(ResourceContext);\n\n    const routerType = useRouterType();\n\n    const params = useParsed();\n\n    const oldProps = {\n        resourceName:\n            args && typeof args !== \"string\" ? args.resourceName : args,\n        resourceNameOrRouteName:\n            args && typeof args !== \"string\"\n                ? args.resourceNameOrRouteName\n                : args,\n        recordItemId:\n            args && typeof args !== \"string\" ? args.recordItemId : undefined,\n    };\n\n    const select = <T extends boolean = true>(\n        resourceName: string,\n        force = true,\n    ): SelectReturnType<T> => {\n        const isLegacy = routerType === \"legacy\";\n        const pickedResource = pickResource(resourceName, resources, isLegacy);\n\n        if (pickedResource) {\n            return {\n                resource: pickedResource,\n                identifier: pickedResource.identifier ?? pickedResource.name,\n            } as SelectReturnType<T>;\n        }\n\n        if (force) {\n            const resource: IResourceItem = {\n                name: resourceName,\n                identifier: resourceName,\n            };\n\n            const identifier = resource.identifier ?? resource.name;\n\n            return {\n                resource,\n                identifier,\n            } as SelectReturnType<T>;\n        }\n\n        return undefined as SelectReturnType<T>;\n    };\n\n    /**\n     * Legacy Router - Start\n     *\n     * using `useParams` and `route` to match resource and get params.\n     */\n    const resourceWithRoute = useResourceWithRoute();\n\n    const { useParams } = useRouterContext();\n\n    const legacyParams = useParams<Partial<ResourceRouterParams>>();\n\n    if (routerType === \"legacy\") {\n        const resourceKeyToCheck = oldProps.resourceNameOrRouteName\n            ? oldProps.resourceNameOrRouteName\n            : legacyParams.resource;\n\n        const legacyResource = resourceKeyToCheck\n            ? resourceWithRoute(resourceKeyToCheck)\n            : undefined;\n        const legacyId = oldProps?.recordItemId ?? legacyParams.id;\n        const legacyAction = legacyParams.action;\n        const legacyResourceName =\n            oldProps?.resourceName ?? legacyResource?.name;\n        const legacyIdentifier =\n            legacyResource?.identifier ?? legacyResource?.name;\n\n        return {\n            resources,\n            resource: legacyResource,\n            resourceName: legacyResourceName,\n            id: legacyId,\n            action: legacyAction,\n            select,\n            identifier: legacyIdentifier,\n        };\n    }\n    /** Legacy Router - End */\n\n    /** New Router */\n    let resource: IResourceItem | undefined = undefined;\n    // we try to pick the resource from props first\n    const identifier =\n        typeof args === \"string\" ? args : oldProps?.resourceNameOrRouteName;\n    if (identifier) {\n        const pickedFromProps = pickResource(identifier, resources);\n        if (pickedFromProps) {\n            resource = pickedFromProps;\n        } else {\n            resource = {\n                name: identifier as string,\n            };\n        }\n    } else if (params?.resource) {\n        resource = params.resource;\n    }\n\n    return {\n        resources,\n        resource,\n        resourceName: resource?.name,\n        id: params.id,\n        action: params.action,\n        select,\n        identifier: resource?.identifier ?? resource?.name,\n    };\n}\n","import React from \"react\";\n\nimport { IResourceContext } from \"./IResourceContext\";\nimport {\n    IResourceItem,\n    ResourceProps,\n} from \"../../interfaces/bindings/resource\";\nimport { useDeepMemo } from \"@hooks/deepMemo\";\nimport { legacyResourceTransform } from \"@definitions/helpers\";\n\nexport {\n    IResourceItem,\n    IResourceComponents,\n    IResourceComponentsProps,\n    IResourceContext,\n} from \"../../interfaces/bindings/resource\";\n\nexport const ResourceContext = React.createContext<IResourceContext>({\n    resources: [],\n});\n\nexport const ResourceContextProvider: React.FC<\n    React.PropsWithChildren<{ resources: ResourceProps[] }>\n> = ({ resources: providedResources, children }) => {\n    const resources: IResourceItem[] = useDeepMemo(() => {\n        return legacyResourceTransform(providedResources ?? []);\n    }, [providedResources]);\n\n    return (\n        <ResourceContext.Provider value={{ resources }}>\n            {children}\n        </ResourceContext.Provider>\n    );\n};\n","import React, { useMemo } from \"react\";\nimport { useMemoized } from \"@hooks/memoized\";\n\n/**\n * Hook that memoizes the given dependency array and checks the consecutive calls with deep equality and returns the same value as the first call if dependencies are not changed.\n * @internal\n */\nexport const useDeepMemo = <T,>(\n    fn: () => T,\n    dependencies: React.DependencyList,\n): T => {\n    const memoizedDependencies = useMemoized(dependencies);\n\n    const value = useMemo(fn, memoizedDependencies);\n\n    return value;\n};\n","import { useRef } from \"react\";\nimport isEqual from \"lodash/isEqual\";\n\n/**\n * Hook that memoizes the given value with deep equality.\n * @internal\n */\nexport const useMemoized = <T = unknown,>(value: T): T => {\n    const ref = useRef(value);\n\n    if (!isEqual(ref.current, value)) {\n        ref.current = value;\n    }\n\n    return ref.current;\n};\n","import React from \"react\";\n\n/**\n * This context is used to determine which router to use.\n *\n * This is a temporary solution until we remove the legacy router.\n */\n\nexport const RouterPickerContext = React.createContext<\"legacy\" | \"new\">(\"new\");\n\nexport const RouterPickerProvider = RouterPickerContext.Provider;\n\n/**\n * This is a temporary hook to determine which router to use.\n * It will be removed once the legacy router is removed.\n * @internal This is an internal hook.\n */\nexport const useRouterType = () => {\n    const value = React.useContext(RouterPickerContext);\n    return value;\n};\n","import React from \"react\";\nimport { useParse } from \"../use-parse\";\n\nexport const useParsed = <\n    TParams extends Record<string, any> = Record<string, any>,\n>() => {\n    const parse = useParse();\n\n    const parsed = React.useMemo(() => parse<TParams>(), [parse]);\n\n    return parsed;\n};\n","import React, { createContext, PropsWithChildren } from \"react\";\nimport { RouterBindings } from \"src/interfaces\";\n\nconst defaultBindings = {};\n\nexport const RouterBindingsContext =\n    createContext<RouterBindings>(defaultBindings);\n\nexport const RouterBindingsProvider: React.FC<\n    PropsWithChildren<{ router?: RouterBindings }>\n> = ({ children, router }) => {\n    return (\n        <RouterBindingsContext.Provider value={router ?? defaultBindings}>\n            {children}\n        </RouterBindingsContext.Provider>\n    );\n};\n","import { RouterBindingsContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\nimport { ParseFunction, ParseResponse } from \"src/interfaces\";\n\ntype UseParseType = () => <\n    TParams extends Record<string, any> = Record<string, any>,\n>() => ParseResponse<TParams>;\n\nexport const useParse: UseParseType = () => {\n    const bindings = useContext(RouterBindingsContext);\n\n    const useParse = React.useMemo(\n        () =>\n            bindings?.parse ??\n            (() =>\n                (() => {\n                    return {};\n                }) as ParseFunction),\n        [bindings?.parse],\n    );\n\n    const parse = useParse();\n\n    return parse as ReturnType<UseParseType>;\n};\n","import { useContext, useCallback } from \"react\";\nimport { ResourceContext } from \"@contexts/resource\";\nimport { IResourceItem } from \"../../../interfaces\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\n\nexport type UseResourceWithRouteReturnType = (route: string) => IResourceItem;\n\n/**\n * @deprecated Use `useResource` hook instead.\n * @internal This hook is for internal use only. And is kept for backward compatibility.\n */\nexport const useResourceWithRoute = (): UseResourceWithRouteReturnType => {\n    const { resources } = useContext(ResourceContext);\n\n    const resourceWithRoute = useCallback(\n        (route: string) => {\n            const picked = pickResource(route, resources, true);\n            if (picked) {\n                return picked;\n            }\n            return { name: route, route: route } as IResourceItem;\n        },\n        [resources],\n    );\n\n    return resourceWithRoute;\n};\n","import { LiveContext } from \"@contexts/live\";\nimport { RefineContext } from \"@contexts/refine\";\nimport { useInvalidate } from \"@hooks/invalidate\";\nimport { useResource } from \"@hooks/resource\";\nimport { useContext, useEffect } from \"react\";\nimport {\n    BaseKey,\n    CrudFilters,\n    CrudSorting,\n    ILiveContext,\n    IRefineContext,\n    LiveEvent,\n    LiveModeProps,\n    MetaQuery,\n    Pagination,\n} from \"../../../interfaces\";\n\nexport type UseResourceSubscriptionProps = {\n    channel: string;\n    params?: {\n        ids?: BaseKey[];\n        id?: BaseKey;\n        /**\n         * @deprecated `params.meta` is depcerated. Use `meta` directly from the root level instead.\n         */\n        meta?: MetaQuery;\n        /**\n         * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n         */\n        metaData?: MetaQuery;\n        pagination?: Pagination;\n        /**\n         * @deprecated `hasPagination` is deprecated, use `pagination.mode` instead.\n         */\n        hasPagination?: boolean;\n        /**\n         * @deprecated `sort` is deprecated. Use `sorters` instead.\n         */\n        sort?: CrudSorting;\n        sorters?: CrudSorting;\n        filters?: CrudFilters;\n        subscriptionType: \"useList\" | \"useOne\" | \"useMany\";\n        [key: string]: any;\n    };\n    types: LiveEvent[\"type\"][];\n    resource?: string;\n    enabled?: boolean;\n    /**\n     * @deprecated use `meta.dataProviderName` instead.\n     */\n    dataProviderName?: string;\n    meta?: MetaQuery & { dataProviderName?: string };\n} & LiveModeProps;\n\nexport type PublishType = {\n    (event: LiveEvent): void;\n};\n\nexport const useResourceSubscription = ({\n    resource: resourceFromProp,\n    params,\n    channel,\n    types,\n    enabled = true,\n    liveMode: liveModeFromProp,\n    onLiveEvent,\n    dataProviderName: dataProviderNameFromProps,\n    meta,\n}: UseResourceSubscriptionProps): void => {\n    const { resource, identifier } = useResource(resourceFromProp);\n\n    const liveDataContext = useContext<ILiveContext>(LiveContext);\n    const {\n        liveMode: liveModeFromContext,\n        onLiveEvent: onLiveEventContextCallback,\n    } = useContext<IRefineContext>(RefineContext);\n\n    const liveMode = liveModeFromProp ?? liveModeFromContext;\n\n    const invalidate = useInvalidate();\n\n    const dataProviderName =\n        dataProviderNameFromProps ??\n        meta?.dataProviderName ??\n        resource?.meta?.dataProviderName;\n\n    useEffect(() => {\n        let subscription: any;\n\n        const callback = (event: LiveEvent) => {\n            if (liveMode === \"auto\") {\n                invalidate({\n                    resource: identifier,\n                    dataProviderName,\n                    invalidates: [\"resourceAll\"],\n                    invalidationFilters: {\n                        type: \"active\",\n                        refetchType: \"active\",\n                    },\n                    invalidationOptions: { cancelRefetch: false },\n                });\n            }\n\n            onLiveEvent?.(event);\n            onLiveEventContextCallback?.(event);\n        };\n\n        if (liveMode && liveMode !== \"off\" && enabled) {\n            subscription = liveDataContext?.subscribe({\n                channel,\n                params: {\n                    resource: resource?.name,\n                    ...params,\n                },\n                types,\n                callback,\n                dataProviderName,\n                meta: {\n                    ...meta,\n                    dataProviderName,\n                },\n            });\n        }\n\n        return () => {\n            if (subscription) {\n                liveDataContext?.unsubscribe(subscription);\n            }\n        };\n    }, [enabled]);\n};\n","import { useContext } from \"react\";\nimport { LiveModeProps, IRefineContext } from \"../../../interfaces\";\nimport { RefineContext } from \"@contexts/refine\";\n\nexport const useLiveMode = (\n    liveMode: LiveModeProps[\"liveMode\"],\n): LiveModeProps[\"liveMode\"] => {\n    const { liveMode: liveModeFromContext } =\n        useContext<IRefineContext>(RefineContext);\n\n    return liveMode ?? liveModeFromContext;\n};\n","import { useContext, useEffect } from \"react\";\n\nimport { LiveContext } from \"@contexts/live\";\nimport {\n    BaseKey,\n    CrudFilters,\n    CrudSorting,\n    ILiveContext,\n    LiveEvent,\n    MetaQuery,\n    Pagination,\n} from \"../../../interfaces\";\n\nexport type UseSubscriptionProps = {\n    /**\n     * Channel name to subscribe.\n     */\n    channel: string;\n    /**\n     * Callback that is run when new events from subscription arrive.\n     */\n    onLiveEvent: (event: LiveEvent) => void;\n    /**\n     * Type of events to subscribe. `\"*\"` means all events.\n     * @type Array<\"deleted\" | \"updated\" | \"created\" | \"*\" | string>\n     */\n    types?: LiveEvent[\"type\"][];\n    /**\n     * Determines subscription should subscribe or not.\n     * @type Array<\"deleted\" | \"updated\" | \"created\" | \"*\" | string>\n     */\n    enabled?: boolean;\n    params?: {\n        ids?: BaseKey[];\n        id?: BaseKey;\n        /**\n         * @deprecated `params.meta` is depcerated. Use `meta` directly from the root level instead.\n         */\n        meta?: MetaQuery;\n        /**\n         * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n         */\n        metaData?: MetaQuery;\n        pagination?: Pagination;\n        /**\n         * @deprecated `hasPagination` is deprecated, use `pagination.mode` instead.\n         */\n        hasPagination?: boolean;\n        /**\n         * @deprecated `sort` is deprecated, use `sorters` instead.\n         */\n        sort?: CrudSorting;\n        sorters?: CrudSorting;\n        filters?: CrudFilters;\n        subscriptionType?: \"useList\" | \"useOne\" | \"useMany\";\n        resource?: string;\n        [key: string]: any;\n    };\n    /**\n     * @deprecated use `meta.dataProviderName` instead.\n     */\n    dataProviderName?: string;\n    meta?: MetaQuery & { dataProviderName?: string };\n};\n\nexport const useSubscription = ({\n    params,\n    channel,\n    types = [\"*\"],\n    enabled = true,\n    onLiveEvent,\n    dataProviderName = \"default\",\n    meta,\n}: UseSubscriptionProps): void => {\n    const liveDataContext = useContext<ILiveContext>(LiveContext);\n\n    useEffect(() => {\n        let subscription: any;\n\n        if (enabled) {\n            subscription = liveDataContext?.subscribe({\n                channel,\n                params,\n                types,\n                callback: onLiveEvent,\n                dataProviderName,\n                meta: {\n                    ...meta,\n                    dataProviderName,\n                },\n            });\n        }\n\n        return () => {\n            if (subscription) {\n                liveDataContext?.unsubscribe(subscription);\n            }\n        };\n    }, [enabled]);\n};\n","import { useContext } from \"react\";\n\nimport { LiveContext } from \"@contexts/live\";\nimport { ILiveContext } from \"../../../interfaces\";\n\nexport const usePublish: () => NonNullable<ILiveContext>[\"publish\"] = () => {\n    const liveContext = useContext<ILiveContext>(LiveContext);\n\n    return liveContext?.publish;\n};\n","import { useContext } from \"react\";\n\nimport { UndoableQueueContext } from \"@contexts/undoableQueue\";\nimport { IUndoableQueue, IUndoableQueueContext } from \"../../../interfaces\";\n\nexport type UseCancelNotificationType = () => {\n    notifications: IUndoableQueue[];\n    notificationDispatch: React.Dispatch<any>;\n};\n\nexport const useCancelNotification: UseCancelNotificationType = () => {\n    const { notifications, notificationDispatch } =\n        useContext<IUndoableQueueContext>(UndoableQueueContext);\n\n    return { notifications, notificationDispatch };\n};\n","import { useContext } from \"react\";\n\nimport { NotificationContext } from \"@contexts/notification\";\nimport { INotificationContext } from \"../../../interfaces\";\n\nexport const useNotification = (): INotificationContext => {\n    const { open, close } = useContext(NotificationContext);\n\n    return { open, close };\n};\n","import React, { createContext } from \"react\";\n\nimport { INotificationContext } from \"./INotificationContext\";\n\n/** @deprecated default value for notification context has no use and is an empty object.  */\nexport const defaultNotificationProvider: INotificationContext = {};\n\nexport const NotificationContext = createContext<INotificationContext>({});\n\nexport const NotificationContextProvider: React.FC<\n    INotificationContext & {\n        children?: React.ReactNode;\n    }\n> = ({ open, close, children }) => {\n    return (\n        <NotificationContext.Provider value={{ open, close }}>\n            {children}\n        </NotificationContext.Provider>\n    );\n};\n","import { useCallback } from \"react\";\n\nimport { OpenNotificationParams } from \"../../../interfaces\";\nimport { useNotification } from \"@hooks\";\n\nexport const useHandleNotification = (): typeof handleNotification => {\n    const { open } = useNotification();\n\n    const handleNotification = useCallback(\n        (\n            notification: OpenNotificationParams | false | undefined,\n            fallbackNotification?: OpenNotificationParams,\n        ) => {\n            if (notification !== false) {\n                if (notification) {\n                    open?.(notification);\n                } else if (fallbackNotification) {\n                    open?.(fallbackNotification);\n                }\n            }\n        },\n        [],\n    );\n\n    return handleNotification;\n};\n","import { useCallback, useContext } from \"react\";\nimport { TranslationContext } from \"@contexts/translation\";\n\n/**\n * If you need to change the locale at runtime, refine provides the `useSetLocale` hook.\n * It returns the changeLocale method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/translate/useSetLocale} for more details.\n */\nexport const useSetLocale = () => {\n    const { i18nProvider } = useContext(TranslationContext);\n\n    return useCallback((lang: string) => i18nProvider?.changeLocale(lang), []);\n};\n","import React from \"react\";\n\nimport { ITranslationContext } from \"../../interfaces\";\n\n/** @deprecated default value for translation context has no use and is an empty object.  */\nexport const defaultProvider: ITranslationContext = {};\n\nexport const TranslationContext = React.createContext<ITranslationContext>({});\n\nexport const TranslationContextProvider: React.FC<\n    ITranslationContext & {\n        children?: React.ReactNode;\n    }\n> = ({ children, i18nProvider }) => {\n    return (\n        <TranslationContext.Provider\n            value={{\n                i18nProvider: i18nProvider,\n            }}\n        >\n            {children}\n        </TranslationContext.Provider>\n    );\n};\n","import { useContext, useMemo } from \"react\";\nimport { TranslationContext } from \"@contexts/translation\";\n\n/**\n * If you need to translate the texts in your own components, refine provides the `useTranslate` hook.\n * It returns the translate method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/translate/useTranslate} for more details.\n */\nexport const useTranslate = () => {\n    const { i18nProvider } = useContext(TranslationContext);\n\n    const fn = useMemo(() => {\n        function translate(\n            key: string,\n            options?: any,\n            defaultMessage?: string,\n        ): string;\n        function translate(key: string, defaultMessage?: string): string;\n\n        function translate(\n            key: string,\n            options?: string | any,\n            defaultMessage?: string,\n        ) {\n            return (\n                i18nProvider?.translate(key, options, defaultMessage) ??\n                defaultMessage ??\n                (typeof options === \"string\" &&\n                typeof defaultMessage === \"undefined\"\n                    ? options\n                    : key)\n            );\n        }\n\n        return translate;\n    }, [i18nProvider]);\n\n    return fn;\n};\n","import { useContext, useCallback } from \"react\";\nimport { TranslationContext } from \"@contexts/translation\";\n\nexport type UseGetLocaleType = () => () => string | undefined;\n\n/**\n * If you need to know the current locale, refine provides the `useGetLocale` hook.\n * It returns the `getLocale` method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/translate/useGetLocale} for more details.\n */\nexport const useGetLocale: UseGetLocaleType = () => {\n    const { i18nProvider } = useContext(TranslationContext);\n\n    return useCallback(() => i18nProvider?.getLocale(), []);\n};\n","import { useState } from \"react\";\nimport { useResource, useDataProvider, useMeta } from \"@hooks\";\nimport {\n    BaseRecord,\n    MapDataFn,\n    CrudSorting,\n    CrudFilters,\n    MetaQuery,\n} from \"../../interfaces\";\nimport {\n    useUserFriendlyName,\n    pickDataProvider,\n    pickNotDeprecated,\n} from \"@definitions\";\nimport { ExportToCsv, Options } from \"export-to-csv-fix-source-map\";\n\ntype UseExportOptionsType<\n    TData extends BaseRecord = BaseRecord,\n    TVariables = any,\n> = {\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     * @deprecated `resourceName` is deprecated. Use `resource` instead.\n     */\n    resourceName?: string;\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * A mapping function that runs for every record. Mapped data will be included in the file contents\n     */\n    mapData?: MapDataFn<TData, TVariables>;\n    /**\n     *  Sorts records\n     *  @deprecated `sorter` is deprecated. Use `sorters` instead.\n     */\n    sorter?: CrudSorting;\n    /**\n     *  Sorts records\n     */\n    sorters?: CrudSorting;\n    /**\n     *  Filters records\n     */\n    filters?: CrudFilters;\n    maxItemCount?: number;\n    /**\n     *  Requests to fetch data are made as batches by page size. By default, it is 20. Used for `getList` method of `DataProvider`\n     */\n    pageSize?: number;\n    /**\n     *  Used for exporting options\n     *  @type [Options](https://github.com/alexcaza/export-to-csv)\n     */\n    exportOptions?: Options;\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     *  Metadata query for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n    /**\n     *  Callback to handle error events of this hook\n     */\n    onError?: (error: any) => void;\n};\n\ntype UseExportReturnType = {\n    isLoading: boolean;\n    triggerExport: () => Promise<void>;\n};\n\n/**\n * `useExport` hook allows you to make your resources exportable.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/import-export/useExport} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TVariables - Values for params.\n *\n */\nexport const useExport = <\n    TData extends BaseRecord = BaseRecord,\n    TVariables = any,\n>({\n    resourceName,\n    resource: resourceFromProps,\n    sorter,\n    sorters,\n    filters,\n    maxItemCount,\n    pageSize = 20,\n    mapData = (item) => item as any,\n    exportOptions,\n    meta,\n    metaData,\n    dataProviderName,\n    onError,\n}: UseExportOptionsType<TData, TVariables> = {}): UseExportReturnType => {\n    const [isLoading, setIsLoading] = useState(false);\n\n    const dataProvider = useDataProvider();\n    const getMeta = useMeta();\n    const { resource, resources, identifier } = useResource(\n        pickNotDeprecated(resourceFromProps, resourceName),\n    );\n    const getFriendlyName = useUserFriendlyName();\n\n    const filename = `${getFriendlyName(\n        identifier,\n        \"plural\",\n    )}-${new Date().toLocaleString()}`;\n\n    const { getList } = dataProvider(\n        pickDataProvider(identifier, dataProviderName, resources),\n    );\n\n    const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n    });\n\n    const triggerExport = async () => {\n        setIsLoading(true);\n\n        let rawData: BaseRecord[] = [];\n\n        let current = 1;\n        let preparingData = true;\n        while (preparingData) {\n            try {\n                const { data, total } = await getList<TData>({\n                    resource: resource?.name ?? \"\",\n                    filters,\n                    sort: pickNotDeprecated(sorters, sorter),\n                    sorters: pickNotDeprecated(sorters, sorter),\n                    pagination: {\n                        current,\n                        pageSize,\n                        mode: \"server\",\n                    },\n                    meta: combinedMeta,\n                    metaData: combinedMeta,\n                });\n\n                current++;\n\n                rawData.push(...data);\n\n                if (maxItemCount && rawData.length >= maxItemCount) {\n                    rawData = rawData.slice(0, maxItemCount);\n                    preparingData = false;\n                }\n\n                if (total === rawData.length) {\n                    preparingData = false;\n                }\n            } catch (error) {\n                setIsLoading(false);\n                preparingData = false;\n\n                onError?.(error);\n\n                return;\n            }\n        }\n\n        const csvExporter = new ExportToCsv({\n            filename,\n            useKeysAsHeaders: true,\n            ...exportOptions,\n        });\n\n        csvExporter.generateCsv(rawData.map(mapData as any));\n\n        setIsLoading(false);\n    };\n\n    return {\n        isLoading,\n        triggerExport,\n    };\n};\n","import React, { Dispatch, SetStateAction } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport warnOnce from \"warn-once\";\nimport debounce from \"lodash/debounce\";\n\nimport {\n    useWarnAboutChange,\n    useCreate,\n    useUpdate,\n    useRedirectionAfterSubmission,\n    useMutationMode,\n    useOne,\n    useRefineContext,\n    useMeta,\n    useInvalidate,\n} from \"@hooks\";\n\nimport {\n    BaseRecord,\n    CreateResponse,\n    GetOneResponse,\n    HttpError,\n    LiveModeProps,\n    RedirectAction,\n    SuccessErrorNotification,\n    UpdateResponse,\n    MutationMode,\n    BaseKey,\n    IQueryKeys,\n    FormAction,\n    MetaQuery,\n    AutoSaveProps,\n    AutoSaveReturnType,\n    OptimisticUpdateMapType,\n} from \"../../interfaces\";\nimport {\n    UpdateParams,\n    UseUpdateProps,\n    UseUpdateReturnType,\n} from \"../data/useUpdate\";\nimport { UseCreateProps, UseCreateReturnType } from \"../data/useCreate\";\nimport { redirectPage } from \"@definitions/helpers\";\nimport { useResource } from \"../resource/useResource\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport type ActionParams = {\n    /**\n     * Type of the form mode\n     * @default Action that it reads from route otherwise \"create\" is used\n     */\n    action?: FormAction;\n};\n\ntype ActionFormProps<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n> = {\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * Record id for fetching\n     * @default Id that it reads from the URL\n     */\n    id?: BaseKey;\n    /**\n     * Page to redirect after a succesfull mutation\n     * @type `\"show\" | \"edit\" | \"list\" | \"create\" | false`\n     * @default `\"list\"`\n     */\n    redirect?: RedirectAction;\n    /**\n     * Metadata query for dataProvider\n     */\n    meta?: MetaQuery;\n    /**\n     * Metadata query for dataProvider\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * Metadata to pass for the `useOne` query\n     */\n    queryMeta?: MetaQuery;\n    /**\n     * Metadata to pass for the mutation (`useCreate` for `create` and `clone` actions, `useUpdate` for `edit` action)\n     */\n    mutationMeta?: MetaQuery;\n    /**\n     * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n     * @default `\"pessimistic\"*`\n     */\n    mutationMode?: MutationMode;\n    /**\n     * Called when a mutation is successful\n     */\n    onMutationSuccess?: (\n        data: CreateResponse<TResponse> | UpdateResponse<TResponse>,\n        variables: TVariables,\n        context: any,\n        isAutoSave?: boolean,\n    ) => void;\n    /**\n     * Called when a mutation encounters an error\n     */\n    onMutationError?: (\n        error: TResponseError,\n        variables: TVariables,\n        context: any,\n        isAutoSave?: boolean,\n    ) => void;\n    /**\n     * Duration to wait before executing mutations when `mutationMode = \"undoable\"`\n     * @default `5000*`\n     */\n    undoableTimeout?: number;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n    /**\n     * You can use it to manage the invalidations that will occur at the end of the mutation.\n     * @type  `all`, `resourceAll`, `list`, `many`, `detail`, `false`\n     * @default `[\"list\", \"many\", \"detail\"]`\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options of useOne hook used while in edit mode.\n     */\n    queryOptions?: UseQueryOptions<\n        GetOneResponse<TQueryFnData>,\n        TError,\n        GetOneResponse<TData>\n    >;\n    /**\n     * react-query's [useMutation](https://tanstack.com/query/v4/docs/reference/useMutation) options of useCreate hook used while submitting in create and clone modes.\n     */\n    createMutationOptions?: UseCreateProps<\n        TResponse,\n        TResponseError,\n        TVariables\n    >[\"mutationOptions\"];\n    /**\n     * react-query's [useMutation](https://tanstack.com/query/v4/docs/reference/useMutation) options of useUpdate hook used while submitting in edit mode.\n     */\n    updateMutationOptions?: UseUpdateProps<\n        TResponse,\n        TResponseError,\n        TVariables\n    >[\"mutationOptions\"];\n    /**\n     * If you customize the [`optimisticUpdateMap`](https://refine.dev/docs/api-reference/core/hooks/data/useUpdateMany/#optimisticupdatemap) option, you can use it to manage the invalidations that will occur at the end of the mutation.\n     * @default {\n     *   list: true,\n     *   many: true,\n     *   detail: true,\n     * }\n     */\n    optimisticUpdateMap?: OptimisticUpdateMapType<TResponse, TVariables>;\n} & SuccessErrorNotification<\n    UpdateResponse<TResponse> | CreateResponse<TResponse>,\n    TResponseError,\n    { id: BaseKey; values: TVariables } | TVariables\n> &\n    ActionParams &\n    LiveModeProps;\n\nexport type UseFormProps<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n> = ActionFormProps<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TData,\n    TResponse,\n    TResponseError\n> &\n    ActionParams &\n    LiveModeProps &\n    UseLoadingOvertimeOptionsProps &\n    AutoSaveProps<TVariables>;\n\nexport type UseFormReturnType<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n> = {\n    id?: BaseKey;\n    setId: Dispatch<SetStateAction<BaseKey | undefined>>;\n    queryResult?: QueryObserverResult<GetOneResponse<TData>>;\n    mutationResult:\n        | UseUpdateReturnType<TResponse, TResponseError, TVariables>\n        | UseCreateReturnType<TResponse, TResponseError, TVariables>;\n    formLoading: boolean;\n    onFinish: (\n        values: TVariables,\n    ) => Promise<CreateResponse<TResponse> | UpdateResponse<TResponse> | void>;\n    redirect: (\n        redirect: RedirectAction,\n        idFromFunction?: BaseKey | undefined,\n        routeParams?: Record<string, string | number>,\n    ) => void;\n} & UseLoadingOvertimeReturnType &\n    AutoSaveReturnType<TResponse, TResponseError, TVariables>;\n\n/**\n * `useForm` is used to manage forms. It uses Ant Design {@link https://ant.design/components/form/ Form} data scope management under the hood and returns the required props for managing the form actions.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/useForm} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n * @typeParam TResponse - Result data returned by the mutation function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TData`\n * @typeParam TResponseError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}. Defaults to `TError`\n *\n */\nexport const useForm = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n>({\n    resource: resourceFromProps,\n    action: actionFromProps,\n    id: idFromProps,\n    onMutationSuccess,\n    onMutationError,\n    redirect: redirectFromProps,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    queryMeta,\n    mutationMeta,\n    mutationMode: mutationModeProp,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    undoableTimeout,\n    dataProviderName,\n    invalidates,\n    queryOptions,\n    createMutationOptions,\n    updateMutationOptions,\n    overtimeOptions,\n    autoSave,\n    optimisticUpdateMap,\n}: UseFormProps<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TData,\n    TResponse,\n    TResponseError\n> = {}): UseFormReturnType<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TData,\n    TResponse,\n    TResponseError\n> => {\n    const invalidate = useInvalidate();\n    const { options } = useRefineContext();\n    const getMeta = useMeta();\n\n    const {\n        resource,\n        id: idFromRoute,\n        action: actionFromRoute,\n        identifier,\n    } = useResource(resourceFromProps);\n    const { identifier: inferredIdentifier } = useResource();\n\n    /** We only accept `id` from URL params if `resource` is not explicitly passed. */\n    /** This is done to avoid sending wrong requests for custom `resource` and an async `id` */\n    const getDefaultId = () => {\n        const idFromPropsOrRoute = idFromProps ?? idFromRoute;\n\n        if (resourceFromProps && resourceFromProps !== inferredIdentifier) {\n            return idFromProps;\n        }\n\n        return idFromPropsOrRoute;\n    };\n    const defaultId = getDefaultId();\n\n    // id state is needed to determine selected record in a context for example useModal\n    const [id, setId] = React.useState<BaseKey | undefined>(defaultId);\n\n    /**\n     * In some cases, `id` from the router params is not available at the first render.\n     *\n     * (e.g. when using `Next.js` and client-side-rendering, `router` is not ready to use at the first render)\n     *\n     * We're watching for `defaultId` changes and setting `id` state if it's not equal to `defaultId`.\n     */\n    React.useEffect(() => {\n        setId(defaultId);\n    }, [defaultId]);\n\n    const getAction = () => {\n        if (actionFromProps) return actionFromProps;\n        else if (actionFromRoute === \"edit\" || actionFromRoute === \"clone\")\n            return actionFromRoute;\n        else return \"create\";\n    };\n    const action = getAction();\n\n    const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n    });\n\n    const { mutationMode: mutationModeContext } = useMutationMode();\n    const mutationMode = mutationModeProp ?? mutationModeContext;\n\n    const isCreate = action === \"create\";\n    const isEdit = action === \"edit\";\n    const isClone = action === \"clone\";\n\n    warnOnce(\n        (isClone || isEdit) &&\n            Boolean(resourceFromProps) &&\n            !Boolean(idFromProps) &&\n            queryOptions?.enabled !== false,\n        `[useForm]: action: \"${action}\", resource: \"${identifier}\", id: ${id} \\n\\n` +\n            `If you don't use the \\`setId\\` method to set the \\`id\\`, you should pass the \\`id\\` prop to \\`useForm\\`. Otherwise, \\`useForm\\` will not be able to infer the \\`id\\` from the current URL. \\n\\n` +\n            `See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`,\n    );\n\n    /**\n     * Designated `redirect` route\n     */\n    const designatedRedirectAction = redirectPage({\n        redirectFromProps,\n        action,\n        redirectOptions: options.redirect,\n    });\n\n    const enableQuery = id !== undefined && (isEdit || isClone);\n\n    const queryResult = useOne<TQueryFnData, TError, TData>({\n        resource: identifier,\n        id: id ?? \"\",\n        queryOptions: {\n            enabled: enableQuery,\n            ...queryOptions,\n        },\n        liveMode,\n        onLiveEvent,\n        liveParams,\n        meta: { ...combinedMeta, ...queryMeta },\n        metaData: { ...combinedMeta, ...queryMeta },\n        dataProviderName,\n    });\n\n    const { isFetching: isFetchingQuery } = queryResult;\n\n    const mutationResultCreate = useCreate<\n        TResponse,\n        TResponseError,\n        TVariables\n    >({\n        mutationOptions: createMutationOptions,\n    });\n    const { mutate: mutateCreate, isLoading: isLoadingCreate } =\n        mutationResultCreate;\n\n    const mutationResultUpdate = useUpdate<\n        TResponse,\n        TResponseError,\n        TVariables\n    >({\n        mutationOptions: updateMutationOptions,\n    });\n    const { mutate: mutateUpdate, isLoading: isLoadingUpdate } =\n        mutationResultUpdate;\n\n    const autoSaveMutation = useUpdate<TResponse, TResponseError, TVariables>(\n        {},\n    );\n\n    const { setWarnWhen } = useWarnAboutChange();\n\n    const handleSubmitWithRedirect = useRedirectionAfterSubmission();\n\n    const onFinishCreate = async (values: TVariables) => {\n        setWarnWhen(false);\n\n        const onSuccess = (id?: BaseKey) => {\n            handleSubmitWithRedirect({\n                redirect: designatedRedirectAction,\n                resource,\n                id,\n                meta: pickNotDeprecated(meta, metaData),\n            });\n        };\n\n        if (mutationMode !== \"pessimistic\") {\n            setTimeout(() => {\n                onSuccess();\n            });\n        }\n\n        return new Promise<CreateResponse<TResponse> | void>(\n            (resolve, reject) => {\n                if (mutationMode !== \"pessimistic\") {\n                    resolve();\n                }\n\n                if (!resource) return;\n\n                return mutateCreate(\n                    {\n                        values,\n                        resource: identifier ?? resource.name,\n                        successNotification,\n                        errorNotification,\n                        meta: { ...combinedMeta, ...mutationMeta },\n                        metaData: { ...combinedMeta, ...mutationMeta },\n                        dataProviderName,\n                        invalidates,\n                    },\n                    {\n                        onSuccess: (data, _, context) => {\n                            if (onMutationSuccess) {\n                                onMutationSuccess(data, values, context);\n                            }\n\n                            const responseId = data?.data?.id;\n\n                            onSuccess(responseId);\n\n                            resolve(data);\n                        },\n                        onError: (error: TResponseError, _, context) => {\n                            if (onMutationError) {\n                                return onMutationError(error, values, context);\n                            }\n                            reject();\n                        },\n                    },\n                );\n            },\n        );\n    };\n\n    React.useEffect(() => {\n        return () => {\n            if (\n                autoSave?.invalidateOnUnmount &&\n                autoSaveMutation.status === \"success\"\n            ) {\n                invalidate({\n                    id,\n                    invalidates: invalidates || [\"list\", \"many\", \"detail\"],\n                    dataProviderName,\n                    resource: identifier,\n                });\n            }\n        };\n    }, [autoSave?.invalidateOnUnmount, autoSaveMutation.status]);\n\n    const onFinishAutoSaveMutation = (\n        values: TVariables,\n    ): Promise<UpdateResponse<TResponse> | void> | void => {\n        if (!resource || !isEdit) return;\n\n        const variables: UpdateParams<TResponse, TResponseError, TVariables> = {\n            id: id ?? \"\",\n            values,\n            resource: identifier ?? resource.name,\n            successNotification: false,\n            errorNotification: false,\n            meta: { ...combinedMeta, ...mutationMeta },\n            metaData: { ...combinedMeta, ...mutationMeta },\n            dataProviderName,\n            invalidates: [],\n            mutationMode: \"pessimistic\",\n        };\n\n        return autoSaveMutation.mutate(variables, {\n            onSuccess: (data, _, context) => {\n                if (onMutationSuccess) {\n                    onMutationSuccess(data, values, context, true);\n                }\n            },\n            onError: (error: TResponseError, _, context) => {\n                if (onMutationError) {\n                    return onMutationError(error, values, context, true);\n                }\n            },\n        });\n    };\n\n    const onFinishAutoSave = debounce((allValues) => {\n        return onFinishAutoSaveMutation(allValues);\n    }, autoSave?.debounce || 1000);\n\n    const onFinishUpdate = async (values: TVariables) => {\n        setWarnWhen(false);\n\n        if (!resource) return;\n\n        const variables: UpdateParams<TResponse, TResponseError, TVariables> = {\n            id: id ?? \"\",\n            values,\n            resource: identifier ?? resource.name,\n            mutationMode,\n            undoableTimeout,\n            successNotification,\n            errorNotification,\n            meta: { ...combinedMeta, ...mutationMeta },\n            metaData: { ...combinedMeta, ...mutationMeta },\n            dataProviderName,\n            invalidates,\n            optimisticUpdateMap,\n        };\n\n        const onSuccess = () => {\n            handleSubmitWithRedirect({\n                redirect: designatedRedirectAction,\n                resource,\n                id,\n                meta: pickNotDeprecated(meta, metaData),\n            });\n        };\n\n        // setWarnWhen is set to \"false\" at the start of the mutation. With the help of setTimeout we guarantee that the value false is set.\n        if (mutationMode !== \"pessimistic\") {\n            setTimeout(() => {\n                onSuccess();\n            });\n        }\n\n        // setTimeout is required to make onSuccess e.g. callbacks to work if component unmounts i.e. on route change\n        return new Promise<UpdateResponse<TResponse> | void>(\n            (resolve, reject) => {\n                if (mutationMode !== \"pessimistic\") {\n                    resolve();\n                }\n                return setTimeout(() => {\n                    mutateUpdate(variables, {\n                        onSuccess: (data, _, context) => {\n                            if (onMutationSuccess) {\n                                onMutationSuccess(data, values, context);\n                            }\n\n                            if (mutationMode === \"pessimistic\") {\n                                onSuccess();\n                            }\n\n                            resolve(data);\n                        },\n                        onError: (error: TResponseError, _, context) => {\n                            if (onMutationError) {\n                                return onMutationError(error, values, context);\n                            }\n                            reject();\n                        },\n                    });\n                });\n            },\n        );\n    };\n\n    const createResult = {\n        formLoading: isFetchingQuery || isLoadingCreate,\n        mutationResult: mutationResultCreate,\n        onFinish: onFinishCreate,\n    };\n\n    const editResult = {\n        formLoading: isFetchingQuery || isLoadingUpdate,\n        mutationResult: mutationResultUpdate,\n        onFinish: onFinishUpdate,\n    };\n\n    const result = isCreate || isClone ? createResult : editResult;\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: result.mutationResult.isLoading || queryResult.isFetching,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return {\n        ...result,\n        queryResult,\n        onFinishAutoSave,\n        autoSaveProps: {\n            status: autoSaveMutation.status,\n            data: autoSaveMutation.data,\n            error: autoSaveMutation.error,\n        },\n        id,\n        setId,\n        redirect: (redirect, idFromFunction?: BaseKey | undefined) => {\n            handleSubmitWithRedirect({\n                redirect:\n                    redirect !== undefined\n                        ? redirect\n                        : isEdit\n                        ? \"list\"\n                        : \"edit\",\n                resource,\n                id: idFromFunction ?? id,\n                meta: pickNotDeprecated(meta, metaData),\n            });\n        },\n        overtime: {\n            elapsedTime,\n        },\n    };\n};\n","import { useCallback } from \"react\";\n\nimport {\n    BaseKey,\n    IResourceItem,\n    MetaDataQuery,\n    RedirectAction,\n} from \"../../interfaces\";\nimport { useNavigation } from \"@hooks\";\n\nexport type UseRedirectionAfterSubmissionType = () => (options: {\n    redirect: RedirectAction;\n    resource?: IResourceItem;\n    id?: BaseKey;\n    meta?: MetaDataQuery;\n}) => void;\n\nexport const useRedirectionAfterSubmission: UseRedirectionAfterSubmissionType =\n    () => {\n        const { show, edit, list, create } = useNavigation();\n\n        const handleSubmitWithRedirect = useCallback(\n            ({\n                redirect,\n                resource,\n                id,\n                meta = {},\n            }: {\n                redirect: RedirectAction;\n                resource?: IResourceItem;\n                id?: BaseKey;\n                meta?: MetaDataQuery;\n            }) => {\n                if (redirect && resource) {\n                    if (!!resource.show && redirect === \"show\" && id) {\n                        return show(resource, id, undefined, meta);\n                    }\n\n                    if (!!resource.edit && redirect === \"edit\" && id) {\n                        return edit(resource, id, undefined, meta);\n                    }\n\n                    if (!!resource.create && redirect === \"create\") {\n                        return create(resource, undefined, meta);\n                    }\n\n                    return list(resource, \"push\", meta);\n                } else {\n                    return;\n                }\n            },\n            [],\n        );\n\n        return handleSubmitWithRedirect;\n    };\n","import { RouterBindingsContext } from \"@contexts/router\";\nimport { useResource } from \"@hooks/resource\";\nimport React, { useCallback, useContext } from \"react\";\nimport type {\n    Action,\n    BaseKey,\n    GoConfig as GoConfigBase,\n    IResourceItem,\n} from \"../../../interfaces\";\nimport { useGetToPath } from \"../use-get-to-path\";\n\ntype ResourceWithoutId = {\n    /**\n     *  The name or identifier of the resource.\n     */\n    resource: string;\n    action: Extract<Action, \"create\" | \"list\">;\n    id?: never;\n};\n\ntype ResourceWithId = {\n    /**\n     *  The name or identifier of the resource.\n     */\n    resource: string;\n    action: Extract<Action, \"edit\" | \"show\" | \"clone\">;\n    id: BaseKey;\n};\n\nexport type Resource = ResourceWithoutId | ResourceWithId;\n\nexport type GoConfigWithResource = Omit<GoConfigBase, \"to\"> & {\n    to?: GoConfigBase[\"to\"] | Resource;\n};\n\nexport const useGo = () => {\n    const bindings = useContext(RouterBindingsContext);\n    const { select: resourceSelect } = useResource();\n    const getToPath = useGetToPath();\n\n    const useGo = React.useMemo(\n        () => bindings?.go ?? (() => () => undefined),\n        [bindings?.go],\n    );\n\n    const goFromRouter = useGo();\n\n    const go = useCallback(\n        (config: GoConfigWithResource | GoConfigBase) => {\n            if (typeof config.to !== \"object\") {\n                return goFromRouter({ ...config, to: config.to });\n            }\n\n            // when config.to is an object, it means that we want to go to a resource.\n            // so we need to find the path for the resource.\n            const { resource } = resourceSelect(config.to.resource);\n            handleResourceErrors(config.to, resource);\n            const newTo = getToPath({\n                resource,\n                action: config.to.action,\n                meta: {\n                    id: config.to.id,\n                },\n            });\n\n            return goFromRouter({\n                ...config,\n                to: newTo,\n            });\n        },\n        [resourceSelect, goFromRouter],\n    );\n\n    return go;\n};\n\n/**\n * handle errors for resource\n * @internal\n */\nexport const handleResourceErrors = (to: Resource, resource: IResourceItem) => {\n    if (!to?.action || !to?.resource) {\n        throw new Error(`[useGo]: \"action\" or \"resource\" is required.`);\n    }\n\n    if ([\"edit\", \"show\", \"clone\"].includes(to?.action) && !to.id) {\n        throw new Error(\n            `[useGo]: [action: ${to.action}] requires an \"id\" for resource [resource: ${to.resource}]`,\n        );\n    }\n\n    const actionUrl = resource[to.action];\n    if (!actionUrl) {\n        throw new Error(\n            `[useGo]: [action: ${to.action}] is not defined for [resource: ${to.resource}]`,\n        );\n    }\n};\n","import React from \"react\";\nimport { useResource } from \"../../resource\";\nimport { Action, IResourceItem } from \"../../../interfaces\";\nimport { getActionRoutesFromResource } from \"../../../definitions/helpers/router\";\nimport { useParsed } from \"../use-parsed\";\nimport { composeRoute } from \"../../../definitions/helpers/router/compose-route\";\nimport { useRouterType } from \"./../../../contexts/router-picker\";\n\ntype UseToPathParams = {\n    resource?: IResourceItem;\n    action: Action;\n    meta?: Record<string, unknown>;\n    legacy?: boolean;\n};\n\ntype GetToPathFn = (params: UseToPathParams) => string | undefined;\n\n/**\n * Returns a function to get the route for a given action and resource.\n * If resource is not provided, it will use the resource from the route.\n * If the resource is not found, it will return undefined.\n * If the action is not found, it will return undefined.\n * `meta` can be provided to compose the routes with parameters. (Can be used for nested routes.)\n */\nexport const useGetToPath = (): GetToPathFn => {\n    const routerType = useRouterType();\n    const { resource: resourceFromRoute, resources } = useResource();\n    const parsed = useParsed();\n\n    const fn = React.useCallback(\n        ({ resource, action, meta }: UseToPathParams): string | undefined => {\n            const selectedResource = resource || resourceFromRoute;\n\n            if (!selectedResource) {\n                return undefined;\n            }\n\n            const actionRoutes = getActionRoutesFromResource(\n                selectedResource,\n                resources,\n                routerType === \"legacy\",\n            );\n\n            const actionRoute = actionRoutes.find(\n                (item) => item.action === action,\n            )?.route;\n\n            if (!actionRoute) {\n                return undefined;\n            }\n\n            const composed = composeRoute(\n                actionRoute,\n                selectedResource?.meta,\n                parsed,\n                meta,\n            );\n\n            return composed;\n        },\n        [resources, resourceFromRoute, parsed],\n    );\n\n    return fn;\n};\n","import { RouterBindingsContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\n\nexport const useBack = () => {\n    const bindings = useContext(RouterBindingsContext);\n\n    const useBack = React.useMemo(\n        () => bindings?.back ?? (() => () => undefined),\n        [bindings?.back],\n    );\n\n    const back = useBack();\n\n    return back;\n};\n","import { useRouterContext, useResource } from \"@hooks\";\nimport { BaseKey, IResourceItem, MetaDataQuery } from \"../../interfaces\";\nimport { useGo } from \"@hooks/router/use-go\";\nimport { useParsed } from \"@hooks/router/use-parsed\";\nimport { useRouterType } from \"@contexts/router-picker\";\nimport { getActionRoutesFromResource } from \"@definitions/helpers/router\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\nimport { composeRoute } from \"@definitions/helpers/router/compose-route\";\nimport { useBack } from \"@hooks/router/use-back\";\n\nexport type HistoryType = \"push\" | \"replace\";\n\n/**\n * `refine` uses {@link https://reactrouter.com/en/hooks/use-navigate `React Router`} and comes with all redirects out of the box.\n * It allows you to manage your routing operations in refine.\n * Using this hook, you can manage all the routing operations of your application very easily.\n *\n * @internal This is an internal hook of refine. Do not use it directly.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/navigation/useNavigation} for more details.\n */\nexport const useNavigation = () => {\n    const { resources } = useResource();\n    const routerType = useRouterType();\n    const { useHistory } = useRouterContext();\n    const history = useHistory();\n    const parsed = useParsed();\n    const go = useGo();\n    const back = useBack();\n\n    const handleUrl = (url: string, type: HistoryType = \"push\") => {\n        if (routerType === \"legacy\") {\n            history[type](url);\n        } else {\n            go({ to: url, type });\n        }\n    };\n\n    const createUrl = (\n        resource: string | IResourceItem,\n        meta: MetaDataQuery = {},\n    ) => {\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const createActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"create\");\n\n            if (!createActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(\n                createActionRoute.route,\n                resourceItem?.meta,\n                parsed,\n                meta,\n            );\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const createActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"create\")?.route;\n\n            if (!createActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(\n                    createActionRoute,\n                    resourceItem?.meta,\n                    parsed,\n                    meta,\n                ),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const editUrl = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        meta: MetaDataQuery = {},\n    ) => {\n        const encodedId = encodeURIComponent(id);\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const editActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"edit\");\n\n            if (!editActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(\n                editActionRoute.route,\n                resourceItem?.meta,\n                parsed,\n                {\n                    ...meta,\n                    id: encodedId,\n                },\n            );\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const editActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"edit\")?.route;\n\n            if (!editActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(editActionRoute, resourceItem?.meta, parsed, {\n                    ...meta,\n                    id: encodedId,\n                }),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const cloneUrl = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        meta: MetaDataQuery = {},\n    ) => {\n        const encodedId = encodeURIComponent(id);\n\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const cloneActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"clone\");\n\n            if (!cloneActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(\n                cloneActionRoute.route,\n                resourceItem?.meta,\n                parsed,\n                {\n                    ...meta,\n                    id: encodedId,\n                },\n            );\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const cloneActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"clone\")?.route;\n\n            if (!cloneActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(cloneActionRoute, resourceItem?.meta, parsed, {\n                    ...meta,\n                    id: encodedId,\n                }),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const showUrl = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        meta: MetaDataQuery = {},\n    ) => {\n        const encodedId = encodeURIComponent(id);\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const showActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"show\");\n\n            if (!showActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(\n                showActionRoute.route,\n                resourceItem?.meta,\n                parsed,\n                {\n                    ...meta,\n                    id: encodedId,\n                },\n            );\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const showActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"show\")?.route;\n\n            if (!showActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(showActionRoute, resourceItem?.meta, parsed, {\n                    ...meta,\n                    id: encodedId,\n                }),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const listUrl = (\n        resource: string | IResourceItem,\n        meta: MetaDataQuery = {},\n    ) => {\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const listActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"list\");\n\n            if (!listActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(\n                listActionRoute.route,\n                resourceItem?.meta,\n                parsed,\n                meta,\n            );\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const listActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"list\")?.route;\n\n            if (!listActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(\n                    listActionRoute,\n                    resourceItem?.meta,\n                    parsed,\n                    meta,\n                ),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const create = (\n        resource: string | IResourceItem,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(createUrl(resource, meta), type);\n    };\n\n    const edit = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(editUrl(resource, id, meta), type);\n    };\n\n    const clone = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(cloneUrl(resource, id, meta), type);\n    };\n\n    const show = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(showUrl(resource, id, meta), type);\n    };\n\n    const list = (\n        resource: string | IResourceItem,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(listUrl(resource, meta), type);\n    };\n\n    /**\n     * @deprecated Please use `useGo` hook instead.\n     */\n    const push = (path: string, ...rest: unknown[]) => {\n        if (routerType === \"legacy\") {\n            history.push(path, ...rest);\n        } else {\n            go({ to: path, type: \"push\" });\n        }\n    };\n\n    /**\n     * @deprecated Please use `useGo` hook instead.\n     */\n    const replace = (path: string, ...rest: unknown[]) => {\n        if (routerType === \"legacy\") {\n            history.replace(path, ...rest);\n        } else {\n            go({ to: path, type: \"replace\" });\n        }\n    };\n\n    /**\n     * @deprecated Please use `useBack` hook instead.\n     */\n    const goBack = () => {\n        if (routerType === \"legacy\") {\n            history.goBack();\n        } else {\n            back();\n        }\n    };\n\n    return {\n        create,\n        createUrl,\n        edit,\n        editUrl,\n        clone,\n        cloneUrl,\n        show,\n        showUrl,\n        list,\n        listUrl,\n        push,\n        replace,\n        goBack,\n    };\n};\n","import React, { useState } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport warnOnce from \"warn-once\";\n\nimport { useMeta, useOne } from \"@hooks\";\n\nimport {\n    BaseRecord,\n    GetOneResponse,\n    SuccessErrorNotification,\n    MetaQuery,\n    LiveModeProps,\n    BaseKey,\n    HttpError,\n    Prettify,\n} from \"../../interfaces\";\nimport { useResource } from \"../resource/useResource\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport type useShowReturnType<TData extends BaseRecord = BaseRecord> = {\n    queryResult: QueryObserverResult<GetOneResponse<TData>>;\n    showId?: BaseKey;\n    setShowId: React.Dispatch<React.SetStateAction<BaseKey | undefined>>;\n} & UseLoadingOvertimeReturnType;\n\nexport type useShowProps<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TData extends BaseRecord = TQueryFnData,\n> = {\n    /**\n     * Resource name for API data interactions\n     * @default Reads `:resource` from the URL\n     */\n    resource?: string;\n    /**\n     * Data item ID for API data interactions\n     * @default Reads `:id` from the URL\n     */\n    id?: BaseKey;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<\n        GetOneResponse<TQueryFnData>,\n        TError,\n        GetOneResponse<TData>\n    >;\n    /**\n     * Additional meta data to pass to the data provider's `getOne`\n     */\n    meta?: MetaQuery;\n    /**\n     * Additional meta data to pass to the data provider's `getOne`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * Target data provider name for API call to be made\n     * @default `\"default\"`\n     */\n    dataProviderName?: string;\n} & LiveModeProps &\n    SuccessErrorNotification<\n        GetOneResponse<TData>,\n        TError,\n        Prettify<{ id?: BaseKey } & MetaQuery>\n    > &\n    UseLoadingOvertimeOptionsProps;\n\n/**\n * `useShow` hook allows you to fetch the desired record.\n * It uses `getOne` method as query function from the dataProvider that is\n * passed to {@link https://refine.dev/docs/api-reference/core/components/refine-config/ `<Refine>`}.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/show/useShow} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useShow = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TData extends BaseRecord = TQueryFnData,\n>({\n    resource: resourceFromProp,\n    id,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    dataProviderName,\n    queryOptions,\n    overtimeOptions,\n}: useShowProps<\n    TQueryFnData,\n    TError,\n    TData\n> = {}): useShowReturnType<TData> => {\n    const {\n        resource,\n        id: idFromRoute,\n        identifier,\n    } = useResource(resourceFromProp);\n    const { identifier: inferredIdentifier } = useResource();\n    const getMeta = useMeta();\n\n    const getDefaultId = () => {\n        const idFromPropsOrRoute = id ?? idFromRoute;\n\n        if (resourceFromProp && resourceFromProp !== inferredIdentifier) {\n            return id;\n        }\n\n        return idFromPropsOrRoute;\n    };\n    const defaultId = getDefaultId();\n\n    const [showId, setShowId] = useState<BaseKey | undefined>(defaultId);\n\n    React.useEffect(() => {\n        setShowId(defaultId);\n    }, [defaultId]);\n\n    const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n    });\n\n    warnOnce(\n        Boolean(resourceFromProp) && !Boolean(id),\n        `[useShow]: resource: \"${identifier}\", id: ${id} \\n\\n` +\n            `If you don't use the \\`setShowId\\` method to set the \\`showId\\`, you should pass the \\`id\\` prop to \\`useShow\\`. Otherwise, \\`useShow\\` will not be able to infer the \\`id\\` from the current URL. \\n\\n` +\n            `See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`,\n    );\n\n    const queryResult = useOne<TQueryFnData, TError, TData>({\n        resource: identifier,\n        id: showId ?? \"\",\n        queryOptions: {\n            enabled: showId !== undefined,\n            ...queryOptions,\n        },\n        successNotification,\n        errorNotification,\n        meta: combinedMeta,\n        metaData: combinedMeta,\n        liveMode,\n        onLiveEvent,\n        dataProviderName,\n    });\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: queryResult.isFetching,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return {\n        queryResult,\n        showId,\n        setShowId,\n        overtime: { elapsedTime },\n    };\n};\n","import { useEffect, useState } from \"react\";\nimport { parse, ParseConfig } from \"papaparse\";\nimport chunk from \"lodash/chunk\";\n\nimport { useCreate, useCreateMany, useMeta, useResource } from \"@hooks\";\nimport { MapDataFn, BaseRecord, HttpError, MetaQuery } from \"../../interfaces\";\nimport {\n    importCSVMapper,\n    sequentialPromises,\n    pickNotDeprecated,\n} from \"@definitions\";\nimport { UseCreateReturnType } from \"../../hooks/data/useCreate\";\nimport { UseCreateManyReturnType } from \"../../hooks/data/useCreateMany\";\n\nexport type ImportSuccessResult<TVariables, TData> = {\n    request: TVariables[];\n    type: \"success\";\n    response: TData[];\n};\n\nexport type ImportErrorResult<TVariables> = {\n    request: TVariables[];\n    type: \"error\";\n    response: HttpError[];\n};\n\nexport type OnFinishParams<TVariables, TData> = {\n    succeeded: ImportSuccessResult<TVariables, TData>[];\n    errored: ImportErrorResult<TVariables>[];\n};\n\nexport type OnProgressParams = {\n    totalAmount: number;\n    processedAmount: number;\n};\n\nexport type ImportOptions<\n    TItem,\n    TVariables = any,\n    TData extends BaseRecord = BaseRecord,\n> = {\n    /**\n     * Resource name for API data interactions.\n     * @default Resource name that it reads from route\n     * @deprecated `resourceName` is deprecated. Use `resource` instead.\n     */\n    resourceName?: string;\n    /**\n     * Resource name for API data interactions.\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * A mapping function that runs for every record. Mapped data will be included in the file contents.\n     */\n    mapData?: MapDataFn<TItem, TVariables>;\n    /**\n     * Custom Papa Parse options.\n     * @type [`ParseConfig`](https://www.papaparse.com/docs)\n     */\n    paparseOptions?: ParseConfig;\n    /**\n     * Requests batch size. If it is 1, all records are sent one by one. By default, it is [`Number.MAX_SAFE_INTEGER`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER) to send all records in one batch. If it is more than 1, `createMany` should be implemented on DataProvider.\n     */\n    batchSize?: number;\n    /**\n     * Called with errors and successful responses when all requests are sent.\n     */\n    onFinish?: (results: OnFinishParams<TVariables, TData>) => void;\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     *  Metadata query for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     *  A callback function that returns a current state of uploading process.\n     *\n     *  Ex: `percentage = onProgressParams.processedAmount / onProgressParams.totalAmount * 100`\n     */\n    onProgress?: (onProgressParams: OnProgressParams) => void;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n};\n\nexport type CreatedValuesType<TVariables, TData> =\n    | ImportSuccessResult<TVariables, TData>\n    | ImportErrorResult<TVariables>;\n\nexport type HandleChangeType<TVariables, TData> = (onChangeParams: {\n    file: Partial<File>;\n}) => Promise<CreatedValuesType<TVariables, TData>[]>;\n\nexport type UseImportInputPropsType = {\n    type: \"file\";\n    accept: string;\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n};\n\nexport type UseImportReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TVariables = {},\n    TError extends HttpError = HttpError,\n> = {\n    inputProps: UseImportInputPropsType;\n    mutationResult:\n        | UseCreateReturnType<TData, TError, TVariables>\n        | UseCreateManyReturnType<TData, TError, TVariables>;\n    isLoading: boolean;\n    handleChange: HandleChangeType<TVariables, TData>;\n};\n\n/**\n * `useImport` hook allows you to handle your csv import logic easily.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/import-export/useImport} for more details.\n *\n * @typeParam TItem - Interface of parsed csv data\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useImport = <\n    TItem = any,\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = any,\n>({\n    resourceName,\n    resource: resourceFromProps,\n    mapData = (item) => item as unknown as TVariables,\n    paparseOptions,\n    batchSize = Number.MAX_SAFE_INTEGER,\n    onFinish,\n    meta,\n    metaData,\n    onProgress,\n    dataProviderName,\n}: ImportOptions<TItem, TVariables, TData> = {}): UseImportReturnType<\n    TData,\n    TVariables,\n    TError\n> => {\n    const [processedAmount, setProcessedAmount] = useState<number>(0);\n    const [totalAmount, setTotalAmount] = useState<number>(0);\n    const [isLoading, setIsLoading] = useState(false);\n\n    const { resource, identifier } = useResource(\n        resourceFromProps ?? resourceName,\n    );\n\n    const getMeta = useMeta();\n\n    const createMany = useCreateMany<TData, TError, TVariables>();\n    const create = useCreate<TData, TError, TVariables>();\n\n    const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n    });\n\n    let mutationResult:\n        | UseCreateReturnType<TData, TError, TVariables>\n        | UseCreateManyReturnType<TData, TError, TVariables>;\n\n    if (batchSize === 1) {\n        mutationResult = create;\n    } else {\n        mutationResult = createMany;\n    }\n\n    const handleCleanup = () => {\n        setTotalAmount(0);\n        setProcessedAmount(0);\n        setIsLoading(false);\n    };\n\n    const handleFinish = (\n        createdValues: CreatedValuesType<TVariables, TData>[],\n    ) => {\n        const result = {\n            succeeded: createdValues.filter(\n                (item) => item.type === \"success\",\n            ) as unknown as ImportSuccessResult<TVariables, TData>[],\n            errored: createdValues.filter(\n                (item) => item.type === \"error\",\n            ) as unknown as ImportErrorResult<TVariables>[],\n        };\n\n        onFinish?.(result);\n        setIsLoading(false);\n    };\n\n    useEffect(() => {\n        onProgress?.({ totalAmount, processedAmount });\n    }, [totalAmount, processedAmount]);\n\n    const handleChange: HandleChangeType<TVariables, TData> = ({ file }) => {\n        handleCleanup();\n        return new Promise<CreatedValuesType<TVariables, TData>[]>(\n            (resolve) => {\n                setIsLoading(true);\n                parse(file as any, {\n                    complete: async ({ data }: { data: unknown[][] }) => {\n                        const values = importCSVMapper(data, mapData);\n\n                        setTotalAmount(values.length);\n\n                        if (batchSize === 1) {\n                            // Create Processor Functions\n                            const valueFns = values.map((value) => {\n                                const fn = async () => {\n                                    const response = await create.mutateAsync({\n                                        resource: identifier ?? \"\",\n                                        values: value,\n                                        successNotification: false,\n                                        errorNotification: false,\n                                        dataProviderName,\n                                        meta: combinedMeta,\n                                        metaData: combinedMeta,\n                                    });\n\n                                    return { response, value };\n                                };\n                                return fn;\n                            });\n                            // Sequentially run processor functions and process resolves/rejects\n                            const createdValues = await sequentialPromises(\n                                valueFns,\n                                ({ response, value }) => {\n                                    setProcessedAmount((currentAmount) => {\n                                        return currentAmount + 1;\n                                    });\n\n                                    return {\n                                        response: [response.data],\n                                        type: \"success\",\n                                        request: [value],\n                                    } as ImportSuccessResult<TVariables, TData>;\n                                },\n                                (error: HttpError, index) => {\n                                    return {\n                                        response: [error],\n                                        type: \"error\",\n                                        request: [values[index]],\n                                    } as ImportErrorResult<TVariables>;\n                                },\n                            );\n                            // Resolve with created values\n                            resolve(createdValues);\n                        } else {\n                            // Create Chunks\n                            const chunks = chunk(values, batchSize);\n                            // Create Chunk Processor Functions\n                            const chunkedFns = chunks.map((chunkedValues) => {\n                                const fn = async () => {\n                                    const response =\n                                        await createMany.mutateAsync({\n                                            resource: identifier ?? \"\",\n                                            values: chunkedValues,\n                                            successNotification: false,\n                                            errorNotification: false,\n                                            dataProviderName,\n                                            meta: combinedMeta,\n                                            metaData: combinedMeta,\n                                        });\n\n                                    return {\n                                        response,\n                                        value: chunkedValues,\n                                        currentBatchLength:\n                                            chunkedValues.length,\n                                    };\n                                };\n\n                                return fn;\n                            });\n                            // Sequentially run chunked functions and process resolves/rejects\n                            const createdValues = await sequentialPromises(\n                                chunkedFns,\n                                ({ response, currentBatchLength, value }) => {\n                                    setProcessedAmount((currentAmount) => {\n                                        return (\n                                            currentAmount + currentBatchLength\n                                        );\n                                    });\n\n                                    return {\n                                        response: response.data,\n                                        type: \"success\",\n                                        request: value,\n                                    } as ImportSuccessResult<TVariables, TData>;\n                                },\n                                (error: HttpError, index) => {\n                                    return {\n                                        response: [error],\n                                        type: \"error\",\n                                        request: chunks[index],\n                                    } as ImportErrorResult<TVariables>;\n                                },\n                            );\n                            // resolve with all created values\n                            resolve(createdValues);\n                        }\n                    },\n\n                    ...paparseOptions,\n                });\n            },\n        ).then((createdValues) => {\n            handleFinish(createdValues);\n            return createdValues;\n        });\n    };\n\n    return {\n        inputProps: {\n            type: \"file\",\n            accept: \".csv\",\n            onChange: (event: React.ChangeEvent<HTMLInputElement>) => {\n                if (event.target.files && event.target.files.length > 0) {\n                    handleChange({ file: event.target.files[0] });\n                }\n            },\n        },\n        mutationResult,\n        isLoading,\n        handleChange,\n    };\n};\n","import { useCallback, useState } from \"react\";\n\nexport type useModalReturnType = {\n    visible: boolean;\n    show: () => void;\n    close: () => void;\n};\n\nexport type useModalProps = {\n    /**\n     * Initial state of the modal\n     */\n    defaultVisible?: boolean;\n};\n\nexport const useModal = ({\n    defaultVisible = false,\n}: useModalProps = {}): useModalReturnType => {\n    const [visible, setVisible] = useState(defaultVisible);\n\n    const show = useCallback(() => setVisible(true), [visible]);\n    const close = useCallback(() => setVisible(false), [visible]);\n\n    return {\n        visible,\n        show,\n        close,\n    };\n};\n","import { Action, IResourceItem } from \"../../../interfaces\";\nimport { useGetToPath } from \"../use-get-to-path\";\n\ntype UseToPathParams = {\n    resource?: IResourceItem;\n    action: Action;\n    meta?: Record<string, unknown>;\n    legacy?: boolean;\n};\n\n/**\n * Returns the route for a given action and resource.\n * If resource is not provided, it will use the resource from the route.\n * If the resource is not found, it will return undefined.\n * If the action is not found, it will return undefined.\n * `meta` can be provided to compose the routes with parameters. (Can be used for nested routes.)\n */\nexport const useToPath = ({\n    resource,\n    action,\n    meta,\n    legacy,\n}: UseToPathParams): string | undefined => {\n    const getToPath = useGetToPath();\n\n    return getToPath({ resource, action, meta, legacy });\n};\n","import { RouterBindingsContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\n\nexport const useLink = () => {\n    const bindings = useContext(RouterBindingsContext);\n\n    if (bindings?.Link) {\n        return bindings.Link;\n    }\n\n    const FallbackLink: Required<typeof bindings>[\"Link\"] = ({\n        to,\n        ...rest\n    }) => <a href={to} {...rest} />;\n\n    return FallbackLink;\n};\n","import { useContext } from \"react\";\nimport { RouterContext, defaultProvider } from \"@contexts/legacy-router\";\n\nexport const useRouterContext = () => {\n    const routerContextValues = useContext(RouterContext);\n\n    const { useHistory, useLocation, useParams, Prompt, Link, routes } =\n        routerContextValues ?? defaultProvider;\n\n    return {\n        useHistory,\n        useLocation,\n        useParams,\n        Prompt,\n        Link,\n        routes,\n    };\n};\n","import React from \"react\";\n\nimport { IRouterContext } from \"../../interfaces\";\n\nexport const defaultProvider: IRouterContext = {\n    useHistory: () => false,\n    useLocation: () => false,\n    useParams: () => ({} as any),\n    Prompt: () => null,\n    Link: () => null,\n};\n\nexport const LegacyRouterContext =\n    React.createContext<IRouterContext>(defaultProvider);\n\nexport const RouterContext = LegacyRouterContext;\n\nexport const LegacyRouterContextProvider: React.FC<\n    Partial<IRouterContext> & {\n        children?: React.ReactNode;\n    }\n> = ({\n    children,\n    useHistory,\n    useLocation,\n    useParams,\n    Prompt,\n    Link,\n    routes,\n}) => {\n    return (\n        <RouterContext.Provider\n            value={{\n                useHistory: useHistory ?? defaultProvider.useHistory,\n                useLocation: useLocation ?? defaultProvider.useLocation,\n                useParams: useParams ?? defaultProvider.useParams,\n                Prompt: Prompt ?? defaultProvider.Prompt,\n                Link: Link ?? defaultProvider.Link,\n                routes: routes ?? defaultProvider.routes,\n            }}\n        >\n            {children}\n        </RouterContext.Provider>\n    );\n};\n","import {\n    useQuery,\n    UseQueryOptions,\n    UseQueryResult,\n} from \"@tanstack/react-query\";\nimport { useContext } from \"react\";\n\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { sanitizeResource } from \"@definitions/helpers/sanitize-resource\";\nimport { CanParams, CanReturnType } from \"../../../interfaces\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nexport type UseCanProps = CanParams & {\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<CanReturnType>;\n};\n\n/**\n * `useCan` uses the `can` as the query function for `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`}. It takes the parameters that `can` takes. It can also be configured with `queryOptions` for `useQuery`. Returns the result of `useQuery`.\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/accessControl/useCan} for more details.\n *\n * @typeParam CanParams {@link https://refine.dev/docs/core/interfaceReferences#canparams}\n * @typeParam CanReturnType {@link https://refine.dev/docs/core/interfaceReferences#canreturntype}\n *\n */\nexport const useCan = ({\n    action,\n    resource,\n    params,\n    queryOptions,\n}: UseCanProps): UseQueryResult<CanReturnType> => {\n    const { can } = useContext(AccessControlContext);\n    const { keys, preferLegacyKeys } = useKeys();\n\n    /**\n     * Since `react-query` stringifies the query keys, it will throw an error for a circular dependency if we include `React.ReactNode` elements inside the keys.\n     * The feature in #2220(https://github.com/refinedev/refine/issues/2220) includes such change and to fix this, we need to remove `icon` property in the `resource`\n     */\n    const { resource: _resource, ...paramsRest } = params ?? {};\n\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    const sanitizedResource = sanitizeResource(_resource);\n\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    const queryResponse = useQuery<CanReturnType>(\n        keys()\n            .access()\n            .resource(resource)\n            .action(action)\n            .params({\n                params: { ...paramsRest, resource: sanitizedResource },\n                enabled: queryOptions?.enabled,\n            })\n            .get(preferLegacyKeys),\n        // Enabled check for `can` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        () =>\n            can?.({\n                action,\n                resource,\n                params: { ...paramsRest, resource: sanitizedResource },\n            }) ?? Promise.resolve({ can: true }),\n        {\n            enabled: typeof can !== \"undefined\",\n            ...queryOptions,\n            meta: {\n                ...queryOptions?.meta,\n                ...getXRay(\"useCan\", preferLegacyKeys),\n            },\n            retry: false,\n        },\n    );\n\n    return typeof can === \"undefined\"\n        ? ({ data: { can: true } } as typeof queryResponse)\n        : queryResponse;\n};\n","import React from \"react\";\n\nimport {\n    IAccessControlContext,\n    IAccessControlContextReturnType,\n} from \"./IAccessControlContext\";\n\n/** @deprecated default value for access control context has no use and is an empty object. */\nexport const defaultAccessControlContext: IAccessControlContext = {};\n\nexport const AccessControlContext =\n    React.createContext<IAccessControlContextReturnType>({\n        options: {\n            buttons: { enableAccessControl: true, hideIfUnauthorized: false },\n        },\n    });\n\nexport { IAccessControlContext };\n\nexport const AccessControlContextProvider: React.FC<\n    IAccessControlContext & {\n        children?: React.ReactNode;\n    }\n> = ({ can, children, options }) => {\n    return (\n        <AccessControlContext.Provider\n            value={{\n                can,\n                options: options\n                    ? {\n                          ...options,\n                          buttons: {\n                              enableAccessControl: true,\n                              hideIfUnauthorized: false,\n                              ...options.buttons,\n                          },\n                      }\n                    : {\n                          buttons: {\n                              enableAccessControl: true,\n                              hideIfUnauthorized: false,\n                          },\n                      },\n            }}\n        >\n            {children}\n        </AccessControlContext.Provider>\n    );\n};\n","import { IResourceItem } from \"../../../interfaces/bindings/resource\";\n\n/**\n * Remove all properties that are non-serializable from a resource object.\n */\nexport const sanitizeResource = (\n    resource?: Partial<IResourceItem> &\n        Required<Pick<IResourceItem, \"name\">> & { children?: unknown },\n):\n    | (Partial<IResourceItem> & Required<Pick<IResourceItem, \"name\">>)\n    | undefined => {\n    if (!resource) {\n        return undefined;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const {\n        icon,\n        list,\n        edit,\n        create,\n        show,\n        clone,\n        children,\n        meta,\n        options,\n        ...restResource\n    } = resource;\n\n    const { icon: _metaIcon, ...restMeta } = meta ?? {};\n    const { icon: _optionsIcon, ...restOptions } = options ?? {};\n\n    return {\n        ...restResource,\n        ...(meta ? { meta: restMeta } : {}),\n        ...(options ? { options: restOptions } : {}),\n    };\n};\n","import React from \"react\";\n\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { sanitizeResource } from \"@definitions/helpers/sanitize-resource\";\nimport { IAccessControlContext } from \"../../interfaces\";\n\nexport const useCanWithoutCache = (): IAccessControlContext => {\n    const { can: canFromContext } = React.useContext(AccessControlContext);\n\n    const can = React.useMemo(() => {\n        if (!canFromContext) {\n            return undefined;\n        }\n\n        const canWithSanitizedResource: NonNullable<\n            typeof canFromContext\n        > = async ({ params, ...rest }) => {\n            const sanitizedResource = params?.resource\n                ? sanitizeResource(params.resource)\n                : undefined;\n\n            return canFromContext({\n                ...rest,\n                ...(params\n                    ? {\n                          params: {\n                              ...params,\n                              resource: sanitizedResource,\n                          },\n                      }\n                    : {}),\n            });\n        };\n\n        return canWithSanitizedResource;\n    }, [canFromContext]);\n\n    return { can };\n};\n","import { useCallback, useMemo, useState } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport uniqBy from \"lodash/uniqBy\";\nimport debounce from \"lodash/debounce\";\nimport get from \"lodash/get\";\n\nimport { useList, useMany, useMeta } from \"@hooks\";\nimport {\n    CrudSorting,\n    BaseOption,\n    BaseRecord,\n    GetManyResponse,\n    GetListResponse,\n    CrudFilters,\n    SuccessErrorNotification,\n    HttpError,\n    LiveModeProps,\n    BaseKey,\n    Pagination,\n    MetaQuery,\n    Prettify,\n} from \"../../interfaces\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\nimport { useResource } from \"../resource/useResource/index\";\nimport { BaseListProps } from \"../data/useList\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\nexport type UseSelectProps<TQueryFnData, TError, TData> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * Set the option's value\n     * @default `\"title\"`\n     */\n    optionLabel?: keyof TData extends string ? keyof TData : never;\n    /**\n     * Set the option's label value\n     * @default `\"id\"`\n     */\n    optionValue?: keyof TData extends string ? keyof TData : never;\n    /**\n     * Allow us to sort the options\n     * @deprecated Use `sorters` instead\n     */\n    sort?: CrudSorting;\n    /**\n     * Allow us to sort the options\n     */\n    sorters?: CrudSorting;\n    /**\n     * Resource name for API data interactions\n     */\n    filters?: CrudFilters;\n    /**\n     * Adds extra `options`\n     */\n    defaultValue?: BaseKey | BaseKey[];\n    /**\n     * The number of milliseconds to delay\n     * @default `300`\n     */\n    debounce?: number;\n    /**\n     * react-query [useQuery](https://react-query.tanstack.com/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<\n        GetListResponse<TQueryFnData>,\n        TError,\n        GetListResponse<TData>\n    >;\n    /**\n     * Pagination option from [`useList()`](/docs/api-reference/core/hooks/data/useList/)\n     * @type {  current?: number; pageSize?: number;}\n     * @default `undefined`\n     */\n    pagination?: Prettify<\n        Omit<Pagination, \"mode\"> & {\n            /**\n             * Whether to use server side pagination or not.\n             * @default \"off\"\n             */\n            mode?: Pagination[\"mode\"];\n        }\n    >;\n    /**\n     * Disabling pagination option from [`useList()`](/docs/api-reference/core/hooks/data/useList/)\n     * @type boolean\n     * @default `false`\n     * @deprecated `hasPagination` is deprecated, use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * react-query [useQuery](https://react-query.tanstack.com/reference/useQuery) options\n     */\n    defaultValueQueryOptions?: UseQueryOptions<\n        GetManyResponse<TQueryFnData>,\n        TError\n    >;\n    /**\n     * If defined, this callback allows us to override all filters for every search request.\n     * @default `undefined`\n     */\n    onSearch?: (value: string) => CrudFilters;\n    /**\n     * Additional meta data to pass to the `useMany` from the data provider\n     */\n    meta?: MetaQuery;\n    /**\n     * Additional meta data to pass to the `useMany` from the data provider\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default `default`\n     */\n    dataProviderName?: string;\n    /**\n     * Amount of records to fetch in select box list.\n     * @deprecated use [`pagination`](https://refine.dev/docs/api-reference/core/interfaceReferences/#pagination) instead\n     * @default `undefined`\n     */\n    fetchSize?: number;\n} & SuccessErrorNotification<\n    GetListResponse<TData>,\n    TError,\n    Prettify<BaseListProps>\n> &\n    LiveModeProps &\n    UseLoadingOvertimeOptionsProps;\n\nexport type UseSelectReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TOption extends BaseOption = BaseOption,\n> = {\n    queryResult: QueryObserverResult<GetListResponse<TData>>;\n    defaultValueQueryResult: QueryObserverResult<GetManyResponse<TData>>;\n    onSearch: (value: string) => void;\n    options: TOption[];\n} & UseLoadingOvertimeReturnType;\n\n/**\n * `useSelect` hook is used to fetch data from the dataProvider and return the options for the select box.\n *\n * It uses `getList` method as query function from the dataProvider that is\n * passed to {@link https://refine.dev/docs/api-reference/core/components/refine-config/ `<Refine>`}.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/useSelect} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useSelect = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TData extends BaseRecord = TQueryFnData,\n    TOption extends BaseOption = BaseOption,\n>(\n    props: UseSelectProps<TQueryFnData, TError, TData>,\n): UseSelectReturnType<TData, TOption> => {\n    const [search, setSearch] = useState<CrudFilters>([]);\n    const [options, setOptions] = useState<TOption[]>([]);\n    const [selectedOptions, setSelectedOptions] = useState<TOption[]>([]);\n\n    const {\n        resource: resourceFromProps,\n        sort,\n        sorters,\n        filters = [],\n        optionLabel = \"title\",\n        optionValue = \"id\",\n        debounce: debounceValue = 300,\n        successNotification,\n        errorNotification,\n        defaultValueQueryOptions: defaultValueQueryOptionsFromProps,\n        queryOptions,\n        fetchSize,\n        pagination,\n        hasPagination = false,\n        liveMode,\n        defaultValue = [],\n        onLiveEvent,\n        onSearch: onSearchFromProp,\n        liveParams,\n        meta,\n        metaData,\n        dataProviderName,\n        overtimeOptions,\n    } = props;\n\n    const { resource, identifier } = useResource(resourceFromProps);\n\n    const getMeta = useMeta();\n\n    const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n    });\n\n    const defaultValues = Array.isArray(defaultValue)\n        ? defaultValue\n        : [defaultValue];\n\n    const defaultValueQueryOnSuccess = useCallback(\n        (data: GetManyResponse<TData>) => {\n            setSelectedOptions(\n                data.data.map(\n                    (item) =>\n                        ({\n                            label: get(item, optionLabel),\n                            value: get(item, optionValue),\n                        } as TOption),\n                ),\n            );\n        },\n        [optionLabel, optionValue],\n    );\n\n    const defaultValueQueryOptions =\n        defaultValueQueryOptionsFromProps ?? (queryOptions as any);\n\n    const defaultValueQueryResult = useMany<TQueryFnData, TError, TData>({\n        resource: identifier,\n        ids: defaultValues,\n        queryOptions: {\n            ...defaultValueQueryOptions,\n            enabled:\n                defaultValues.length > 0 &&\n                (defaultValueQueryOptions?.enabled ?? true),\n            onSuccess: (data) => {\n                defaultValueQueryOnSuccess(data);\n                defaultValueQueryOptions?.onSuccess?.(data);\n            },\n        },\n        meta: combinedMeta,\n        metaData: combinedMeta,\n        liveMode: \"off\",\n        dataProviderName,\n    });\n\n    const defaultQueryOnSuccess = useCallback(\n        (data: GetListResponse<TData>) => {\n            {\n                setOptions(\n                    data.data.map(\n                        (item) =>\n                            ({\n                                label: get(item, optionLabel),\n                                value: get(item, optionValue),\n                            } as TOption),\n                    ),\n                );\n            }\n        },\n        [optionLabel, optionValue],\n    );\n\n    const queryResult = useList<TQueryFnData, TError, TData>({\n        resource: identifier,\n        sorters: pickNotDeprecated(sorters, sort),\n        filters: filters.concat(search),\n        pagination: {\n            current: pagination?.current,\n            pageSize: pagination?.pageSize ?? fetchSize,\n            mode: pagination?.mode,\n        },\n        hasPagination,\n        queryOptions: {\n            ...queryOptions,\n            onSuccess: (data) => {\n                defaultQueryOnSuccess(data);\n                queryOptions?.onSuccess?.(data);\n            },\n        },\n        successNotification,\n        errorNotification,\n        meta: combinedMeta,\n        metaData: combinedMeta,\n        liveMode,\n        liveParams,\n        onLiveEvent,\n        dataProviderName,\n    });\n\n    const onSearch = (value: string) => {\n        if (onSearchFromProp) {\n            setSearch(onSearchFromProp(value));\n            return;\n        }\n\n        if (!value) {\n            setSearch([]);\n            return;\n        } else {\n            setSearch([\n                {\n                    field: optionLabel,\n                    operator: \"contains\",\n                    value,\n                },\n            ]);\n        }\n    };\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: queryResult.isFetching || defaultValueQueryResult.isFetching,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    const combinedOptions = useMemo(\n        () => uniqBy([...options, ...selectedOptions], \"value\"),\n        [options, selectedOptions],\n    );\n\n    return {\n        queryResult,\n        defaultValueQueryResult,\n        options: combinedOptions,\n        onSearch: debounce(onSearch, debounceValue),\n        overtime: { elapsedTime },\n    };\n};\n","import React, { useState, useEffect } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport qs from \"qs\";\nimport differenceWith from \"lodash/differenceWith\";\nimport isEqual from \"lodash/isEqual\";\nimport warnOnce from \"warn-once\";\n\nimport {\n    useRouterContext,\n    useSyncWithLocation,\n    useNavigation,\n    useList,\n    useLiveMode,\n    useRouterType,\n    useResource,\n    useParsed,\n    useMeta,\n} from \"@hooks\";\nimport {\n    stringifyTableParams,\n    parseTableParams,\n    unionFilters,\n    setInitialFilters,\n    setInitialSorters,\n    unionSorters,\n} from \"@definitions/table\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\n\nimport {\n    BaseRecord,\n    CrudFilters,\n    CrudSorting,\n    GetListResponse,\n    SuccessErrorNotification,\n    HttpError,\n    MetaQuery,\n    LiveModeProps,\n    Pagination,\n    Prettify,\n} from \"../../interfaces\";\nimport { useGo } from \"@hooks/router/use-go\";\nimport { BaseListProps } from \"../data/useList\";\nimport {\n    useLoadingOvertime,\n    UseLoadingOvertimeOptionsProps,\n    UseLoadingOvertimeReturnType,\n} from \"../useLoadingOvertime\";\n\ntype SetFilterBehavior = \"merge\" | \"replace\";\n\nexport type useTableProps<TQueryFnData, TError, TData> = {\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * Configuration for pagination\n     */\n    pagination?: Pagination;\n    /**\n     * Initial page index\n     * @default 1\n     * @deprecated `initialCurrent` property is deprecated. Use `pagination.current` instead.\n     */\n    initialCurrent?: number;\n    /**\n     * Initial number of items per page\n     * @default 10\n     * @deprecated `initialPageSize` property is deprecated. Use `pagination.pageSize` instead.\n     */\n    initialPageSize?: number;\n    /**\n     * Sort configs\n     */\n    sorters?: {\n        /**\n         * Initial sorter state\n         */\n        initial?: CrudSorting;\n        /**\n         * Default and unchangeable sorter state\n         *  @default `[]`\n         */\n        permanent?: CrudSorting;\n        /**\n         * Whether to use server side sorting or not.\n         * @default \"server\"\n         */\n        mode?: \"server\" | \"off\";\n    };\n    /**\n     * Initial sorter state\n     * @deprecated `initialSorter` property is deprecated. Use `sorters.initial` instead.\n     */\n    initialSorter?: CrudSorting;\n    /**\n     * Default and unchangeable sorter state\n     *  @default `[]`\n     *  @deprecated `permanentSorter` property is deprecated. Use `sorters.permanent` instead.\n     */\n    permanentSorter?: CrudSorting;\n    /**\n     * Filter configs\n     */\n    filters?: {\n        /**\n         * Initial filter state\n         */\n        initial?: CrudFilters;\n        /**\n         * Default and unchangeable filter state\n         *  @default `[]`\n         */\n        permanent?: CrudFilters;\n        /**\n         * Default behavior of the `setFilters` function\n         * @default `\"merge\"`\n         */\n        defaultBehavior?: SetFilterBehavior;\n        /**\n         * Whether to use server side filter or not.\n         * @default \"server\"\n         */\n        mode?: \"server\" | \"off\";\n    };\n    /**\n     * Initial filter state\n     * @deprecated `initialFilter` property is deprecated. Use `filters.initial` instead.\n     */\n    initialFilter?: CrudFilters;\n    /**\n     * Default and unchangeable filter state\n     * @default `[]`\n     * @deprecated `permanentFilter` property is deprecated. Use `filters.permanent` instead.\n     */\n    permanentFilter?: CrudFilters;\n    /**\n     * Default behavior of the `setFilters` function\n     * @default `\"merge\"`\n     * @deprecated `defaultSetFilterBehavior` property is deprecated. Use `filters.defaultBehavior` instead.\n     */\n    defaultSetFilterBehavior?: SetFilterBehavior;\n    /**\n     * Whether to use server side pagination or not.\n     * @default `true`\n     * @deprecated `hasPagination` property is deprecated. Use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * Sortings, filters, page index and records shown per page are tracked by browser history\n     * @default Value set in [Refine](/docs/api-reference/core/components/refine-config/#syncwithlocation). If a custom resource is given, it will be `false`\n     */\n    syncWithLocation?: boolean;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<\n        GetListResponse<TQueryFnData>,\n        TError,\n        GetListResponse<TData>\n    >;\n    /**\n     * Metadata query for dataProvider\n     */\n    meta?: MetaQuery;\n    /**\n     * Metadata query for dataProvider\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification<\n    GetListResponse<TData>,\n    TError,\n    Prettify<BaseListProps>\n> &\n    LiveModeProps &\n    UseLoadingOvertimeOptionsProps;\n\ntype ReactSetState<T> = React.Dispatch<React.SetStateAction<T>>;\n\ntype SyncWithLocationParams = {\n    pagination: { current?: number; pageSize?: number };\n    /**\n     * @deprecated `sorter` is deprecated. Use `sorters` instead.\n     */\n    sorter?: CrudSorting;\n    sorters: CrudSorting;\n    filters: CrudFilters;\n};\n\nexport type useTableReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n> = {\n    tableQueryResult: QueryObserverResult<GetListResponse<TData>, TError>;\n    /**\n     * @deprecated `sorter` is deprecated. Use `sorters` instead.\n     */\n    sorter: CrudSorting;\n    sorters: CrudSorting;\n    /**\n     * @deprecated `setSorter` is deprecated. Use `setSorters` instead.\n     */\n    setSorter: (sorter: CrudSorting) => void;\n    setSorters: (sorter: CrudSorting) => void;\n    filters: CrudFilters;\n    setFilters: ((filters: CrudFilters, behavior?: SetFilterBehavior) => void) &\n        ((setter: (prevFilters: CrudFilters) => CrudFilters) => void);\n    createLinkForSyncWithLocation: (params: SyncWithLocationParams) => string;\n    current: number;\n    setCurrent: ReactSetState<useTableReturnType[\"current\"]>;\n    pageSize: number;\n    setPageSize: ReactSetState<useTableReturnType[\"pageSize\"]>;\n    pageCount: number;\n} & UseLoadingOvertimeReturnType;\n\n/**\n * By using useTable, you are able to get properties that are compatible with\n * Ant Design {@link https://ant.design/components/table/ `<Table>`} component.\n * All features such as sorting, filtering and pagination comes as out of box.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/useTable} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nconst defaultPermanentFilter: CrudFilters = [];\nconst defaultPermanentSorter: CrudSorting = [];\n\nexport function useTable<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TData extends BaseRecord = TQueryFnData,\n>({\n    initialCurrent,\n    initialPageSize,\n    hasPagination = true,\n    pagination,\n    initialSorter,\n    permanentSorter = defaultPermanentSorter,\n    defaultSetFilterBehavior,\n    initialFilter,\n    permanentFilter = defaultPermanentFilter,\n    filters: filtersFromProp,\n    sorters: sortersFromProp,\n    syncWithLocation: syncWithLocationProp,\n    resource: resourceFromProp,\n    successNotification,\n    errorNotification,\n    queryOptions,\n    liveMode: liveModeFromProp,\n    onLiveEvent,\n    liveParams,\n    meta,\n    metaData,\n    dataProviderName,\n    overtimeOptions,\n}: useTableProps<TQueryFnData, TError, TData> = {}): useTableReturnType<\n    TData,\n    TError\n> {\n    const { syncWithLocation: syncWithLocationContext } = useSyncWithLocation();\n\n    const syncWithLocation = syncWithLocationProp ?? syncWithLocationContext;\n\n    const liveMode = useLiveMode(liveModeFromProp);\n\n    const routerType = useRouterType();\n    const { useLocation } = useRouterContext();\n    const { search, pathname } = useLocation();\n    const getMeta = useMeta();\n    const parsedParams = useParsed();\n\n    const isServerSideFilteringEnabled =\n        (filtersFromProp?.mode || \"server\") === \"server\";\n    const isServerSideSortingEnabled =\n        (sortersFromProp?.mode || \"server\") === \"server\";\n    const hasPaginationString = hasPagination === false ? \"off\" : \"server\";\n    const isPaginationEnabled =\n        (pagination?.mode ?? hasPaginationString) !== \"off\";\n    const prefferedCurrent = pickNotDeprecated(\n        pagination?.current,\n        initialCurrent,\n    );\n    const prefferedPageSize = pickNotDeprecated(\n        pagination?.pageSize,\n        initialPageSize,\n    );\n    const preferredMeta = pickNotDeprecated(meta, metaData);\n\n    /** `parseTableParams` is redundant with the new routing */\n    // We want to always parse the query string even when syncWithLocation is\n    // deactivated, for hotlinking to work properly\n    const { parsedCurrent, parsedPageSize, parsedSorter, parsedFilters } =\n        parseTableParams(search ?? \"?\");\n\n    const preferredInitialFilters = pickNotDeprecated(\n        filtersFromProp?.initial,\n        initialFilter,\n    );\n    const preferredPermanentFilters =\n        pickNotDeprecated(filtersFromProp?.permanent, permanentFilter) ??\n        defaultPermanentFilter;\n\n    const preferredInitialSorters = pickNotDeprecated(\n        sortersFromProp?.initial,\n        initialSorter,\n    );\n    const preferredPermanentSorters =\n        pickNotDeprecated(sortersFromProp?.permanent, permanentSorter) ??\n        defaultPermanentSorter;\n\n    const prefferedFilterBehavior =\n        pickNotDeprecated(\n            filtersFromProp?.defaultBehavior,\n            defaultSetFilterBehavior,\n        ) ?? \"merge\";\n\n    let defaultCurrent: number;\n    let defaultPageSize: number;\n    let defaultSorter: CrudSorting | undefined;\n    let defaultFilter: CrudFilters | undefined;\n\n    if (syncWithLocation) {\n        defaultCurrent =\n            parsedParams?.params?.current ||\n            parsedCurrent ||\n            prefferedCurrent ||\n            1;\n        defaultPageSize =\n            parsedParams?.params?.pageSize ||\n            parsedPageSize ||\n            prefferedPageSize ||\n            10;\n        defaultSorter =\n            parsedParams?.params?.sorters ||\n            (parsedSorter.length ? parsedSorter : preferredInitialSorters);\n        defaultFilter =\n            parsedParams?.params?.filters ||\n            (parsedFilters.length ? parsedFilters : preferredInitialFilters);\n    } else {\n        defaultCurrent = prefferedCurrent || 1;\n        defaultPageSize = prefferedPageSize || 10;\n        defaultSorter = preferredInitialSorters;\n        defaultFilter = preferredInitialFilters;\n    }\n\n    const { replace } = useNavigation();\n    /** New way of `replace` calls to the router is using `useGo` */\n    const go = useGo();\n\n    const { resource, identifier } = useResource(resourceFromProp);\n\n    const combinedMeta = getMeta({\n        resource,\n        meta: preferredMeta,\n    });\n\n    React.useEffect(() => {\n        warnOnce(\n            typeof identifier === \"undefined\",\n            `useTable: \\`resource\\` is not defined.`,\n        );\n    }, [identifier]);\n\n    const [sorters, setSorters] = useState<CrudSorting>(\n        setInitialSorters(preferredPermanentSorters, defaultSorter ?? []),\n    );\n    const [filters, setFilters] = useState<CrudFilters>(\n        setInitialFilters(preferredPermanentFilters, defaultFilter ?? []),\n    );\n    const [current, setCurrent] = useState<number>(defaultCurrent);\n    const [pageSize, setPageSize] = useState<number>(defaultPageSize);\n\n    const createLinkForSyncWithLocation = ({\n        pagination: { current, pageSize },\n        sorter,\n        filters,\n    }: SyncWithLocationParams) => {\n        if (routerType === \"new\") {\n            return (\n                go({\n                    type: \"path\",\n                    options: {\n                        keepHash: true,\n                        keepQuery: true,\n                    },\n                    query: {\n                        ...(isPaginationEnabled ? { current, pageSize } : {}),\n                        sorters: sorter,\n                        filters,\n                        ...currentQueryParams(),\n                    },\n                }) ?? \"\"\n            );\n        } else {\n            const currentQueryParams = qs.parse(search?.substring(1)); // remove first ? character\n\n            const stringifyParams = stringifyTableParams({\n                pagination: {\n                    pageSize,\n                    current,\n                },\n                sorters: sorters ?? sorter,\n                filters,\n                ...currentQueryParams,\n            });\n            return `${pathname ?? \"\"}?${stringifyParams ?? \"\"}`;\n        }\n    };\n\n    useEffect(() => {\n        if (search === \"\") {\n            setCurrent(defaultCurrent);\n            setPageSize(defaultPageSize);\n            setSorters(\n                setInitialSorters(\n                    preferredPermanentSorters,\n                    defaultSorter ?? [],\n                ),\n            );\n            setFilters(\n                setInitialFilters(\n                    preferredPermanentFilters,\n                    defaultFilter ?? [],\n                ),\n            );\n        }\n    }, [search]);\n\n    const currentQueryParams = (): object => {\n        if (routerType === \"new\") {\n            // We get QueryString parameters that are uncontrolled by refine.\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { sorters, filters, pageSize, current, ...rest } =\n                parsedParams?.params ?? {};\n\n            return rest;\n        } else {\n            // We get QueryString parameters that are uncontrolled by refine.\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { sorter, filters, pageSize, current, ...rest } = qs.parse(\n                search,\n                {\n                    ignoreQueryPrefix: true,\n                },\n            );\n\n            return rest;\n        }\n    };\n\n    useEffect(() => {\n        if (syncWithLocation) {\n            // Careful! This triggers render\n            const queryParams = currentQueryParams();\n\n            if (routerType === \"new\") {\n                go({\n                    type: \"replace\",\n                    options: {\n                        keepQuery: true,\n                    },\n                    query: {\n                        ...(isPaginationEnabled ? { pageSize, current } : {}),\n                        sorters: differenceWith(\n                            sorters,\n                            preferredPermanentSorters,\n                            isEqual,\n                        ),\n                        filters: differenceWith(\n                            filters,\n                            preferredPermanentFilters,\n                            isEqual,\n                        ),\n                        // ...queryParams,\n                    },\n                });\n            } else {\n                const stringifyParams = stringifyTableParams({\n                    ...(isPaginationEnabled\n                        ? {\n                              pagination: {\n                                  pageSize,\n                                  current,\n                              },\n                          }\n                        : {}),\n                    sorters: differenceWith(\n                        sorters,\n                        preferredPermanentSorters,\n                        isEqual,\n                    ),\n                    filters: differenceWith(\n                        filters,\n                        preferredPermanentFilters,\n                        isEqual,\n                    ),\n                    ...queryParams,\n                });\n                return replace?.(`${pathname}?${stringifyParams}`, undefined, {\n                    shallow: true,\n                });\n            }\n        }\n    }, [syncWithLocation, current, pageSize, sorters, filters]);\n\n    const queryResult = useList<TQueryFnData, TError, TData>({\n        resource: identifier,\n        hasPagination,\n        pagination: { current, pageSize, mode: pagination?.mode },\n        filters: isServerSideFilteringEnabled\n            ? unionFilters(preferredPermanentFilters, filters)\n            : undefined,\n        sorters: isServerSideSortingEnabled\n            ? unionSorters(preferredPermanentSorters, sorters)\n            : undefined,\n        queryOptions,\n        successNotification,\n        errorNotification,\n        meta: combinedMeta,\n        metaData: combinedMeta,\n        liveMode,\n        liveParams,\n        onLiveEvent,\n        dataProviderName,\n    });\n\n    const setFiltersAsMerge = (newFilters: CrudFilters) => {\n        setFilters((prevFilters) =>\n            unionFilters(preferredPermanentFilters, newFilters, prevFilters),\n        );\n    };\n\n    const setFiltersAsReplace = (newFilters: CrudFilters) => {\n        setFilters(unionFilters(preferredPermanentFilters, newFilters));\n    };\n\n    const setFiltersWithSetter = (\n        setter: (prevFilters: CrudFilters) => CrudFilters,\n    ) => {\n        setFilters((prev) =>\n            unionFilters(preferredPermanentFilters, setter(prev)),\n        );\n    };\n\n    const setFiltersFn: useTableReturnType<TQueryFnData>[\"setFilters\"] = (\n        setterOrFilters,\n        behavior: SetFilterBehavior = prefferedFilterBehavior,\n    ) => {\n        if (typeof setterOrFilters === \"function\") {\n            setFiltersWithSetter(setterOrFilters);\n        } else {\n            if (behavior === \"replace\") {\n                setFiltersAsReplace(setterOrFilters);\n            } else {\n                setFiltersAsMerge(setterOrFilters);\n            }\n        }\n    };\n\n    const setSortWithUnion = (newSorter: CrudSorting) => {\n        setSorters(() => unionSorters(preferredPermanentSorters, newSorter));\n    };\n\n    const { elapsedTime } = useLoadingOvertime({\n        isLoading: queryResult.isFetching,\n        interval: overtimeOptions?.interval,\n        onInterval: overtimeOptions?.onInterval,\n    });\n\n    return {\n        tableQueryResult: queryResult,\n        sorters,\n        setSorters: setSortWithUnion,\n        sorter: sorters,\n        setSorter: setSortWithUnion,\n        filters,\n        setFilters: setFiltersFn,\n        current,\n        setCurrent,\n        pageSize,\n        setPageSize,\n        pageCount: pageSize\n            ? Math.ceil((queryResult.data?.total ?? 0) / pageSize)\n            : 1,\n        createLinkForSyncWithLocation,\n        overtime: {\n            elapsedTime,\n        },\n    };\n}\n","import { useContext } from \"react\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { ResourceContext } from \"@contexts/resource\";\nimport { useGetIdentity } from \"@hooks/auth\";\nimport { BaseKey, LogParams } from \"../../../interfaces\";\nimport { hasPermission, pickNotDeprecated } from \"@definitions/helpers\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\ntype LogRenameData =\n    | {\n          resource?: string;\n      }\n    | undefined;\n\nexport type UseLogReturnType<TLogData, TLogRenameData> = {\n    log: UseMutationResult<TLogData, Error, LogParams>;\n    rename: UseMutationResult<\n        TLogRenameData,\n        Error,\n        {\n            id: BaseKey;\n            name: string;\n        }\n    >;\n};\n\nexport type UseLogMutationProps<\n    TLogData,\n    TLogRenameData extends LogRenameData = LogRenameData,\n> = {\n    logMutationOptions?: Omit<\n        UseMutationOptions<TLogData, Error, LogParams, unknown>,\n        \"mutationFn\"\n    >;\n    renameMutationOptions?: Omit<\n        UseMutationOptions<\n            TLogRenameData,\n            Error,\n            { id: BaseKey; name: string },\n            unknown\n        >,\n        \"mutationFn\" | \"onSuccess\"\n    >;\n};\n\n/**\n * useLog is used to `create` a new and `rename` the existing audit log.\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/audit-log/useLog} for more details.\n */\n\nexport const useLog = <\n    TLogData,\n    TLogRenameData extends LogRenameData = LogRenameData,\n>({\n    logMutationOptions,\n    renameMutationOptions,\n}: UseLogMutationProps<TLogData, TLogRenameData> = {}): UseLogReturnType<\n    TLogData,\n    TLogRenameData\n> => {\n    const queryClient = useQueryClient();\n    const auditLogContext = useContext(AuditLogContext);\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const authProvider = useActiveAuthProvider();\n\n    const { resources } = useContext(ResourceContext);\n    const {\n        data: identityData,\n        refetch,\n        isLoading,\n    } = useGetIdentity({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n        queryOptions: {\n            enabled: !!auditLogContext?.create,\n        },\n    });\n\n    const log = useMutation<TLogData, Error, LogParams, unknown>(\n        async (params) => {\n            const resource = pickResource(params.resource, resources);\n            const logPermissions = pickNotDeprecated(\n                resource?.meta?.audit,\n                resource?.options?.audit,\n                resource?.options?.auditLog?.permissions,\n            );\n\n            if (logPermissions) {\n                if (!hasPermission(logPermissions, params.action)) {\n                    return;\n                }\n            }\n\n            let authorData;\n            if (isLoading && !!auditLogContext?.create) {\n                authorData = await refetch();\n            }\n\n            return await auditLogContext.create?.({\n                ...params,\n                author: identityData ?? authorData?.data,\n            });\n        },\n        {\n            mutationKey: keys().audit().action(\"log\").get(),\n            ...logMutationOptions,\n            meta: {\n                ...logMutationOptions?.meta,\n                ...getXRay(\"useLog\", preferLegacyKeys),\n            },\n        },\n    );\n\n    const rename = useMutation<\n        TLogRenameData,\n        Error,\n        { id: BaseKey; name: string },\n        unknown\n    >(\n        async (params) => {\n            return await auditLogContext.update?.(params);\n        },\n        {\n            onSuccess: (data) => {\n                if (data?.resource) {\n                    queryClient.invalidateQueries(\n                        keys()\n                            .audit()\n                            .resource(data?.resource ?? \"\")\n                            .action(\"list\")\n                            .get(preferLegacyKeys),\n                    );\n                }\n            },\n            mutationKey: keys().audit().action(\"rename\").get(),\n            ...renameMutationOptions,\n            meta: {\n                ...renameMutationOptions?.meta,\n                ...getXRay(\"useLog\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return { log, rename };\n};\n","import React from \"react\";\n\nimport { IAuditLogContext } from \"./IAuditLogContext\";\n\nexport const AuditLogContext = React.createContext<IAuditLogContext>({});\n\nexport const AuditLogContextProvider: React.FC<\n    IAuditLogContext & {\n        children: React.ReactNode;\n    }\n> = ({ create, get, update, children }) => {\n    return (\n        <AuditLogContext.Provider value={{ create, get, update }}>\n            {children}\n        </AuditLogContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\nimport {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { HttpError, MetaQuery } from \"../../../interfaces\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\n\nexport type UseLogProps<TQueryFnData, TError, TData> = {\n    resource: string;\n    action?: string;\n    meta?: Record<number | string, any>;\n    author?: Record<number | string, any>;\n    queryOptions?: UseQueryOptions<TQueryFnData, TError, TData>;\n    metaData?: MetaQuery;\n};\n\n/**\n * useLogList is used to get and filter audit logs.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/audit-log/useLogList} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function.\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Defaults to `TQueryFnData`\n *\n */\nexport const useLogList = <\n    TQueryFnData = any,\n    TError extends HttpError = HttpError,\n    TData = TQueryFnData,\n>({\n    resource,\n    action,\n    meta,\n    author,\n    metaData,\n    queryOptions,\n}: UseLogProps<TQueryFnData, TError, TData>): UseQueryResult<TData> => {\n    const { get } = useContext(AuditLogContext);\n    const { keys, preferLegacyKeys } = useKeys();\n\n    const queryResponse = useQuery<TQueryFnData, TError, TData>(\n        keys()\n            .audit()\n            .resource(resource)\n            .action(\"list\")\n            .params(meta)\n            .get(preferLegacyKeys),\n        () =>\n            get?.({\n                resource,\n                action,\n                author,\n                meta,\n                metaData,\n            }) ?? Promise.resolve([]),\n        {\n            enabled: typeof get !== \"undefined\",\n            ...queryOptions,\n            retry: false,\n            meta: {\n                ...queryOptions?.meta,\n                ...getXRay(\"useLogList\", preferLegacyKeys),\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","import React, { useContext } from \"react\";\nimport warnOnce from \"warn-once\";\n\nimport { useRefineContext, useResource, useTranslate } from \"@hooks\";\nimport { TranslationContext } from \"@contexts/translation\";\nimport { pickNotDeprecated } from \"@definitions\";\n\nimport { IResourceItem } from \"../../interfaces\";\nimport { useRouterType } from \"@contexts/router-picker\";\nimport { getActionRoutesFromResource } from \"@definitions/helpers/router\";\nimport { pickResource } from \"../../definitions/helpers/pick-resource/index\";\nimport { composeRoute } from \"@definitions/helpers/router/compose-route\";\nimport { useParsed } from \"@hooks/router/use-parsed\";\n\nexport type BreadcrumbsType = {\n    label: string;\n    href?: string;\n    icon?: React.ReactNode;\n};\n\ntype UseBreadcrumbReturnType = {\n    breadcrumbs: BreadcrumbsType[];\n};\n\ntype UseBreadcrumbProps = {\n    /**\n     * Additional params to be used in the route generation process.\n     */\n    meta?: Record<string, string | number>;\n};\n\nexport const useBreadcrumb = ({\n    meta: metaFromProps = {},\n}: UseBreadcrumbProps = {}): UseBreadcrumbReturnType => {\n    const routerType = useRouterType();\n    const { i18nProvider } = useContext(TranslationContext);\n    const parsed = useParsed();\n    const translate = useTranslate();\n    const { resources, resource, action } = useResource();\n    const {\n        options: { textTransformers },\n    } = useRefineContext();\n\n    const breadcrumbs: BreadcrumbsType[] = [];\n\n    if (!resource?.name) {\n        return { breadcrumbs };\n    }\n\n    const addBreadcrumb = (parentName: string | IResourceItem) => {\n        const parentResource =\n            typeof parentName === \"string\"\n                ? pickResource(\n                      parentName,\n                      resources,\n                      routerType === \"legacy\",\n                  ) ?? { name: parentName }\n                : parentName;\n\n        if (parentResource) {\n            const grandParentName = pickNotDeprecated(\n                parentResource?.meta?.parent,\n                parentResource?.parentName,\n            );\n            if (grandParentName) {\n                addBreadcrumb(grandParentName);\n            }\n            const listActionOfResource = getActionRoutesFromResource(\n                parentResource,\n                resources,\n                routerType === \"legacy\",\n            ).find((r) => r.action === \"list\");\n\n            const hrefRaw = listActionOfResource?.resource?.list\n                ? listActionOfResource?.route\n                : undefined;\n\n            const href = hrefRaw\n                ? routerType === \"legacy\"\n                    ? hrefRaw\n                    : composeRoute(\n                          hrefRaw,\n                          parentResource?.meta,\n                          parsed,\n                          metaFromProps,\n                      )\n                : undefined;\n\n            breadcrumbs.push({\n                label:\n                    pickNotDeprecated(\n                        parentResource.meta?.label,\n                        parentResource.options?.label,\n                    ) ??\n                    translate(\n                        `${parentResource.name}.${parentResource.name}`,\n                        textTransformers.humanize(parentResource.name),\n                    ),\n                href: href,\n                icon: pickNotDeprecated(\n                    parentResource.meta?.icon,\n                    parentResource.options?.icon,\n                    parentResource.icon,\n                ),\n            });\n        }\n    };\n\n    addBreadcrumb(resource);\n\n    if (action && action !== \"list\") {\n        const key = `actions.${action}`;\n        const actionLabel = translate(key);\n        if (typeof i18nProvider !== \"undefined\" && actionLabel === key) {\n            warnOnce(\n                true,\n                `[useBreadcrumb]: Breadcrumb missing translate key for the \"${action}\" action. Please add \"actions.${action}\" key to your translation file.\\nFor more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`,\n            );\n            breadcrumbs.push({\n                label: translate(\n                    `buttons.${action}`,\n                    textTransformers.humanize(action),\n                ),\n            });\n        } else {\n            breadcrumbs.push({\n                label: translate(key, textTransformers.humanize(action)),\n            });\n        }\n    }\n\n    return {\n        breadcrumbs,\n    };\n};\n","import React from \"react\";\nimport { useTranslate, useResource, useParsed, useRouterContext } from \"..\";\nimport { useUserFriendlyName, pickNotDeprecated } from \"@definitions\";\nimport { useRouterType } from \"../../contexts/router-picker\";\nimport { createResourceKey } from \"../../definitions/helpers/menu/create-resource-key\";\nimport { useGetToPath } from \"../router/use-get-to-path/index\";\nimport { getParentResource } from \"@definitions/helpers/router\";\nimport {\n    FlatTreeItem,\n    createTree,\n} from \"../../definitions/helpers/menu/create-tree\";\n\ntype UseMenuReturnType = {\n    defaultOpenKeys: string[];\n    selectedKey: string;\n    menuItems: TreeMenuItem[];\n};\n\nexport type UseMenuProps = {\n    meta?: Record<string, any>;\n    hideOnMissingParameter?: boolean;\n};\n\nexport type TreeMenuItem = FlatTreeItem & {\n    route?: string;\n    icon?: React.ReactNode;\n    label?: string;\n    children: TreeMenuItem[];\n};\n\nconst getCleanPath = (pathname: string) => {\n    return pathname\n        .split(\"?\")[0]\n        .split(\"#\")[0]\n        .replace(/(.+)(\\/$)/, \"$1\");\n};\n\n/**\n * `useMenu` is used to get menu items of the default sidebar.\n * These items include a link to dashboard page (if it exists) and links to the user defined resources\n * (passed as children to {@link https://refine.dev/docs/core/components/refine-config `<Refine>`}).\n * This hook can also be used to build custom menus, which is also used by default sidebar to show menu items.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/ui/useMenu} for more details.\n */\nexport const useMenu = (\n    { meta, hideOnMissingParameter }: UseMenuProps = {\n        hideOnMissingParameter: true,\n    },\n): UseMenuReturnType => {\n    const translate = useTranslate();\n\n    const getToPath = useGetToPath();\n    const routerType = useRouterType();\n    const { resource, resources } = useResource();\n    const { pathname } = useParsed();\n    const { useLocation } = useRouterContext();\n    const { pathname: legacyPath } = useLocation();\n    const getFriendlyName = useUserFriendlyName();\n\n    const cleanPathname =\n        routerType === \"legacy\"\n            ? getCleanPath(legacyPath)\n            : pathname\n            ? getCleanPath(pathname)\n            : undefined;\n\n    const cleanRoute = `/${(cleanPathname ?? \"\").replace(/^\\//, \"\")}`;\n\n    const selectedKey = resource\n        ? createResourceKey(resource, resources, routerType === \"legacy\")\n        : cleanRoute ?? \"\";\n\n    const defaultOpenKeys = React.useMemo(() => {\n        if (!resource) return [];\n        let parent = getParentResource(resource, resources);\n        const keys = [createResourceKey(resource, resources)];\n        while (parent) {\n            keys.push(createResourceKey(parent, resources));\n            parent = getParentResource(parent, resources);\n        }\n        return keys;\n    }, []);\n\n    const prepareItem = React.useCallback(\n        (item: FlatTreeItem): TreeMenuItem | undefined => {\n            if (item?.meta?.hide ?? item?.options?.hide) return undefined;\n            if (!item?.list && item.children.length === 0) return undefined;\n\n            const composed = item.list\n                ? getToPath({\n                      resource: item,\n                      action: \"list\",\n                      legacy: routerType === \"legacy\",\n                      meta,\n                  })\n                : undefined;\n\n            if (\n                hideOnMissingParameter &&\n                composed &&\n                composed.match(/(\\/|^):(.+?)(\\/|$){1}/)\n            )\n                return undefined;\n\n            return {\n                ...item,\n                route: composed,\n                icon: pickNotDeprecated(\n                    item.meta?.icon,\n                    item.options?.icon,\n                    item.icon,\n                ),\n                label:\n                    pickNotDeprecated(\n                        item?.meta?.label,\n                        item?.options?.label,\n                    ) ??\n                    translate(\n                        `${item.name}.${item.name}`,\n                        getFriendlyName(item.name, \"plural\"),\n                    ),\n            };\n        },\n        [routerType, meta, translate, hideOnMissingParameter],\n    );\n\n    const treeItems = React.useMemo(() => {\n        const treeMenuItems = createTree(resources, routerType === \"legacy\");\n\n        // add paths to items and their nodes recursively\n        const prepare = (items: TreeMenuItem[]): TreeMenuItem[] => {\n            return items.flatMap((item) => {\n                const preparedNodes = prepare(item.children);\n                const newItem = prepareItem({\n                    ...item,\n                    children: preparedNodes,\n                });\n\n                if (!newItem) return [];\n\n                return [newItem];\n            });\n        };\n\n        return prepare(treeMenuItems);\n    }, [resources, routerType, prepareItem]);\n\n    return {\n        defaultOpenKeys,\n        selectedKey,\n        menuItems: treeItems,\n    };\n};\n","import { IResourceItem } from \"../../../interfaces\";\nimport {\n    getParentResource,\n    removeLeadingTrailingSlashes,\n} from \"../../helpers/router\";\n\nexport const createResourceKey = (\n    resource: IResourceItem,\n    resources: IResourceItem[],\n    legacy = false,\n) => {\n    const parents: IResourceItem[] = [];\n\n    let currentParentResource = getParentResource(resource, resources);\n    while (currentParentResource) {\n        parents.push(currentParentResource);\n        currentParentResource = getParentResource(\n            currentParentResource,\n            resources,\n        );\n    }\n    parents.reverse();\n\n    const key = [...parents, resource]\n        .map((r) =>\n            removeLeadingTrailingSlashes(\n                (legacy ? r.route : undefined) ?? r.identifier ?? r.name,\n            ),\n        )\n        .join(\"/\");\n\n    return `/${key.replace(/^\\//, \"\")}`;\n};\n","import { IResourceItem } from \"../../../contexts/resource\";\nimport { getParentResource } from \"../router\";\nimport { createResourceKey } from \"./create-resource-key\";\n\nexport type Tree = {\n    item: IResourceItem;\n    children: { [key: string]: Tree };\n};\n\nexport type FlatTreeItem = IResourceItem & {\n    key: string;\n    children: FlatTreeItem[];\n};\n\nexport const createTree = (\n    resources: IResourceItem[],\n    legacy = false,\n): FlatTreeItem[] => {\n    const root: Tree = {\n        item: {\n            name: \"__root__\",\n        },\n        children: {},\n    };\n\n    resources.forEach((resource) => {\n        const parents: IResourceItem[] = [];\n\n        let currentParent = getParentResource(resource, resources);\n        while (currentParent) {\n            parents.push(currentParent);\n            currentParent = getParentResource(currentParent, resources);\n        }\n        parents.reverse();\n\n        let currentTree = root;\n\n        parents.forEach((parent) => {\n            const key =\n                (legacy ? parent.route : undefined) ??\n                parent.identifier ??\n                parent.name;\n\n            if (!currentTree.children[key]) {\n                currentTree.children[key] = {\n                    item: parent,\n                    children: {},\n                };\n            }\n            currentTree = currentTree.children[key];\n        });\n\n        const key =\n            (legacy ? resource.route : undefined) ??\n            resource.identifier ??\n            resource.name;\n\n        if (!currentTree.children[key]) {\n            currentTree.children[key] = {\n                item: resource,\n                children: {},\n            };\n        }\n    });\n\n    const flatten = (tree: Tree): FlatTreeItem[] => {\n        const items: FlatTreeItem[] = [];\n\n        Object.keys(tree.children).forEach((key) => {\n            const itemKey = createResourceKey(\n                tree.children[key].item,\n                resources,\n                legacy,\n            );\n            const item: FlatTreeItem = {\n                ...tree.children[key].item,\n                key: itemKey,\n                children: flatten(tree.children[key]),\n            };\n            items.push(item);\n        });\n\n        return items;\n    };\n\n    return flatten(root);\n};\n","import { useParsed } from \"@hooks/router\";\nimport { sanitizeResource } from \"@definitions/helpers/sanitize-resource\";\nimport { IResourceItem, MetaQuery } from \"../../interfaces\";\n\n/**\n * Hook that returns a function to get meta.\n * The meta is a combination of the resource meta, hook meta and query params.\n * @internal\n */\nexport const useMeta = () => {\n    const { params } = useParsed();\n\n    const getMetaFn = ({\n        resource,\n        meta: metaFromProp,\n    }: {\n        resource?: IResourceItem;\n        meta?: MetaQuery;\n    } = {}) => {\n        const { meta } = sanitizeResource(resource) ?? { meta: {} };\n\n        // this fields came from the query params and should be removed from the meta because they are not part of the meta.\n        const {\n            filters: _filters,\n            sorters: _sorters,\n            current: _current,\n            pageSize: _pageSize,\n            ...additionalParams\n        } = params ?? {};\n\n        return { ...meta, ...additionalParams, ...metaFromProp };\n    };\n\n    return getMetaFn;\n};\n","import React, { useState } from \"react\";\n\nimport { useLogin, useTranslate } from \"@hooks\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\nexport interface ILoginForm {\n    username: string;\n    password: string;\n}\n\n/**\n * @deprecated LoginPage is deprecated. Use AuthPage instead. @see {@link https://refine.dev/docs/core/components/auth-page} for more details.\n * **refine** has a default login page form which is served on `/login` route when the `authProvider` configuration is provided.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/components/refine-config/#loginpage} for more details.\n */\nexport const LoginPage: React.FC = () => {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const translate = useTranslate();\n\n    const authProvider = useActiveAuthProvider();\n    const { mutate: login } = useLogin<ILoginForm>({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n\n    return (\n        <>\n            <h1>{translate(\"pages.login.title\", \"Sign in your account\")}</h1>\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    login({ username, password });\n                }}\n            >\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>\n                                {translate(\n                                    \"pages.login.username\",\n                                    undefined,\n                                    \"username\",\n                                )}\n                                :\n                            </td>\n                            <td>\n                                <input\n                                    type=\"text\"\n                                    size={20}\n                                    autoCorrect=\"off\"\n                                    spellCheck={false}\n                                    autoCapitalize=\"off\"\n                                    autoFocus\n                                    required\n                                    value={username}\n                                    onChange={(e) =>\n                                        setUsername(e.target.value)\n                                    }\n                                />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                {translate(\n                                    \"pages.login.password\",\n                                    undefined,\n                                    \"password\",\n                                )}\n                                :\n                            </td>\n                            <td>\n                                <input\n                                    type=\"password\"\n                                    required\n                                    size={20}\n                                    value={password}\n                                    onChange={(e) =>\n                                        setPassword(e.target.value)\n                                    }\n                                />\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <br />\n                <input type=\"submit\" value=\"login\" />\n            </form>\n        </>\n    );\n};\n","import React, {\n    DetailedHTMLProps,\n    HTMLAttributes,\n    FormHTMLAttributes,\n} from \"react\";\n\nimport {\n    LoginPage,\n    RegisterPage,\n    ForgotPasswordPage,\n    UpdatePasswordPage,\n} from \"./components\";\n\nimport { AuthPageProps } from \"../../../interfaces\";\n\nexport type DivPropsType = DetailedHTMLProps<\n    HTMLAttributes<HTMLDivElement>,\n    HTMLDivElement\n>;\nexport type FormPropsType = DetailedHTMLProps<\n    FormHTMLAttributes<HTMLFormElement>,\n    HTMLFormElement\n>;\n\nexport type AuthProps = AuthPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\n/**\n * **refine** has a default auth page form which is served on `/login` route when the `authProvider` configuration is provided.\n * @param title is not implemented yet.\n * @see {@link https://refine.dev/docs/api-reference/core/components/auth-page/} for more details.\n */\nexport const AuthPage: React.FC<AuthProps> = (props) => {\n    const { type } = props;\n    const renderView = () => {\n        switch (type) {\n            case \"register\":\n                return <RegisterPage {...props} />;\n            case \"forgotPassword\":\n                return <ForgotPasswordPage {...props} />;\n            case \"updatePassword\":\n                return <UpdatePasswordPage {...props} />;\n            default:\n                return <LoginPage {...props} />;\n        }\n    };\n\n    return <>{renderView()}</>;\n};\n","import React, { useState } from \"react\";\nimport { LoginPageProps, LoginFormTypes } from \"../../../../../interfaces\";\n\nimport { useRouterContext, useLink, useRouterType, useLogin } from \"@hooks\";\nimport { useTranslate } from \"@hooks/translate\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\n\ntype LoginProps = LoginPageProps<DivPropsType, DivPropsType, FormPropsType>;\n\nexport const LoginPage: React.FC<LoginProps> = ({\n    providers,\n    registerLink,\n    forgotPasswordLink,\n    rememberMe,\n    contentProps,\n    wrapperProps,\n    renderContent,\n    formProps,\n    title = undefined,\n}) => {\n    const routerType = useRouterType();\n    const Link = useLink();\n    const { Link: LegacyLink } = useRouterContext();\n\n    const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link;\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [remember, setRemember] = useState(false);\n\n    const translate = useTranslate();\n\n    const authProvider = useActiveAuthProvider();\n    const { mutate: login } = useLogin<LoginFormTypes>({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n\n    const renderLink = (link: string, text?: string) => {\n        return <ActiveLink to={link}>{text}</ActiveLink>;\n    };\n\n    const renderProviders = () => {\n        if (providers) {\n            return providers.map((provider) => (\n                <div\n                    key={provider.name}\n                    style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        marginBottom: \"1rem\",\n                    }}\n                >\n                    <button\n                        onClick={() =>\n                            login({\n                                providerName: provider.name,\n                            })\n                        }\n                        style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                        }}\n                    >\n                        {provider?.icon}\n                        {provider.label ?? <label>{provider.label}</label>}\n                    </button>\n                </div>\n            ));\n        }\n        return null;\n    };\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\"pages.login.title\", \"Sign in to your account\")}\n            </h1>\n            {renderProviders()}\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    login({ email, password, remember });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label htmlFor=\"email-input\">\n                        {translate(\"pages.login.fields.email\", \"Email\")}\n                    </label>\n                    <input\n                        id=\"email-input\"\n                        name=\"email\"\n                        type=\"text\"\n                        size={20}\n                        autoCorrect=\"off\"\n                        spellCheck={false}\n                        autoCapitalize=\"off\"\n                        required\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <label htmlFor=\"password-input\">\n                        {translate(\"pages.login.fields.password\", \"Password\")}\n                    </label>\n                    <input\n                        id=\"password-input\"\n                        type=\"password\"\n                        name=\"password\"\n                        required\n                        size={20}\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                    {rememberMe ?? (\n                        <>\n                            <label htmlFor=\"remember-me-input\">\n                                {translate(\n                                    \"pages.login.buttons.rememberMe\",\n                                    \"Remember me\",\n                                )}\n                                <input\n                                    id=\"remember-me-input\"\n                                    name=\"remember\"\n                                    type=\"checkbox\"\n                                    size={20}\n                                    checked={remember}\n                                    value={remember.toString()}\n                                    onChange={() => {\n                                        setRemember(!remember);\n                                    }}\n                                />\n                            </label>\n                        </>\n                    )}\n                    <br />\n                    {forgotPasswordLink ??\n                        renderLink(\n                            \"/forgot-password\",\n                            translate(\n                                \"pages.login.buttons.forgotPassword\",\n                                \"Forgot password?\",\n                            ),\n                        )}\n                    <input\n                        type=\"submit\"\n                        value={translate(\"pages.login.signin\", \"Sign in\")}\n                    />\n                    {registerLink ?? (\n                        <span>\n                            {translate(\n                                \"pages.login.buttons.noAccount\",\n                                \"Dont have an account?\",\n                            )}{\" \"}\n                            {renderLink(\n                                \"/register\",\n                                translate(\"pages.login.register\", \"Sign up\"),\n                            )}\n                        </span>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content, title) : content}\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\nimport { RegisterPageProps } from \"../../../../../interfaces\";\n\nimport {\n    useTranslate,\n    useRouterContext,\n    useLink,\n    useRouterType,\n    useRegister,\n} from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\n\ntype RegisterProps = RegisterPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\nexport const RegisterPage: React.FC<RegisterProps> = ({\n    providers,\n    loginLink,\n    wrapperProps,\n    contentProps,\n    renderContent,\n    formProps,\n    title = undefined,\n}) => {\n    const routerType = useRouterType();\n    const Link = useLink();\n    const { Link: LegacyLink } = useRouterContext();\n\n    const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link;\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const translate = useTranslate();\n\n    const authProvider = useActiveAuthProvider();\n    const { mutate: register, isLoading } = useRegister({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n\n    const renderLink = (link: string, text?: string) => {\n        return <ActiveLink to={link}>{text}</ActiveLink>;\n    };\n\n    const renderProviders = () => {\n        if (providers) {\n            return providers.map((provider) => (\n                <div\n                    key={provider.name}\n                    style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        marginBottom: \"1rem\",\n                    }}\n                >\n                    <button\n                        onClick={() =>\n                            register({\n                                providerName: provider.name,\n                            })\n                        }\n                        style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                        }}\n                    >\n                        {provider?.icon}\n                        {provider.label ?? <label>{provider.label}</label>}\n                    </button>\n                </div>\n            ));\n        }\n        return null;\n    };\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\"pages.register.title\", \"Sign up for your account\")}\n            </h1>\n            {renderProviders()}\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    register({ email, password });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label htmlFor=\"email-input\">\n                        {translate(\"pages.register.fields.email\", \"Email\")}\n                    </label>\n                    <input\n                        id=\"email-input\"\n                        name=\"email\"\n                        type=\"email\"\n                        size={20}\n                        autoCorrect=\"off\"\n                        spellCheck={false}\n                        autoCapitalize=\"off\"\n                        required\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <label htmlFor=\"password-input\">\n                        {translate(\n                            \"pages.register.fields.password\",\n                            \"Password\",\n                        )}\n                    </label>\n                    <input\n                        id=\"password-input\"\n                        name=\"password\"\n                        type=\"password\"\n                        required\n                        size={20}\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                    <input\n                        type=\"submit\"\n                        value={translate(\n                            \"pages.register.buttons.submit\",\n                            \"Sign up\",\n                        )}\n                        disabled={isLoading}\n                    />\n                    {loginLink ?? (\n                        <>\n                            <span>\n                                {translate(\n                                    \"pages.login.buttons.haveAccount\",\n                                    \"Have an account?\",\n                                )}{\" \"}\n                                {renderLink(\n                                    \"/login\",\n                                    translate(\"pages.login.signin\", \"Sign in\"),\n                                )}\n                            </span>\n                        </>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content, title) : content}\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\n\nimport {\n    useTranslate,\n    useRouterContext,\n    useLink,\n    useRouterType,\n    useForgotPassword,\n} from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport {\n    ForgotPasswordFormTypes,\n    ForgotPasswordPageProps,\n} from \"../../../../../interfaces\";\n\ntype ForgotPasswordProps = ForgotPasswordPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\nexport const ForgotPasswordPage: React.FC<ForgotPasswordProps> = ({\n    loginLink,\n    wrapperProps,\n    contentProps,\n    renderContent,\n    formProps,\n    title = undefined,\n}) => {\n    const translate = useTranslate();\n    const routerType = useRouterType();\n    const Link = useLink();\n    const { Link: LegacyLink } = useRouterContext();\n\n    const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link;\n\n    const [email, setEmail] = useState(\"\");\n\n    const { mutate: forgotPassword, isLoading } =\n        useForgotPassword<ForgotPasswordFormTypes>();\n\n    const renderLink = (link: string, text?: string) => {\n        return <ActiveLink to={link}>{text}</ActiveLink>;\n    };\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\n                    \"pages.forgotPassword.title\",\n                    \"Forgot your password?\",\n                )}\n            </h1>\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    forgotPassword({ email });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label htmlFor=\"email-input\">\n                        {translate(\n                            \"pages.forgotPassword.fields.email\",\n                            \"Email\",\n                        )}\n                    </label>\n                    <input\n                        id=\"email-input\"\n                        name=\"email\"\n                        type=\"mail\"\n                        autoCorrect=\"off\"\n                        spellCheck={false}\n                        autoCapitalize=\"off\"\n                        required\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <input\n                        type=\"submit\"\n                        disabled={isLoading}\n                        value={translate(\n                            \"pages.forgotPassword.buttons.submit\",\n                            \"Send reset instructions\",\n                        )}\n                    />\n                    <br />\n                    {loginLink ?? (\n                        <span>\n                            {translate(\n                                \"pages.register.buttons.haveAccount\",\n                                \"Have an account? \",\n                            )}{\" \"}\n                            {renderLink(\n                                \"/login\",\n                                translate(\"pages.login.signin\", \"Sign in\"),\n                            )}\n                        </span>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content, title) : content}\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\nimport {\n    UpdatePasswordFormTypes,\n    UpdatePasswordPageProps,\n} from \"../../../../../interfaces\";\n\nimport { useTranslate, useUpdatePassword } from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\n\ntype UpdatePasswordProps = UpdatePasswordPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\nexport const UpdatePasswordPage: React.FC<UpdatePasswordProps> = ({\n    wrapperProps,\n    contentProps,\n    renderContent,\n    formProps,\n    title = undefined,\n}) => {\n    const translate = useTranslate();\n\n    const authProvider = useActiveAuthProvider();\n    const { mutate: updatePassword, isLoading } =\n        useUpdatePassword<UpdatePasswordFormTypes>({\n            v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n        });\n\n    const [newPassword, setNewPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\"pages.updatePassword.title\", \"Update Password\")}\n            </h1>\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    updatePassword({\n                        password: newPassword,\n                        confirmPassword,\n                    });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label htmlFor=\"password-input\">\n                        {translate(\n                            \"pages.updatePassword.fields.password\",\n                            \"New Password\",\n                        )}\n                    </label>\n                    <input\n                        id=\"password-input\"\n                        name=\"password\"\n                        type=\"password\"\n                        required\n                        size={20}\n                        value={newPassword}\n                        onChange={(e) => setNewPassword(e.target.value)}\n                    />\n                    <label htmlFor=\"confirm-password-input\">\n                        {translate(\n                            \"pages.updatePassword.fields.confirmPassword\",\n                            \"Confirm New Password\",\n                        )}\n                    </label>\n                    <input\n                        id=\"confirm-password-input\"\n                        name=\"confirmPassword\"\n                        type=\"password\"\n                        required\n                        size={20}\n                        value={confirmPassword}\n                        onChange={(e) => setConfirmPassword(e.target.value)}\n                    />\n                    <input\n                        type=\"submit\"\n                        disabled={isLoading}\n                        value={translate(\n                            \"pages.updatePassword.buttons.submit\",\n                            \"Update\",\n                        )}\n                    />\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content, title) : content}\n        </div>\n    );\n};\n","import React from \"react\";\n\n/**\n * **refine** shows a default ready page on root route when no `resources` is passed to the `<Refine>` component as a property.\n *\n * @deprecated `ReadyPage` is deprecated and will be removed in the next major release.\n */\nexport const ReadyPage: React.FC = () => {\n    return (\n        <>\n            <h1>Welcome on board</h1>\n            <p>Your configuration is completed.</p>\n            <p>\n                Now you can get started by adding your resources to the{\" \"}\n                <code>`resources`</code> property of <code>{\"`<Refine>`\"}</code>\n            </p>\n            <div style={{ display: \"flex\", gap: 8 }}>\n                <a href=\"https://refine.dev\" target=\"_blank\" rel=\"noreferrer\">\n                    <button>Documentation</button>\n                </a>\n                <a\n                    href=\"https://refine.dev/examples\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                >\n                    <button>Examples</button>\n                </a>\n                <a\n                    href=\"https://discord.gg/refine\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                >\n                    <button>Community</button>\n                </a>\n            </div>\n        </>\n    );\n};\n","import React, { useState } from \"react\";\n\nimport { useMediaQuery } from \"@definitions/helpers\";\n\ntype CardInfo = {\n    title: string;\n    description: string;\n    link: string;\n    icon: React.ReactNode;\n};\n\nconst CARDS: CardInfo[] = [\n    {\n        title: \"Documentation\",\n        description:\n            \"Learn about the technical details of using refine in your projects.\",\n        link: \"https://refine.dev/\",\n        icon: (\n            <svg\n                width=\"14\"\n                height=\"16\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <path\n                    d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z\"\n                    fill=\"#fff\"\n                />\n            </svg>\n        ),\n    },\n    {\n        title: \"Tutorial\",\n        description:\n            \"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.\",\n        link: \"https://refine.dev/docs/tutorial/introduction/index/\",\n        icon: (\n            <svg\n                width=\"16\"\n                height=\"14\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <path\n                    d=\"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z\"\n                    fill=\"#fff\"\n                />\n                <path\n                    d=\"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z\"\n                    fill=\"#fff\"\n                />\n            </svg>\n        ),\n    },\n    {\n        title: \"Examples\",\n        description:\n            \"A collection of reference applications you can use as a starting point.\",\n        link: \"https://refine.dev/examples\",\n        icon: (\n            <svg\n                width=\"16\"\n                height=\"16\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <path\n                    fillRule=\"evenodd\"\n                    clipRule=\"evenodd\"\n                    d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z\"\n                    fill=\"#fff\"\n                />\n                <path\n                    d=\"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z\"\n                    fill=\"#fff\"\n                />\n            </svg>\n        ),\n    },\n    {\n        title: \"Community\",\n        description:\n            \"Join our Discord community and keep up with the latest news.\",\n        link: \"https://discord.gg/refine\",\n        icon: (\n            <svg\n                width=\"16\"\n                height=\"12\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <path\n                    d=\"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z\"\n                    fill=\"#fff\"\n                />\n            </svg>\n        ),\n    },\n];\n\n/**\n * It is a page that welcomes you after the configuration is completed.\n */\nexport const WelcomePage: React.FC = () => {\n    const isTablet = useMediaQuery(\"(max-width: 1010px)\");\n    const isMobile = useMediaQuery(\"(max-width: 650px)\");\n\n    const getGridTemplateColumns = () => {\n        if (isMobile) {\n            return \"1, 280px\";\n        } else if (isTablet) {\n            return \"2, 280px\";\n        } else {\n            return \"4, 208px\";\n        }\n    };\n\n    const getHeaderFontSize = () => {\n        if (isMobile) {\n            return \"32px\";\n        } else if (isTablet) {\n            return \"40px\";\n        } else {\n            return \"48px\";\n        }\n    };\n\n    const getSubHeaderFontSize = () => {\n        if (isMobile) {\n            return \"16px\";\n        } else if (isTablet) {\n            return \"20px\";\n        } else {\n            return \"24px\";\n        }\n    };\n\n    return (\n        <div\n            style={{\n                backgroundImage:\n                    \"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)\",\n                backgroundPosition: \"center top\",\n                backgroundSize: \"cover\",\n                backgroundRepeat: \"no-repeat\",\n                minHeight: \"100vh\",\n                backgroundColor: \"#0D0D12\",\n                fontFamily: \"Arial\",\n                color: \"#FFFFFF\",\n            }}\n        >\n            <div style={{ height: \"89px\" }}></div>\n            <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                <img\n                    src=\"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp\"\n                    width=\"198\"\n                    height=\"54\"\n                />\n            </div>\n            <div\n                style={{\n                    height: isTablet ? \"270px\" : \"22vw\",\n                    minHeight: isTablet ? \"270px\" : \"313px\",\n                }}\n            ></div>\n            <div\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: \"16px\",\n                    textAlign: \"center\",\n                }}\n            >\n                <h1\n                    style={{\n                        fontSize: getHeaderFontSize(),\n                        fontWeight: 700,\n                        margin: \"0px\",\n                    }}\n                >\n                    Welcome Aboard!\n                </h1>\n                <h4\n                    style={{\n                        fontSize: getSubHeaderFontSize(),\n                        fontWeight: 400,\n                        margin: \"0px\",\n                    }}\n                >\n                    Your configuration is completed.\n                </h4>\n            </div>\n            <div style={{ height: \"64px\" }}></div>\n            <div\n                style={{\n                    display: \"grid\",\n                    gridTemplateColumns: `repeat(${getGridTemplateColumns()})`,\n                    justifyContent: \"center\",\n                    gap: \"48px\",\n                    paddingRight: \"16px\",\n                    paddingLeft: \"16px\",\n                    maxWidth: \"976px\",\n                    margin: \"auto\",\n                }}\n            >\n                {CARDS.map((card) => (\n                    <Card key={`welcome-page-${card.title}`} card={card} />\n                ))}\n            </div>\n            <div style={{ height: \"64px\" }}></div>\n        </div>\n    );\n};\n\ntype CardProps = {\n    card: CardInfo;\n};\n\nconst Card: React.FC<CardProps> = ({ card }) => {\n    const { title, description, icon, link } = card;\n\n    const [isHover, setIsHover] = useState(false);\n\n    return (\n        <div\n            style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                gap: \"16px\",\n            }}\n        >\n            <div\n                style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                }}\n            >\n                <a\n                    onPointerEnter={() => setIsHover(true)}\n                    onPointerLeave={() => setIsHover(false)}\n                    style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        color: \"#fff\",\n                        textDecoration: \"none\",\n                    }}\n                    href={link}\n                >\n                    {icon}\n                    <span\n                        style={{\n                            fontSize: \"16px\",\n                            fontWeight: 700,\n                            marginLeft: \"13px\",\n                            marginRight: \"14px\",\n                        }}\n                    >\n                        {title}\n                    </span>\n                    <svg\n                        style={{\n                            transition:\n                                \"transform 0.5s ease-in-out, opacity 0.2s ease-in-out\",\n                            ...(isHover && {\n                                transform: \"translateX(4px)\",\n                                opacity: 1,\n                            }),\n                        }}\n                        width=\"12\"\n                        height=\"8\"\n                        fill=\"none\"\n                        opacity=\"0.5\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                        <path\n                            d=\"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z\"\n                            fill=\"#fff\"\n                        />\n                    </svg>\n                </a>\n            </div>\n            <span\n                style={{\n                    fontSize: \"12px\",\n                    opacity: 0.5,\n                    lineHeight: \"16px\",\n                }}\n            >\n                {description}\n            </span>\n        </div>\n    );\n};\n","import React from \"react\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { useQuerySubscription } from \"@refinedev/devtools-internal\";\n\nimport { ReadyPage as DefaultReadyPage, RouteChangeHandler } from \"@components\";\nimport { Telemetry } from \"@components/telemetry\";\nimport { AccessControlContextProvider } from \"@contexts/accessControl\";\nimport { AuditLogContextProvider } from \"@contexts/auditLog\";\nimport {\n    AuthBindingsContextProvider,\n    LegacyAuthContextProvider,\n} from \"@contexts/auth\";\nimport { DataContextProvider } from \"@contexts/data\";\nimport { LegacyRouterContextProvider } from \"@contexts/legacy-router\";\nimport { LiveContextProvider } from \"@contexts/live\";\nimport { NotificationContextProvider } from \"@contexts/notification\";\nimport { RefineContextProvider } from \"@contexts/refine\";\nimport { ResourceContextProvider } from \"@contexts/resource\";\nimport { TranslationContextProvider } from \"@contexts/translation\";\nimport { UndoableQueueContextProvider } from \"@contexts/undoableQueue\";\nimport { UnsavedWarnContextProvider } from \"@contexts/unsavedWarn\";\nimport { handleRefineOptions } from \"@definitions\";\nimport { useDeepMemo } from \"@hooks/deepMemo\";\nimport { RouterBindings } from \"src/interfaces/bindings\";\n\nimport { RouterPickerProvider } from \"@contexts/router-picker\";\nimport { RouterBindingsProvider } from \"../../../contexts/router\";\nimport { useRouterMisuseWarning } from \"../../../hooks/router/use-router-misuse-warning/index\";\nimport {\n    AccessControlProvider,\n    AuditLogProvider,\n    AuthBindings,\n    DashboardPageProps,\n    I18nProvider,\n    IDataContextProvider,\n    IDataMultipleContextProvider,\n    ILiveContext,\n    INotificationContext,\n    IRefineOptions,\n    IRouterProvider,\n    LayoutProps,\n    LegacyAuthProvider,\n    LiveModeProps,\n    NotificationProvider,\n    TitleProps,\n} from \"../../../interfaces\";\nimport { ResourceProps } from \"../../../interfaces/bindings/resource\";\n\nexport interface RefineProps {\n    children?: React.ReactNode;\n    /**\n     * `resources` is the predefined interaction points for a refine app. A resource represents an entity in an endpoint in the API.\n     * While this is not a required property, it is used in resource detection and creation of routes for the app.\n     * @type [`ResourceProps[]`](https://refine.dev/docs/api-reference/core/components/refine-config/#resources)\n     */\n    resources?: ResourceProps[];\n    /**\n     * **refine** needs some router functions to create resource pages, handle navigation, etc. This provider allows you to use the router library you want\n     * @type [`IRouterProvider`](https://refine.dev/docs/api-reference/core/providers/router-provider/)\n     * @deprecated This property is deprecated and was the legacy way of routing. Please use `routerProvider` with new router bindings instead.\n     */\n    legacyRouterProvider?: IRouterProvider;\n    /**\n     * Router bindings for **refine**. A simple interface for **refine** to interact with your router in a flexible way.\n     * @type [`RouterBindings`](https://refine.dev/docs/api-reference/core/bindings/router/)\n     */\n    routerProvider?: RouterBindings;\n    /**\n     * A `dataProvider` is the place where a refine app communicates with an API. Data providers also act as adapters for refine, making it possible for it to consume different API's and data services.\n     * @type [`IDataContextProvider` | `IDataMultipleContextProvider`](https://refine.dev/docs/api-reference/core/providers/data-provider/)\n     */\n    dataProvider: IDataContextProvider | IDataMultipleContextProvider;\n    /**\n     * `authProvider` handles authentication logic like login, logout flow and checking user credentials. It is an object with methods that refine uses when necessary.\n     * @type [`AuthBindings`](https://refine.dev/docs/api-reference/core/providers/auth-provider/)\n     */\n    authProvider?: AuthBindings;\n    /**\n     * `legacyAuthProvider` handles authentication logic like login, logout flow and checking user credentials. It is an object with methods that refine uses when necessary.\n     * @type [`AuthProvider`](https://refine.dev/docs/api-reference/core/providers/auth-provider/)\n     * @deprecated `legacyAuthProvider` is deprecated with refine@4, use `authProvider` instead.\n     */\n    legacyAuthProvider?: LegacyAuthProvider;\n    /**\n     * **refine** lets you add Realtime support to your app via `liveProvider`. It can be used to update and show data in Realtime throughout your app.\n     * @type [`ILiveContext`](https://refine.dev/docs/api-reference/core/providers/live-provider/)\n     */\n    liveProvider?: ILiveContext;\n    /**\n     * `notificationProvider` handles notification logics. It is an object with methods that refine uses when necessary.\n     * @type [`NotificationProvider` | `(() => NotificationProvider)`](https://refine.dev/docs/api-reference/core/providers/notification-provider/)\n     */\n    notificationProvider?: NotificationProvider | (() => NotificationProvider);\n    /**\n     * `accessControlProvider` is the entry point for implementing access control for refine apps.\n     * @type [`AccessControlProvider`](https://refine.dev/docs/api-reference/core/providers/accessControl-provider/)\n     */\n    accessControlProvider?: AccessControlProvider;\n    /**\n     * **refine** allows you to track changes in your data and keep track of who made the changes.\n     * @type [`AuditLogProvider`](https://refine.dev/docs/api-reference/core/providers/audit-log-provider#overview)\n     */\n    auditLogProvider?: AuditLogProvider;\n    /**\n     * `i18nProvider` property lets you add i18n support to your app. Making you able to use any i18n framework.\n     * @type [`i18nProvider`](https://refine.dev/docs/api-reference/core/providers/i18n-provider/)\n     */\n    i18nProvider?: I18nProvider;\n    /**\n     * A custom error component.\n     * @type [`ReactNode`](https://refine.dev/docs/api-reference/core/components/refine-config/#catchall)\n     * @deprecated Please use the `catchAll` element in your routes instead.\n     */\n    catchAll?: React.ReactNode;\n    /**\n     * Custom login component can be passed to the `LoginPage` property.\n     * @type [`React.FC`](https://refine.dev/docs/api-reference/core/components/refine-config/#loginpage)\n     * @deprecated Please use the `LoginPage` component in your routes instead.\n     */\n    LoginPage?: React.FC;\n    /**\n     * A custom dashboard page can be passed to the `DashboardPage` prop which is accessible on root route.\n     * @type [`React.FC<DashboardPageProps>`](https://refine.dev/docs/api-reference/core/components/refine-config/#dashboardpage)\n     * @deprecated Please use the `DashboardPage` component in your routes instead.\n     */\n    DashboardPage?: React.FC<DashboardPageProps>;\n    /**\n     * Custom ready page component can be set by passing to `ReadyPage` property.\n     * @type [`React.FC`](https://refine.dev/docs/api-reference/core/components/refine-config/#readypage)\n     * @deprecated This component is only used with the legacy router and will be removed in the future.\n     */\n    ReadyPage?: React.FC;\n    /**\n     * Default layout can be customized by passing the `Layout` property.\n     * @type [`React.FC<LayoutProps>`](https://refine.dev/docs/api-reference/core/components/refine-config/#layout)\n     * @deprecated Please use the `Layout` component as a children instead of a prop.\n     */\n    Layout?: React.FC<LayoutProps>;\n    /**\n     * The default sidebar can be customized by using refine hooks and passing custom components to `Sider` property.\n     * @type [`React.FC`](https://refine.dev/docs/api-reference/core/components/refine-config/#sider)\n     * @deprecated Please pass the `Sider` component to your `Layout` component.\n     */\n    Sider?: React.FC;\n    /**\n     * The default app header can be customized by passing the `Header` property.\n     * @type [`React.FC`](https://refine.dev/docs/api-reference/core/components/refine-config/#header)\n     * @deprecated Please pass the `Header` component to your `Layout` component.\n     */\n    Header?: React.FC;\n    /**\n     *The default app footer can be customized by passing the `Footer` property.\n     * @type [`React.FC`](https://refine.dev/docs/api-reference/core/components/refine-config/#footer)\n     * @deprecated Please pass the `Footer` component to your `Layout` component.\n     */\n    Footer?: React.FC;\n    /**\n     * The component wanted to be placed out of app layout structure can be set by passing to `OffLayoutArea` prop.\n     * @type [`React.FC`](https://refine.dev/docs/api-reference/core/components/refine-config/#offlayoutarea)\n     * @deprecated Please use your `OffLayoutArea` component as a children instead of a prop.\n     */\n    OffLayoutArea?: React.FC;\n    /**\n     * TThe app title can be set by passing the `Title` property.\n     * @type [`React.FC<TitleProps>`](https://refine.dev/docs/api-reference/core/components/refine-config/#title)\n     * @deprecated Please pass the `Title` component to your `Layout` component.\n     */\n    Title?: React.FC<TitleProps>;\n    /**\n     * Callback to handle all live events.\n     * @type [`(event: LiveEvent) => void`](https://refine.dev/docs/api-reference/core/providers/live-provider/#onliveevent)\n     */\n    onLiveEvent?: LiveModeProps[\"onLiveEvent\"];\n    /**\n     * `options` is used to configure the app.\n     * @type [`IRefineOptions`](https://refine.dev/docs/api-reference/core/components/refine-config/#options)\n     * */\n    options?: IRefineOptions;\n}\n\n/**\n * {@link https://refine.dev/docs/api-reference/core/components/refine-config `<Refine> component`} is the entry point of a refine app.\n * It is where the highest level of configuration of the app occurs.\n * Only a dataProvider is required to bootstrap the app. After adding a dataProvider, resources can be added as property.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/components/refine-config} for more details.\n */\nexport const Refine: React.FC<RefineProps> = ({\n    legacyAuthProvider,\n    authProvider,\n    dataProvider,\n    legacyRouterProvider,\n    routerProvider,\n    notificationProvider,\n    accessControlProvider,\n    auditLogProvider,\n    resources,\n    DashboardPage,\n    ReadyPage,\n    LoginPage,\n    catchAll,\n    children,\n    liveProvider,\n    i18nProvider,\n    Title,\n    Layout,\n    Sider,\n    Header,\n    Footer,\n    OffLayoutArea,\n    onLiveEvent,\n    options,\n}) => {\n    const {\n        optionsWithDefaults,\n        disableTelemetryWithDefault,\n        reactQueryWithDefaults,\n    } = handleRefineOptions({\n        options,\n    });\n\n    const queryClient = useDeepMemo(() => {\n        if (reactQueryWithDefaults.clientConfig instanceof QueryClient) {\n            return reactQueryWithDefaults.clientConfig;\n        }\n\n        return new QueryClient({\n            ...reactQueryWithDefaults.clientConfig,\n            defaultOptions: {\n                ...reactQueryWithDefaults.clientConfig.defaultOptions,\n                queries: {\n                    refetchOnWindowFocus: false,\n                    keepPreviousData: true,\n                    ...reactQueryWithDefaults.clientConfig.defaultOptions\n                        ?.queries,\n                },\n            },\n        });\n    }, [reactQueryWithDefaults.clientConfig]);\n\n    useQuerySubscription(queryClient);\n\n    const useNotificationProviderValues = React.useMemo(() => {\n        return typeof notificationProvider === \"function\"\n            ? notificationProvider\n            : () => notificationProvider ?? ({} as INotificationContext);\n    }, [notificationProvider]);\n\n    const notificationProviderContextValues = useNotificationProviderValues();\n\n    /**\n     * Warn our users if they are using the old way of routing in the wrong prop.\n     */\n    useRouterMisuseWarning(routerProvider);\n    /** */\n\n    /**\n     * `<ReadyPage />` is only used in the legacy routing and is not used in the new routing.\n     * If `legacyRouterProvider` is provided and `routerProvider` is not, we'll check for the `resources` prop to be empty.\n     * If `resources` is empty, then we'll render `<ReadyPage />` component.\n     */\n    if (\n        legacyRouterProvider &&\n        !routerProvider &&\n        (resources ?? []).length === 0\n    ) {\n        return ReadyPage ? <ReadyPage /> : <DefaultReadyPage />;\n    }\n\n    /** Router\n     *\n     * Handle routing from `RouterBindingsProvider` and `router` prop for the brand new way\n     * If `router` is not provided, then we'r checking for `routerProvider` prop\n     * If `routerProvider` is provided, then `RouterContextProvider` is used\n     * If none of them is provided, then `RouterBindingsProvider` is used because it supports undefined router\n     *\n     * `RouterContextProvider` is skipped whenever possible and by this way,\n     * we can achieve backward compability only when its provided by user\n     *\n     */\n    const { RouterComponent = React.Fragment } = !routerProvider\n        ? legacyRouterProvider ?? {}\n        : {};\n    /** */\n\n    return (\n        <QueryClientProvider client={queryClient}>\n            <NotificationContextProvider {...notificationProviderContextValues}>\n                <LegacyAuthContextProvider\n                    {...(legacyAuthProvider ?? {})}\n                    isProvided={Boolean(legacyAuthProvider)}\n                >\n                    <AuthBindingsContextProvider\n                        {...(authProvider ?? {})}\n                        isProvided={Boolean(authProvider)}\n                    >\n                        <DataContextProvider {...dataProvider}>\n                            <LiveContextProvider liveProvider={liveProvider}>\n                                <RouterPickerProvider\n                                    value={\n                                        legacyRouterProvider && !routerProvider\n                                            ? \"legacy\"\n                                            : \"new\"\n                                    }\n                                >\n                                    <RouterBindingsProvider\n                                        router={routerProvider}\n                                    >\n                                        <LegacyRouterContextProvider\n                                            {...legacyRouterProvider}\n                                        >\n                                            <ResourceContextProvider\n                                                resources={resources ?? []}\n                                            >\n                                                <TranslationContextProvider\n                                                    i18nProvider={i18nProvider}\n                                                >\n                                                    <AccessControlContextProvider\n                                                        {...(accessControlProvider ??\n                                                            {})}\n                                                    >\n                                                        <AuditLogContextProvider\n                                                            {...(auditLogProvider ??\n                                                                {})}\n                                                        >\n                                                            <UndoableQueueContextProvider>\n                                                                <RefineContextProvider\n                                                                    mutationMode={\n                                                                        optionsWithDefaults.mutationMode\n                                                                    }\n                                                                    warnWhenUnsavedChanges={\n                                                                        optionsWithDefaults.warnWhenUnsavedChanges\n                                                                    }\n                                                                    syncWithLocation={\n                                                                        optionsWithDefaults.syncWithLocation\n                                                                    }\n                                                                    Title={\n                                                                        Title\n                                                                    }\n                                                                    undoableTimeout={\n                                                                        optionsWithDefaults.undoableTimeout\n                                                                    }\n                                                                    catchAll={\n                                                                        catchAll\n                                                                    }\n                                                                    DashboardPage={\n                                                                        DashboardPage\n                                                                    }\n                                                                    LoginPage={\n                                                                        LoginPage\n                                                                    }\n                                                                    Layout={\n                                                                        Layout\n                                                                    }\n                                                                    Sider={\n                                                                        Sider\n                                                                    }\n                                                                    Footer={\n                                                                        Footer\n                                                                    }\n                                                                    Header={\n                                                                        Header\n                                                                    }\n                                                                    OffLayoutArea={\n                                                                        OffLayoutArea\n                                                                    }\n                                                                    hasDashboard={\n                                                                        !!DashboardPage\n                                                                    }\n                                                                    liveMode={\n                                                                        optionsWithDefaults.liveMode\n                                                                    }\n                                                                    onLiveEvent={\n                                                                        onLiveEvent\n                                                                    }\n                                                                    options={\n                                                                        optionsWithDefaults\n                                                                    }\n                                                                >\n                                                                    <UnsavedWarnContextProvider>\n                                                                        <RouterComponent>\n                                                                            {\n                                                                                children\n                                                                            }\n                                                                            {!disableTelemetryWithDefault && (\n                                                                                <Telemetry />\n                                                                            )}\n                                                                            <RouteChangeHandler />\n                                                                        </RouterComponent>\n                                                                    </UnsavedWarnContextProvider>\n                                                                </RefineContextProvider>\n                                                            </UndoableQueueContextProvider>\n                                                        </AuditLogContextProvider>\n                                                    </AccessControlContextProvider>\n                                                </TranslationContextProvider>\n                                            </ResourceContextProvider>\n                                        </LegacyRouterContextProvider>\n                                    </RouterBindingsProvider>\n                                </RouterPickerProvider>\n                            </LiveContextProvider>\n                        </DataContextProvider>\n                    </AuthBindingsContextProvider>\n                </LegacyAuthContextProvider>\n            </NotificationContextProvider>\n        </QueryClientProvider>\n    );\n};\n","import React from \"react\";\n\nimport { useTelemetryData } from \"@hooks/useTelemetryData\";\n\nimport { ITelemetryData } from \"../../interfaces/telemetry\";\n\nconst encode = (payload: ITelemetryData): string | undefined => {\n    try {\n        const stringifiedPayload = JSON.stringify(payload || {});\n\n        if (typeof btoa !== \"undefined\") {\n            return btoa(stringifiedPayload);\n        }\n\n        return Buffer.from(stringifiedPayload).toString(\"base64\");\n    } catch (err) {\n        return undefined;\n    }\n};\n\nconst throughImage = (src: string) => {\n    const img = new Image();\n\n    img.src = src;\n};\n\nconst throughFetch = (src: string) => {\n    fetch(src);\n};\n\nconst transport = (src: string) => {\n    if (typeof Image !== \"undefined\") {\n        throughImage(src);\n    } else if (typeof fetch !== \"undefined\") {\n        throughFetch(src);\n    }\n};\n\nexport const Telemetry: React.FC<{}> = () => {\n    const payload = useTelemetryData();\n    const sent = React.useRef(false);\n\n    React.useEffect(() => {\n        if (sent.current) {\n            return;\n        }\n        const encoded = encode(payload);\n\n        if (!encoded) {\n            return;\n        }\n\n        transport(`https://telemetry.refine.dev/telemetry?payload=${encoded}`);\n        sent.current = true;\n    }, []);\n\n    return null;\n};\n","import { useContext } from \"react\";\n\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { LiveContext } from \"@contexts/live\";\nimport { RouterContext } from \"@contexts/legacy-router\";\nimport { DataContext } from \"@contexts/data\";\nimport { TranslationContext } from \"@contexts/translation\";\nimport { NotificationContext } from \"@contexts/notification\";\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { useResource } from \"@hooks/resource\";\n\nimport { ITelemetryData } from \"../../interfaces/telemetry\";\nimport { useIsExistAuthentication, useRefineContext } from \"..\";\n\n// It reads and updates from package.json during build. ref: tsup.config.ts\nconst REFINE_VERSION = \"4.44.11\";\n\nexport const useTelemetryData = (): ITelemetryData => {\n    const auth = useIsExistAuthentication();\n    const auditLogContext = useContext(AuditLogContext);\n    const liveContext = useContext(LiveContext);\n    const routerContext = useContext(RouterContext);\n    const dataContext = useContext(DataContext);\n    const { i18nProvider } = useContext(TranslationContext);\n    const notificationContext = useContext(NotificationContext);\n    const accessControlContext = useContext(AccessControlContext);\n    const { resources } = useResource();\n    const refineOptions = useRefineContext();\n\n    const auditLog =\n        !!auditLogContext.create ||\n        !!auditLogContext.get ||\n        !!auditLogContext.update;\n\n    const live =\n        !!liveContext?.publish ||\n        !!liveContext?.subscribe ||\n        !!liveContext?.unsubscribe;\n\n    const router =\n        !!routerContext.useHistory ||\n        !!routerContext.Link ||\n        !!routerContext.Prompt ||\n        !!routerContext.useLocation ||\n        !!routerContext.useParams;\n\n    const data = !!dataContext;\n\n    const i18n =\n        !!i18nProvider?.changeLocale ||\n        !!i18nProvider?.getLocale ||\n        !!i18nProvider?.translate;\n\n    const notification =\n        !!notificationContext.close || !!notificationContext.open;\n\n    const accessControl = !!accessControlContext.can;\n\n    const projectId = refineOptions?.options?.projectId;\n\n    return {\n        providers: {\n            auth,\n            auditLog,\n            live,\n            router,\n            data,\n            i18n,\n            notification,\n            accessControl,\n        },\n        version: REFINE_VERSION,\n        resourceCount: resources.length,\n        projectId,\n    };\n};\n","import { IRouterProvider, RouterBindings } from \"src/interfaces\";\n\nexport const checkRouterPropMisuse = (\n    value: IRouterProvider | RouterBindings,\n) => {\n    // check if `routerProvider` prop is passed with legacy properties.\n    // If yes, console.warn the user to use `legacyRuterProvider` prop instead.\n    const bindings = [\"go\", \"parse\", \"back\", \"Link\"];\n\n    // check if `value` contains properties other than `bindings`\n    const otherProps = Object.keys(value).filter(\n        (key) => !bindings.includes(key),\n    );\n\n    const hasOtherProps = otherProps.length > 0;\n\n    if (hasOtherProps) {\n        console.warn(\n            `Unsupported properties are found in \\`routerProvider\\` prop. You provided \\`${otherProps.join(\n                \", \",\n            )}\\`. Supported properties are \\`${bindings.join(\n                \", \",\n            )}\\`. You may wanted to use \\`legacyRouterProvider\\` prop instead.`,\n        );\n\n        return true;\n    }\n\n    return false;\n};\n","import { checkRouterPropMisuse } from \"@definitions/helpers/check-router-prop-misuse\";\nimport React from \"react\";\nimport { RouterBindings } from \"src/interfaces\";\n\nexport const useRouterMisuseWarning = (value?: RouterBindings) => {\n    const warned = React.useRef(false);\n\n    React.useEffect(() => {\n        if (warned.current === false) {\n            if (value) {\n                const warn = checkRouterPropMisuse(value);\n                if (warn) {\n                    warned.current = true;\n                }\n            }\n        }\n    }, [value]);\n};\n","import React, { useEffect, useState } from \"react\";\n\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport { useCancelNotification, useNotification, useTranslate } from \"@hooks\";\nimport { IUndoableQueue } from \"../../interfaces\";\n\nimport { userFriendlySecond } from \"@definitions/helpers\";\n\nexport const UndoableQueue: React.FC<{\n    notification: IUndoableQueue;\n}> = ({ notification }) => {\n    const translate = useTranslate();\n\n    const { notificationDispatch } = useCancelNotification();\n    const { open } = useNotification();\n\n    const [timeoutId, setTimeoutId] = useState<number | undefined>();\n\n    const cancelNotification = () => {\n        if (notification.isRunning === true) {\n            if (notification.seconds === 0) {\n                notification.doMutation();\n            }\n            if (!notification.isSilent) {\n                open?.({\n                    key: `${notification.id}-${notification.resource}-notification`,\n                    type: \"progress\",\n                    message: translate(\n                        \"notifications.undoable\",\n                        {\n                            seconds: userFriendlySecond(notification.seconds),\n                        },\n                        `You have ${userFriendlySecond(\n                            notification.seconds,\n                        )} seconds to undo`,\n                    ),\n                    cancelMutation: notification.cancelMutation,\n                    undoableTimeout: userFriendlySecond(notification.seconds),\n                });\n            }\n\n            if (notification.seconds > 0) {\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n\n                const newTimeoutId = setTimeout(() => {\n                    notificationDispatch({\n                        type: ActionTypes.DECREASE_NOTIFICATION_SECOND,\n                        payload: {\n                            id: notification.id,\n                            seconds: notification.seconds,\n                            resource: notification.resource,\n                        },\n                    });\n                }, 1000) as unknown as number;\n\n                setTimeoutId(newTimeoutId);\n            }\n        }\n    };\n\n    useEffect(() => {\n        cancelNotification();\n    }, [notification]);\n\n    return null;\n};\n","import React, { useEffect } from \"react\";\n\nimport {\n    useRefineContext,\n    useRouterContext,\n    useTranslate,\n    useWarnAboutChange,\n} from \"@hooks\";\nimport { LayoutProps, TitleProps } from \"../../interfaces\";\n\nexport interface LayoutWrapperProps {\n    /**\n     * Outer component that renders other components\n     * @default *\n     */\n    Layout?: React.FC<LayoutProps>;\n    /**\n     * [Custom sider to use](/api-reference/core/components/refine-config.md#sider)\n     * @default *\n     */\n    Sider?: React.FC;\n    /**\n     * [Custom header to use](/api-reference/core/components/refine-config.md#header)\n     * @default *\n     */\n    Header?: React.FC;\n    /**\n     * [Custom title to use](/api-reference/core/components/refine-config.md#title)\n     * @default *\n     */\n    Title?: React.FC<TitleProps>;\n    /**\n     * [Custom footer to use](/api-reference/core/components/refine-config.md#footer)\n     * @default *\n     */\n    Footer?: React.FC;\n    /**\n     * [Custom off layout area to use](/api-reference/core/components/refine-config.md#offlayoutarea)\n     * @default *\n     */\n    OffLayoutArea?: React.FC;\n    children: React.ReactNode;\n}\n\n/**\n * `<LayoutWrapper>` wraps its contents in **refine's** layout with all customizations made in {@link https://refine.dev/docs/core/components/refine-config `<Refine>`} component.\n * It is the default layout used in resource pages.\n * It can be used in custom pages to use global layout.\n *\n * @see {@link https://refine.dev/docs/core/components/layout-wrapper} for more details.\n *\n * @deprecated This component is obsolete and only works with the legacy router providers.\n */\nexport const LayoutWrapper: React.FC<LayoutWrapperProps> = ({\n    children,\n    Layout: LayoutFromProps,\n    Sider: SiderFromProps,\n    Header: HeaderFromProps,\n    Title: TitleFromProps,\n    Footer: FooterFromProps,\n    OffLayoutArea: OffLayoutAreaFromProps,\n}) => {\n    const { Layout, Footer, Header, Sider, Title, OffLayoutArea } =\n        useRefineContext();\n\n    const LayoutToRender = LayoutFromProps ?? Layout;\n\n    return (\n        <LayoutToRender\n            Sider={SiderFromProps ?? Sider}\n            Header={HeaderFromProps ?? Header}\n            Footer={FooterFromProps ?? Footer}\n            Title={TitleFromProps ?? Title}\n            OffLayoutArea={OffLayoutAreaFromProps ?? OffLayoutArea}\n        >\n            {children}\n            <UnsavedPrompt />\n        </LayoutToRender>\n    );\n};\n\nconst UnsavedPrompt: React.FC = () => {\n    const { Prompt } = useRouterContext();\n\n    const translate = useTranslate();\n\n    const { warnWhen, setWarnWhen } = useWarnAboutChange();\n\n    const warnWhenListener = (e: {\n        preventDefault: () => void;\n        returnValue: string;\n    }) => {\n        e.preventDefault();\n\n        e.returnValue = translate(\n            \"warnWhenUnsavedChanges\",\n            \"Are you sure you want to leave? You have unsaved changes.\",\n        );\n\n        return e.returnValue;\n    };\n\n    useEffect(() => {\n        if (warnWhen) {\n            window.addEventListener(\"beforeunload\", warnWhenListener);\n        }\n\n        return window.removeEventListener(\"beforeunload\", warnWhenListener);\n    }, [warnWhen]);\n\n    return (\n        <Prompt\n            when={warnWhen}\n            message={translate(\n                \"warnWhenUnsavedChanges\",\n                \"Are you sure you want to leave? You have unsaved changes.\",\n            )}\n            setWarnWhen={setWarnWhen}\n        />\n    );\n};\n","import React from \"react\";\n\nimport {\n    useGo,\n    useNavigation,\n    useParsed,\n    useRouterContext,\n    useRouterType,\n    useIsAuthenticated,\n} from \"@hooks\";\nimport { useActiveAuthProvider } from \"@definitions/index\";\nimport { GoConfig } from \"src/interfaces\";\n\n/**\n * This hook is used to avoid React's invalid setState call warning.\n * When `go` is called during the render phase, it's updating the internal router state before the render phase is finished.\n * This causes React to throw an error. This hook is used to defer the `go` call to the effect calls.\n */\nconst useDeferredGo = () => {\n    const go = useGo();\n\n    const [config, setConfig] = React.useState<GoConfig | undefined>(undefined);\n\n    React.useEffect(() => {\n        if (config) {\n            go(config);\n        }\n    }, [config]);\n\n    const cb = React.useCallback(\n        (props: GoConfig) => {\n            if (!config) {\n                setConfig(props);\n            }\n        },\n        [config],\n    );\n\n    return cb;\n};\n\nexport type AuthenticatedCommonProps = {\n    /**\n     * Whether to redirect user if not logged in or not.\n     * If not set, user will be redirected to `redirectTo` property of the `check` function's response.\n     * This behavior is only available for new auth providers.\n     * Legacy auth providers will redirect to `/login` by default if this property is not set.\n     * If set to a string, user will be redirected to that string.\n     *\n     * This property only works if `fallback` is **not set**.\n     */\n    redirectOnFail?: string | true;\n    /**\n     * Whether to append current path to search params of the redirect url at `to` property.\n     *\n     * By default, `to` parameter is used by successful invocations of the `useLogin` hook.\n     * If `to` present, it will be used as the redirect url after successful login.\n     */\n    appendCurrentPathToQuery?: boolean;\n    /**\n     * Content to show if user is not logged in.\n     */\n    fallback?: React.ReactNode;\n    /**\n     * Content to show while checking whether user is logged in or not.\n     */\n    loading?: React.ReactNode;\n    /**\n     * Content to show if user is logged in\n     */\n    children?: React.ReactNode;\n};\n\nexport type LegacyAuthenticatedProps = {\n    v3LegacyAuthProviderCompatible: true;\n} & AuthenticatedCommonProps;\n\nexport type AuthenticatedProps = {\n    v3LegacyAuthProviderCompatible?: false;\n} & AuthenticatedCommonProps;\n\nexport function Authenticated(\n    props: LegacyAuthenticatedProps,\n): JSX.Element | null;\n\nexport function Authenticated(props: AuthenticatedProps): JSX.Element | null;\n\n/**\n * `<Authenticated>` is the component form of {@link https://refine.dev/docs/api-reference/core/hooks/auth/useAuthenticated `useAuthenticated`}. It internally uses `useAuthenticated` to provide it's functionality.\n *\n * @see {@link https://refine.dev/docs/core/components/auth/authenticated `<Authenticated>`} component for more details.\n */\nexport function Authenticated({\n    redirectOnFail = true,\n    appendCurrentPathToQuery = true,\n    children,\n    fallback: fallbackContent,\n    loading: loadingContent,\n}: AuthenticatedProps | LegacyAuthenticatedProps): JSX.Element | null {\n    const activeAuthProvider = useActiveAuthProvider();\n    const routerType = useRouterType();\n\n    const hasAuthProvider = Boolean(activeAuthProvider?.isProvided);\n    const isLegacyAuth = Boolean(activeAuthProvider?.isLegacy);\n    const isLegacyRouter = routerType === \"legacy\";\n\n    const parsed = useParsed();\n    const go = useGo();\n    const deferredGo = useDeferredGo();\n    const { replace } = useNavigation();\n    const { useLocation } = useRouterContext();\n    const legacyLocation = useLocation();\n\n    const {\n        isLoading,\n        isFetching,\n        // isRefetching,\n        isSuccess,\n        data: {\n            authenticated: isAuthenticatedStatus,\n            redirectTo: authenticatedRedirect,\n        } = {},\n        refetch,\n    } = useIsAuthenticated({\n        v3LegacyAuthProviderCompatible: isLegacyAuth,\n    });\n\n    React.useEffect(() => {\n        /**\n         * Refetch the authentication status if the content is changed (e.g. redirected or updated)\n         *\n         * This is done to avoid re-rendering the wrappers with the same content.\n         */\n\n        refetch();\n    }, [children, fallbackContent]);\n\n    const state = React.useRef<{\n        status: \"initial\" | \"pending\" | \"settled\";\n        content: React.ReactNode;\n    }>({\n        status: isLoading ? \"initial\" : \"pending\",\n        content: loadingContent ?? null,\n    });\n\n    /**\n     * Update state when fetching the authentication response.\n     */\n    if (isFetching) {\n        state.current.status = \"pending\";\n    } else if (!isFetching) {\n        state.current.status = \"settled\";\n    }\n\n    /**\n     * Authentication status\n     */\n    const isAuthenticated = hasAuthProvider\n        ? isLegacyAuth\n            ? isSuccess\n            : isAuthenticatedStatus\n        : true;\n\n    if (state.current.status === \"settled\") {\n        /**\n         * If the state is settled, and query is resolved.\n         */\n        if (isAuthenticated) {\n            /**\n             * If user is authenticated, show the children.\n             */\n            state.current.content = <>{children ?? null}</>;\n        } else if (typeof fallbackContent !== \"undefined\") {\n            /**\n             * If user is not authenticated, and `fallback` is present, show the fallback content.\n             */\n            state.current.content = <>{fallbackContent}</>;\n        } else {\n            /**\n             * If there's no `fallback` content, redirect will be applied.\n             */\n\n            /**\n             * Current pathname to append to the redirect url.\n             */\n            const pathname = `${\n                isLegacyRouter ? legacyLocation?.pathname : parsed.pathname\n            }`.replace(/(\\?.*|#.*)$/, \"\");\n\n            /**\n             * Redirect url to use, if `redirectOnFail` is set to a string,\n             * it will be used instead of `redirectTo` property of the `check` function's response.\n             */\n            const appliedRedirect = isLegacyAuth\n                ? typeof redirectOnFail === \"string\"\n                    ? redirectOnFail\n                    : \"/login\"\n                : typeof redirectOnFail === \"string\"\n                ? redirectOnFail\n                : (authenticatedRedirect as string | undefined);\n\n            /**\n             * Redirect if `appliedRedirect` is set.\n             */\n            if (appliedRedirect) {\n                if (isLegacyRouter) {\n                    const toQuery = appendCurrentPathToQuery\n                        ? `?to=${encodeURIComponent(pathname)}`\n                        : \"\";\n                    replace(`${appliedRedirect}${toQuery}`);\n                } else {\n                    deferredGo({\n                        to: appliedRedirect,\n                        query: appendCurrentPathToQuery\n                            ? {\n                                  to: parsed.params?.to\n                                      ? parsed.params.to\n                                      : go({\n                                            to: pathname,\n                                            options: { keepQuery: true },\n                                            type: \"path\",\n                                        }),\n                              }\n                            : undefined,\n                        type: \"replace\",\n                    });\n                }\n            }\n        }\n    }\n\n    /**\n     * If there's no `authProvider` set, we don't need to check whether user is logged in or not.\n     */\n    if (!hasAuthProvider) {\n        return <>{children ?? null}</>;\n    }\n\n    /**\n     * Returning the content based on the state, `fallback` or `children`.\n     */\n    return <>{state.current.content}</>;\n}\n","import { useEffect } from \"react\";\nimport { useRouterContext } from \"@hooks\";\nimport { useLegacyAuthContext } from \"@contexts/auth\";\n\nexport const RouteChangeHandler: React.FC = () => {\n    const { useLocation } = useRouterContext();\n\n    const { checkAuth } = useLegacyAuthContext();\n    const location = useLocation();\n\n    useEffect(() => {\n        checkAuth?.().catch(() => false);\n    }, [location?.pathname]);\n\n    return null;\n};\n","import React, { useEffect } from \"react\";\n\nimport { useCan, useResource } from \"@hooks\";\nimport { BaseKey, IResourceItem, ITreeMenu } from \"../../interfaces\";\n\ntype CanParams = {\n    resource?: IResourceItem & { children?: ITreeMenu[] };\n    id?: BaseKey;\n    [key: string]: any;\n};\n\ntype OnUnauthorizedProps = {\n    resource?: string;\n    reason?: string;\n    action: string;\n    params: CanParams;\n};\n\ntype CanAccessBaseProps = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource?: string;\n    /**\n     * Intended action on resource\n     */\n    action: string;\n    /**\n     * Parameters associated with the resource\n     * @type { resource?: [IResourceItem](https://refine.dev/docs/api-reference/core/interfaceReferences/#canparams), id?: [BaseKey](https://refine.dev/docs/api-reference/core/interfaceReferences/#basekey), [key: string]: any }\n     */\n    params?: CanParams;\n    /**\n     * Content to show if access control returns `false`\n     */\n    fallback?: React.ReactNode;\n    /**\n     * Callback function to be called if access control returns `can: false`\n     */\n    onUnauthorized?: (props: OnUnauthorizedProps) => void;\n    children: React.ReactNode;\n};\n\ntype CanAccessWithoutParamsProps = {\n    [key in Exclude<\n        keyof CanAccessBaseProps,\n        \"fallback\" | \"children\"\n    >]?: undefined;\n} & {\n    [key in \"fallback\" | \"children\"]?: CanAccessBaseProps[key];\n};\n\nexport type CanAccessProps = CanAccessBaseProps | CanAccessWithoutParamsProps;\n\nexport const CanAccess: React.FC<CanAccessProps> = ({\n    resource: resourceFromProp,\n    action: actionFromProp,\n    params: paramsFromProp,\n    fallback,\n    onUnauthorized,\n    children,\n    ...rest\n}) => {\n    const {\n        resource,\n        id: idFromRoute,\n        action: actionFromRoute,\n    } = useResource(resourceFromProp);\n    const { identifier } = useResource();\n\n    const getDefaultId = () => {\n        const idFromPropsOrRoute = paramsFromProp?.id ?? idFromRoute;\n\n        if (resourceFromProp && resourceFromProp !== identifier) {\n            return paramsFromProp?.id;\n        }\n\n        return idFromPropsOrRoute;\n    };\n    const defaultId = getDefaultId();\n\n    const resourceName = resourceFromProp ?? resource?.name;\n    const action = actionFromProp ?? actionFromRoute ?? \"\";\n    const params = paramsFromProp ?? {\n        id: defaultId,\n        resource: resource,\n    };\n\n    const { data } = useCan({\n        resource: resourceName,\n        action,\n        params,\n    });\n\n    useEffect(() => {\n        if (onUnauthorized && data?.can === false) {\n            onUnauthorized({\n                resource: resourceName,\n                action,\n                reason: data?.reason,\n                params,\n            });\n        }\n    }, [data?.can]);\n\n    if (data?.can) {\n        if (React.isValidElement(children)) {\n            const Children = React.cloneElement(children, rest);\n            return Children;\n        }\n\n        return <>{children}</>;\n    }\n\n    if (data?.can === false) {\n        return <>{fallback ?? null}</>;\n    }\n\n    return null;\n};\n","import React, { useEffect } from \"react\";\nimport { CSSRules } from \"./styles\";\n\nexport const GitHubBanner = () => {\n    useEffect(() => {\n        const styleTag = document.createElement(\"style\");\n        document.head.appendChild(styleTag);\n        CSSRules.forEach((rule) =>\n            styleTag.sheet?.insertRule(rule, styleTag.sheet.cssRules.length),\n        );\n    }, []);\n\n    return (\n        <div\n            className=\"banner\"\n            style={{\n                flexDirection: \"row\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                position: \"relative\",\n                padding: \"8px 16px\",\n                backgroundColor: \"#0d0d0d\",\n                borderBottom: \"1px solid rgba(255, 255, 255, 0.15)\",\n            }}\n        >\n            {/* sider offset for center alignment */}\n            <div\n                style={{\n                    width: \"200px\",\n                }}\n            />\n            <a\n                className=\"gh-link\"\n                href=\"https://s.refine.dev/github-support\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n            >\n                <div\n                    className=\"content\"\n                    style={{\n                        position: \"relative\",\n                        zIndex: 2,\n                        color: \"#fff\",\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        gap: \"8px\",\n                    }}\n                >\n                    <span\n                        className=\"wizard\"\n                        style={{\n                            display: \"flex\",\n                            flexDirection: \"row\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                            width: \"32px\",\n                            height: \"32px\",\n                            fontSize: \"32px\",\n                            lineHeight: \"32px\",\n                        }}\n                    >\n                        \n                    </span>\n                    <span\n                        className=\"text\"\n                        style={{\n                            padding: \"4px 0\",\n                            fontSize: \"16px\",\n                            lineHeight: \"24px\",\n                            textShadow: \"0px 0px 4px rgba(255, 255, 255, 0.5)\",\n                        }}\n                    >\n                        refine grants your wishes! Please give us a  on\n                        GitHub to keep the magic going.\n                    </span>\n                </div>\n            </a>\n        </div>\n    );\n};\n","export const CSSRules = [\n    `\n    .banner {\n        display: flex;\n        @media (max-width: 1000px) {\n            display: none;\n        }\n    }`,\n    `\n    .banner::before,\n    .banner::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n    }\n    `,\n    `\n    .banner::before {\n        background-image: linear-gradient(\n            270deg,\n            rgba(255, 76, 77, 0.35) 0%,\n            rgba(255, 153, 51, 0.35) 12.5%,\n            rgba(255, 191, 0, 0.35) 25%,\n            rgba(38, 217, 127, 0.35) 37.5%,\n            rgba(71, 235, 235, 0.35) 50%,\n            rgba(0, 128, 255, 0.35) 62.5%,\n            rgba(51, 51, 255, 0.35) 75%,\n            rgba(128, 0, 255, 0.35) 87.5%,\n            rgba(237, 94, 201, 0.35) 100%\n        );\n        background-position: 0 0;\n        background-size: 200% 100%;\n        background-repeat: repeat-x;\n        animation: bgpos 4s linear infinite;\n      }\n    `,\n    `\n    .banner::after {\n        background: linear-gradient(\n          180deg,\n          rgba(13, 13, 13, 0.85) 0%,\n          rgba(13, 13, 13, 0) 100%\n        );\n    }\n    `,\n    `\n    @keyframes bgpos {\n        0% {\n            background-position: 0 0;\n        }\n\n        100% {\n            background-position: -200% 0;\n        }\n    }\n    `,\n    `\n    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {\n        text-decoration: none;\n        z-index: 9;\n    }\n    `,\n];\n","import React, { useEffect } from \"react\";\nimport get from \"lodash-es/get\";\nimport has from \"lodash-es/has\";\n\nimport {\n    useForm as useHookForm,\n    UseFormProps as UseHookFormProps,\n    UseFormReturn,\n    FieldValues,\n    UseFormHandleSubmit,\n    Path,\n} from \"react-hook-form\";\nimport {\n    BaseRecord,\n    HttpError,\n    useForm as useFormCore,\n    useWarnAboutChange,\n    UseFormProps as UseFormCoreProps,\n    UseFormReturnType as UseFormReturnTypeCore,\n    useTranslate,\n    useRefineContext,\n    flattenObjectKeys,\n} from \"@refinedev/core\";\n\nexport type UseFormReturnType<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n> = UseFormReturn<TVariables, TContext> & {\n    refineCore: UseFormReturnTypeCore<\n        TQueryFnData,\n        TError,\n        TVariables,\n        TData,\n        TResponse,\n        TResponseError\n    >;\n    saveButtonProps: {\n        disabled: boolean;\n        onClick: (e: React.BaseSyntheticEvent) => void;\n    };\n};\n\nexport type UseFormProps<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n> = {\n    /**\n     * Configuration object for the core of the [useForm](/docs/api-reference/core/hooks/useForm/)\n     * @type [`UseFormCoreProps<TQueryFnData, TError, TVariables, TData, TResponse, TResponseError>`](/docs/api-reference/core/hooks/useForm/#properties)\n     */\n    refineCoreProps?: UseFormCoreProps<\n        TQueryFnData,\n        TError,\n        TVariables,\n        TData,\n        TResponse,\n        TResponseError\n    >;\n    /**\n     * When you have unsaved changes and try to leave the current page, **refine** shows a confirmation modal box.\n     * @default `false*`\n     */\n    warnWhenUnsavedChanges?: boolean;\n    /**\n     * Disables server-side validation\n     * @default false\n     * @see {@link https://refine.dev/docs/advanced-tutorials/forms/server-side-form-validation/}\n     */\n    disableServerSideValidation?: boolean;\n} & UseHookFormProps<TVariables, TContext>;\n\nexport const useForm = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n>({\n    refineCoreProps,\n    warnWhenUnsavedChanges: warnWhenUnsavedChangesProp,\n    disableServerSideValidation: disableServerSideValidationProp = false,\n    ...rest\n}: UseFormProps<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> = {}): UseFormReturnType<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> => {\n    const { options } = useRefineContext();\n    const disableServerSideValidation =\n        options?.disableServerSideValidation || disableServerSideValidationProp;\n\n    const translate = useTranslate();\n\n    const {\n        warnWhenUnsavedChanges: warnWhenUnsavedChangesRefine,\n        setWarnWhen,\n    } = useWarnAboutChange();\n    const warnWhenUnsavedChanges =\n        warnWhenUnsavedChangesProp ?? warnWhenUnsavedChangesRefine;\n\n    const useHookFormResult = useHookForm<TVariables, TContext>({\n        ...rest,\n    });\n\n    const {\n        watch,\n        setValue,\n        getValues,\n        handleSubmit: handleSubmitReactHookForm,\n        setError,\n    } = useHookFormResult;\n\n    const useFormCoreResult = useFormCore<\n        TQueryFnData,\n        TError,\n        TVariables,\n        TData,\n        TResponse,\n        TResponseError\n    >({\n        ...refineCoreProps,\n        onMutationError: (error, _variables, _context) => {\n            if (disableServerSideValidation) {\n                refineCoreProps?.onMutationError?.(error, _variables, _context);\n                return;\n            }\n\n            const errors = error?.errors;\n\n            for (const key in errors) {\n                // when the key is not registered in the form, react-hook-form not working\n                const isKeyInVariables = Object.keys(\n                    flattenObjectKeys(_variables),\n                ).includes(key);\n\n                if (!isKeyInVariables) {\n                    continue;\n                }\n\n                const fieldError = errors[key];\n\n                let newError = \"\";\n\n                if (Array.isArray(fieldError)) {\n                    newError = fieldError.join(\" \");\n                }\n\n                if (typeof fieldError === \"string\") {\n                    newError = fieldError;\n                }\n\n                if (typeof fieldError === \"boolean\" && fieldError) {\n                    newError = \"Field is not valid.\";\n                }\n\n                if (typeof fieldError === \"object\" && \"key\" in fieldError) {\n                    const translatedMessage = translate(\n                        fieldError.key,\n                        fieldError.message,\n                    );\n\n                    newError = translatedMessage;\n                }\n\n                setError(key as Path<TVariables>, {\n                    message: newError,\n                });\n            }\n\n            refineCoreProps?.onMutationError?.(error, _variables, _context);\n        },\n    });\n\n    const { queryResult, onFinish, formLoading, onFinishAutoSave } =\n        useFormCoreResult;\n\n    useEffect(() => {\n        const data = queryResult?.data?.data;\n        if (!data) return;\n\n        /**\n         * get registered fields from react-hook-form\n         */\n        const registeredFields = Object.keys(flattenObjectKeys(getValues()));\n\n        /**\n         * set values from query result as default values\n         */\n        registeredFields.forEach((path) => {\n            const hasValue = has(data, path);\n            const dataValue = get(data, path);\n\n            /**\n             * set value if the path exists in the query result even if the value is null\n             */\n            if (hasValue) {\n                setValue(path as Path<TVariables>, dataValue);\n            }\n        });\n    }, [queryResult?.data, setValue, getValues]);\n\n    useEffect(() => {\n        const subscription = watch((values: any, { type }: { type?: any }) => {\n            if (type === \"change\") {\n                onValuesChange(values);\n            }\n        });\n        return () => subscription.unsubscribe();\n    }, [watch]);\n\n    const onValuesChange = (changeValues: TVariables) => {\n        if (warnWhenUnsavedChanges) {\n            setWarnWhen(true);\n        }\n\n        if (refineCoreProps?.autoSave) {\n            setWarnWhen(false);\n\n            const onFinishProps = refineCoreProps.autoSave?.onFinish;\n\n            if (onFinishProps) {\n                return onFinishAutoSave(onFinishProps(changeValues));\n            }\n\n            return onFinishAutoSave(changeValues);\n        }\n\n        return changeValues;\n    };\n\n    const handleSubmit: UseFormHandleSubmit<TVariables> =\n        (onValid, onInvalid) => async (e) => {\n            setWarnWhen(false);\n            return handleSubmitReactHookForm(onValid, onInvalid)(e);\n        };\n\n    const saveButtonProps = {\n        disabled: formLoading,\n        onClick: (e: React.BaseSyntheticEvent) => {\n            handleSubmit(onFinish, () => false)(e);\n        },\n    };\n\n    return {\n        ...useHookFormResult,\n        handleSubmit,\n        refineCore: useFormCoreResult,\n        saveButtonProps,\n    };\n};\n","import { useEffect, useState } from \"react\";\nimport { FieldValues, Path } from \"react-hook-form\";\nimport { BaseRecord, HttpError } from \"@refinedev/core\";\n\nimport { useForm, UseFormProps, UseFormReturnType } from \"../useForm\";\n\nexport type UseStepsFormReturnType<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n> = UseFormReturnType<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> & {\n    steps: {\n        currentStep: number;\n        gotoStep: (step: number) => void;\n    };\n};\n\nexport type UseStepsFormProps<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n> = UseFormProps<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> & {\n    /**\n     * @description Configuration object for the steps.\n     * `defaultStep`: Allows you to set the initial step.\n     * \n     * `isBackValidate`: Whether to validation the current step when going back.\n     * @type `{\n      defaultStep?: number;\n      isBackValidate?: boolean;\n      }`\n     * @default `defaultStep = 0` `isBackValidate = false`\n     */\n    stepsProps?: {\n        defaultStep?: number;\n        isBackValidate?: boolean;\n    };\n};\n\nexport const useStepsForm = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n>({\n    stepsProps,\n    ...rest\n}: UseStepsFormProps<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> = {}): UseStepsFormReturnType<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> => {\n    const { defaultStep = 0, isBackValidate = false } = stepsProps ?? {};\n    const [current, setCurrent] = useState(defaultStep);\n\n    const useHookFormResult = useForm<\n        TQueryFnData,\n        TError,\n        TVariables,\n        TContext,\n        TData,\n        TResponse,\n        TResponseError\n    >({\n        ...rest,\n    });\n\n    const {\n        trigger,\n        getValues,\n        setValue,\n        formState: { dirtyFields },\n        refineCore: { queryResult },\n    } = useHookFormResult;\n\n    useEffect(() => {\n        const data = queryResult?.data?.data;\n        if (!data) return;\n\n        const registeredFields = Object.keys(getValues());\n        Object.entries(data).forEach(([key, value]) => {\n            const name = key as Path<TVariables>;\n\n            if (registeredFields.includes(name)) {\n                if (!dirtyFields[name]) {\n                    setValue(name, value);\n                }\n            }\n        });\n    }, [queryResult?.data, current, setValue, getValues]);\n\n    const go = (step: number) => {\n        let targetStep = step;\n\n        if (step < 0) {\n            targetStep = 0;\n        }\n\n        setCurrent(targetStep);\n    };\n\n    const gotoStep = async (step: number) => {\n        if (step === current) {\n            return;\n        }\n\n        if (step < current && !isBackValidate) {\n            go(step);\n            return;\n        }\n\n        const isValid = await trigger();\n        if (isValid) {\n            go(step);\n        }\n    };\n\n    return {\n        ...useHookFormResult,\n        steps: {\n            currentStep: current,\n            gotoStep,\n        },\n    };\n};\n","import { useCallback } from \"react\";\nimport {\n    BaseKey,\n    BaseRecord,\n    FormWithSyncWithLocationParams,\n    HttpError,\n    useGo,\n    useModal,\n    useParsed,\n    useResource,\n    useUserFriendlyName,\n    useTranslate,\n    useWarnAboutChange,\n    useInvalidate,\n} from \"@refinedev/core\";\nimport { FieldValues } from \"react-hook-form\";\n\nimport { useForm, UseFormProps, UseFormReturnType } from \"../useForm\";\nimport React from \"react\";\n\nexport type UseModalFormReturnType<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n> = UseFormReturnType<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> & {\n    modal: {\n        submit: (values: TVariables) => void;\n        close: () => void;\n        show: (id?: BaseKey) => void;\n        visible: boolean;\n        title: string;\n    };\n};\n\nexport type UseModalFormProps<\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n> = UseFormProps<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> & {\n    /**\n     * @description Configuration object for the modal.\n     * `defaultVisible`: Initial visibility state of the modal.\n     * \n     * `autoSubmitClose`: Whether the form should be submitted when the modal is closed.\n     * \n     * `autoResetForm`: Whether the form should be reset when the form is submitted.\n     * @type `{\n      defaultVisible?: boolean;\n      autoSubmitClose?: boolean;\n      autoResetForm?: boolean;\n      }`\n     * @default `defaultVisible = false` `autoSubmitClose = true` `autoResetForm = true`\n     */\n    modalProps?: {\n        defaultVisible?: boolean;\n        autoSubmitClose?: boolean;\n        autoResetForm?: boolean;\n    };\n} & FormWithSyncWithLocationParams;\n\nexport const useModalForm = <\n    TQueryFnData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n    TData extends BaseRecord = TQueryFnData,\n    TResponse extends BaseRecord = TData,\n    TResponseError extends HttpError = TError,\n>({\n    modalProps,\n    refineCoreProps,\n    syncWithLocation,\n    ...rest\n}: UseModalFormProps<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> = {}): UseModalFormReturnType<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TContext,\n    TData,\n    TResponse,\n    TResponseError\n> => {\n    const invalidate = useInvalidate();\n    const [initiallySynced, setInitiallySynced] = React.useState(false);\n\n    const translate = useTranslate();\n\n    const { resource: resourceProp, action: actionProp } =\n        refineCoreProps ?? {};\n\n    const {\n        resource,\n        action: actionFromParams,\n        identifier,\n    } = useResource(resourceProp);\n\n    const parsed = useParsed();\n    const go = useGo();\n    const getUserFriendlyName = useUserFriendlyName();\n\n    const action = actionProp ?? actionFromParams ?? \"\";\n\n    const syncingId = !(\n        typeof syncWithLocation === \"object\" &&\n        syncWithLocation?.syncId === false\n    );\n\n    const syncWithLocationKey =\n        typeof syncWithLocation === \"object\" && \"key\" in syncWithLocation\n            ? syncWithLocation.key\n            : resource && action && syncWithLocation\n            ? `modal-${identifier}-${action}`\n            : undefined;\n\n    const {\n        defaultVisible = false,\n        autoSubmitClose = true,\n        autoResetForm = true,\n    } = modalProps ?? {};\n\n    const useHookFormResult = useForm<\n        TQueryFnData,\n        TError,\n        TVariables,\n        TContext,\n        TData,\n        TResponse,\n        TResponseError\n    >({\n        refineCoreProps: {\n            ...refineCoreProps,\n            meta: {\n                ...(syncWithLocationKey\n                    ? { [syncWithLocationKey]: undefined }\n                    : {}),\n                ...refineCoreProps?.meta,\n            },\n        },\n        ...rest,\n    });\n\n    const {\n        reset,\n        refineCore: { onFinish, id, setId, autoSaveProps },\n        saveButtonProps,\n        handleSubmit,\n    } = useHookFormResult;\n\n    const { visible, show, close } = useModal({\n        defaultVisible,\n    });\n\n    React.useEffect(() => {\n        if (initiallySynced === false && syncWithLocationKey) {\n            const openStatus = parsed?.params?.[syncWithLocationKey]?.open;\n            if (typeof openStatus === \"boolean\") {\n                if (openStatus) {\n                    show();\n                }\n            } else if (typeof openStatus === \"string\") {\n                if (openStatus === \"true\") {\n                    show();\n                }\n            }\n\n            if (syncingId) {\n                const idFromParams = parsed?.params?.[syncWithLocationKey]?.id;\n                if (idFromParams) {\n                    setId?.(idFromParams);\n                }\n            }\n\n            setInitiallySynced(true);\n        }\n    }, [syncWithLocationKey, parsed, syncingId, setId]);\n\n    React.useEffect(() => {\n        if (initiallySynced === true) {\n            if (visible && syncWithLocationKey) {\n                go({\n                    query: {\n                        [syncWithLocationKey]: {\n                            ...parsed?.params?.[syncWithLocationKey],\n                            open: true,\n                            ...(syncingId && id && { id }),\n                        },\n                    },\n                    options: { keepQuery: true },\n                    type: \"replace\",\n                });\n            } else if (syncWithLocationKey && !visible) {\n                go({\n                    query: {\n                        [syncWithLocationKey]: undefined,\n                    },\n                    options: { keepQuery: true },\n                    type: \"replace\",\n                });\n            }\n        }\n    }, [id, visible, show, syncWithLocationKey, syncingId]);\n\n    const submit = async (values: TVariables) => {\n        await onFinish(values);\n\n        if (autoSubmitClose) {\n            close();\n        }\n\n        if (autoResetForm) {\n            reset();\n        }\n    };\n\n    const { warnWhen, setWarnWhen } = useWarnAboutChange();\n    const handleClose = useCallback(() => {\n        if (\n            autoSaveProps.status === \"success\" &&\n            refineCoreProps?.autoSave?.invalidateOnClose\n        ) {\n            invalidate({\n                id,\n                invalidates: refineCoreProps.invalidates || [\n                    \"list\",\n                    \"many\",\n                    \"detail\",\n                ],\n                dataProviderName: refineCoreProps.dataProviderName,\n                resource: identifier,\n            });\n        }\n\n        if (warnWhen) {\n            const warnWhenConfirm = window.confirm(\n                translate(\n                    \"warnWhenUnsavedChanges\",\n                    \"Are you sure you want to leave? You have unsaved changes.\",\n                ),\n            );\n\n            if (warnWhenConfirm) {\n                setWarnWhen(false);\n            } else {\n                return;\n            }\n        }\n\n        setId?.(undefined);\n        close();\n    }, [warnWhen, autoSaveProps.status]);\n\n    const handleShow = useCallback(\n        (showId?: BaseKey) => {\n            if (typeof showId !== \"undefined\") {\n                setId?.(showId);\n            }\n            const needsIdToOpen = action === \"edit\" || action === \"clone\";\n            const hasId =\n                typeof showId !== \"undefined\" || typeof id !== \"undefined\";\n            if (needsIdToOpen ? hasId : true) {\n                show();\n            }\n        },\n        [id],\n    );\n\n    const title = translate(\n        `${identifier}.titles.${actionProp}`,\n        undefined,\n        `${getUserFriendlyName(\n            `${actionProp} ${\n                resource?.meta?.label ??\n                resource?.options?.label ??\n                resource?.label ??\n                identifier\n            }`,\n            \"singular\",\n        )}`,\n    );\n\n    return {\n        modal: {\n            submit,\n            close: handleClose,\n            show: handleShow,\n            visible,\n            title,\n        },\n        ...useHookFormResult,\n        saveButtonProps: {\n            ...saveButtonProps,\n            onClick: (e) => handleSubmit(submit)(e),\n        },\n    };\n};\n"],"mappings":"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","names":["src_exports","__export","DevToolsContext","DevToolsContextProvider","DevtoolsEvent","hooksByScope","receive","scopes","send","module","__toCommonJS","acc","hook","scope","import_react","A","ws","event","payload","resolve","listener","__name","callback","e","receivedEvent","r","React","__devtools","port","children","values","setValues","setWs","wsInstance","unsubscribe","data","v","contextValues","src_exports","__export","getTrace","getXRay","useQuerySubscription","module","__toCommonJS","import_error_stack_parser","E","unrelatedFunctionName","cleanStack","stack","firstUnrelatedIndex","frame","REFINE_PACKAGE_FILEPATH_REGEXP","isRefineStack","filename","getPackageNameFromFilename","_a","match","name","error","g","ErrorStackParser","trace","import_devtools_shared","getResourcePath","__name","hookName","legacyKey","m","import_react","src_exports","__export","AccessControlContext","AuthPage","Authenticated","CanAccess","ErrorComponent","GitHubBanner","KeyBuilder","LayoutWrapper","LoginPage","ReadyPage","Refine","ResourceContext","RouteChangeHandler","TranslationContext","UndoableQueue","WelcomePage","createTreeView","file2Base64","flattenObjectKeys","generateDefaultDocumentTitle","getDefaultFilter","getDefaultSortOrder","getNextPageParam","getPreviousPageParam","handleUseParams","importCSVMapper","keys","legacyResourceTransform","matchResourceFromRoute","parseTableParams","parseTableParamsFromQuery","pickDataProvider","pickNotDeprecated","propertyPathToArray","queryKeys","routeGenerator","setInitialFilters","setInitialSorters","stringifyTableParams","unionFilters","unionSorters","useActiveAuthProvider","useApiUrl","useAuthenticated","useBack","useBreadcrumb","useCan","useCanWithoutCache","useCancelNotification","useCheckError","useCreate","useCreateMany","useCustom","useCustomMutation","useDataProvider","useDelete","useDeleteMany","useExport","useForgotPassword","useForm","useGetIdentity","useGetLocale","useGetToPath","useGo","useHandleNotification","useImport","useInfiniteList","useInvalidate","useIsAuthenticated","useIsExistAuthentication","useLink","useList","useLiveMode","useLoadingOvertime","useLog","useLogList","useLogin","useLogout","useMany","useMenu","useMeta","useModal","useMutationMode","useNavigation","useNotification","useOnError","useOne","useParse","useParsed","usePermissions","usePublish","useRedirectionAfterSubmission","useRefineContext","useRegister","useResource","useResourceSubscription","useResourceWithRoute","useRouterContext","useRouterType","useSelect","useSetLocale","useShow","useSubscription","useSyncWithLocation","useTable","useTitle","useToPath","useTranslate","useUpdate","useUpdateMany","useUpdatePassword","useUserFriendlyName","useWarnAboutChange","userFriendlyResourceName","module","__toCommonJS","import_react","B","import_react_query","import_devtools_internal","import_qs","import_unionWith","import_differenceWith","import_warn_once","userFriendlySecond","__name","miliseconds","import_zip","import_fromPairs","data","mapData","item","headers","body","entry","Gs","fromPairs","Hs","zip","index","array","import_pluralize","resource","type","humanizeResource","humanizeString","Io","pluralize","params","args","arg","arrayFindIndex","slice","sliceItem","sliceIndex","convertToLegacy","segments","newSegments","newParams","BaseKeyBuilder","legacy","ParamsKeyBuilder","paramsValue","DataIdRequiringKeyBuilder","idValue","DataIdsRequiringKeyBuilder","idsValue","el","DataResourceKeyBuilder","actionType","DataKeyBuilder","resourceName","mutationName","AuthKeyBuilder","AccessResourceKeyBuilder","AccessKeyBuilder","AuditActionKeyBuilder","AuditKeyBuilder","name","dataProviderName","meta","metaData","providerName","config","ids","id","queryKeysReplacement","preferLegacyKeys","hasPermission","permissions","action","i","isParameter","segment","splitToSegments","path","isSegmentCountsSame","route","resourceRoute","routeSegments","resourceRouteSegments","removeLeadingTrailingSlashes","checkBySegments","stdRoute","stdResourceRoute","getDefaultActionPath","parentPrefix","cleanParentPrefix","getParentResource","resources","_a","_b","parentName","getParentPrefixForResource","parents","parent","v","getActionRoutesFromResource","actions","actionList","pickMatchedRoute","routes","sanitizedRoutes","segmentsCount","eligibleRoutes","nonParametrizedRoutes","allFound","actionRoute","mostEligible","resourcesFromProps","tree","resourcesRouteObject","resourcesNameObject","child","text","DefaultLayout","children","_s","React","defaultRefineOptions","Vo","RefineContext","Bo","RefineContextProvider","hasDashboard","mutationMode","warnWhenUnsavedChanges","syncWithLocation","undoableTimeout","DashboardPage","Title","Layout","Header","Sider","Footer","OffLayoutArea","catchAll","liveMode","onLiveEvent","options","handleRefineOptions","disableTelemetry","reactQueryClientConfig","reactQueryDevtoolConfig","_c","_d","_e","_f","_g","_h","optionsWithDefaults","disableTelemetryWithDefault","reactQueryWithDefaults","redirectPage","redirectFromProps","redirectOptions","sequentialPromises","promises","onEachResolve","onEachReject","results","promise","result","error","pickResource","identifier","r","handleMultiple","res","lastPage","pagination","cursor","current","pageSize","totalPages","_resources","pickRouteParams","s","prepareRouteParams","routeParams","acc","key","value","composeRoute","designatedRoute","resourceMeta","parsed","preparedRouteParams","match","fromParams","LegacyAuthContext","Ct","LegacyAuthContextProvider","isProvided","authOperations","replace","loginFunc","registerFunc","logoutFunc","checkAuthFunc","AuthBindingsContext","AuthBindingsContextProvider","authBindings","handleLogin","handleRegister","handleLogout","handleCheck","handleForgotPassword","handleUpdatePassword","useLegacyAuthContext","useAuthBindingsContext","legacyAuthProvider","authProvider","handlePaginationParams","hasPagination","configPagination","hasPaginationString","mode","useMediaQuery","query","matches","setMatches","Gr","media","listener","safeTranslate","translate","defaultMessage","translated","actionPrefixMatcher","resourceNameFallback","resourceNameWithFallback","defaultTitle","suffix","autoGeneratedTitle","tn","UnsavedWarnContext","ar","UnsavedWarnContextProvider","warnWhen","setWarnWhen","$o","on","sn","an","textTransformers","humanizeName","isNested","obj","isArray","prefix","currentPrefix","propertyPath","url","sorter","sorters","filters","Or","qs","rest","compareFilters","left","right","compareSorters","permanentFilter","newFilters","prevFilters","f","cn","warnOnce","zo","unionWith","crudFilter","permanentSorter","newSorters","crudSorter","defaultFilter","Oo","differenceWith","defaultSorter","columnName","sortItem","operatorType","filter","operator","field","file","resolve","reject","reader","resultHandler","useKeys","useNewQueryKeys","v3LegacyAuthProviderCompatible","legacyGetPermission","getPermissions","queryResponse","_o","jo","legacyQueryResponse","queryOptions","legacyGetUserIdentity","getIdentity","Xo","Zo","useInvalidateAuthStore","queryClient","Tn","mutationOptions","invalidateAuthStore","routerType","go","push","open","close","legacyLogoutFromContext","logoutFromContext","mutation","Jo","variables","success","redirectTo","redirectPath","redirect","buildNotification","qo","v3LegacyAuthProviderCompatibleMutation","useLocation","search","legacyLoginFromContext","loginFromContext","to","Rn","Pn","ts","rs","redirectPathFromAuth","legacyRegisterFromContext","registerFromContext","ss","ns","v3LegacyAuthProviderCompatibleForgotPasswordFromContext","forgotPasswordFromContext","is","us","legacyUpdatePasswordFromContext","updatePasswordFromContext","xn","Cn","ds","ps","checkAuth","check","ls","ms","legacyCheckErrorFromContext","onErrorFromContext","legacyLogout","logout","fs","shouldLogout","ys","legacyIsProvided","isLoading","intervalProp","onIntervalProp","elapsedTime","setElapsedTime","yr","overtime","interval","onInterval","intervalFn","prevElapsedTime","resourceFromProp","successNotification","errorNotification","liveParams","overtimeOptions","dataProvider","checkError","handleNotification","getMeta","pickedDataProvider","preferredMeta","prefferedFilters","prefferedSorters","prefferedHasPagination","prefferedPagination","isServerPagination","combinedMeta","notificationValues","isEnabled","getList","Dn","queryKey","pageParam","signal","rawData","notificationConfig","err","vn","getOne","En","Ln","getMany","Mn","Un","import_isEqual","UndoableQueueContext","Vt","initialState","undoableQueueReducer","state","notificationItem","qr","isEqual","UndoableQueueContextProvider","notifications","notificationDispatch","notificationData","notification","select","mutationModeContext","undoableTimeoutContext","publish","log","invalidateStore","values","onCancel","mutationModePropOrContext","undoableTimeoutPropOrContext","doMutation","cancelMutation","optimisticUpdateMap","resourceKeys","previousQueries","previous","record","_data","_error","invalidates","dataProviderNameFromProp","context","resourceSingular","previousData","queryData","_fields","_operation","_variables","In","Sn","successNotificationFromProp","errorNotificationFromProp","wn","ro","An","Fn","selectedDataProvider","val","response","resourcePlural","Qn","so","mutationFn","Vn","no","Nn","getApiUrl","method","custom","Gn","$n","zn","On","defaultDataProvider","DataContext","Rs","DataContextProvider","dataProviders","ao","Zn","paginationProperties","total","Xn","LiveContext","Ps","LiveContextProvider","liveProvider","useMemoized","ref","qn","ea","useDeepMemo","fn","dependencies","memoizedDependencies","ra","xs","ResourceContextProvider","providedResources","RouterPickerContext","Cs","RouterPickerProvider","defaultBindings","RouterBindingsContext","uo","RouterBindingsProvider","router","bindings","co","parse","ua","ca","oldProps","force","pickedResource","resourceWithRoute","useParams","legacyParams","resourceKeyToCheck","legacyResource","legacyId","legacyAction","legacyResourceName","legacyIdentifier","pickedFromProps","lo","pa","da","invalidationFilters","invalidationOptions","dp","channel","types","enabled","liveModeFromProp","dataProviderNameFromProps","liveDataContext","Rr","liveModeFromContext","onLiveEventContextCallback","invalidate","subscription","callback","event","la","mo","liveContext","ma","fa","NotificationContext","fo","NotificationContextProvider","ga","Ta","fallbackNotification","vs","TranslationContextProvider","i18nProvider","yo","lang","To","import_export_to_csv_fix_source_map","resourceFromProps","maxItemCount","exportOptions","onError","setIsLoading","Ca","filename","preparingData","ha","import_debounce","actionFromProps","idFromProps","onMutationSuccess","onMutationError","queryMeta","mutationMeta","mutationModeProp","createMutationOptions","updateMutationOptions","autoSave","idFromRoute","actionFromRoute","inferredIdentifier","defaultId","setId","Ro","isCreate","isEdit","isClone","ba","designatedRedirectAction","queryResult","isFetchingQuery","mutationResultCreate","mutateCreate","isLoadingCreate","mutationResultUpdate","mutateUpdate","isLoadingUpdate","autoSaveMutation","handleSubmitWithRedirect","onFinishCreate","onSuccess","_","responseId","onFinishAutoSaveMutation","onFinishAutoSave","va","debounce","allValues","idFromFunction","show","edit","list","create","Da","resourceFromRoute","La","selectedResource","Nt","resourceSelect","getToPath","goFromRouter","handleResourceErrors","newTo","Po","useHistory","history","back","handleUrl","createUrl","resourceItem","createActionRoute","editUrl","encodedId","editActionRoute","cloneUrl","cloneActionRoute","showUrl","showActionRoute","listUrl","listActionRoute","showId","setShowId","Co","Ea","import_papaparse","import_chunk","paparseOptions","batchSize","onFinish","onProgress","processedAmount","setProcessedAmount","Kt","totalAmount","setTotalAmount","createMany","mutationResult","handleCleanup","handleFinish","createdValues","handleChange","Ua","valueFns","currentAmount","chunks","Ma","chunk","chunkedFns","chunkedValues","currentBatchLength","defaultVisible","visible","setVisible","xr","ho","defaultProvider","LegacyRouterContext","Ls","RouterContext","LegacyRouterContextProvider","Prompt","Link","routerContextValues","Sa","Es","AccessControlContextProvider","can","sanitizeResource","icon","clone","restResource","_metaIcon","restMeta","_optionsIcon","restOptions","Qa","_resource","paramsRest","sanitizedResource","ka","Fa","canFromContext","Ms","import_uniqBy","import_get","props","setSearch","at","setOptions","selectedOptions","setSelectedOptions","sort","optionLabel","optionValue","debounceValue","defaultValueQueryOptionsFromProps","fetchSize","defaultValue","onSearchFromProp","defaultValues","defaultValueQueryOnSuccess","hr","get","defaultValueQueryOptions","defaultValueQueryResult","defaultQueryOnSuccess","onSearch","combinedOptions","Va","uniqBy","Ba","defaultPermanentFilter","defaultPermanentSorter","initialCurrent","initialPageSize","initialSorter","defaultSetFilterBehavior","initialFilter","filtersFromProp","sortersFromProp","syncWithLocationProp","syncWithLocationContext","pathname","parsedParams","isServerSideFilteringEnabled","isServerSideSortingEnabled","isPaginationEnabled","prefferedCurrent","prefferedPageSize","parsedCurrent","parsedPageSize","parsedSorter","parsedFilters","preferredInitialFilters","preferredPermanentFilters","preferredInitialSorters","preferredPermanentSorters","prefferedFilterBehavior","defaultCurrent","defaultPageSize","Xe","Ha","setSorters","setFilters","setCurrent","setPageSize","createLinkForSyncWithLocation","currentQueryParams","Is","stringifyParams","queryParams","br","vr","setFiltersAsMerge","setFiltersAsReplace","setFiltersWithSetter","setter","prev","setFiltersFn","setterOrFilters","behavior","setSortWithUnion","newSorter","AuditLogContext","ws","AuditLogContextProvider","update","logMutationOptions","renameMutationOptions","Dr","auditLogContext","Ss","identityData","refetch","logPermissions","authorData","As","rename","author","$a","Wa","za","metaFromProps","Oa","breadcrumbs","addBreadcrumb","parentResource","grandParentName","listActionOfResource","hrefRaw","href","actionLabel","createResourceKey","currentParentResource","createTree","root","currentParent","currentTree","flatten","items","itemKey","getCleanPath","hideOnMissingParameter","legacyPath","getFriendlyName","cleanRoute","selectedKey","defaultOpenKeys","bo","prepareItem","composed","treeItems","treeMenuItems","prepare","preparedNodes","newItem","metaFromProp","_filters","_sorters","_current","_pageSize","additionalParams","errorMessage","setErrorMessage","Ze","username","setUsername","Re","password","setPassword","login","e","providers","registerLink","forgotPasswordLink","rememberMe","contentProps","wrapperProps","renderContent","formProps","title","LegacyLink","ActiveLink","email","setEmail","ne","remember","setRemember","renderLink","link","renderProviders","provider","content","RegisterPage","loginLink","ge","register","ForgotPasswordPage","we","forgotPassword","UpdatePasswordPage","updatePassword","newPassword","setNewPassword","Se","confirmPassword","setConfirmPassword","Dt","Ae","CARDS","re","isTablet","isMobile","getGridTemplateColumns","getHeaderFontSize","getSubHeaderFontSize","card","Card","description","isHover","setIsHover","REFINE_VERSION","useTelemetryData","auth","yt","routerContext","dataContext","notificationContext","accessControlContext","refineOptions","auditLog","live","i18n","accessControl","projectId","encode","payload","stringifiedPayload","throughImage","src","img","throughFetch","transport","Telemetry","sent","ks","encoded","checkRouterPropMisuse","otherProps","useRouterMisuseWarning","warned","Qs","legacyRouterProvider","routerProvider","notificationProvider","accessControlProvider","auditLogProvider","Lr","ui","notificationProviderContextValues","de","RouterComponent","timeoutId","setTimeoutId","Lo","cancelNotification","newTimeoutId","LayoutFromProps","SiderFromProps","HeaderFromProps","TitleFromProps","FooterFromProps","OffLayoutAreaFromProps","$t","UnsavedPrompt","warnWhenListener","useDeferredGo","setConfig","ke","redirectOnFail","appendCurrentPathToQuery","fallbackContent","loadingContent","activeAuthProvider","hasAuthProvider","isLegacyAuth","isLegacyRouter","deferredGo","legacyLocation","isFetching","isSuccess","isAuthenticatedStatus","authenticatedRedirect","isAuthenticated","appliedRedirect","toQuery","location","li","actionFromProp","paramsFromProp","fallback","onUnauthorized","idFromPropsOrRoute","it","CSSRules","ut","styleTag","rule","import_react","import_get","import_has","import_react_hook_form","import_core","useForm","__name","refineCoreProps","warnWhenUnsavedChangesProp","disableServerSideValidationProp","rest","options","disableServerSideValidation","translate","warnWhenUnsavedChangesRefine","setWarnWhen","warnWhenUnsavedChanges","useHookFormResult","useHookForm","watch","setValue","getValues","handleSubmitReactHookForm","setError","useFormCoreResult","useFormCore","error","_variables","_context","_a","_b","errors","key","fieldError","newError","queryResult","onFinish","formLoading","onFinishAutoSave","data","path","hasValue","has","dataValue","get","subscription","values","type","onValuesChange","changeValues","onFinishProps","handleSubmit","onValid","onInvalid","e","import_react","useStepsForm","__name","stepsProps","rest","defaultStep","isBackValidate","current","setCurrent","useHookFormResult","useForm","trigger","getValues","setValue","dirtyFields","queryResult","_a","data","registeredFields","key","value","name","go","step","targetStep","import_react","import_core","import_react","useModalForm","__name","modalProps","refineCoreProps","syncWithLocation","rest","_a","_b","invalidate","initiallySynced","setInitiallySynced","React","translate","resourceProp","actionProp","resource","actionFromParams","identifier","parsed","go","getUserFriendlyName","action","syncingId","syncWithLocationKey","defaultVisible","autoSubmitClose","autoResetForm","useHookFormResult","useForm","reset","onFinish","id","setId","autoSaveProps","saveButtonProps","handleSubmit","visible","show","close","_c","_d","openStatus","idFromParams","submit","values","warnWhen","setWarnWhen","handleClose","handleShow","showId","title","e"]}