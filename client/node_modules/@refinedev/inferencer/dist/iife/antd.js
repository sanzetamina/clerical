(()=>{var Ad=Object.create;var Bn=Object.defineProperty;var Dd=Object.getOwnPropertyDescriptor;var Rd=Object.getOwnPropertyNames;var Md=Object.getPrototypeOf,Od=Object.prototype.hasOwnProperty;var F=(e,t)=>Bn(e,"name",{value:t,configurable:!0}),y=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var pa=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Bd=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Rd(t))!Od.call(e,n)&&n!==r&&Bn(e,n,{get:()=>t[n],enumerable:!(a=Dd(t,n))||a.enumerable});return e};var ge=(e,t,r)=>(r=e!=null?Ad(Md(e)):{},Bd(t||!e||!e.__esModule?Bn(r,"default",{value:e,enumerable:!0}):r,e));var Qa=pa((Gy,Oi)=>{var Ud=Object.create,Ka=Object.defineProperty,zd=Object.getOwnPropertyDescriptor,Vd=Object.getOwnPropertyNames,jd=Object.getPrototypeOf,Wd=Object.prototype.hasOwnProperty,Kd=F((e,t)=>{for(var r in t)Ka(e,r,{get:t[r],enumerable:!0})},"N"),$i=F((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Vd(t))!Wd.call(e,n)&&n!==r&&Ka(e,n,{get:()=>t[n],enumerable:!(a=zd(t,n))||a.enumerable});return e},"E"),Qd=F((e,t,r)=>(r=e!=null?Ud(jd(e)):{},$i(t||!e||!e.__esModule?Ka(r,"default",{value:e,enumerable:!0}):r,e)),"A"),Hd=F(e=>$i(Ka({},"__esModule",{value:!0}),e),"V"),qi={};Kd(qi,{DevToolsContext:()=>Mi,DevToolsContextProvider:()=>Gd,DevtoolsEvent:()=>Ni,hooksByScope:()=>_d,receive:()=>Ri,scopes:()=>Ai,send:()=>Di});Oi.exports=Hd(qi);var Ni=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(Ni||{}),Ai={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},_d=Object.entries(Ai).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),Vr=Qd(y("react"));async function Di(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let n=F(()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",n)},"a");e.addEventListener("open",n)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}F(Di,"d");function Ri(e,t,r){let a=F(n=>{let{event:o,payload:i}=JSON.parse(n.data);t===o&&r(i)},"s");return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}F(Ri,"c");var Mi=Vr.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),Gd=F(({__devtools:e,port:t,children:r})=>{let[a,n]=Vr.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[o,i]=Vr.default.useState(null);Vr.default.useEffect(()=>{let c=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),p=Ri(c,"devtools:handshake",f=>{n(b=>({...b,devtoolsUrl:f.url})),p()});return c.addEventListener("open",()=>{a.__devtools||Di(c,"devtools:init",{url:window.location.origin})}),i(c),()=>{p(),c.close(1e3,window.location.origin)}},[]);let l=Vr.default.useMemo(()=>({...a,ws:o}),[a,o]);return Vr.default.createElement(Mi.Provider,{value:l},r)},"S")});var he=pa((e0,Wi)=>{var Xd=Object.create,Ha=Object.defineProperty,Yd=Object.getOwnPropertyDescriptor,Zd=Object.getOwnPropertyNames,Jd=Object.getPrototypeOf,ec=Object.prototype.hasOwnProperty,tc=F((e,t)=>{for(var r in t)Ha(e,r,{get:t[r],enumerable:!0})},"L"),Bi=F((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Zd(t))!ec.call(e,n)&&n!==r&&Ha(e,n,{get:()=>t[n],enumerable:!(a=Yd(t,n))||a.enumerable});return e},"d"),Ui=F((e,t,r)=>(r=e!=null?Xd(Jd(e)):{},Bi(t||!e||!e.__esModule?Ha(r,"default",{value:e,enumerable:!0}):r,e)),"E"),rc=F(e=>Bi(Ha({},"__esModule",{value:!0}),e),"M"),zi={};tc(zi,{getTrace:()=>ji,getXRay:()=>uc,useQuerySubscription:()=>dc});Wi.exports=rc(zi);var ac=Ui(y("error-stack-parser")),nc="renderWithHooks",oc=F(e=>{let t=e.findIndex(r=>r.functionName===nc);return t!==-1?e.slice(0,t):e},"T"),Vi=/node_modules\/refinedev\/(?<name>.*?)\//,ic=F(e=>e?!!e.match(Vi):!1,"_"),lc=F(e=>{var t;if(!e)return;let r=e.match(Vi),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`},"R");function ji(){return[];try{let e=new Error,t=ac.default.parse(e);return oc(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:ic(r.fileName),packageName:lc(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}F(ji,"l");var Un=Qa(),sc=F((e,t)=>{if(Un.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(Un.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(Un.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function uc(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}F(uc,"I");var Yy=Qa(),Zy=Ui(y("react")),Jy=Qa(),dc=()=>({})});var te=pa((r0,_s)=>{var cc=Object.create,va=Object.defineProperty,mc=Object.getOwnPropertyDescriptor,pc=Object.getOwnPropertyNames,fc=Object.getPrototypeOf,vc=Object.prototype.hasOwnProperty,C=F((e,t)=>va(e,"name",{value:t,configurable:!0}),"o"),gc=F((e,t)=>{for(var r in t)va(e,r,{get:t[r],enumerable:!0})},"Pi"),Ul=F((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of pc(t))!vc.call(e,n)&&n!==r&&va(e,n,{get:()=>t[n],enumerable:!(a=mc(t,n))||a.enumerable});return e},"Bs"),_=F((e,t,r)=>(r=e!=null?cc(fc(e)):{},Ul(t||!e||!e.__esModule?va(r,"default",{value:e,enumerable:!0}):r,e)),"B"),yc=F(e=>Ul(va({},"__esModule",{value:!0}),e),"xi"),zl={};gc(zl,{AccessControlContext:()=>Ca,AuthPage:()=>jp,Authenticated:()=>Qs,CanAccess:()=>uf,ErrorComponent:()=>Op,GitHubBanner:()=>cf,KeyBuilder:()=>uo,LayoutWrapper:()=>nf,LoginPage:()=>js,ReadyPage:()=>Ws,Refine:()=>af,ResourceContext:()=>ya,RouteChangeHandler:()=>Hs,TranslationContext:()=>Lr,UndoableQueue:()=>Ks,WelcomePage:()=>Kp,createTreeView:()=>Lc,file2Base64:()=>Hc,generateDefaultDocumentTitle:()=>ps,getDefaultFilter:()=>Qc,getDefaultSortOrder:()=>Kc,getNextPageParam:()=>ls,getPreviousPageParam:()=>ss,handleUseParams:()=>Ec,importCSVMapper:()=>Wl,keys:()=>nr,legacyResourceTransform:()=>us,matchResourceFromRoute:()=>Sc,parseTableParams:()=>fo,parseTableParamsFromQuery:()=>Wc,pickDataProvider:()=>le,pickNotDeprecated:()=>H,queryKeys:()=>Pc,routeGenerator:()=>as,setInitialFilters:()=>oo,setInitialSorters:()=>io,stringifyTableParams:()=>ao,unionFilters:()=>fa,unionSorters:()=>no,useActiveAuthProvider:()=>ze,useApiUrl:()=>Em,useAuthenticated:()=>Jc,useBack:()=>Ms,useBreadcrumb:()=>Dp,useCan:()=>Us,useCanWithoutCache:()=>xp,useCancelNotification:()=>_r,useCheckError:()=>em,useCreate:()=>Po,useCreateMany:()=>Ps,useCustom:()=>km,useCustomMutation:()=>Im,useDataProvider:()=>Ye,useDelete:()=>fm,useDeleteMany:()=>Cm,useExport:()=>ap,useForgotPassword:()=>ho,useForm:()=>ip,useGetIdentity:()=>vo,useGetLocale:()=>ep,useGetToPath:()=>wo,useGo:()=>Pt,useHandleNotification:()=>ft,useImport:()=>mp,useInfiniteList:()=>qm,useInvalidate:()=>Xt,useIsAuthenticated:()=>on,useIsExistAuthentication:()=>bs,useLink:()=>ln,useList:()=>Co,useLiveMode:()=>Ns,useLoadingOvertime:()=>Qe,useLog:()=>Tr,useLogList:()=>qp,useLogin:()=>nn,useLogout:()=>en,useMany:()=>Cs,useMenu:()=>Mp,useMeta:()=>Me,useModal:()=>pp,useMutationMode:()=>Hr,useNavigation:()=>xt,useNotification:()=>sr,useOnError:()=>rt,useOne:()=>Eo,useParse:()=>$s,useParsed:()=>Rt,usePermissions:()=>hs,usePublish:()=>Sr,useRedirectionAfterSubmission:()=>Rs,useRefineContext:()=>tt,useRegister:()=>yo,useResource:()=>pe,useResourceSubscription:()=>ba,useResourceWithRoute:()=>qs,useRouterContext:()=>vt,useRouterType:()=>Ve,useSelect:()=>Fp,useSetLocale:()=>Jm,useShow:()=>up,useSubscription:()=>Qm,useSyncWithLocation:()=>vs,useTable:()=>zs,useTitle:()=>Vc,useToPath:()=>vp,useTranslate:()=>we,useUpdate:()=>lo,useUpdateMany:()=>hm,useUpdatePassword:()=>bo,useUserFriendlyName:()=>po,useWarnAboutChange:()=>mo,userFriendlyResourceName:()=>Kl});_s.exports=yc(zl);var xr=_(y("react")),Ki=y("@tanstack/react-query"),Qi=he(),so=_(y("qs")),Vl=_(y("lodash/unionWith")),jl=_(y("lodash/differenceWith")),hc=_(y("warn-once")),zn=C(e=>e/1e3,"userFriendlySecond"),bc=_(y("lodash/zip")),Cc=_(y("lodash/fromPairs")),Wl=C((e,t=r=>r)=>{let[r,...a]=e;return a.map(n=>(0,Cc.default)((0,bc.default)(r,n))).map((n,o,i)=>t.call(void 0,n,o,i))},"importCSVMapper"),Hi=_(y("pluralize")),Kl=C((e="",t)=>{let r=ns(e);return t==="singular"?Hi.default.singular(r):Hi.default.plural(r)},"userFriendlyResourceName"),Ec=C((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),H=C((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function Bt(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((n,o)=>e[a+o]===n))}F(Bt,"Ye");C(Bt,"arrayFindIndex");function Ql(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(Bt(e,["auth","login"])!==-1)return["useLogin"];if(Bt(e,["auth","logout"])!==-1)return["useLogout"];if(Bt(e,["auth","identity"])!==-1)return["getUserIdentity"];if(Bt(e,["auth","register"])!==-1)return["useRegister"];if(Bt(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(Bt(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(Bt(e,["auth","onError"])!==-1)return["useCheckError"];if(Bt(e,["auth","permissions"])!==-1)return["usePermissions"];if(Bt(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}F(Ql,"Ci");C(Ql,"convertToLegacy");var pt=F(class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return Ql(this.segments)}get(e){return e?this.legacy():this.segments}},"ve");C(pt,"BaseKeyBuilder");var Gt=F(class extends pt{constructor(e){super(e)}params(e){return new pt([...this.segments,e])}},"We");C(Gt,"ParamsKeyBuilder");var Hl=F(class extends pt{constructor(e){super(e)}id(e){return new Gt([...this.segments,e?String(e):void 0])}},"Mr");C(Hl,"DataIdRequiringKeyBuilder");var _l=F(class extends pt{constructor(e){super(e)}ids(...e){return new Gt([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}},"Ir");C(_l,"DataIdsRequiringKeyBuilder");var Gl=F(class extends pt{constructor(e){super(e)}action(e){if(e==="one")return new Hl([...this.segments,e]);if(e==="many")return new _l([...this.segments,e]);if(["list","infinite"].includes(e))return new Gt([...this.segments,e]);throw new Error("Invalid action type")}},"wr");C(Gl,"DataResourceKeyBuilder");var Xl=F(class extends pt{constructor(e){super(e)}resource(e){return new Gl([...this.segments,e])}mutation(e){return new Gt([...e==="custom"?this.segments:[this.segments[0]],e])}},"Sr");C(Xl,"DataKeyBuilder");var Yl=F(class extends pt{constructor(e){super(e)}action(e){return new Gt([...this.segments,e])}},"Ar");C(Yl,"AuthKeyBuilder");var Zl=F(class extends pt{constructor(e){super(e)}action(e){return new Gt([...this.segments,e])}},"kr");C(Zl,"AccessResourceKeyBuilder");var Jl=F(class extends pt{constructor(e){super(e)}resource(e){return new Zl([...this.segments,e])}},"Qr");C(Jl,"AccessKeyBuilder");var es=F(class extends pt{constructor(e){super(e)}action(e){return new Gt([...this.segments,e])}},"Fr");C(es,"AuditActionKeyBuilder");var ts=F(class extends pt{constructor(e){super(e)}resource(e){return new es([...this.segments,e])}action(e){return new Gt([...this.segments,e])}},"Vr");C(ts,"AuditKeyBuilder");var uo=F(class extends pt{constructor(e){super(e)}data(e){return new Xl(["data",e||"default"])}auth(){return new Yl(["auth"])}access(){return new Jl(["access"])}audit(){return new ts(["audit"])}},"Pt");C(uo,"KeyBuilder");var nr=C(()=>new uo([]),"keys"),Pc=C((e,t,r,a)=>{let n=t||"default",o={all:[n],resourceAll:[n,e||""],list:i=>[...o.resourceAll,"list",{...i,...H(r,a)||{}}],many:i=>[...o.resourceAll,"getMany",i&&i.map(String),{...H(r,a)||{}}].filter(l=>l!==void 0),detail:i=>[...o.resourceAll,"detail",i==null?void 0:i.toString(),{...H(r,a)||{}}],logList:i=>["logList",e,i,a].filter(l=>l!==void 0)};return o},"queryKeys"),rn=C(e=>(t,r,a,n)=>{let o=r||"default";return{all:nr().data(o).get(e),resourceAll:nr().data(r).resource(t??"").get(e),list:i=>nr().data(r).resource(t??"").action("list").params({...i,...H(a,n)||{}}).get(e),many:i=>nr().data(r).resource(t??"").action("many").ids(...i??[]).params({...H(a,n)||{}}).get(e),detail:i=>nr().data(r).resource(t??"").action("one").id(i??"").params({...H(a,n)||{}}).get(e),logList:i=>[...nr().audit().resource(t).action("list").params(i).get(e),n].filter(l=>l!==void 0)}},"queryKeysReplacement"),xc=C((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),co=C(e=>e.startsWith(":"),"isParameter"),Kr=C(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),kc=C((e,t)=>{let r=Kr(e),a=Kr(t);return r.length===a.length},"isSegmentCountsSame"),_t=C(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),wc=C((e,t)=>{let r=_t(e),a=_t(t);if(!kc(r,a))return!1;let n=Kr(r);return Kr(a).every((o,i)=>co(o)||o===n[i])},"checkBySegments"),Fc=C((e,t,r)=>{let a=_t(r||""),n=`${a}${a?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},"getDefaultActionPath"),ir=C((e,t)=>{var r,a;let n=H((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return n?t.find(o=>(o.identifier??o.name)===n)??{name:n}:void 0},"getParentResource"),rs=C((e,t,r)=>{let a=[],n=ir(e,t);for(;n;)a.push(n),n=ir(n,t);if(a.length!==0)return`/${a.reverse().map(o=>{var i;let l=r?((i=o.options)==null?void 0:i.route)??o.name:o.name;return _t(l)}).join("/")}`},"getParentPrefixForResource"),ct=C((e,t,r)=>{let a=[],n=["list","show","edit","create","clone"],o=rs(e,t,r);return n.forEach(i=>{var l,c;let p=r&&i==="clone"?e.create:e[i],f;typeof p=="function"||r?f=Fc(r?((l=e.meta)==null?void 0:l.route)??((c=e.options)==null?void 0:c.route)??e.name:e.name,i,r?o:void 0):typeof p=="string"?f=p:typeof p=="object"&&(f=p.path),f&&a.push({action:i,resource:e,route:`/${f.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),Ic=C(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(o=>({...o,splitted:Kr(_t(o.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,n=[...r];for(let o=0;o<a;o++){let i=n.filter(l=>!co(l.splitted[o]));if(i.length!==0){if(i.length===1){n=i;break}n=i}}return n[0]},"pickMatchedRoute"),Sc=C((e,t)=>{let r=t.flatMap(n=>ct(n,t)).filter(n=>wc(e,n.route)),a=Ic(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),as=C((e,t)=>{var r;let a,n=rs(e,t,!0);if(n){let o=H(e.meta,e.options);a=`${n}/${(o==null?void 0:o.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),Lc=C(e=>{var t;let r=[],a={},n={},o,i;for(let l=0;l<e.length;l++){o=e[l];let c=o.route??((t=H(o==null?void 0:o.meta,o.options))==null?void 0:t.route)??"";a[c]=o,a[c].children=[],n[o.name]=o,n[o.name].children=[]}for(let l in a)a.hasOwnProperty(l)&&(i=a[l],i.parentName&&n[i.parentName]?n[i.parentName].children.push(i):r.push(i));return r},"createTreeView"),ns=C(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),os=_(y("react")),_i=_(y("pluralize")),Tc=_(y("react")),is=C(({children:e})=>Tc.default.createElement("div",null,e),"DefaultLayout"),et={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:ns,plural:_i.default.plural,singular:_i.default.singular},disableServerSideValidation:!1},lr=os.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:is,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:et}),$c=C(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:n,children:o,DashboardPage:i,Title:l,Layout:c=is,Header:p,Sider:f,Footer:b,OffLayoutArea:w,LoginPage:m=js,catchAll:E,liveMode:x="off",onLiveEvent:v,options:s})=>os.default.createElement(lr.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:l,undoableTimeout:n,Layout:c,Header:p,Sider:f,Footer:b,OffLayoutArea:w,DashboardPage:i,LoginPage:m,catchAll:E,liveMode:x,onLiveEvent:v,options:s}},o),"RefineContextProvider"),qc=C(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:n,reactQueryDevtoolConfig:o,syncWithLocation:i,undoableTimeout:l,warnWhenUnsavedChanges:c}={})=>{var p,f,b,w,m,E,x,v;let s={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??et.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??l??et.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??i??et.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??c??et.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??et.liveMode,redirect:{afterCreate:((p=e==null?void 0:e.redirect)==null?void 0:p.afterCreate)??et.redirect.afterCreate,afterClone:((f=e==null?void 0:e.redirect)==null?void 0:f.afterClone)??et.redirect.afterClone,afterEdit:((b=e==null?void 0:e.redirect)==null?void 0:b.afterEdit)??et.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??et.overtime,textTransformers:{humanize:((w=e==null?void 0:e.textTransformers)==null?void 0:w.humanize)??et.textTransformers.humanize,plural:((m=e==null?void 0:e.textTransformers)==null?void 0:m.plural)??et.textTransformers.plural,singular:((E=e==null?void 0:e.textTransformers)==null?void 0:E.singular)??et.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??et.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},h=(e==null?void 0:e.disableTelemetry)??t??!1,d={clientConfig:((x=e==null?void 0:e.reactQuery)==null?void 0:x.clientConfig)??n??{},devtoolConfig:((v=e==null?void 0:e.reactQuery)==null?void 0:v.devtoolConfig)??o??{}};return{optionsWithDefaults:s,disableTelemetryWithDefault:h,reactQueryWithDefaults:d}},"handleRefineOptions"),Nc=C(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),Gi=C(async(e,t,r)=>{let a=[];for(let[n,o]of e.entries())try{let i=await o();a.push(t(i,n))}catch(i){a.push(r(i,n))}return a},"sequentialPromises"),_e=C((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(o=>_t(o.route??"")===_t(e))||t.find(o=>o.name===e);let a=t.find(n=>n.identifier===e);return a||(a=t.find(n=>n.name===e)),a},"pickResource"),le=C((e,t,r)=>{if(t)return t;let a=_e(e,r),n=H(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},"pickDataProvider"),an=C(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),ls=C(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/n);return a<o?Number(a)+1:void 0},"getNextPageParam"),ss=C(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),us=C(e=>{let t=[];return e.forEach(r=>{var a,n;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((n=r.options)==null?void 0:n.label),route:as(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),Ac=C(e=>Kr(_t(e)).flatMap(t=>co(t)?[t.slice(1)]:[]),"pickRouteParams"),Dc=C((e,t={})=>e.reduce((r,a)=>{let n=t[a];return typeof n<"u"&&(r[a]=n),r},{}),"prepareRouteParams"),Ct=C((e,t={},r={},a={})=>{let n=Ac(e),o=Dc(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(i,l)=>{let c=o[l];return typeof c<"u"?`${c}`:i})},"composeRoute"),Qr=_(y("react")),ds=Qr.default.createContext({}),Rc=C(({children:e,isProvided:t,...r})=>{let{replace:a}=xt(),n=C(async c=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,c))}catch(f){return Promise.reject(f)}},"loginFunc"),o=C(async c=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,c))}catch(f){return Promise.reject(f)}},"registerFunc"),i=C(async c=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,c))}catch(f){return Promise.reject(f)}},"logoutFunc"),l=C(async c=>{var p;try{return await((p=r.checkAuth)==null?void 0:p.call(r,c)),Promise.resolve()}catch(f){return f!=null&&f.redirectPath&&a(f.redirectPath),Promise.reject(f)}},"checkAuthFunc");return Qr.default.createElement(ds.Provider,{value:{...r,login:n,logout:i,checkAuth:l,register:o,isProvided:t}},e)},"LegacyAuthContextProvider"),cs=Qr.default.createContext({}),Mc=C(({children:e,isProvided:t,...r})=>{let a=C(async p=>{var f;try{return await((f=r.login)==null?void 0:f.call(r,p))}catch(b){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleLogin"),n=C(async p=>{var f;try{return await((f=r.register)==null?void 0:f.call(r,p))}catch(b){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleRegister"),o=C(async p=>{var f;try{return await((f=r.logout)==null?void 0:f.call(r,p))}catch(b){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleLogout"),i=C(async p=>{var f;try{let b=await((f=r.check)==null?void 0:f.call(r,p));return Promise.resolve(b)}catch(b){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleCheck"),l=C(async p=>{var f;try{let b=await((f=r.forgotPassword)==null?void 0:f.call(r,p));return Promise.resolve(b)}catch(b){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleForgotPassword"),c=C(async p=>{var f;try{let b=await((f=r.updatePassword)==null?void 0:f.call(r,p));return Promise.resolve(b)}catch(b){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",b),Promise.reject(b)}},"handleUpdatePassword");return Qr.default.createElement(cs.Provider,{value:{...r,login:a,logout:o,check:i,register:n,forgotPassword:l,updatePassword:c,isProvided:t}},e)},"AuthBindingsContextProvider"),Et=C(()=>Qr.default.useContext(ds),"useLegacyAuthContext"),Dt=C(()=>Qr.default.useContext(cs),"useAuthBindingsContext"),ze=C(()=>{let e=Et(),t=Dt();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),ms=C(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",n=(t==null?void 0:t.mode)??a,o=H(t==null?void 0:t.current,r==null?void 0:r.current)??1,i=H(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:o,pageSize:i,mode:n}},"handlePaginationParams"),Xi=y("react"),Yi=C(e=>{let[t,r]=(0,Xi.useState)(!1);return(0,Xi.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let n=C(()=>r(a.matches),"listener");return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t},"useMediaQuery"),Vn=C((e,t,r,a)=>{let n=a?e(t,a,r):e(t,r);return n===t||typeof n>"u"?r??t:n},"safeTranslate");function ps(e,t,r,a,n){var o;let i={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},l=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),c=(t==null?void 0:t.label)??((o=t==null?void 0:t.meta)==null?void 0:o.label)??Kl(l,r==="list"?"plural":"singular"),p=n??c,f=Vn(e,"documentTitle.default","refine"),b=Vn(e,"documentTitle.suffix"," | refine"),w=f;return r&&l&&(w=Vn(e,`documentTitle.${l}.${r}`,`${i[r]??""}${p}${b}`,{id:a})),w}F(ps,"Ko");C(ps,"generateDefaultDocumentTitle");var Oc=y("react"),Hr=C(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Oc.useContext)(lr);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Zi=y("react"),ro=_(y("react")),fs=ro.default.createContext({}),Bc=C(({children:e})=>{let[t,r]=(0,ro.useState)(!1);return ro.default.createElement(fs.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),mo=C(()=>{let{warnWhenUnsavedChanges:e}=(0,Zi.useContext)(lr),{warnWhen:t,setWarnWhen:r}=(0,Zi.useContext)(fs);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),Uc=y("react"),vs=C(()=>{let{syncWithLocation:e}=(0,Uc.useContext)(lr);return{syncWithLocation:e}},"useSyncWithLocation"),zc=y("react"),Vc=C(()=>{let{Title:e}=(0,zc.useContext)(lr);return e},"useTitle"),jc=y("react"),tt=C(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:i,mutationMode:l,syncWithLocation:c,undoableTimeout:p,warnWhenUnsavedChanges:f,DashboardPage:b,LoginPage:w,catchAll:m,options:E}=(0,jc.useContext)(lr);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:i,mutationMode:l,syncWithLocation:c,undoableTimeout:p,warnWhenUnsavedChanges:f,DashboardPage:b,LoginPage:w,catchAll:m,options:E}},"useRefineContext"),po=C(()=>{let{options:{textTransformers:e}}=tt();return C((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),fo=C(e=>{let{current:t,pageSize:r,sorter:a,sorters:n,filters:o}=so.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:H(n,a)??[],parsedFilters:o??[]}},"parseTableParams"),Wc=C(e=>{let t=so.default.stringify(e);return fo(`/${t}`)},"parseTableParamsFromQuery"),ao=C(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:n,filters:o,...i}=e;return so.default.stringify({...i,...r||{},sorters:H(n,a),filters:o},t)},"stringifyTableParams"),gs=C((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),ys=C((e,t)=>e.field==t.field,"compareSorters"),fa=C((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,hc.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Vl.default)(e,t,r,gs).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),no=C((e,t)=>(0,Vl.default)(e,t,ys).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),oo=C((e,t)=>[...(0,jl.default)(t,e,gs),...e],"setInitialFilters"),io=C((e,t)=>[...(0,jl.default)(t,e,ys),...e],"setInitialSorters"),Kc=C((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),Qc=C((e,t,r="eq")=>{let a=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:o,field:i}=n;return i===e&&o===r}});if(a)return a.value||[]},"getDefaultFilter"),Hc=C(e=>new Promise((t,r)=>{let a=new FileReader,n=C(()=>{a.result&&(a.removeEventListener("load",n,!1),t(a.result))},"resultHandler");a.addEventListener("load",n,!1),a.readAsDataURL(e.originFileObj),a.onerror=o=>(a.removeEventListener("load",n,!1),r(o))}),"file2Base64"),be=C(()=>{let{options:{useNewQueryKeys:e}}=tt();return{keys:nr,preferLegacyKeys:!e}},"useKeys");function hs({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=Et(),{getPermissions:a}=Dt(),{keys:n,preferLegacyKeys:o}=be(),i=(0,Ki.useQuery)(n().auth().action("permissions").get(o),a??(()=>Promise.resolve(void 0)),{enabled:!e&&!!a,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,Qi.getXRay)("usePermissions",o)}}),l=(0,Ki.useQuery)([...n().auth().action("permissions").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Qi.getXRay)("usePermissions",o)}});return e?l:i}F(hs,"mn");C(hs,"usePermissions");var Ji=y("@tanstack/react-query"),el=he();function vo({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=Et(),{getIdentity:a}=Dt(),{keys:n,preferLegacyKeys:o}=be(),i=(0,Ji.useQuery)(n().auth().action("identity").get(o),a??(()=>Promise.resolve({})),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,el.getXRay)("useGetIdentity",o)}}),l=(0,Ji.useQuery)([...n().auth().action("identity").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,el.getXRay)("useGetIdentity",o)}});return e?l:i}F(vo,"zr");C(vo,"useGetIdentity");var tl=y("@tanstack/react-query"),rl=he(),_c=y("@tanstack/react-query"),go=C(()=>{let e=(0,_c.useQueryClient)(),{keys:t,preferLegacyKeys:r}=be();return C(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function en({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=go(),a=Ve(),n=Pt(),{push:o}=xt(),{open:i,close:l}=sr(),{logout:c}=Et(),{logout:p}=Dt(),{keys:f,preferLegacyKeys:b}=be(),w=(0,tl.useMutation)(f().auth().action("logout").get(b),p,{onSuccess:async(E,x)=>{let{success:v,error:s,redirectTo:h}=E,{redirectPath:d}=x??{},k=d??h;v&&(l==null||l("useLogout-error")),(s||!v)&&(i==null||i(jn(s))),await r(),k!==!1&&(a==="legacy"?o(k??"/login"):k&&n({to:k}))},onError:E=>{i==null||i(jn(E))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,rl.getXRay)("useLogout",b)}}),m=(0,tl.useMutation)([...f().auth().action("logout").get(b),"v3LegacyAuthProviderCompatible"],c,{onSuccess:async(E,x)=>{let v=(x==null?void 0:x.redirectPath)??E;if(await r(),v!==!1){if(v){a==="legacy"?o(v):n({to:v});return}a==="legacy"?o("/login"):n({to:"/login"})}},onError:E=>{i==null||i(jn(E))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,rl.getXRay)("useLogout",b)}});return e?m:w}F(en,"pr");C(en,"useLogout");var jn=C(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),Gc=_(y("react")),al=y("@tanstack/react-query"),nl=he(),Xc=_(y("qs"));function nn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=go(),a=Ve(),n=Pt(),{replace:o}=xt(),i=Rt(),{useLocation:l}=vt(),{search:c}=l(),{close:p,open:f}=sr(),{login:b}=Et(),{login:w}=Dt(),{keys:m,preferLegacyKeys:E}=be(),x=Gc.default.useMemo(()=>{var h;return a==="legacy"?Xc.default.parse(c,{ignoreQueryPrefix:!0}).to:(h=i.params)==null?void 0:h.to},[a,i.params,c]),v=(0,al.useMutation)(m().auth().action("login").get(E),w,{onSuccess:async({success:h,redirectTo:d,error:k})=>{h&&(p==null||p("login-error")),(k||!h)&&(f==null||f(Wn(k))),await r(),x&&h?a==="legacy"?o(x):n({to:x,type:"replace"}):d?a==="legacy"?o(d):n({to:d,type:"replace"}):a==="legacy"&&o("/")},onError:h=>{f==null||f(Wn(h))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,nl.getXRay)("useLogin",E)}}),s=(0,al.useMutation)([...m().auth().action("login").get(E),"v3LegacyAuthProviderCompatible"],b,{onSuccess:async h=>{await r(),x&&o(x),h!==!1&&!x&&(typeof h=="string"?a==="legacy"?o(h):n({to:h,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"})),p==null||p("login-error")},onError:h=>{f==null||f(Wn(h))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,nl.getXRay)("useLogin",E)}});return e?s:v}F(nn,"At");C(nn,"useLogin");var Wn=C(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),ol=y("@tanstack/react-query"),il=he();function yo({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=go(),a=Ve(),n=Pt(),{replace:o}=xt(),{register:i}=Et(),{register:l}=Dt(),{close:c,open:p}=sr(),{keys:f,preferLegacyKeys:b}=be(),w=(0,ol.useMutation)(f().auth().action("register").get(b),l,{onSuccess:async({success:E,redirectTo:x,error:v})=>{E&&(c==null||c("register-error")),(v||!E)&&(p==null||p(Kn(v))),await r(),x?a==="legacy"?o(x):n({to:x,type:"replace"}):a==="legacy"&&o("/")},onError:E=>{p==null||p(Kn(E))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,il.getXRay)("useRegister",b)}}),m=(0,ol.useMutation)([...f().auth().action("register").get(b),"v3LegacyAuthProviderCompatible"],i,{onSuccess:async E=>{await r(),E!==!1&&(E?a==="legacy"?o(E):n({to:E,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"}),c==null||c("register-error"))},onError:E=>{p==null||p(Kn(E))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,il.getXRay)("useRegister",b)}});return e?m:w}F(yo,"jr");C(yo,"useRegister");var Kn=C(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),ll=y("@tanstack/react-query"),sl=he();function ho({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ve(),a=Pt(),{replace:n}=xt(),{forgotPassword:o}=Et(),{forgotPassword:i}=Dt(),{close:l,open:c}=sr(),{keys:p,preferLegacyKeys:f}=be(),b=(0,ll.useMutation)(p().auth().action("forgotPassword").get(f),i,{onSuccess:({success:m,redirectTo:E,error:x})=>{m&&(l==null||l("forgot-password-error")),(x||!m)&&(c==null||c(Qn(x))),E&&(r==="legacy"?n(E):a({to:E,type:"replace"}))},onError:m=>{c==null||c(Qn(m))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,sl.getXRay)("useForgotPassword",f)}}),w=(0,ll.useMutation)([...p().auth().action("forgotPassword").get(f),"v3LegacyAuthProviderCompatible"],o,{onSuccess:m=>{m!==!1&&m&&(r==="legacy"?n(m):a({to:m,type:"replace"})),l==null||l("forgot-password-error")},onError:m=>{c==null||c(Qn(m))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,sl.getXRay)("useForgotPassword",f)}});return e?w:b}F(ho,"_r");C(ho,"useForgotPassword");var Qn=C(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),Yc=_(y("react")),ul=y("@tanstack/react-query"),dl=he(),Zc=_(y("qs"));function bo({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ve(),a=Pt(),{replace:n}=xt(),{updatePassword:o}=Et(),{updatePassword:i}=Dt(),{close:l,open:c}=sr(),{keys:p,preferLegacyKeys:f}=be(),b=Rt(),{useLocation:w}=vt(),{search:m}=w(),E=Yc.default.useMemo(()=>r==="legacy"?Zc.default.parse(m,{ignoreQueryPrefix:!0})??{}:b.params??{},[m,b,r]),x=(0,ul.useMutation)(p().auth().action("updatePassword").get(f),async s=>i==null?void 0:i({...E,...s}),{onSuccess:({success:s,redirectTo:h,error:d})=>{s&&(l==null||l("update-password-error")),(d||!s)&&(c==null||c(Hn(d))),h&&(r==="legacy"?n(h):a({to:h,type:"replace"}))},onError:s=>{c==null||c(Hn(s))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,dl.getXRay)("useUpdatePassword",f)}}),v=(0,ul.useMutation)([...p().auth().action("updatePassword").get(f),"v3LegacyAuthProviderCompatible"],async s=>o==null?void 0:o({...E,...s}),{onSuccess:s=>{s!==!1&&s&&(r==="legacy"?n(s):a({to:s,type:"replace"})),l==null||l("update-password-error")},onError:s=>{c==null||c(Hn(s))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,dl.getXRay)("useUpdatePassword",f)}});return e?v:x}F(bo,"Or");C(bo,"useUpdatePassword");var Hn=C(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),cl=y("@tanstack/react-query"),ml=he();function on({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=Et(),{check:a}=Dt(),{keys:n,preferLegacyKeys:o}=be(),i=(0,cl.useQuery)(n().auth().action("check").params(t).get(o),async()=>await(a==null?void 0:a(t))??{},{retry:!1,enabled:!e,meta:{...(0,ml.getXRay)("useIsAuthenticated",o)}}),l=(0,cl.useQuery)([...n().auth().action("check").params(t).get(o),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,ml.getXRay)("useIsAuthenticated",o)}});return e?l:i}F(on,"lr");C(on,"useIsAuthenticated");var Jc=on,pl=y("@tanstack/react-query"),fl=he();function rt({v3LegacyAuthProviderCompatible:e=!1}={}){let t=Ve(),r=Pt(),{replace:a}=xt(),{checkError:n}=Et(),{onError:o}=Dt(),{keys:i,preferLegacyKeys:l}=be(),{mutate:c}=en({v3LegacyAuthProviderCompatible:!!e}),{mutate:p}=en({v3LegacyAuthProviderCompatible:!!e}),f=(0,pl.useMutation)(i().auth().action("onError").get(l),o,{onSuccess:({logout:w,redirectTo:m})=>{if(w){p({redirectPath:m});return}if(m){t==="legacy"?a(m):r({to:m,type:"replace"});return}},meta:{...(0,fl.getXRay)("useOnError",l)}}),b=(0,pl.useMutation)([...i().auth().action("onError").get(l),"v3LegacyAuthProviderCompatible"],n,{onError:w=>{c({redirectPath:w})},meta:{...(0,fl.getXRay)("useOnError",l)}});return e?b:f}F(rt,"ae");C(rt,"useOnError");var em=rt,bs=C(()=>{let{isProvided:e}=Et(),{isProvided:t}=Dt();return!!(t||e)},"useIsExistAuthentication"),tm=y("@tanstack/react-query"),rm=he(),_n=y("react"),Qe=C(({isLoading:e,interval:t,onInterval:r})=>{let[a,n]=(0,_n.useState)(void 0),{options:o}=tt(),{overtime:i}=o,l=t??i.interval,c=r??(i==null?void 0:i.onInterval);return(0,_n.useEffect)(()=>{let p;return e&&(p=setInterval(()=>{n(f=>f===void 0?l:f+l)},l)),()=>{clearInterval(p),n(void 0)}},[e,l]),(0,_n.useEffect)(()=>{c&&a&&c(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),Co=C(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:i,successNotification:l,errorNotification:c,meta:p,metaData:f,liveMode:b,onLiveEvent:w,liveParams:m,dataProviderName:E,overtimeOptions:x})=>{let{resources:v,resource:s,identifier:h}=pe(e),d=Ye(),k=we(),L=ze(),{mutate:u}=rt({v3LegacyAuthProviderCompatible:!!(L!=null&&L.isLegacy)}),P=ft(),$=Me(),{keys:S,preferLegacyKeys:q}=be(),g=le(h,E,v),I=H(p,f),T=H(r,t==null?void 0:t.filters),A=H(o,t==null?void 0:t.sort),N=H(a,t==null?void 0:t.hasPagination),M=ms({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:N}),D=M.mode==="server",O=$({resource:s,meta:I}),W={meta:O,metaData:O,filters:T,hasPagination:D,pagination:M,sorters:A,config:{...t,sort:A}},R=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,{getList:Q}=d(g);ba({resource:h,types:["*"],params:{meta:O,metaData:O,pagination:M,hasPagination:D,sort:A,sorters:A,filters:T,subscriptionType:"useList",...m},channel:`resources/${s==null?void 0:s.name}`,enabled:R,liveMode:b,onLiveEvent:w});let U=(0,tm.useQuery)(S().data(g).resource(h??"").action("list").params({...I||{},filters:T,hasPagination:D,...D&&{pagination:M},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(q),({queryKey:V,pageParam:j,signal:K})=>Q({resource:(s==null?void 0:s.name)??"",pagination:M,hasPagination:D,filters:T,sort:A,sorters:A,meta:{...O,queryContext:{queryKey:V,pageParam:j,signal:K}},metaData:{...O,queryContext:{queryKey:V,pageParam:j,signal:K}}}),{...i,enabled:typeof(i==null?void 0:i.enabled)<"u"?i==null?void 0:i.enabled:!!(s!=null&&s.name),select:V=>{var j;let K=V,{current:G,mode:J,pageSize:re}=M;return J==="client"&&(K={...K,data:K.data.slice((G-1)*re,G*re),total:K.total}),i!=null&&i.select?(j=i==null?void 0:i.select)==null?void 0:j.call(i,K):K},onSuccess:V=>{var j;(j=i==null?void 0:i.onSuccess)==null||j.call(i,V);let K=typeof l=="function"?l(V,W,h):l;P(K)},onError:V=>{var j;u(V),(j=i==null?void 0:i.onError)==null||j.call(i,V);let K=typeof c=="function"?c(V,W,h):c;P(K,{key:`${h}-useList-notification`,message:k("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,rm.getXRay)("useList",q)}}),{elapsedTime:z}=Qe({isLoading:U.isFetching,interval:x==null?void 0:x.interval,onInterval:x==null?void 0:x.onInterval});return{...U,overtime:{elapsedTime:z}}},"useList"),am=y("@tanstack/react-query"),nm=he(),Eo=C(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:i,liveMode:l,onLiveEvent:c,liveParams:p,dataProviderName:f,overtimeOptions:b})=>{let{resources:w,resource:m,identifier:E}=pe(e),x=Ye(),v=we(),s=ze(),{mutate:h}=rt({v3LegacyAuthProviderCompatible:!!(s!=null&&s.isLegacy)}),d=ft(),k=Me(),{keys:L,preferLegacyKeys:u}=be(),P=H(o,i),$=le(E,f,w),{getOne:S}=x($),q=k({resource:m,meta:P});ba({resource:E,types:["*"],channel:`resources/${m==null?void 0:m.name}`,params:{ids:t?[t]:[],id:t,meta:q,metaData:q,subscriptionType:"useOne",...p},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(m==null?void 0:m.name)<"u"&&typeof t<"u",liveMode:l,onLiveEvent:c});let g=(0,am.useQuery)(L().data($).resource(E??"").action("one").id(t??"").params({...P||{}}).get(u),({queryKey:T,pageParam:A,signal:N})=>S({resource:(m==null?void 0:m.name)??"",id:t,meta:{...q,queryContext:{queryKey:T,pageParam:A,signal:N}},metaData:{...q,queryContext:{queryKey:T,pageParam:A,signal:N}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:T=>{var A;(A=r==null?void 0:r.onSuccess)==null||A.call(r,T);let N=typeof a=="function"?a(T,{id:t,...q},E):a;d(N)},onError:T=>{var A;h(T),(A=r==null?void 0:r.onError)==null||A.call(r,T);let N=typeof n=="function"?n(T,{id:t,...q},E):n;d(N,{key:`${t}-${E}-getOne-notification`,message:v("notifications.error",{statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,nm.getXRay)("useOne",u)}}),{elapsedTime:I}=Qe({isLoading:g.isFetching,interval:b==null?void 0:b.interval,onInterval:b==null?void 0:b.onInterval});return{...g,overtime:{elapsedTime:I}}},"useOne"),om=y("@tanstack/react-query"),im=he(),Cs=C(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:i,liveMode:l,onLiveEvent:c,liveParams:p,dataProviderName:f,overtimeOptions:b})=>{let{resources:w,resource:m,identifier:E}=pe(e),x=Ye(),v=we(),s=ze(),{mutate:h}=rt({v3LegacyAuthProviderCompatible:!!(s!=null&&s.isLegacy)}),d=ft(),k=Me(),{keys:L,preferLegacyKeys:u}=be(),P=H(o,i),$=le(E,f,w),S=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:q,getOne:g}=x($),I=k({resource:m,meta:P});ba({resource:E,types:["*"],params:{ids:t,meta:I,metaData:I,subscriptionType:"useMany",...p},channel:`resources/${m.name}`,enabled:S,liveMode:l,onLiveEvent:c});let T=(0,om.useQuery)(L().data($).resource(E).action("many").ids(...t).params({...P||{}}).get(u),({queryKey:N,pageParam:M,signal:D})=>q?q({resource:m==null?void 0:m.name,ids:t,meta:{...I,queryContext:{queryKey:N,pageParam:M,signal:D}},metaData:{...I,queryContext:{queryKey:N,pageParam:M,signal:D}}}):an(t.map(O=>g({resource:m==null?void 0:m.name,id:O,meta:{...I,queryContext:{queryKey:N,pageParam:M,signal:D}},metaData:{...I,queryContext:{queryKey:N,pageParam:M,signal:D}}}))),{...r,onSuccess:N=>{var M;(M=r==null?void 0:r.onSuccess)==null||M.call(r,N);let D=typeof a=="function"?a(N,t,E):a;d(D)},onError:N=>{var M;h(N),(M=r==null?void 0:r.onError)==null||M.call(r,N);let D=typeof n=="function"?n(N,t,E):n;d(D,{key:`${t[0]}-${E}-getMany-notification`,message:v("notifications.error",{statusCode:N.statusCode},`Error (status code: ${N.statusCode})`),description:N.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,im.getXRay)("useMany",u)}}),{elapsedTime:A}=Qe({isLoading:T.isFetching,interval:b==null?void 0:b.interval,onInterval:b==null?void 0:b.onInterval});return{...T,overtime:{elapsedTime:A}}},"useMany"),vl=y("@tanstack/react-query"),lm=he(),Za=_(y("react")),Gn=_(y("lodash/isEqual")),Es=Za.default.createContext({notifications:[],notificationDispatch:()=>!1}),sm=[],um=C((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Gn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Gn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Gn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),dm=C(({children:e})=>{let[t,r]=(0,Za.useReducer)(um,sm),a={notifications:t,notificationDispatch:r};return Za.default.createElement(Es.Provider,{value:a},e,typeof window<"u"&&t.map(n=>Za.default.createElement(Ks,{key:`${n.id}-${n.resource}-queue`,notification:n})))},"UndoableQueueContextProvider"),lo=C(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=pe(),n=(0,vl.useQueryClient)(),o=Ye(),{mutationMode:i,undoableTimeout:l}=Hr(),c=we(),p=ze(),{mutate:f}=rt({v3LegacyAuthProviderCompatible:!!(p!=null&&p.isLegacy)}),b=Sr(),{log:w}=Tr(),{notificationDispatch:m}=_r(),E=ft(),x=Xt(),v=Me(),{options:{textTransformers:s}}=tt(),{keys:h,preferLegacyKeys:d}=be(),k=(0,vl.useMutation)(({id:u,values:P,resource:$,mutationMode:S,undoableTimeout:q,onCancel:g,meta:I,metaData:T,dataProviderName:A})=>{let{resource:N,identifier:M}=a($),D=v({resource:N,meta:H(I,T)}),O=S??i,W=q??l;return O!=="undoable"?o(le(M,A,r)).update({resource:N.name,id:u,variables:P,meta:D,metaData:D}):new Promise((R,Q)=>{let U=C(()=>{o(le(M,A,r)).update({resource:N.name,id:u,variables:P,meta:D,metaData:D}).then(V=>R(V)).catch(V=>Q(V))},"doMutation"),z=C(()=>{Q({message:"mutationCancelled"})},"cancelMutation");g&&g(z),m({type:"ADD",payload:{id:u,resource:M,cancelMutation:z,doMutation:U,seconds:W,isSilent:!!g}})})},{onMutate:async({resource:u,id:P,mutationMode:$,values:S,dataProviderName:q,meta:g,metaData:I,optimisticUpdateMap:T={list:!0,many:!0,detail:!0}})=>{let{identifier:A}=a(u),N=H(g,I),M=rn(d)(A,le(A,q,r),N),D=h().data(le(A,q,r)).resource(A),O=n.getQueriesData(D.get(d)),W=$??i;return await n.cancelQueries(D.get(d),void 0,{silent:!0}),W!=="pessimistic"&&(T.list&&n.setQueriesData(D.action("list").params(N??{}).get(d),R=>{if(typeof T.list=="function")return T.list(R,S,P);if(!R)return null;let Q=R.data.map(U=>{var z;return((z=U.id)==null?void 0:z.toString())===(P==null?void 0:P.toString())?{id:P,...U,...S}:U});return{...R,data:Q}}),T.many&&n.setQueriesData(D.action("many").get(d),R=>{if(typeof T.many=="function")return T.many(R,S,P);if(!R)return null;let Q=R.data.map(U=>{var z;return((z=U.id)==null?void 0:z.toString())===(P==null?void 0:P.toString())&&(U={id:P,...U,...S}),U});return{...R,data:Q}}),T.detail&&n.setQueriesData(D.action("one").id(P).params(N??{}).get(d),R=>typeof T.detail=="function"?T.detail(R,S,P):R?{...R,data:{...R.data,...S}}:null)),{previousQueries:O,queryKey:M}},onSettled:(u,P,{id:$,resource:S,dataProviderName:q,invalidates:g=["list","many","detail"]})=>{let{identifier:I}=a(S);x({resource:I,dataProviderName:le(I,q,r),invalidates:g,id:$}),m({type:"REMOVE",payload:{id:$,resource:I}})},onSuccess:(u,{id:P,resource:$,successNotification:S,dataProviderName:q,values:g,meta:I,metaData:T},A)=>{var N;let{resource:M,identifier:D}=a($),O=s.singular(D),W=typeof S=="function"?S(u,{id:P,values:g},D):S;E(W,{key:`${P}-${D}-notification`,description:c("notifications.success","Successful"),message:c("notifications.editSuccess",{resource:c(`${D}.${D}`,O)},`Successfully updated ${O}`),type:"success"}),b==null||b({channel:`resources/${M.name}`,type:"updated",payload:{ids:(N=u.data)!=null&&N.id?[u.data.id]:void 0},date:new Date});let R;if(A){let j=n.getQueryData(A.queryKey.detail(P));R=Object.keys(g||{}).reduce((K,G)=>{var J;return K[G]=(J=j==null?void 0:j.data)==null?void 0:J[G],K},{})}let{fields:Q,operation:U,variables:z,...V}=H(I,T)||{};w==null||w.mutate({action:"update",resource:M.name,data:g,previousData:R,meta:{id:P,dataProviderName:le(D,q,r),...V}})},onError:(u,{id:P,resource:$,errorNotification:S,values:q},g)=>{let{identifier:I}=a($);if(g)for(let T of g.previousQueries)n.setQueryData(T[0],T[1]);if(u.message!=="mutationCancelled"){f==null||f(u);let T=s.singular(I),A=typeof S=="function"?S(u,{id:P,values:q},I):S;E(A,{key:`${P}-${I}-notification`,message:c("notifications.editError",{resource:c(`${I}.${I}`,T),statusCode:u.statusCode},`Error when updating ${T} (status code: ${u.statusCode})`),description:u.message,type:"error"})}},mutationKey:h().data().mutation("update").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,lm.getXRay)("useUpdate",d)}}),{elapsedTime:L}=Qe({isLoading:k.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...k,overtime:{elapsedTime:L}}},"useUpdate"),cm=y("@tanstack/react-query"),mm=he(),Po=C(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ze(),{mutate:a}=rt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Ye(),o=Xt(),{resources:i,select:l}=pe(),c=we(),p=Sr(),{log:f}=Tr(),b=ft(),w=Me(),{options:{textTransformers:m}}=tt(),{keys:E,preferLegacyKeys:x}=be(),v=(0,cm.useMutation)(({resource:h,values:d,meta:k,metaData:L,dataProviderName:u})=>{let{resource:P,identifier:$}=l(h),S=w({resource:P,meta:H(k,L)});return n(le($,u,i)).create({resource:P.name,variables:d,meta:S,metaData:S})},{onSuccess:(h,{resource:d,successNotification:k,dataProviderName:L,invalidates:u=["list","many"],values:P,meta:$,metaData:S})=>{var q,g;let{resource:I,identifier:T}=l(d),A=m.singular(T),N=typeof k=="function"?k(h,P,T):k;b(N,{key:`create-${T}-notification`,message:c("notifications.createSuccess",{resource:c(`${T}.${T}`,A)},`Successfully created ${A}`),description:c("notifications.success","Success"),type:"success"}),o({resource:T,dataProviderName:le(T,L,i),invalidates:u}),p==null||p({channel:`resources/${I.name}`,type:"created",payload:{ids:(q=h==null?void 0:h.data)!=null&&q.id?[h.data.id]:void 0},date:new Date});let M=w({resource:I,meta:H($,S)}),{fields:D,operation:O,variables:W,...R}=M||{};f==null||f.mutate({action:"create",resource:I.name,data:P,meta:{dataProviderName:le(T,L,i),id:((g=h==null?void 0:h.data)==null?void 0:g.id)??void 0,...R}})},onError:(h,{resource:d,errorNotification:k,values:L})=>{a(h);let{identifier:u}=l(d),P=m.singular(u),$=typeof k=="function"?k(h,L,u):k;b($,{key:`create-${u}-notification`,description:h.message,message:c("notifications.createError",{resource:c(`${u}.${u}`,P),statusCode:h.statusCode},`There was an error creating ${P} (status code: ${h.statusCode})`),type:"error"})},mutationKey:E().data().mutation("create").get(x),...e,meta:{...e==null?void 0:e.meta,...(0,mm.getXRay)("useCreate",x)}}),{elapsedTime:s}=Qe({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:s}}},"useCreate"),gl=y("@tanstack/react-query"),pm=he(),fm=C(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ze(),{mutate:a}=rt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Ye(),{resources:o,select:i}=pe(),l=(0,gl.useQueryClient)(),{mutationMode:c,undoableTimeout:p}=Hr(),{notificationDispatch:f}=_r(),b=we(),w=Sr(),{log:m}=Tr(),E=ft(),x=Xt(),v=Me(),{options:{textTransformers:s}}=tt(),{keys:h,preferLegacyKeys:d}=be(),k=(0,gl.useMutation)(({id:u,mutationMode:P,undoableTimeout:$,resource:S,onCancel:q,meta:g,metaData:I,dataProviderName:T,values:A})=>{let{resource:N,identifier:M}=i(S),D=v({resource:N,meta:H(g,I)}),O=P??c,W=$??p;return O!=="undoable"?n(le(M,T,o)).deleteOne({resource:N.name,id:u,meta:D,metaData:D,variables:A}):new Promise((R,Q)=>{let U=C(()=>{n(le(M,T,o)).deleteOne({resource:N.name,id:u,meta:D,metaData:D,variables:A}).then(V=>R(V)).catch(V=>Q(V))},"doMutation"),z=C(()=>{Q({message:"mutationCancelled"})},"cancelMutation");q&&q(z),f({type:"ADD",payload:{id:u,resource:M,cancelMutation:z,doMutation:U,seconds:W,isSilent:!!q}})})},{onMutate:async({id:u,resource:P,mutationMode:$,dataProviderName:S,meta:q,metaData:g})=>{let{identifier:I}=i(P),T=H(q,g),A=rn(d)(I,le(I,S,o),T),N=h().data(le(I,S,o)).resource(I),M=$??c;await l.cancelQueries(N.get(d),void 0,{silent:!0});let D=l.getQueriesData(N.get(d));return M!=="pessimistic"&&(l.setQueriesData(N.action("list").params(T??{}).get(d),O=>O?{data:O.data.filter(W=>{var R;return((R=W.id)==null?void 0:R.toString())!==u.toString()}),total:O.total-1}:null),l.setQueriesData(N.action("many").get(d),O=>{if(!O)return null;let W=O.data.filter(R=>{var Q;return((Q=R.id)==null?void 0:Q.toString())!==(u==null?void 0:u.toString())});return{...O,data:W}})),{previousQueries:D,queryKey:A}},onSettled:(u,P,{id:$,resource:S,dataProviderName:q,invalidates:g=["list","many"]})=>{let{identifier:I}=i(S);x({resource:I,dataProviderName:le(I,q,o),invalidates:g}),f({type:"REMOVE",payload:{id:$,resource:I}})},onSuccess:(u,{id:P,resource:$,successNotification:S,dataProviderName:q,meta:g,metaData:I},T)=>{let{resource:A,identifier:N}=i($),M=s.singular(N);l.removeQueries(T==null?void 0:T.queryKey.detail(P));let D=typeof S=="function"?S(u,P,N):S;E(D,{key:`${P}-${N}-notification`,description:b("notifications.success","Success"),message:b("notifications.deleteSuccess",{resource:b(`${N}.${N}`,M)},`Successfully deleted a ${M}`),type:"success"}),w==null||w({channel:`resources/${A.name}`,type:"deleted",payload:{ids:[P]},date:new Date});let O=v({resource:A,meta:H(g,I)}),{fields:W,operation:R,variables:Q,...U}=O||{};m==null||m.mutate({action:"delete",resource:A.name,meta:{id:P,dataProviderName:le(N,q,o),...U}}),l.removeQueries(T==null?void 0:T.queryKey.detail(P))},onError:(u,{id:P,resource:$,errorNotification:S},q)=>{let{identifier:g}=i($);if(q)for(let I of q.previousQueries)l.setQueryData(I[0],I[1]);if(u.message!=="mutationCancelled"){a(u);let I=s.singular(g),T=typeof S=="function"?S(u,P,g):S;E(T,{key:`${P}-${g}-notification`,message:b("notifications.deleteError",{resource:I,statusCode:u.statusCode},`Error (status code: ${u.statusCode})`),description:u.message,type:"error"})}},mutationKey:h().data().mutation("delete").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,pm.getXRay)("useDelete",d)}}),{elapsedTime:L}=Qe({isLoading:k.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...k,overtime:{elapsedTime:L}}},"useDelete"),vm=y("@tanstack/react-query"),gm=he(),Ps=C(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Ye(),{resources:a,select:n}=pe(),o=we(),i=Sr(),l=ft(),c=Xt(),{log:p}=Tr(),f=Me(),{options:{textTransformers:b}}=tt(),{keys:w,preferLegacyKeys:m}=be(),E=(0,vm.useMutation)(({resource:v,values:s,meta:h,metaData:d,dataProviderName:k})=>{let{resource:L,identifier:u}=n(v),P=f({resource:L,meta:H(h,d)}),$=r(le(u,k,a));return $.createMany?$.createMany({resource:L.name,variables:s,meta:P,metaData:P}):an(s.map(S=>$.create({resource:L.name,variables:S,meta:P,metaData:P})))},{onSuccess:(v,{resource:s,successNotification:h,dataProviderName:d,invalidates:k=["list","many"],values:L,meta:u,metaData:P})=>{let{resource:$,identifier:S}=n(s),q=b.plural(S),g=typeof h=="function"?h(v,L,S):h;l(g,{key:`createMany-${S}-notification`,message:o("notifications.createSuccess",{resource:o(`${S}.${S}`,S)},`Successfully created ${q}`),description:o("notifications.success","Success"),type:"success"}),c({resource:S,dataProviderName:le(S,d,a),invalidates:k});let I=v==null?void 0:v.data.filter(O=>(O==null?void 0:O.id)!==void 0).map(O=>O.id);i==null||i({channel:`resources/${$.name}`,type:"created",payload:{ids:I},date:new Date});let T=f({resource:$,meta:H(u,P)}),{fields:A,operation:N,variables:M,...D}=T||{};p==null||p.mutate({action:"createMany",resource:$.name,data:L,meta:{dataProviderName:le(S,d,a),ids:I,...D}})},onError:(v,{resource:s,errorNotification:h,values:d})=>{let{identifier:k}=n(s),L=typeof h=="function"?h(v,d,k):h;l(L,{key:`createMany-${k}-notification`,description:v.message,message:o("notifications.createError",{resource:o(`${k}.${k}`,k),statusCode:v.statusCode},`There was an error creating ${k} (status code: ${v.statusCode}`),type:"error"})},mutationKey:w().data().mutation("createMany").get(m),...e,meta:{...e==null?void 0:e.meta,...(0,gm.getXRay)("useCreateMany",m)}}),{elapsedTime:x}=Qe({isLoading:E.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...E,overtime:{elapsedTime:x}}},"useCreateMany"),yl=y("@tanstack/react-query"),ym=he(),hm=C(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=pe(),n=(0,yl.useQueryClient)(),o=Ye(),i=we(),{mutationMode:l,undoableTimeout:c}=Hr(),p=ze(),{mutate:f}=rt({v3LegacyAuthProviderCompatible:!!(p!=null&&p.isLegacy)}),{notificationDispatch:b}=_r(),w=Sr(),m=ft(),E=Xt(),{log:x}=Tr(),v=Me(),{options:{textTransformers:s}}=tt(),{keys:h,preferLegacyKeys:d}=be(),k=(0,yl.useMutation)(({ids:u,values:P,resource:$,onCancel:S,mutationMode:q,undoableTimeout:g,meta:I,metaData:T,dataProviderName:A})=>{let{resource:N,identifier:M}=a($),D=v({resource:N,meta:H(I,T)}),O=q??l,W=g??c,R=o(le(M,A,r)),Q=C(()=>R.updateMany?R.updateMany({resource:N.name,ids:u,variables:P,meta:D,metaData:D}):an(u.map(U=>R.update({resource:N.name,id:U,variables:P,meta:D,metaData:D}))),"mutationFn");return O!=="undoable"?Q():new Promise((U,z)=>{let V=C(()=>{Q().then(K=>U(K)).catch(K=>z(K))},"doMutation"),j=C(()=>{z({message:"mutationCancelled"})},"cancelMutation");S&&S(j),b({type:"ADD",payload:{id:u,resource:M,cancelMutation:j,doMutation:V,seconds:W,isSilent:!!S}})})},{onMutate:async({resource:u,ids:P,values:$,mutationMode:S,dataProviderName:q,meta:g,metaData:I,optimisticUpdateMap:T={list:!0,many:!0,detail:!0}})=>{let{identifier:A}=a(u),N=H(g,I),M=rn(d)(A,le(A,q,r),H(g,I)),D=h().data(le(A,q,r)).resource(A),O=S??l;await n.cancelQueries(D.get(d),void 0,{silent:!0});let W=n.getQueriesData(D.get(d));if(O!=="pessimistic"&&(T.list&&n.setQueriesData(D.action("list").params(N??{}).get(d),R=>{if(typeof T.list=="function")return T.list(R,$,P);if(!R)return null;let Q=R.data.map(U=>U.id!==void 0&&P.filter(z=>z!==void 0).map(String).includes(U.id.toString())?{...U,...$}:U);return{...R,data:Q}}),T.many&&n.setQueriesData(D.action("many").get(d),R=>{if(typeof T.many=="function")return T.many(R,$,P);if(!R)return null;let Q=R.data.map(U=>U.id!==void 0&&P.filter(z=>z!==void 0).map(String).includes(U.id.toString())?{...U,...$}:U);return{...R,data:Q}}),T.detail))for(let R of P)n.setQueriesData(D.action("one").id(R).params(N??{}).get(d),Q=>{if(typeof T.detail=="function")return T.detail(Q,$,R);if(!Q)return null;let U={...Q.data,...$};return{...Q,data:U}});return{previousQueries:W,queryKey:M}},onSettled:(u,P,{ids:$,resource:S,dataProviderName:q})=>{let{identifier:g}=a(S);E({resource:g,invalidates:["list","many"],dataProviderName:le(g,q,r)}),$.forEach(I=>E({resource:g,invalidates:["detail"],dataProviderName:le(g,q,r),id:I})),b({type:"REMOVE",payload:{id:$,resource:g}})},onSuccess:(u,{ids:P,resource:$,meta:S,metaData:q,dataProviderName:g,successNotification:I,values:T},A)=>{let{resource:N,identifier:M}=a($),D=s.singular(M),O=typeof I=="function"?I(u,{ids:P,values:T},M):I;m(O,{key:`${P}-${M}-notification`,description:i("notifications.success","Successful"),message:i("notifications.editSuccess",{resource:i(`${M}.${M}`,M)},`Successfully updated ${D}`),type:"success"}),w==null||w({channel:`resources/${N.name}`,type:"updated",payload:{ids:P.map(String)},date:new Date});let W=[];A&&P.forEach(j=>{let K=n.getQueryData(A.queryKey.detail(j));W.push(Object.keys(T||{}).reduce((G,J)=>{var re;return G[J]=(re=K==null?void 0:K.data)==null?void 0:re[J],G},{}))});let R=v({resource:N,meta:H(S,q)}),{fields:Q,operation:U,variables:z,...V}=R||{};x==null||x.mutate({action:"updateMany",resource:N.name,data:T,previousData:W,meta:{ids:P,dataProviderName:le(M,g,r),...V}})},onError:(u,{ids:P,resource:$,errorNotification:S,values:q},g)=>{let{identifier:I}=a($);if(g)for(let T of g.previousQueries)n.setQueryData(T[0],T[1]);if(u.message!=="mutationCancelled"){f==null||f(u);let T=s.singular(I),A=typeof S=="function"?S(u,{ids:P,values:q},I):S;m(A,{key:`${P}-${I}-updateMany-error-notification`,message:i("notifications.editError",{resource:T,statusCode:u.statusCode},`Error when updating ${T} (status code: ${u.statusCode})`),description:u.message,type:"error"})}},mutationKey:h().data().mutation("updateMany").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,ym.getXRay)("useUpdateMany",d)}}),{elapsedTime:L}=Qe({isLoading:k.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...k,overtime:{elapsedTime:L}}},"useUpdateMany"),hl=y("@tanstack/react-query"),bm=he(),Cm=C(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ze(),{mutate:a}=rt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:n,undoableTimeout:o}=Hr(),i=Ye(),{notificationDispatch:l}=_r(),c=we(),p=Sr(),f=ft(),b=Xt(),{log:w}=Tr(),{resources:m,select:E}=pe(),x=(0,hl.useQueryClient)(),v=Me(),{options:{textTransformers:s}}=tt(),{keys:h,preferLegacyKeys:d}=be(),k=(0,hl.useMutation)(({resource:u,ids:P,mutationMode:$,undoableTimeout:S,onCancel:q,meta:g,metaData:I,dataProviderName:T,values:A})=>{let{resource:N,identifier:M}=E(u),D=v({resource:N,meta:H(g,I)}),O=$??n,W=S??o,R=i(le(M,T,m)),Q=C(()=>R.deleteMany?R.deleteMany({resource:N.name,ids:P,meta:D,metaData:D,variables:A}):an(P.map(U=>R.deleteOne({resource:N.name,id:U,meta:D,metaData:D,variables:A}))),"mutationFn");return O!=="undoable"?Q():new Promise((U,z)=>{let V=C(()=>{Q().then(K=>U(K)).catch(K=>z(K))},"doMutation"),j=C(()=>{z({message:"mutationCancelled"})},"cancelMutation");q&&q(j),l({type:"ADD",payload:{id:P,resource:M,cancelMutation:j,doMutation:V,seconds:W,isSilent:!!q}})})},{onMutate:async({ids:u,resource:P,mutationMode:$,dataProviderName:S,meta:q,metaData:g})=>{let{identifier:I}=E(P),T=H(q,g),A=rn(d)(I,le(I,S,m),T),N=h().data(le(I,S,m)).resource(I),M=$??n;await x.cancelQueries(N.get(d),void 0,{silent:!0});let D=x.getQueriesData(N.get(d));if(M!=="pessimistic"){x.setQueriesData(N.action("list").params(T??{}).get(d),O=>O?{data:O.data.filter(W=>W.id&&!u.map(String).includes(W.id.toString())),total:O.total-1}:null),x.setQueriesData(N.action("many").get(d),O=>{if(!O)return null;let W=O.data.filter(R=>R.id?!u.map(String).includes(R.id.toString()):!1);return{...O,data:W}});for(let O of u)x.setQueriesData(N.action("one").id(O).params(T).get(d),W=>!W||W.data.id==O?null:{...W})}return{previousQueries:D,queryKey:A}},onSettled:(u,P,{resource:$,ids:S,dataProviderName:q,invalidates:g=["list","many"]})=>{let{identifier:I}=E($);b({resource:I,dataProviderName:le(I,q,m),invalidates:g}),l({type:"REMOVE",payload:{id:S,resource:I}})},onSuccess:(u,{ids:P,resource:$,meta:S,metaData:q,dataProviderName:g,successNotification:I},T)=>{let{resource:A,identifier:N}=E($);P.forEach(U=>x.removeQueries(T==null?void 0:T.queryKey.detail(U)));let M=typeof I=="function"?I(u,P,N):I;f(M,{key:`${P}-${N}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${N}.${N}`,N)},`Successfully deleted ${N}`),type:"success"}),p==null||p({channel:`resources/${A.name}`,type:"deleted",payload:{ids:P},date:new Date});let D=v({resource:A,meta:H(S,q)}),{fields:O,operation:W,variables:R,...Q}=D||{};w==null||w.mutate({action:"deleteMany",resource:A.name,meta:{ids:P,dataProviderName:le(N,g,m),...Q}}),P.forEach(U=>x.removeQueries(T==null?void 0:T.queryKey.detail(U)))},onError:(u,{ids:P,resource:$,errorNotification:S},q)=>{let{identifier:g}=E($);if(q)for(let I of q.previousQueries)x.setQueryData(I[0],I[1]);if(u.message!=="mutationCancelled"){a(u);let I=s.singular(g),T=typeof S=="function"?S(u,P,g):S;f(T,{key:`${P}-${g}-notification`,message:c("notifications.deleteError",{resource:I,statusCode:u.statusCode},`Error (status code: ${u.statusCode})`),description:u.message,type:"error"})}},mutationKey:h().data().mutation("deleteMany").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,bm.getXRay)("useDeleteMany",d)}}),{elapsedTime:L}=Qe({isLoading:k.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...k,overtime:{elapsedTime:L}}},"useDeleteMany"),Em=C(e=>{var t;let r=Ye(),{resource:a}=pe(),{getApiUrl:n}=r(e??((t=H(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return n()},"useApiUrl"),Pm=y("@tanstack/react-query"),xm=he(),km=C(({url:e,method:t,config:r,queryOptions:a,successNotification:n,errorNotification:o,meta:i,metaData:l,dataProviderName:c,overtimeOptions:p})=>{let f=Ye(),b=ze(),{mutate:w}=rt({v3LegacyAuthProviderCompatible:!!(b!=null&&b.isLegacy)}),m=we(),E=ft(),x=Me(),{keys:v,preferLegacyKeys:s}=be(),h=H(i,l),{custom:d}=f(c),k=x({meta:h});if(d){let L=(0,Pm.useQuery)({queryKey:v().data(c).mutation("custom").params({method:t,url:e,...r,...h||{}}).get(s),queryFn:({queryKey:P,pageParam:$,signal:S})=>d({url:e,method:t,...r,meta:{...k,queryContext:{queryKey:P,pageParam:$,signal:S}},metaData:{...k,queryContext:{queryKey:P,pageParam:$,signal:S}}}),...a,onSuccess:P=>{var $;($=a==null?void 0:a.onSuccess)==null||$.call(a,P);let S=typeof n=="function"?n(P,{...r,...k}):n;E(S)},onError:P=>{var $;w(P),($=a==null?void 0:a.onError)==null||$.call(a,P);let S=typeof o=="function"?o(P,{...r,...k}):o;E(S,{key:`${t}-notification`,message:m("notifications.error",{statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,xm.getXRay)("useCustom",s)}}),{elapsedTime:u}=Qe({isLoading:L.isFetching,interval:p==null?void 0:p.interval,onInterval:p==null?void 0:p.onInterval});return{...L,overtime:{elapsedTime:u}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),wm=y("@tanstack/react-query"),Fm=he(),Im=C(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ze(),{mutate:a}=rt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=ft(),o=Ye(),i=we(),l=Me(),{keys:c,preferLegacyKeys:p}=be(),f=(0,wm.useMutation)(({url:w,method:m,values:E,meta:x,metaData:v,dataProviderName:s,config:h})=>{let d=l({meta:H(x,v)}),{custom:k}=o(s);if(k)return k({url:w,method:m,payload:E,meta:d,metaData:d,headers:{...h==null?void 0:h.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(w,{successNotification:m,config:E,meta:x,metaData:v})=>{let s=typeof m=="function"?m(w,{...E,...H(x,v)||{}}):m;n(s)},onError:(w,{errorNotification:m,method:E,config:x,meta:v,metaData:s})=>{a(w);let h=typeof m=="function"?m(w,{...x,...H(v,s)||{}}):m;n(h,{key:`${E}-notification`,message:i("notifications.error",{statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})},mutationKey:c().data().mutation("customMutation").get(p),...e,meta:{...e==null?void 0:e.meta,...(0,Fm.getXRay)("useCustomMutation",p)}}),{elapsedTime:b}=Qe({isLoading:f.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...f,overtime:{elapsedTime:b}}},"useCustomMutation"),bl=y("react"),xs=_(y("react")),Sm=C(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),xo=xs.default.createContext(Sm()),Lm=C(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},xs.default.createElement(xo.Provider,{value:r},e)},"DataContextProvider"),Ye=C(()=>{let e=(0,bl.useContext)(xo);return(0,bl.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),Tm=y("@tanstack/react-query"),$m=he(),qm=C(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:i,successNotification:l,errorNotification:c,meta:p,metaData:f,liveMode:b,onLiveEvent:w,liveParams:m,dataProviderName:E,overtimeOptions:x})=>{let{resources:v,resource:s,identifier:h}=pe(e),d=Ye(),k=we(),L=ze(),{mutate:u}=rt({v3LegacyAuthProviderCompatible:!!(L!=null&&L.isLegacy)}),P=ft(),$=Me(),{keys:S,preferLegacyKeys:q}=be(),g=le(h,E,v),I=H(p,f),T=H(r,t==null?void 0:t.filters),A=H(o,t==null?void 0:t.sort),N=H(a,t==null?void 0:t.hasPagination),M=ms({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:N}),D=M.mode==="server",O={meta:I,metaData:I,filters:T,hasPagination:D,pagination:M,sorters:A,config:{...t,sort:A}},W=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,R=$({resource:s,meta:I}),{getList:Q}=d(g);ba({resource:h,types:["*"],params:{meta:R,metaData:R,pagination:M,hasPagination:D,sort:A,sorters:A,filters:T,subscriptionType:"useList",...m},channel:`resources/${s.name}`,enabled:W,liveMode:b,onLiveEvent:w});let U=(0,Tm.useInfiniteQuery)(S().data(g).resource(h).action("infinite").params({...I||{},filters:T,hasPagination:D,...D&&{pagination:M},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(q),({queryKey:V,pageParam:j,signal:K})=>{let G={...M,current:j};return Q({resource:s.name,pagination:G,hasPagination:D,filters:T,sort:A,sorters:A,meta:{...R,queryContext:{queryKey:V,pageParam:j,signal:K}},metaData:{...R,queryContext:{queryKey:V,pageParam:j,signal:K}}}).then(({data:J,total:re,...me})=>({data:J,total:re,pagination:G,...me}))},{getNextPageParam:V=>ls(V),getPreviousPageParam:V=>ss(V),...i,onSuccess:V=>{var j;(j=i==null?void 0:i.onSuccess)==null||j.call(i,V);let K=typeof l=="function"?l(V,O,h):l;P(K)},onError:V=>{var j;u(V),(j=i==null?void 0:i.onError)==null||j.call(i,V);let K=typeof c=="function"?c(V,O,h):c;P(K,{key:`${h}-useInfiniteList-notification`,message:k("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,$m.getXRay)("useInfiniteList",q)}}),{elapsedTime:z}=Qe({isLoading:U.isFetching,interval:x==null?void 0:x.interval,onInterval:x==null?void 0:x.onInterval});return{...U,overtime:{elapsedTime:z}}},"useInfiniteList"),Xn=y("react"),ks=_(y("react")),ga=ks.default.createContext(void 0),Nm=C(({liveProvider:e,children:t})=>ks.default.createElement(ga.Provider,{value:e},t),"LiveContextProvider"),Am=y("react"),ws=_(y("react")),Dm=y("react"),Rm=y("react"),Mm=_(y("lodash/isEqual")),Om=C(e=>{let t=(0,Rm.useRef)(e);return(0,Mm.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),Fs=C((e,t)=>{let r=Om(t);return(0,Dm.useMemo)(e,r)},"useDeepMemo"),ya=ws.default.createContext({resources:[]}),Bm=C(({resources:e,children:t})=>{let r=Fs(()=>us(e??[]),[e]);return ws.default.createElement(ya.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),Is=_(y("react")),Ss=Is.default.createContext("new"),Um=Ss.Provider,Ve=C(()=>Is.default.useContext(Ss),"useRouterType"),zm=_(y("react")),Ls=_(y("react")),Ts={},ha=(0,Ls.createContext)(Ts),Vm=C(({children:e,router:t})=>Ls.default.createElement(ha.Provider,{value:t??Ts},e),"RouterBindingsProvider"),Cl=_(y("react")),$s=C(()=>{let e=(0,Cl.useContext)(ha);return Cl.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),Rt=C(()=>{let e=$s();return zm.default.useMemo(()=>e(),[e])},"useParsed");function pe(e){let{resources:t}=(0,Am.useContext)(ya),r=Ve(),a=Rt(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},o=C((b,w=!0)=>{let m=_e(b,t,r==="legacy");if(m)return{resource:m,identifier:m.identifier??m.name};if(w){let E={name:b,identifier:b},x=E.identifier??E.name;return{resource:E,identifier:x}}},"select"),i=qs(),{useParams:l}=vt(),c=l();if(r==="legacy"){let b=n.resourceNameOrRouteName?n.resourceNameOrRouteName:c.resource,w=b?i(b):void 0,m=(n==null?void 0:n.recordItemId)??c.id,E=c.action,x=(n==null?void 0:n.resourceName)??(w==null?void 0:w.name),v=(w==null?void 0:w.identifier)??(w==null?void 0:w.name);return{resources:t,resource:w,resourceName:x,id:m,action:E,select:o,identifier:v}}let p,f=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(f){let b=_e(f,t);b?p=b:p={name:f}}else a!=null&&a.resource&&(p=a.resource);return{resources:t,resource:p,resourceName:p==null?void 0:p.name,id:a.id,action:a.action,select:o,identifier:(p==null?void 0:p.identifier)??(p==null?void 0:p.name)}}F(pe,"K");C(pe,"useResource");var El=y("react"),qs=C(()=>{let{resources:e}=(0,El.useContext)(ya);return(0,El.useCallback)(t=>_e(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),jm=y("react"),Wm=y("@tanstack/react-query"),Xt=C(()=>{let{resources:e}=pe(),t=(0,Wm.useQueryClient)(),{keys:r,preferLegacyKeys:a}=be();return(0,jm.useCallback)(async({resource:n,dataProviderName:o,invalidates:i,id:l,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:p={cancelRefetch:!1}})=>{if(i===!1)return;let f=le(n,o,e),b=r().data(f).resource(n??"");await Promise.all(i.map(w=>{switch(w){case"all":return t.invalidateQueries(r().data(f).get(a),c,p);case"list":return t.invalidateQueries(b.action("list").get(a),c,p);case"many":return t.invalidateQueries(b.action("many").get(a),c,p);case"resourceAll":return t.invalidateQueries(b.get(a),c,p);case"detail":return t.invalidateQueries(b.action("one").id(l||"").get(a),c,p);default:return}}))},[])},"useInvalidate"),ba=C(({resource:e,params:t,channel:r,types:a,enabled:n=!0,liveMode:o,onLiveEvent:i})=>{let{resource:l,identifier:c}=pe(e),p=(0,Xn.useContext)(ga),{liveMode:f,onLiveEvent:b}=(0,Xn.useContext)(lr),w=o??f,m=Xt();(0,Xn.useEffect)(()=>{let E,x=C(v=>{var s;w==="auto"&&m({resource:c,dataProviderName:(s=l==null?void 0:l.meta)==null?void 0:s.dataProviderName,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),i==null||i(v),b==null||b(v)},"callback");return w&&w!=="off"&&n&&(E=p==null?void 0:p.subscribe({channel:r,params:{resource:l==null?void 0:l.name,...t},types:a,callback:x})),()=>{E&&(p==null||p.unsubscribe(E))}},[n])},"useResourceSubscription"),Km=y("react"),Ns=C(e=>{let{liveMode:t}=(0,Km.useContext)(lr);return e??t},"useLiveMode"),Pl=y("react"),Qm=C(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:n})=>{let o=(0,Pl.useContext)(ga);(0,Pl.useEffect)(()=>{let i;return a&&(i=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:n})),()=>{i&&(o==null||o.unsubscribe(i))}},[a])},"useSubscription"),Hm=y("react"),Sr=C(()=>{let e=(0,Hm.useContext)(ga);return e==null?void 0:e.publish},"usePublish"),_m=y("react"),_r=C(()=>{let{notifications:e,notificationDispatch:t}=(0,_m.useContext)(Es);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),Gm=y("react"),As=_(y("react")),ko=(0,As.createContext)({}),Xm=C(({open:e,close:t,children:r})=>As.default.createElement(ko.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),sr=C(()=>{let{open:e,close:t}=(0,Gm.useContext)(ko);return{open:e,close:t}},"useNotification"),Ym=y("react"),ft=C(()=>{let{open:e}=sr();return(0,Ym.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),xl=y("react"),Ds=_(y("react")),Lr=Ds.default.createContext({}),Zm=C(({children:e,i18nProvider:t})=>Ds.default.createElement(Lr.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),Jm=C(()=>{let{i18nProvider:e}=(0,xl.useContext)(Lr);return(0,xl.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),kl=y("react"),we=C(()=>{let{i18nProvider:e}=(0,kl.useContext)(Lr);return(0,kl.useMemo)(()=>{function t(r,a,n){return(e==null?void 0:e.translate(r,a,n))??n??(typeof a=="string"&&typeof n>"u"?a:r)}return F(t,"r"),C(t,"translate"),t},[e])},"useTranslate"),wl=y("react"),ep=C(()=>{let{i18nProvider:e}=(0,wl.useContext)(Lr);return(0,wl.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),tp=y("react"),rp=y("export-to-csv-fix-source-map"),ap=C(({resourceName:e,resource:t,sorter:r,sorters:a,filters:n,maxItemCount:o,pageSize:i=20,mapData:l=C(m=>m,"mapData"),exportOptions:c,meta:p,metaData:f,dataProviderName:b,onError:w}={})=>{let[m,E]=(0,tp.useState)(!1),x=Ye(),v=Me(),{resource:s,resources:h,identifier:d}=pe(H(t,e)),k=`${po()(d,"plural")}-${new Date().toLocaleString()}`,{getList:L}=x(le(d,b,h)),u=v({resource:s,meta:H(p,f)});return{isLoading:m,triggerExport:C(async()=>{E(!0);let P=[],$=1,S=!0;for(;S;)try{let{data:q,total:g}=await L({resource:(s==null?void 0:s.name)??"",filters:n,sort:H(a,r),sorters:H(a,r),pagination:{current:$,pageSize:i,mode:"server"},meta:u,metaData:u});$++,P.push(...q),o&&P.length>=o&&(P=P.slice(0,o),S=!1),g===P.length&&(S=!1)}catch(q){E(!1),S=!1,w==null||w(q);return}new rp.ExportToCsv({filename:k,useKeysAsHeaders:!0,...c}).generateCsv(P.map(l)),E(!1)},"triggerExport")}},"useExport"),Yn=_(y("react")),np=_(y("warn-once")),op=_(y("lodash/debounce")),ip=C(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:n,redirect:o,successNotification:i,errorNotification:l,meta:c,metaData:p,queryMeta:f,mutationMeta:b,mutationMode:w,liveMode:m,onLiveEvent:E,liveParams:x,undoableTimeout:v,dataProviderName:s,invalidates:h,queryOptions:d,createMutationOptions:k,updateMutationOptions:L,overtimeOptions:u,autoSave:P,optimisticUpdateMap:$}={})=>{let S=Xt(),{options:q}=tt(),g=Me(),{resource:I,id:T,action:A,identifier:N}=pe(e),{identifier:M}=pe(),D=C(()=>e&&e!==M?r:r??T,"getDefaultId")(),[O,W]=Yn.default.useState(D);Yn.default.useEffect(()=>{W(D)},[D]);let R=C(()=>t||(A==="edit"||A==="clone"?A:"create"),"getAction")(),Q=g({resource:I,meta:H(c,p)}),{mutationMode:U}=Hr(),z=w??U,V=R==="create",j=R==="edit",K=R==="clone";(0,np.default)((K||j)&&!!e&&!r&&(d==null?void 0:d.enabled)!==!1,`[useForm]: action: "${R}", resource: "${N}", id: ${O} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let G=Nc({redirectFromProps:o,action:R,redirectOptions:q.redirect}),J=Eo({resource:N,id:O??"",queryOptions:{enabled:O!==void 0&&(j||K),...d},liveMode:m,onLiveEvent:E,liveParams:x,meta:{...Q,...f},metaData:{...Q,...f},dataProviderName:s}),{isFetching:re}=J,me=Po({mutationOptions:k}),{mutate:de,isLoading:ne}=me,ie=lo({mutationOptions:L}),{mutate:fe,isLoading:oe}=ie,Ce=lo({}),{setWarnWhen:Fe}=mo(),Ae=Rs(),Ie=C(async Se=>{Fe(!1);let qt=C(De=>{Ae({redirect:G,resource:I,id:De,meta:H(c,p)})},"onSuccess");return z!=="pessimistic"&&setTimeout(()=>{qt()}),new Promise((De,Kt)=>{if(z!=="pessimistic"&&De(),!!I)return de({values:Se,resource:N??I.name,successNotification:i,errorNotification:l,meta:{...Q,...b},metaData:{...Q,...b},dataProviderName:s,invalidates:h},{onSuccess:(Be,Nt,At)=>{var Qt;a&&a(Be,Se,At);let Ht=(Qt=Be==null?void 0:Be.data)==null?void 0:Qt.id;qt(Ht),De(Be)},onError:(Be,Nt,At)=>{if(n)return n(Be,Se,At);Kt()}})})},"onFinishCreate");Yn.default.useEffect(()=>()=>{P!=null&&P.invalidateOnUnmount&&Ce.status==="success"&&S({id:O,invalidates:h||["list","many","detail"],dataProviderName:s,resource:N})},[P==null?void 0:P.invalidateOnUnmount,Ce.status]);let ht=C(Se=>{if(!I||!j)return;let qt={id:O??"",values:Se,resource:N??I.name,successNotification:!1,errorNotification:!1,meta:{...Q,...b},metaData:{...Q,...b},dataProviderName:s,invalidates:[],mutationMode:"pessimistic"};return Ce.mutate(qt,{onSuccess:(De,Kt,Be)=>{a&&a(De,Se,Be,!0)},onError:(De,Kt,Be)=>{if(n)return n(De,Se,Be,!0)}})},"onFinishAutoSaveMutation"),zr=(0,op.default)(Se=>ht(Se),(P==null?void 0:P.debounce)||1e3),Wt=V||K?{formLoading:re||ne,mutationResult:me,onFinish:Ie}:{formLoading:re||oe,mutationResult:ie,onFinish:C(async Se=>{if(Fe(!1),!I)return;let qt={id:O??"",values:Se,resource:N??I.name,mutationMode:z,undoableTimeout:v,successNotification:i,errorNotification:l,meta:{...Q,...b},metaData:{...Q,...b},dataProviderName:s,invalidates:h,optimisticUpdateMap:$},De=C(()=>{Ae({redirect:G,resource:I,id:O,meta:H(c,p)})},"onSuccess");return z!=="pessimistic"&&setTimeout(()=>{De()}),new Promise((Kt,Be)=>(z!=="pessimistic"&&Kt(),setTimeout(()=>{fe(qt,{onSuccess:(Nt,At,Qt)=>{a&&a(Nt,Se,Qt),z==="pessimistic"&&De(),Kt(Nt)},onError:(Nt,At,Qt)=>{if(n)return n(Nt,Se,Qt);Be()}})})))},"onFinishUpdate")},{elapsedTime:Mn}=Qe({isLoading:Wt.mutationResult.isLoading||J.isFetching,interval:u==null?void 0:u.interval,onInterval:u==null?void 0:u.onInterval});return{...Wt,queryResult:J,onFinishAutoSave:zr,autoSaveProps:{status:Ce.status,data:Ce.data,error:Ce.error},id:O,setId:W,redirect:(Se,qt)=>{Ae({redirect:Se!==void 0?Se:j?"list":"edit",resource:I,id:qt??O,meta:H(c,p)})},overtime:{elapsedTime:Mn}}},"useForm"),lp=y("react"),Rs=C(()=>{let{show:e,edit:t,list:r,create:a}=xt();return(0,lp.useCallback)(({redirect:n,resource:o,id:i,meta:l={}})=>{if(n&&o)return o.show&&n==="show"&&i?e(o,i,void 0,l):o.edit&&n==="edit"&&i?t(o,i,void 0,l):o.create&&n==="create"?a(o,void 0,l):r(o,"push",l)},[])},"useRedirectionAfterSubmission"),Fl=_(y("react")),Pt=C(()=>{let e=(0,Fl.useContext)(ha);return Fl.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])()},"useGo"),Il=_(y("react")),Ms=C(()=>{let e=(0,Il.useContext)(ha);return Il.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),xt=C(()=>{let{resources:e}=pe(),t=Ve(),{useHistory:r}=vt(),a=r(),n=Rt(),o=Pt(),i=Ms(),l=C((m,E="push")=>{t==="legacy"?a[E](m):o({to:m,type:E})},"handleUrl"),c=C((m,E={})=>{var x;if(t==="legacy"){let v=typeof m=="string"?_e(m,e,!0)??{name:m,route:m}:m,s=ct(v,e,!0).find(h=>h.action==="create");return s?Ct(s.route,v==null?void 0:v.meta,n,E):""}else{let v=typeof m=="string"?_e(m,e)??{name:m}:m,s=(x=ct(v,e).find(h=>h.action==="create"))==null?void 0:x.route;return s?o({to:Ct(s,v==null?void 0:v.meta,n,E),type:"path"}):""}},"createUrl"),p=C((m,E,x={})=>{var v;let s=encodeURIComponent(E);if(t==="legacy"){let h=typeof m=="string"?_e(m,e,!0)??{name:m,route:m}:m,d=ct(h,e,!0).find(k=>k.action==="edit");return d?Ct(d.route,h==null?void 0:h.meta,n,{...x,id:s}):""}else{let h=typeof m=="string"?_e(m,e)??{name:m}:m,d=(v=ct(h,e).find(k=>k.action==="edit"))==null?void 0:v.route;return d?o({to:Ct(d,h==null?void 0:h.meta,n,{...x,id:s}),type:"path"}):""}},"editUrl"),f=C((m,E,x={})=>{var v;let s=encodeURIComponent(E);if(t==="legacy"){let h=typeof m=="string"?_e(m,e,!0)??{name:m,route:m}:m,d=ct(h,e,!0).find(k=>k.action==="clone");return d?Ct(d.route,h==null?void 0:h.meta,n,{...x,id:s}):""}else{let h=typeof m=="string"?_e(m,e)??{name:m}:m,d=(v=ct(h,e).find(k=>k.action==="clone"))==null?void 0:v.route;return d?o({to:Ct(d,h==null?void 0:h.meta,n,{...x,id:s}),type:"path"}):""}},"cloneUrl"),b=C((m,E,x={})=>{var v;let s=encodeURIComponent(E);if(t==="legacy"){let h=typeof m=="string"?_e(m,e,!0)??{name:m,route:m}:m,d=ct(h,e,!0).find(k=>k.action==="show");return d?Ct(d.route,h==null?void 0:h.meta,n,{...x,id:s}):""}else{let h=typeof m=="string"?_e(m,e)??{name:m}:m,d=(v=ct(h,e).find(k=>k.action==="show"))==null?void 0:v.route;return d?o({to:Ct(d,h==null?void 0:h.meta,n,{...x,id:s}),type:"path"}):""}},"showUrl"),w=C((m,E={})=>{var x;if(t==="legacy"){let v=typeof m=="string"?_e(m,e,!0)??{name:m,route:m}:m,s=ct(v,e,!0).find(h=>h.action==="list");return s?Ct(s.route,v==null?void 0:v.meta,n,E):""}else{let v=typeof m=="string"?_e(m,e)??{name:m}:m,s=(x=ct(v,e).find(h=>h.action==="list"))==null?void 0:x.route;return s?o({to:Ct(s,v==null?void 0:v.meta,n,E),type:"path"}):""}},"listUrl");return{create:C((m,E="push",x={})=>{l(c(m,x),E)},"create"),createUrl:c,edit:C((m,E,x="push",v={})=>{l(p(m,E,v),x)},"edit"),editUrl:p,clone:C((m,E,x="push",v={})=>{l(f(m,E,v),x)},"clone"),cloneUrl:f,show:C((m,E,x="push",v={})=>{l(b(m,E,v),x)},"show"),showUrl:b,list:C((m,E="push",x={})=>{l(w(m,x),E)},"list"),listUrl:w,push:C((m,...E)=>{t==="legacy"?a.push(m,...E):o({to:m,type:"push"})},"push"),replace:C((m,...E)=>{t==="legacy"?a.replace(m,...E):o({to:m,type:"replace"})},"replace"),goBack:C(()=>{t==="legacy"?a.goBack():i()},"goBack")}},"useNavigation"),Sl=_(y("react")),sp=_(y("warn-once")),up=C(({resource:e,id:t,successNotification:r,errorNotification:a,meta:n,metaData:o,liveMode:i,onLiveEvent:l,dataProviderName:c,queryOptions:p,overtimeOptions:f}={})=>{let{resource:b,id:w,identifier:m}=pe(e),{identifier:E}=pe(),x=Me(),v=C(()=>e&&e!==E?t:t??w,"getDefaultId")(),[s,h]=(0,Sl.useState)(v);Sl.default.useEffect(()=>{h(v)},[v]);let d=x({resource:b,meta:H(n,o)});(0,sp.default)(!!e&&!t,`[useShow]: resource: "${m}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let k=Eo({resource:m,id:s??"",queryOptions:{enabled:s!==void 0,...p},successNotification:r,errorNotification:a,meta:d,metaData:d,liveMode:i,onLiveEvent:l,dataProviderName:c}),{elapsedTime:L}=Qe({isLoading:k.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{queryResult:k,showId:s,setShowId:h,overtime:{elapsedTime:L}}},"useShow"),_a=y("react"),dp=y("papaparse"),cp=_(y("lodash/chunk")),mp=C(({resourceName:e,resource:t,mapData:r=C(f=>f,"mapData"),paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:i,metaData:l,onProgress:c,dataProviderName:p}={})=>{let[f,b]=(0,_a.useState)(0),[w,m]=(0,_a.useState)(0),[E,x]=(0,_a.useState)(!1),{resource:v,identifier:s}=pe(t??e),h=Me(),d=Ps(),k=Po(),L=h({resource:v,meta:H(i,l)}),u;n===1?u=k:u=d;let P=C(()=>{m(0),b(0),x(!1)},"handleCleanup"),$=C(q=>{let g={succeeded:q.filter(I=>I.type==="success"),errored:q.filter(I=>I.type==="error")};o==null||o(g),x(!1)},"handleFinish");(0,_a.useEffect)(()=>{c==null||c({totalAmount:w,processedAmount:f})},[w,f]);let S=C(({file:q})=>(P(),new Promise(g=>{x(!0),(0,dp.parse)(q,{complete:async({data:I})=>{let T=Wl(I,r);if(m(T.length),n===1){let A=T.map(M=>C(async()=>({response:await k.mutateAsync({resource:s??"",values:M,successNotification:!1,errorNotification:!1,dataProviderName:p,meta:L,metaData:L}),value:M}),"fn")),N=await Gi(A,({response:M,value:D})=>(b(O=>O+1),{response:[M.data],type:"success",request:[D]}),(M,D)=>({response:[M],type:"error",request:[T[D]]}));g(N)}else{let A=(0,cp.default)(T,n),N=A.map(D=>C(async()=>({response:await d.mutateAsync({resource:s??"",values:D,successNotification:!1,errorNotification:!1,dataProviderName:p,meta:L,metaData:L}),value:D,currentBatchLength:D.length}),"fn")),M=await Gi(N,({response:D,currentBatchLength:O,value:W})=>(b(R=>R+O),{response:D.data,type:"success",request:W}),(D,O)=>({response:[D],type:"error",request:A[O]}));g(M)}},...a})}).then(g=>($(g),g))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:q=>{q.target.files&&q.target.files.length>0&&S({file:q.target.files[0]})}},mutationResult:u,isLoading:E,handleChange:S}},"useImport"),Zn=y("react"),pp=C(({defaultVisible:e=!1}={})=>{let[t,r]=(0,Zn.useState)(e),a=(0,Zn.useCallback)(()=>r(!0),[t]),n=(0,Zn.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:n}},"useModal"),fp=_(y("react")),wo=C(()=>{let e=Ve(),{resource:t,resources:r}=pe(),a=Rt();return fp.default.useCallback(({resource:n,action:o,meta:i})=>{var l;let c=n||t;if(!c)return;let p=(l=ct(c,r,e==="legacy").find(f=>f.action===o))==null?void 0:l.route;return p?Ct(p,c==null?void 0:c.meta,a,i):void 0},[r,t,a])},"useGetToPath"),vp=C(({resource:e,action:t,meta:r,legacy:a})=>wo()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),Ll=_(y("react")),ln=C(()=>{let e=(0,Ll.useContext)(ha);return e!=null&&e.Link?e.Link:C(({to:t,...r})=>Ll.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),gp=y("react"),Os=_(y("react")),or={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},yp=Os.default.createContext(or),Fo=yp,hp=C(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i})=>Os.default.createElement(Fo.Provider,{value:{useHistory:t??or.useHistory,useLocation:r??or.useLocation,useParams:a??or.useParams,Prompt:n??or.Prompt,Link:o??or.Link,routes:i??or.routes}},e),"LegacyRouterContextProvider"),vt=C(()=>{let e=(0,gp.useContext)(Fo),{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i}=e??or;return{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i}},"useRouterContext"),bp=y("@tanstack/react-query"),Cp=y("react"),Bs=_(y("react")),Ca=Bs.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),Ep=C(({can:e,children:t,options:r})=>Bs.default.createElement(Ca.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),Io=C(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:n,show:o,clone:i,children:l,meta:c,options:p,...f}=e,{icon:b,...w}=c??{},{icon:m,...E}=p??{};return{...f,...c?{meta:w}:{},...p?{options:E}:{}}},"sanitizeResource"),Pp=he(),Us=C(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:n}=(0,Cp.useContext)(Ca),{keys:o,preferLegacyKeys:i}=be(),{resource:l,...c}=r??{},p=Io(l),f=(0,bp.useQuery)(o().access().resource(t).action(e).params({params:{...c,resource:p},enabled:a==null?void 0:a.enabled}).get(i),()=>(n==null?void 0:n({action:e,resource:t,params:{...c,resource:p}}))??Promise.resolve({can:!0}),{enabled:typeof n<"u",...a,meta:{...a==null?void 0:a.meta,...(0,Pp.getXRay)("useCan",i)},retry:!1});return typeof n>"u"?{data:{can:!0}}:f},"useCan"),Tl=_(y("react")),xp=C(()=>{let{can:e}=Tl.default.useContext(Ca);return{can:Tl.default.useMemo(()=>e?C(async({params:t,...r})=>{let a=t!=null&&t.resource?Io(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),jr=y("react"),kp=_(y("lodash/uniqBy")),wp=_(y("lodash/debounce")),Ga=_(y("lodash/get")),Fp=C(e=>{let[t,r]=(0,jr.useState)([]),[a,n]=(0,jr.useState)([]),[o,i]=(0,jr.useState)([]),{resource:l,sort:c,sorters:p,filters:f=[],optionLabel:b="title",optionValue:w="id",debounce:m=300,successNotification:E,errorNotification:x,defaultValueQueryOptions:v,queryOptions:s,fetchSize:h,pagination:d,hasPagination:k=!1,liveMode:L,defaultValue:u=[],onLiveEvent:P,onSearch:$,liveParams:S,meta:q,metaData:g,dataProviderName:I,overtimeOptions:T}=e,{resource:A,identifier:N}=pe(l),M=Me()({resource:A,meta:H(q,g)}),D=Array.isArray(u)?u:[u],O=(0,jr.useCallback)(j=>{i(j.data.map(K=>({label:(0,Ga.default)(K,b),value:(0,Ga.default)(K,w)})))},[b,w]),W=v??s,R=Cs({resource:N,ids:D,queryOptions:{...W,enabled:D.length>0&&((W==null?void 0:W.enabled)??!0),onSuccess:j=>{var K;O(j),(K=W==null?void 0:W.onSuccess)==null||K.call(W,j)}},meta:M,metaData:M,liveMode:"off",dataProviderName:I}),Q=(0,jr.useCallback)(j=>{n(j.data.map(K=>({label:(0,Ga.default)(K,b),value:(0,Ga.default)(K,w)})))},[b,w]),U=Co({resource:N,sorters:H(p,c),filters:f.concat(t),pagination:{current:d==null?void 0:d.current,pageSize:(d==null?void 0:d.pageSize)??h,mode:d==null?void 0:d.mode},hasPagination:k,queryOptions:{...s,onSuccess:j=>{var K;Q(j),(K=s==null?void 0:s.onSuccess)==null||K.call(s,j)}},successNotification:E,errorNotification:x,meta:M,metaData:M,liveMode:L,liveParams:S,onLiveEvent:P,dataProviderName:I}),z=C(j=>{if($){r($(j));return}if(j)r([{field:b,operator:"contains",value:j}]);else{r([]);return}},"onSearch"),{elapsedTime:V}=Qe({isLoading:U.isFetching||R.isFetching,interval:T==null?void 0:T.interval,onInterval:T==null?void 0:T.onInterval});return{queryResult:U,defaultValueQueryResult:R,options:(0,jr.useMemo)(()=>(0,kp.default)([...a,...o],"value"),[a,o]),onSearch:(0,wp.default)(z,m),overtime:{elapsedTime:V}}},"useSelect"),kr=_(y("react")),$l=_(y("qs")),Xa=_(y("lodash/differenceWith")),Ya=_(y("lodash/isEqual")),Ip=_(y("warn-once")),ql=[],Nl=[];function zs({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:n,permanentSorter:o=Nl,defaultSetFilterBehavior:i,initialFilter:l,permanentFilter:c=ql,filters:p,sorters:f,syncWithLocation:b,resource:w,successNotification:m,errorNotification:E,queryOptions:x,liveMode:v,onLiveEvent:s,liveParams:h,meta:d,metaData:k,dataProviderName:L,overtimeOptions:u}={}){var P,$,S,q,g;let{syncWithLocation:I}=vs(),T=b??I,A=Ns(v),N=Ve(),{useLocation:M}=vt(),{search:D,pathname:O}=M(),W=Me(),R=Rt(),Q=((p==null?void 0:p.mode)||"server")==="server",U=((f==null?void 0:f.mode)||"server")==="server",z=r===!1?"off":"server",V=((a==null?void 0:a.mode)??z)!=="off",j=H(a==null?void 0:a.current,e),K=H(a==null?void 0:a.pageSize,t),G=H(d,k),{parsedCurrent:J,parsedPageSize:re,parsedSorter:me,parsedFilters:de}=fo(D??"?"),ne=H(p==null?void 0:p.initial,l),ie=H(p==null?void 0:p.permanent,c)??ql,fe=H(f==null?void 0:f.initial,n),oe=H(f==null?void 0:f.permanent,o)??Nl,Ce=H(p==null?void 0:p.defaultBehavior,i)??"merge",Fe,Ae,Ie,ht;T?(Fe=((P=R==null?void 0:R.params)==null?void 0:P.current)||J||j||1,Ae=(($=R==null?void 0:R.params)==null?void 0:$.pageSize)||re||K||10,Ie=((S=R==null?void 0:R.params)==null?void 0:S.sorters)||(me.length?me:fe),ht=((q=R==null?void 0:R.params)==null?void 0:q.filters)||(de.length?de:ne)):(Fe=j||1,Ae=K||10,Ie=fe,ht=ne);let{replace:zr}=xt(),Wt=Pt(),{resource:Mn,identifier:Se}=pe(w),qt=W({resource:Mn,meta:G});kr.default.useEffect(()=>{(0,Ip.default)(typeof Se>"u","useTable: `resource` is not defined.")},[Se]);let[De,Kt]=(0,kr.useState)(io(oe,Ie??[])),[Be,Nt]=(0,kr.useState)(oo(ie,ht??[])),[At,Qt]=(0,kr.useState)(Fe),[Ht,Si]=(0,kr.useState)(Ae),Id=C(({pagination:{current:Re,pageSize:bt},sorter:ja,filters:Wa})=>{if(N==="new")return Wt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...V?{current:Re,pageSize:bt}:{},sorters:ja,filters:Wa,...Li()}})??"";{let ma=$l.default.parse(D==null?void 0:D.substring(1)),Nd=ao({pagination:{pageSize:bt,current:Re},sorters:De??ja,filters:Wa,...ma});return`${O??""}?${Nd??""}`}},"createLinkForSyncWithLocation");(0,kr.useEffect)(()=>{D===""&&(Qt(Fe),Si(Ae),Kt(io(oe,Ie??[])),Nt(oo(ie,ht??[])))},[D]);let Li=C(()=>{if(N==="new"){let{sorters:Re,filters:bt,pageSize:ja,current:Wa,...ma}=(R==null?void 0:R.params)??{};return ma}else{let{sorter:Re,filters:bt,pageSize:ja,current:Wa,...ma}=$l.default.parse(D,{ignoreQueryPrefix:!0});return ma}},"currentQueryParams");(0,kr.useEffect)(()=>{if(T){let Re=Li();if(N==="new")Wt({type:"replace",options:{keepQuery:!0},query:{...V?{pageSize:Ht,current:At}:{},sorters:(0,Xa.default)(De,oe,Ya.default),filters:(0,Xa.default)(Be,ie,Ya.default)}});else{let bt=ao({...V?{pagination:{pageSize:Ht,current:At}}:{},sorters:(0,Xa.default)(De,oe,Ya.default),filters:(0,Xa.default)(Be,ie,Ya.default),...Re});return zr==null?void 0:zr(`${O}?${bt}`,void 0,{shallow:!0})}}},[T,At,Ht,De,Be]);let On=Co({resource:Se,hasPagination:r,pagination:{current:At,pageSize:Ht,mode:a==null?void 0:a.mode},filters:Q?fa(ie,Be):void 0,sorters:U?no(oe,De):void 0,queryOptions:x,successNotification:m,errorNotification:E,meta:qt,metaData:qt,liveMode:A,liveParams:h,onLiveEvent:s,dataProviderName:L}),Sd=C(Re=>{Nt(bt=>fa(ie,Re,bt))},"setFiltersAsMerge"),Ld=C(Re=>{Nt(fa(ie,Re))},"setFiltersAsReplace"),Td=C(Re=>{Nt(bt=>fa(ie,Re(bt)))},"setFiltersWithSetter"),$d=C((Re,bt=Ce)=>{typeof Re=="function"?Td(Re):bt==="replace"?Ld(Re):Sd(Re)},"setFiltersFn"),Ti=C(Re=>{Kt(()=>no(oe,Re))},"setSortWithUnion"),{elapsedTime:qd}=Qe({isLoading:On.isFetching,interval:u==null?void 0:u.interval,onInterval:u==null?void 0:u.onInterval});return{tableQueryResult:On,sorters:De,setSorters:Ti,sorter:De,setSorter:Ti,filters:Be,setFilters:$d,current:At,setCurrent:Qt,pageSize:Ht,setPageSize:Si,pageCount:Ht?Math.ceil((((g=On.data)==null?void 0:g.total)??0)/Ht):1,createLinkForSyncWithLocation:Id,overtime:{elapsedTime:qd}}}F(zs,"ki");C(zs,"useTable");var Al=y("react"),Jn=y("@tanstack/react-query"),Vs=_(y("react")),sn=Vs.default.createContext({}),Sp=C(({create:e,get:t,update:r,children:a})=>Vs.default.createElement(sn.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),Dl=he(),Tr=C(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Jn.useQueryClient)(),a=(0,Al.useContext)(sn),{keys:n,preferLegacyKeys:o}=be(),i=ze(),{resources:l}=(0,Al.useContext)(ya),{data:c,refetch:p,isLoading:f}=vo({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy),queryOptions:{enabled:!!a}}),b=(0,Jn.useMutation)(async m=>{var E,x,v,s,h;let d=_e(m.resource,l),k=H((E=d==null?void 0:d.meta)==null?void 0:E.audit,(x=d==null?void 0:d.options)==null?void 0:x.audit,(s=(v=d==null?void 0:d.options)==null?void 0:v.auditLog)==null?void 0:s.permissions);if(k&&!xc(k,m.action))return;let L;return f&&(L=await p()),await((h=a.create)==null?void 0:h.call(a,{...m,author:c??(L==null?void 0:L.data)}))},{mutationKey:n().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,Dl.getXRay)("useLog",o)}}),w=(0,Jn.useMutation)(async m=>{var E;return await((E=a.update)==null?void 0:E.call(a,m))},{onSuccess:m=>{m!=null&&m.resource&&r.invalidateQueries(n().audit().resource((m==null?void 0:m.resource)??"").action("list").get(o))},mutationKey:n().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,Dl.getXRay)("useLog",o)}});return{log:b,rename:w}},"useLog"),Lp=y("react"),Tp=y("@tanstack/react-query"),$p=he(),qp=C(({resource:e,action:t,meta:r,author:a,metaData:n,queryOptions:o})=>{let{get:i}=(0,Lp.useContext)(sn),{keys:l,preferLegacyKeys:c}=be();return(0,Tp.useQuery)(l().audit().resource(e).action("list").params(r).get(c),()=>(i==null?void 0:i({resource:e,action:t,author:a,meta:r,metaData:n}))??Promise.resolve([]),{enabled:typeof i<"u",...o,retry:!1,meta:{...o==null?void 0:o.meta,...(0,$p.getXRay)("useLogList",c)}})},"useLogList"),Np=y("react"),Ap=_(y("warn-once")),Dp=C(({meta:e={}}={})=>{let t=Ve(),{i18nProvider:r}=(0,Np.useContext)(Lr),a=Rt(),n=we(),{resources:o,resource:i,action:l}=pe(),{options:{textTransformers:c}}=tt(),p=[];if(!(i!=null&&i.name))return{breadcrumbs:p};let f=C(b=>{var w,m,E,x,v,s;let h=typeof b=="string"?_e(b,o,t==="legacy")??{name:b}:b;if(h){let d=H((w=h==null?void 0:h.meta)==null?void 0:w.parent,h==null?void 0:h.parentName);d&&f(d);let k=ct(h,o,t==="legacy").find(P=>P.action==="list"),L=(m=k==null?void 0:k.resource)!=null&&m.list?k==null?void 0:k.route:void 0,u=L?t==="legacy"?L:Ct(L,h==null?void 0:h.meta,a,e):void 0;p.push({label:H((E=h.meta)==null?void 0:E.label,(x=h.options)==null?void 0:x.label)??n(`${h.name}.${h.name}`,c.humanize(h.name)),href:u,icon:H((v=h.meta)==null?void 0:v.icon,(s=h.options)==null?void 0:s.icon,h.icon)})}},"addBreadcrumb");if(f(i),l&&l!=="list"){let b=`actions.${l}`,w=n(b);typeof r<"u"&&w===b?((0,Ap.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${l}" action. Please add "actions.${l}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),p.push({label:n(`buttons.${l}`,c.humanize(l))})):p.push({label:n(b,c.humanize(l))})}return{breadcrumbs:p}},"useBreadcrumb"),eo=_(y("react")),Ja=C((e,t,r=!1)=>{let a=[],n=ir(e,t);for(;n;)a.push(n),n=ir(n,t);return a.reverse(),`/${[...a,e].map(o=>_t((r?o.route:void 0)??o.identifier??o.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),Rp=C((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{let o=[],i=ir(n,e);for(;i;)o.push(i),i=ir(i,e);o.reverse();let l=r;o.forEach(p=>{let f=(t?p.route:void 0)??p.identifier??p.name;l.children[f]||(l.children[f]={item:p,children:{}}),l=l.children[f]});let c=(t?n.route:void 0)??n.identifier??n.name;l.children[c]||(l.children[c]={item:n,children:{}})});let a=C(n=>{let o=[];return Object.keys(n.children).forEach(i=>{let l=Ja(n.children[i].item,e,t),c={...n.children[i].item,key:l,children:a(n.children[i])};o.push(c)}),o},"flatten");return a(r)},"createTree"),Rl=C(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Mp=C(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=we(),a=wo(),n=Ve(),{resource:o,resources:i}=pe(),{pathname:l}=Rt(),{useLocation:c}=vt(),{pathname:p}=c(),f=po(),b=`/${((n==="legacy"?Rl(p):l?Rl(l):void 0)??"").replace(/^\//,"")}`,w=o?Ja(o,i,n==="legacy"):b??"",m=eo.default.useMemo(()=>{if(!o)return[];let v=ir(o,i),s=[Ja(o,i)];for(;v;)s.push(Ja(v,i)),v=ir(v,i);return s},[]),E=eo.default.useCallback(v=>{var s,h,d,k,L,u;if((((s=v==null?void 0:v.meta)==null?void 0:s.hide)??((h=v==null?void 0:v.options)==null?void 0:h.hide))||!(v!=null&&v.list)&&v.children.length===0)return;let P=v.list?a({resource:v,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&P&&P.match(/(\/|^):(.+?)(\/|$){1}/)))return{...v,route:P,icon:H((d=v.meta)==null?void 0:d.icon,(k=v.options)==null?void 0:k.icon,v.icon),label:H((L=v==null?void 0:v.meta)==null?void 0:L.label,(u=v==null?void 0:v.options)==null?void 0:u.label)??r(`${v.name}.${v.name}`,f(v.name,"plural"))}},[n,e,r,t]),x=eo.default.useMemo(()=>{let v=Rp(i,n==="legacy"),s=C(h=>h.flatMap(d=>{let k=s(d.children),L=E({...d,children:k});return L?[L]:[]}),"prepare");return s(v)},[i,n,E]);return{defaultOpenKeys:m,selectedKey:w,menuItems:x}},"useMenu"),Me=C(()=>{let{params:e}=Rt();return C(({resource:t,meta:r}={})=>{let{meta:a}=Io(t)??{meta:{}},{filters:n,sorters:o,current:i,pageSize:l,...c}=e??{};return{...a,...c,...r}},"getMetaFn")},"useMeta"),Op=C(()=>{let[e,t]=(0,xr.useState)(),r=we(),{push:a}=xt(),n=Pt(),o=Ve(),{resource:i,action:l}=pe();return(0,xr.useEffect)(()=>{i&&l&&t(r("pages.error.info",{action:l,resource:i.name},`You may have forgotten to add the "${l}" component to "${i.name}" resource.`))},[i,l]),xr.default.createElement(xr.default.Fragment,null,xr.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&xr.default.createElement("p",null,e),xr.default.createElement("button",{onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),Ue=_(y("react")),js=C(()=>{let[e,t]=(0,Ue.useState)(""),[r,a]=(0,Ue.useState)(""),n=we(),o=ze(),{mutate:i}=nn({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy)});return Ue.default.createElement(Ue.default.Fragment,null,Ue.default.createElement("h1",null,n("pages.login.title","Sign in your account")),Ue.default.createElement("form",{onSubmit:l=>{l.preventDefault(),i({username:e,password:r})}},Ue.default.createElement("table",null,Ue.default.createElement("tbody",null,Ue.default.createElement("tr",null,Ue.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),Ue.default.createElement("td",null,Ue.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:l=>t(l.target.value)}))),Ue.default.createElement("tr",null,Ue.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),Ue.default.createElement("td",null,Ue.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:l=>a(l.target.value)}))))),Ue.default.createElement("br",null),Ue.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),Wr=_(y("react")),Ee=_(y("react")),Bp=C(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:i,formProps:l,title:c=void 0})=>{let p=Ve(),f=ln(),{Link:b}=vt(),w=p==="legacy"?b:f,[m,E]=(0,Ee.useState)(""),[x,v]=(0,Ee.useState)(""),[s,h]=(0,Ee.useState)(!1),d=we(),k=ze(),{mutate:L}=nn({v3LegacyAuthProviderCompatible:!!(k!=null&&k.isLegacy)}),u=C((S,q)=>Ee.default.createElement(w,{to:S},q),"renderLink"),P=C(()=>e?e.map(S=>Ee.default.createElement("div",{key:S.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Ee.default.createElement("button",{onClick:()=>L({providerName:S.name}),style:{display:"flex",alignItems:"center"}},S==null?void 0:S.icon,S.label??Ee.default.createElement("label",null,S.label)))):null,"renderProviders"),$=Ee.default.createElement("div",{...n},Ee.default.createElement("h1",{style:{textAlign:"center"}},d("pages.login.title","Sign in to your account")),P(),Ee.default.createElement("hr",null),Ee.default.createElement("form",{onSubmit:S=>{S.preventDefault(),L({email:m,password:x,remember:s})},...l},Ee.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ee.default.createElement("label",{htmlFor:"email-input"},d("pages.login.fields.email","Email")),Ee.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:S=>E(S.target.value)}),Ee.default.createElement("label",{htmlFor:"password-input"},d("pages.login.fields.password","Password")),Ee.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:x,onChange:S=>v(S.target.value)}),a??Ee.default.createElement(Ee.default.Fragment,null,Ee.default.createElement("label",{htmlFor:"remember-me-input"},d("pages.login.buttons.rememberMe","Remember me"),Ee.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:s,value:s.toString(),onChange:()=>{h(!s)}}))),Ee.default.createElement("br",null),r??u("/forgot-password",d("pages.login.buttons.forgotPassword","Forgot password?")),Ee.default.createElement("input",{type:"submit",value:d("pages.login.signin","Sign in")}),t??Ee.default.createElement("span",null,d("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",u("/register",d("pages.login.register","Sign up"))))));return Ee.default.createElement("div",{...o},i?i($,c):$)},"LoginPage"),Te=_(y("react")),Up=C(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o,title:i=void 0})=>{let l=Ve(),c=ln(),{Link:p}=vt(),f=l==="legacy"?p:c,[b,w]=(0,Te.useState)(""),[m,E]=(0,Te.useState)(""),x=we(),v=ze(),{mutate:s,isLoading:h}=yo({v3LegacyAuthProviderCompatible:!!(v!=null&&v.isLegacy)}),d=C((u,P)=>Te.default.createElement(f,{to:u},P),"renderLink"),k=C(()=>e?e.map(u=>Te.default.createElement("div",{key:u.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Te.default.createElement("button",{onClick:()=>s({providerName:u.name}),style:{display:"flex",alignItems:"center"}},u==null?void 0:u.icon,u.label??Te.default.createElement("label",null,u.label)))):null,"renderProviders"),L=Te.default.createElement("div",{...a},Te.default.createElement("h1",{style:{textAlign:"center"}},x("pages.register.title","Sign up for your account")),k(),Te.default.createElement("hr",null),Te.default.createElement("form",{onSubmit:u=>{u.preventDefault(),s({email:b,password:m})},...o},Te.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Te.default.createElement("label",{htmlFor:"email-input"},x("pages.register.fields.email","Email")),Te.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:b,onChange:u=>w(u.target.value)}),Te.default.createElement("label",{htmlFor:"password-input"},x("pages.register.fields.password","Password")),Te.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:m,onChange:u=>E(u.target.value)}),Te.default.createElement("input",{type:"submit",value:x("pages.register.buttons.submit","Sign up"),disabled:h}),t??Te.default.createElement(Te.default.Fragment,null,Te.default.createElement("span",null,x("pages.login.buttons.haveAccount","Have an account?")," ",d("/login",x("pages.login.signin","Sign in")))))));return Te.default.createElement("div",{...r},n?n(L,i):L)},"RegisterPage"),ut=_(y("react")),zp=C(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n,title:o=void 0})=>{let i=we(),l=Ve(),c=ln(),{Link:p}=vt(),f=l==="legacy"?p:c,[b,w]=(0,ut.useState)(""),{mutate:m,isLoading:E}=ho(),x=C((s,h)=>ut.default.createElement(f,{to:s},h),"renderLink"),v=ut.default.createElement("div",{...r},ut.default.createElement("h1",{style:{textAlign:"center"}},i("pages.forgotPassword.title","Forgot your password?")),ut.default.createElement("hr",null),ut.default.createElement("form",{onSubmit:s=>{s.preventDefault(),m({email:b})},...n},ut.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ut.default.createElement("label",{htmlFor:"email-input"},i("pages.forgotPassword.fields.email","Email")),ut.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:b,onChange:s=>w(s.target.value)}),ut.default.createElement("input",{type:"submit",disabled:E,value:i("pages.forgotPassword.buttons.submit","Send reset instructions")}),ut.default.createElement("br",null),e??ut.default.createElement("span",null,i("pages.register.buttons.haveAccount","Have an account? ")," ",x("/login",i("pages.login.signin","Sign in"))))));return ut.default.createElement("div",{...t},a?a(v,o):v)},"ForgotPasswordPage"),dt=_(y("react")),Vp=C(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:n=void 0})=>{let o=we(),i=ze(),{mutate:l,isLoading:c}=bo({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)}),[p,f]=(0,dt.useState)(""),[b,w]=(0,dt.useState)(""),m=dt.default.createElement("div",{...t},dt.default.createElement("h1",{style:{textAlign:"center"}},o("pages.updatePassword.title","Update Password")),dt.default.createElement("hr",null),dt.default.createElement("form",{onSubmit:E=>{E.preventDefault(),l({password:p,confirmPassword:b})},...a},dt.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},dt.default.createElement("label",{htmlFor:"password-input"},o("pages.updatePassword.fields.password","New Password")),dt.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:p,onChange:E=>f(E.target.value)}),dt.default.createElement("label",{htmlFor:"confirm-password-input"},o("pages.updatePassword.fields.confirmPassword","Confirm New Password")),dt.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:b,onChange:E=>w(E.target.value)}),dt.default.createElement("input",{type:"submit",disabled:c,value:o("pages.updatePassword.buttons.submit","Update")}))));return dt.default.createElement("div",{...e},r?r(m,n):m)},"UpdatePasswordPage"),jp=C(e=>{let{type:t}=e;return Wr.default.createElement(Wr.default.Fragment,null,C(()=>{switch(t){case"register":return Wr.default.createElement(Up,{...e});case"forgotPassword":return Wr.default.createElement(zp,{...e});case"updatePassword":return Wr.default.createElement(Vp,{...e});default:return Wr.default.createElement(Bp,{...e})}},"renderView")())},"AuthPage"),Je=_(y("react")),Ws=C(()=>Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("h1",null,"Welcome on board"),Je.default.createElement("p",null,"Your configuration is completed."),Je.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Je.default.createElement("code",null,"`resources`")," property of ",Je.default.createElement("code",null,"`<Refine>`")),Je.default.createElement("div",{style:{display:"flex",gap:8}},Je.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Je.default.createElement("button",null,"Documentation")),Je.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Je.default.createElement("button",null,"Examples")),Je.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Je.default.createElement("button",null,"Community")))),"ReadyPage"),ve=_(y("react")),Wp=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:ve.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:ve.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),ve.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:ve.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),ve.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:ve.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ve.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Kp=C(()=>{let e=Yi("(max-width: 1010px)"),t=Yi("(max-width: 650px)"),r=C(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),a=C(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),n=C(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return ve.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},ve.default.createElement("div",{style:{height:"89px"}}),ve.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},ve.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),ve.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),ve.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},ve.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),ve.default.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),ve.default.createElement("div",{style:{height:"64px"}}),ve.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},Wp.map(o=>ve.default.createElement(Qp,{key:`welcome-page-${o.title}`,card:o}))),ve.default.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),Qp=C(({card:e})=>{let{title:t,description:r,icon:a,link:n}=e,[o,i]=(0,ve.useState)(!1);return ve.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},ve.default.createElement("div",{style:{display:"flex",alignItems:"center"}},ve.default.createElement("a",{onPointerEnter:()=>i(!0),onPointerLeave:()=>i(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},a,ve.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),ve.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...o&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},ve.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),ve.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),ke=_(y("react")),to=y("@tanstack/react-query"),Hp=he(),Ml=_(y("react")),wr=y("react"),_p="4.42.4",Gp=C(()=>{var e;let t=bs(),r=(0,wr.useContext)(sn),a=(0,wr.useContext)(ga),n=(0,wr.useContext)(Fo),o=(0,wr.useContext)(xo),{i18nProvider:i}=(0,wr.useContext)(Lr),l=(0,wr.useContext)(ko),c=(0,wr.useContext)(Ca),{resources:p}=pe(),f=tt(),b=!!r.create||!!r.get||!!r.update,w=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),m=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,E=!!o,x=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),v=!!l.close||!!l.open,s=!!c.can,h=(e=f==null?void 0:f.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:b,live:w,router:m,data:E,i18n:x,notification:v,accessControl:s},version:_p,resourceCount:p.length,projectId:h}},"useTelemetryData"),Xp=C(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Yp=C(e=>{let t=new Image;t.src=e},"throughImage"),Zp=C(e=>{fetch(e)},"throughFetch"),Jp=C(e=>{typeof Image<"u"?Yp(e):typeof fetch<"u"&&Zp(e)},"transport"),ef=C(()=>{let e=Gp(),t=Ml.default.useRef(!1);return Ml.default.useEffect(()=>{if(t.current)return;let r=Xp(e);r&&(Jp(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),tf=C(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),Ol=_(y("react")),rf=C(e=>{let t=Ol.default.useRef(!1);Ol.default.useEffect(()=>{t.current===!1&&e&&tf(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),af=C(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:n,notificationProvider:o,accessControlProvider:i,auditLogProvider:l,resources:c,DashboardPage:p,ReadyPage:f,LoginPage:b,catchAll:w,children:m,liveProvider:E,i18nProvider:x,Title:v,Layout:s,Sider:h,Header:d,Footer:k,OffLayoutArea:L,onLiveEvent:u,options:P})=>{let{optionsWithDefaults:$,disableTelemetryWithDefault:S,reactQueryWithDefaults:q}=qc({options:P}),g=Fs(()=>{var A;return q.clientConfig instanceof to.QueryClient?q.clientConfig:new to.QueryClient({...q.clientConfig,defaultOptions:{...q.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(A=q.clientConfig.defaultOptions)==null?void 0:A.queries}}})},[q.clientConfig]);(0,Hp.useQuerySubscription)(g);let I=ke.default.useMemo(()=>typeof o=="function"?o:()=>o??{},[o])();if(rf(n),a&&!n&&(c??[]).length===0)return f?ke.default.createElement(f,null):ke.default.createElement(Ws,null);let{RouterComponent:T=ke.default.Fragment}=n?{}:a??{};return ke.default.createElement(to.QueryClientProvider,{client:g},ke.default.createElement(Xm,{...I},ke.default.createElement(Rc,{...e??{},isProvided:!!e},ke.default.createElement(Mc,{...t??{},isProvided:!!t},ke.default.createElement(Lm,{...r},ke.default.createElement(Nm,{liveProvider:E},ke.default.createElement(Um,{value:a&&!n?"legacy":"new"},ke.default.createElement(Vm,{router:n},ke.default.createElement(hp,{...a},ke.default.createElement(Bm,{resources:c??[]},ke.default.createElement(Zm,{i18nProvider:x},ke.default.createElement(Ep,{...i??{}},ke.default.createElement(Sp,{...l??{}},ke.default.createElement(dm,null,ke.default.createElement($c,{mutationMode:$.mutationMode,warnWhenUnsavedChanges:$.warnWhenUnsavedChanges,syncWithLocation:$.syncWithLocation,Title:v,undoableTimeout:$.undoableTimeout,catchAll:w,DashboardPage:p,LoginPage:b,Layout:s,Sider:h,Footer:k,Header:d,OffLayoutArea:L,hasDashboard:!!p,liveMode:$.liveMode,onLiveEvent:u,options:$},ke.default.createElement(Bc,null,ke.default.createElement(T,null,m,!S&&ke.default.createElement(ef,null),ke.default.createElement(Hs,null))))))))))))))))))},"Refine"),Bl=y("react"),Ks=C(({notification:e})=>{let t=we(),{notificationDispatch:r}=_r(),{open:a}=sr(),[n,o]=(0,Bl.useState)(),i=C(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:zn(e.seconds)},`You have ${zn(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:zn(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let l=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(l)}},"cancelNotification");return(0,Bl.useEffect)(()=>{i()},[e]),null},"UndoableQueue"),tn=_(y("react")),nf=C(({children:e,Layout:t,Sider:r,Header:a,Title:n,Footer:o,OffLayoutArea:i})=>{let{Layout:l,Footer:c,Header:p,Sider:f,Title:b,OffLayoutArea:w}=tt();return tn.default.createElement(t??l,{Sider:r??f,Header:a??p,Footer:o??c,Title:n??b,OffLayoutArea:i??w},e,tn.default.createElement(of,null))},"LayoutWrapper"),of=C(()=>{let{Prompt:e}=vt(),t=we(),{warnWhen:r,setWarnWhen:a}=mo(),n=C(o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue),"warnWhenListener");return(0,tn.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),tn.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),mt=_(y("react")),lf=C(()=>{let e=Pt(),[t,r]=mt.default.useState(void 0);return mt.default.useEffect(()=>{t&&e(t)},[t]),mt.default.useCallback(a=>{t||r(a)},[t])},"useDeferredGo");function Qs({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:n}){var o;let i=ze(),l=Ve(),c=!!(i!=null&&i.isProvided),p=!!(i!=null&&i.isLegacy),f=l==="legacy",b=Rt(),w=Pt(),m=lf(),{replace:E}=xt(),{useLocation:x}=vt(),v=x(),{isLoading:s,isFetching:h,isSuccess:d,data:{authenticated:k,redirectTo:L}={},refetch:u}=on({v3LegacyAuthProviderCompatible:p});mt.default.useEffect(()=>{u()},[r,a]);let P=mt.default.useRef({status:s?"initial":"pending",content:n??null});h?P.current.status="pending":h||(P.current.status="settled");let $=c?p?d:k:!0;if(P.current.status==="settled")if($)P.current.content=mt.default.createElement(mt.default.Fragment,null,r??null);else if(typeof a<"u")P.current.content=mt.default.createElement(mt.default.Fragment,null,a);else{let S=`${f?v==null?void 0:v.pathname:b.pathname}`.replace(/(\?.*|#.*)$/,""),q=p?typeof e=="string"?e:"/login":typeof e=="string"?e:L;if(q)if(f){let g=t?`?to=${encodeURIComponent(S)}`:"";E(`${q}${g}`)}else m({to:q,query:t?{to:(o=b.params)!=null&&o.to?b.params.to:w({to:S,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return c?mt.default.createElement(mt.default.Fragment,null,P.current.content):mt.default.createElement(mt.default.Fragment,null,r??null)}F(Qs,"ui");C(Qs,"Authenticated");var sf=y("react"),Hs=C(()=>{let{useLocation:e}=vt(),{checkAuth:t}=Et(),r=e();return(0,sf.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),Fr=_(y("react")),uf=C(({resource:e,action:t,params:r,fallback:a,onUnauthorized:n,children:o,...i})=>{let{resource:l,id:c,action:p}=pe(e),{identifier:f}=pe(),b=C(()=>{let v=(r==null?void 0:r.id)??c;return e&&e!==f?r==null?void 0:r.id:v},"getDefaultId")(),w=e??(l==null?void 0:l.name),m=t??p??"",E=r??{id:b,resource:l},{data:x}=Us({resource:w,action:m,params:E});return(0,Fr.useEffect)(()=>{n&&(x==null?void 0:x.can)===!1&&n({resource:w,action:m,reason:x==null?void 0:x.reason,params:E})},[x==null?void 0:x.can]),x!=null&&x.can?Fr.default.isValidElement(o)?Fr.default.cloneElement(o,i):Fr.default.createElement(Fr.default.Fragment,null,o):(x==null?void 0:x.can)===!1?Fr.default.createElement(Fr.default.Fragment,null,a??null):null},"CanAccess"),Ir=_(y("react")),df=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],cf=C(()=>((0,Ir.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),df.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Ir.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},Ir.default.createElement("div",{style:{width:"200px"}}),Ir.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},Ir.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Ir.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),Ir.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going."))))),"GitHubBanner")});var kt=pa((g0,Xs)=>{var So=Object.defineProperty,mf=Object.getOwnPropertyDescriptor,pf=Object.getOwnPropertyNames,ff=Object.prototype.hasOwnProperty,vf=F((e,t)=>{for(var r in t)So(e,r,{get:t[r],enumerable:!0})},"R"),gf=F((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of pf(t))!ff.call(e,n)&&n!==r&&So(e,n,{get:()=>t[n],enumerable:!(a=mf(t,n))||a.enumerable});return e},"a"),yf=F(e=>gf(So({},"__esModule",{value:!0}),e),"P"),Gs={};vf(Gs,{RefineButtonClassNames:()=>Cf,RefineButtonTestIds:()=>hf,RefinePageHeaderClassNames:()=>bf});Xs.exports=yf(Gs);var hf={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"},bf={Title:"refine-pageHeader-title",SubTitle:"refine-pageHeader-subTitle"},Cf={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var Ma=pa((h0,Ou)=>{var Ef=Object.create,Na=Object.defineProperty,Pf=Object.getOwnPropertyDescriptor,xf=Object.getOwnPropertyNames,kf=Object.getPrototypeOf,wf=Object.prototype.hasOwnProperty,B=F((e,t)=>Na(e,"name",{value:t,configurable:!0}),"r"),Ff=F((e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},"Vs"),gu=F((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of xf(t))!wf.call(e,n)&&n!==r&&Na(e,n,{get:()=>t[n],enumerable:!(a=Pf(t,n))||a.enumerable});return e},"Lr"),ee=F((e,t,r)=>(r=e!=null?Ef(kf(e)):{},gu(t||!e||!e.__esModule?Na(r,"default",{value:e,enumerable:!0}):r,e)),"v"),If=F(e=>gu(Na({},"__esModule",{value:!0}),e),"As"),yu={};Ff(yu,{AuthPage:()=>xy,AutoSaveIndicator:()=>Mu,BooleanField:()=>Fg,Breadcrumb:()=>Da,CloneButton:()=>tg,Create:()=>sg,CreateButton:()=>Nu,DateField:()=>Tg,DeleteButton:()=>ri,Edit:()=>ug,EditButton:()=>Au,EmailField:()=>Eg,ErrorComponent:()=>Gg,ExportButton:()=>Hv,FileField:()=>qg,FilterDropdown:()=>Qg,Header:()=>Fu,ImageField:()=>kg,ImportButton:()=>og,Layout:()=>ov,List:()=>lg,ListButton:()=>ni,LoginPage:()=>ay,MarkdownField:()=>jg,NumberField:()=>Bg,PageHeader:()=>Ra,ReadyPage:()=>oy,RefineThemes:()=>Ty,RefreshButton:()=>ai,SaveButton:()=>oi,Show:()=>dg,ShowButton:()=>Bv,Sider:()=>wu,TagField:()=>yg,TextField:()=>fg,ThemedHeader:()=>Lu,ThemedHeaderV2:()=>$u,ThemedLayout:()=>cv,ThemedLayoutContext:()=>Fn,ThemedLayoutContextProvider:()=>xu,ThemedLayoutV2:()=>Cv,ThemedSider:()=>Su,ThemedSiderV2:()=>Tu,ThemedTitle:()=>ia,ThemedTitleV2:()=>qu,Title:()=>Iu,UrlField:()=>Du,WelcomePage:()=>sy,getDefaultFilter:()=>Of,getDefaultSortOrder:()=>Mf,getValueFromEvent:()=>Ly,mapAntdFilterToCrudFilter:()=>Eu,mapAntdSorterToCrudSorting:()=>Cu,notificationProvider:()=>tv,useCheckboxGroup:()=>jf,useDrawerForm:()=>Nf,useEditableTable:()=>Uf,useFileUploadState:()=>_f,useForm:()=>Aa,useImport:()=>Kf,useModal:()=>hu,useModalForm:()=>qf,useRadioGroup:()=>Wf,useSelect:()=>Vf,useSiderVisible:()=>Yf,useSimpleList:()=>Hf,useStepsForm:()=>Df,useTable:()=>Pu,useThemedLayoutContext:()=>ku});Ou.exports=If(yu);var Sf=ee(y("react")),Lf=y("antd"),Tf=y("sunflower-antd"),Gr=te(),Aa=B(({action:e,resource:t,onMutationSuccess:r,onMutationError:a,autoSave:n,submitOnEnter:o=!1,warnWhenUnsavedChanges:i,redirect:l,successNotification:c,errorNotification:p,meta:f,metaData:b,queryMeta:w,mutationMeta:m,liveMode:E,liveParams:x,mutationMode:v,dataProviderName:s,onLiveEvent:h,invalidates:d,undoableTimeout:k,queryOptions:L,createMutationOptions:u,updateMutationOptions:P,id:$,overtimeOptions:S,optimisticUpdateMap:q,disableServerSideValidation:g=!1}={})=>{var I,T;let{options:A}=(0,Gr.useRefineContext)(),N=(A==null?void 0:A.disableServerSideValidation)||g,M=(0,Gr.useTranslate)(),[D]=Lf.Form.useForm(),O=(0,Tf.useForm)({form:D}),{form:W}=O,R=(0,Gr.useForm)({onMutationSuccess:r||void 0,onMutationError:async(ne,ie,fe)=>{if(N){a==null||a(ne,ie,fe);return}let oe=[],Ce=W.getFieldsValue();oe=Object.keys(Ce).map(Ae=>({name:Ae,errors:void 0})),W.setFields(oe);let Fe=ne==null?void 0:ne.errors;for(let Ae in Fe){let Ie=Fe[Ae],ht=[];Array.isArray(Ie)&&(ht=Ie),typeof Ie=="string"&&(ht=[Ie]),typeof Ie=="boolean"&&Ie&&(ht=["Field is not valid."]),typeof Ie=="object"&&"key"in Ie&&(ht=[M(Ie.key,Ie.message)]);let zr=Ae.split(".").map(Wt=>isNaN(Number(Wt))?Wt:Number(Wt));oe.push({name:zr,errors:ht})}W.setFields([...oe]),a==null||a(ne,ie,fe)},redirect:l,action:e,resource:t,successNotification:c,errorNotification:p,meta:(0,Gr.pickNotDeprecated)(f,b),metaData:(0,Gr.pickNotDeprecated)(f,b),queryMeta:w,mutationMeta:m,liveMode:E,liveParams:x,mutationMode:v,dataProviderName:s,onLiveEvent:h,invalidates:d,undoableTimeout:k,queryOptions:L,createMutationOptions:u,updateMutationOptions:P,id:$,overtimeOptions:S,optimisticUpdateMap:q,autoSave:n}),{formLoading:Q,onFinish:U,queryResult:z,id:V,onFinishAutoSave:j}=R,{warnWhenUnsavedChanges:K,setWarnWhen:G}=(0,Gr.useWarnAboutChange)(),J=i??K;Sf.default.useEffect(()=>{W.resetFields()},[(I=z==null?void 0:z.data)==null?void 0:I.data,V]);let re=B(ne=>{o&&ne.key==="Enter"&&W.submit()},"onKeyUp"),me=B((ne,ie)=>{if(ne&&J&&G(!0),n!=null&&n.enabled){G(!1);let fe=(n==null?void 0:n.onFinish)??(oe=>oe);return j(fe(ie))}return ne},"onValuesChange"),de={disabled:Q,onClick:()=>{W.submit()}};return{form:O.form,formProps:{...O.formProps,onFinish:ne=>U(ne).catch(ie=>ie),onKeyUp:re,onValuesChange:me,initialValues:(T=z==null?void 0:z.data)==null?void 0:T.data},saveButtonProps:de,...R,onFinish:async ne=>await U(ne??O.form.getFieldsValue(!0))}},"useForm"),Ea=ee(y("react")),$r=te(),$f=te(),hu=B(({modalProps:e={}}={})=>{let{show:t,close:r,visible:a}=(0,$f.useModal)({defaultVisible:e.open});return{modalProps:{...e,onCancel:n=>{var o;(o=e.onCancel)==null||o.call(e,n),r()},open:a,visible:a},show:t,close:r}},"useModal"),qf=B(({syncWithLocation:e,defaultVisible:t=!1,autoSubmitClose:r=!0,autoResetForm:a=!0,autoSave:n,invalidates:o,...i})=>{var l,c;let[p,f]=Ea.default.useState(!1),b=(0,$r.useInvalidate)(),{resource:w,action:m,identifier:E}=(0,$r.useResource)(i.resource),x=(0,$r.useParsed)(),v=(0,$r.useGo)(),s=(0,$r.useUserFriendlyName)(),h=i.action??m??"",d=!(typeof e=="object"&&(e==null?void 0:e.syncId)===!1),k=typeof e=="object"&&"key"in e?e.key:w&&h&&e?`modal-${E}-${h}`:void 0,L=Aa({meta:{...k?{[k]:void 0}:{},...i.meta},autoSave:n,invalidates:o,...i}),{form:u,formProps:P,id:$,setId:S,formLoading:q,onFinish:g,autoSaveProps:I}=L,T=(0,$r.useTranslate)(),{warnWhen:A,setWarnWhen:N}=(0,$r.useWarnAboutChange)(),{show:M,close:D,modalProps:O}=hu({modalProps:{open:t}}),W=O.open||!1,R={modalProps:O,form:u,formLoading:q,formProps:P,formResult:void 0,formValues:u.getFieldsValue,defaultFormValuesLoading:!1,initialValues:{},submit:g,close:D,open:O.open||!1,show:M,visible:W};Ea.default.useEffect(()=>{var G,J,re,me;if(p===!1&&k){let de=(J=(G=x==null?void 0:x.params)==null?void 0:G[k])==null?void 0:J.open;if(typeof de=="boolean"?de&&M():typeof de=="string"&&de==="true"&&M(),d){let ne=(me=(re=x==null?void 0:x.params)==null?void 0:re[k])==null?void 0:me.id;ne&&(S==null||S(ne))}f(!0)}},[k,x,d,S]),Ea.default.useEffect(()=>{var G;p===!0&&(W&&k?v({query:{[k]:{...(G=x==null?void 0:x.params)==null?void 0:G[k],open:!0,...d&&$&&{id:$}}},options:{keepQuery:!0},type:"replace"}):k&&!W&&v({query:{[k]:void 0},options:{keepQuery:!0},type:"replace"}))},[$,W,M,k,d]);let Q={disabled:q,loading:q,onClick:()=>{u.submit()}},U=(0,Ea.useCallback)(()=>{if(I.status==="success"&&n!=null&&n.invalidateOnClose&&b({id:$,invalidates:o||["list","many","detail"],dataProviderName:i.dataProviderName,resource:E}),A)if(window.confirm(T("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))N(!1);else return;S==null||S(void 0),R.close()},[A,I.status]),z=(0,Ea.useCallback)(G=>{typeof G<"u"&&(S==null||S(G)),(!(h==="edit"||h==="clone")||typeof G<"u"||typeof $<"u")&&R.show()},[$]),{visible:V,...j}=O,K={open:V,...j};return{...L,...R,show:z,close:U,open:W,formProps:{...P,...L.formProps,onValuesChange:P==null?void 0:P.onValuesChange,onKeyUp:P==null?void 0:P.onKeyUp,onFinish:async G=>{await g(G),r&&D(),a&&u.resetFields()}},modalProps:{...K,width:"1000px",okButtonProps:Q,title:T(`${E}.titles.${i.action}`,`${s(`${i.action} ${((l=w==null?void 0:w.meta)==null?void 0:l.label)??((c=w==null?void 0:w.options)==null?void 0:c.label)??(w==null?void 0:w.label)??E}`,"singular")}`),okText:T("buttons.save","Save"),cancelText:T("buttons.cancel","Cancel"),onCancel:U,forceRender:!0},formLoading:q}},"useModalForm"),Pa=ee(y("react")),qr=te(),Nf=B(({syncWithLocation:e,defaultVisible:t=!1,autoSubmitClose:r=!0,autoResetForm:a=!0,autoSave:n,invalidates:o,...i})=>{let l=(0,qr.useInvalidate)(),[c,p]=Pa.default.useState(!1),{visible:f,show:b,close:w}=(0,qr.useModal)({defaultVisible:t}),{resource:m,action:E,identifier:x}=(0,qr.useResource)(i.resource),v=(0,qr.useParsed)(),s=(0,qr.useGo)(),h=i.action??E??"",d=!(typeof e=="object"&&(e==null?void 0:e.syncId)===!1),k=typeof e=="object"&&"key"in e?e.key:m&&h&&e?`drawer-${(m==null?void 0:m.identifier)??(m==null?void 0:m.name)}-${h}`:void 0,L=Aa({meta:{...k?{[k]:void 0}:{},...i.meta},autoSave:n,invalidates:o,...i}),{form:u,formProps:P,formLoading:$,id:S,setId:q,onFinish:g,autoSaveProps:I}=L;Pa.default.useEffect(()=>{var R,Q,U,z;if(c===!1&&k){let V=(Q=(R=v==null?void 0:v.params)==null?void 0:R[k])==null?void 0:Q.open;if(typeof V=="boolean"?V?b():w():typeof V=="string"&&V==="true"&&b(),d){let j=(z=(U=v==null?void 0:v.params)==null?void 0:U[k])==null?void 0:z.id;j&&(q==null||q(j))}p(!0)}},[k,v,d,q,c]),Pa.default.useEffect(()=>{var R;c===!0&&(f&&k?s({query:{[k]:{...(R=v==null?void 0:v.params)==null?void 0:R[k],open:!0,...d&&S&&{id:S}}},options:{keepQuery:!0},type:"replace"}):k&&!f&&s({query:{[k]:void 0},options:{keepQuery:!0},type:"replace"}))},[S,f,b,w,k,d,c]);let T=(0,qr.useTranslate)(),{warnWhen:A,setWarnWhen:N}=(0,qr.useWarnAboutChange)(),M={disabled:$,onClick:()=>{u.submit()},loading:$},D={recordItemId:S,onSuccess:()=>{q==null||q(void 0),w()}},O=(0,Pa.useCallback)(()=>{if(I.status==="success"&&n!=null&&n.invalidateOnClose&&l({id:S,invalidates:o||["list","many","detail"],dataProviderName:i.dataProviderName,resource:x}),A)if(window.confirm(T("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))N(!1);else return;w(),q==null||q(void 0)},[A]),W=(0,Pa.useCallback)(R=>{typeof R<"u"&&(q==null||q(R)),(!(h==="edit"||h==="clone")||typeof R<"u"||typeof S<"u")&&b()},[S]);return{...L,show:W,close:O,formProps:{form:u,...L.formProps,onValuesChange:P==null?void 0:P.onValuesChange,onKeyUp:P==null?void 0:P.onKeyUp,onFinish:async R=>{await g(R),r&&w(),a&&u.resetFields()}},drawerProps:{width:"500px",onClose:O,open:f,forceRender:!0},saveButtonProps:M,deleteButtonProps:D,formLoading:$}},"useDrawerForm"),Af=y("sunflower-antd"),Df=B((e={})=>{let t=Aa({...e}),{form:r,formProps:a}=t,n=(0,Af.useStepsForm)({isBackValidate:!1,form:r,submit:o=>{var i;(i=a==null?void 0:a.onFinish)==null||i.call(a,o)},...e});return{...t,...n,formLoading:t.formLoading,formProps:{...n.formProps,...t.formProps,onValuesChange:a==null?void 0:a.onValuesChange,onKeyUp:a==null?void 0:a.onKeyUp},saveButtonProps:{...t.saveButtonProps,onClick:()=>n.submit()}}},"useStepsForm"),Xr=y("react"),Ys=y("antd"),Rf=y("sunflower-antd"),xa=te(),bu=te(),Mf=B((e,t)=>{let r=(0,bu.getDefaultSortOrder)(e,t);if(r)return`${r}end`},"getDefaultSortOrder"),Of=B((e,t,r="eq")=>(0,bu.getDefaultFilter)(e,t,r),"getDefaultFilter"),Cu=B(e=>{let t=[];if(Array.isArray(e))e.sort((r,a)=>{var n,o;return(((n=r.column)==null?void 0:n.sorter).multiple??0)<(((o=a.column)==null?void 0:o.sorter).multiple??0)?-1:0}).map(r=>{if(r.field&&r.order){let a=Array.isArray(r.field)?r.field.join("."):`${r.field}`;t.push({field:`${r.columnKey??a}`,order:r.order.replace("end","")})}});else if(e.field&&e.order){let r=Array.isArray(e.field)?e.field.join("."):`${e.field}`;t.push({field:`${e.columnKey??r}`,order:e.order.replace("end","")})}return t},"mapAntdSorterToCrudSorting"),Eu=B((e,t,r)=>{let a=[],n=(r??[]).reduce((o,i)=>{let l=i.key||i.field;return{...o,[l]:i}},{});return Object.keys(e).map(o=>{var i,l;let c=e[o],p=((i=t.filter(f=>f.operator!=="or").find(f=>f.field===o))==null?void 0:i.operator)||((l=n[o])==null?void 0:l.operator);p!=="or"&&p!=="and"&&a.push({field:o,operator:p??(Array.isArray(c)?"in":"eq"),value:c})}),a},"mapAntdFilterToCrudFilter"),Lo=te(),Bf=ee(y("react")),oa=B(({to:e,element:t})=>{let{Link:r}=(0,Lo.useRouterContext)(),a=(0,Lo.useRouterType)(),n=(0,Lo.useLink)();return Bf.default.createElement(a==="legacy"?r:n,{to:e,replace:!1,onClick:o=>{o.preventDefault()}},t)},"PaginationLink"),Pu=B(({onSearch:e,initialCurrent:t,initialPageSize:r,hasPagination:a=!0,pagination:n,initialSorter:o,permanentSorter:i,initialFilter:l,permanentFilter:c,defaultSetFilterBehavior:p,filters:f,sorters:b,syncWithLocation:w,resource:m,successNotification:E,errorNotification:x,queryOptions:v,liveMode:s,onLiveEvent:h,liveParams:d,meta:k,metaData:L,dataProviderName:u}={})=>{let{tableQueryResult:P,current:$,setCurrent:S,pageSize:q,setPageSize:g,filters:I,setFilters:T,sorters:A,setSorters:N,sorter:M,setSorter:D,createLinkForSyncWithLocation:O,pageCount:W,overtime:R}=(0,xa.useTable)({permanentSorter:i,permanentFilter:c,initialCurrent:t,initialPageSize:r,pagination:n,hasPagination:a,filters:f,sorters:b,initialSorter:o,initialFilter:l,syncWithLocation:w,resource:m,defaultSetFilterBehavior:p,successNotification:E,errorNotification:x,queryOptions:v,liveMode:s,onLiveEvent:h,liveParams:d,meta:(0,xa.pickNotDeprecated)(k,L),metaData:(0,xa.pickNotDeprecated)(k,L),dataProviderName:u}),Q=Ys.Grid.useBreakpoint(),[U]=Ys.Form.useForm(),z=(0,Rf.useForm)({form:U}),V=(0,xa.useLiveMode)(s),j=a===!1?"off":"server",K=((n==null?void 0:n.mode)??j)!=="off",G=(0,xa.pickNotDeprecated)(f==null?void 0:f.initial,l),{data:J,isFetched:re,isLoading:me}=P,de=B((fe,oe,Ce)=>{if(oe&&Object.keys(oe).length>0){let Fe=Eu(oe,I,G);T(Fe)}if(Ce&&Object.keys(Ce).length>0){let Fe=Cu(Ce);N(Fe)}K&&(S==null||S(fe.current||1),g==null||g(fe.pageSize||10))},"onChange"),ne=B(async fe=>{if(e){let oe=await e(fe);T(oe),K&&(S==null||S(1))}},"onFinish"),ie=B(()=>K?{itemRender:(fe,oe,Ce)=>{var Fe;let Ae=O({pagination:{pageSize:q,current:fe},sorters:A,filters:I});if(oe==="page")return(0,Xr.createElement)(oa,{to:Ae,element:`${fe}`});if(oe==="next"||oe==="prev")return(0,Xr.createElement)(oa,{to:Ae,element:Ce});if(oe==="jump-next"||oe==="jump-prev"){let Ie=(Fe=Ce==null?void 0:Ce.props)==null?void 0:Fe.children;return(0,Xr.createElement)(oa,{to:Ae,element:Xr.Children.count(Ie)>1?(0,Xr.createElement)(Xr.Fragment,{},Ie):Ie})}return Ce},pageSize:q,current:$,simple:!Q.sm,position:Q.sm?["bottomRight"]:["bottomCenter"],total:J==null?void 0:J.total}:!1,"antdPagination");return{searchFormProps:{...z.formProps,onFinish:ne},tableProps:{dataSource:J==null?void 0:J.data,loading:V==="auto"?me:!re,onChange:de,pagination:ie(),scroll:{x:!0}},tableQueryResult:P,sorters:A,sorter:M,filters:I,setSorters:N,setSorter:D,setFilters:T,current:$,setCurrent:S,pageSize:q,setPageSize:g,pageCount:W,createLinkForSyncWithLocation:O,overtime:R}},"useTable"),Uf=B(({autoSubmitClose:e=!0,...t}={})=>{let r=Pu({...t,successNotification:void 0,errorNotification:void 0}),a=Aa({...t,action:"edit",redirect:!1}),{id:n,setId:o,saveButtonProps:i}=a,l={onClick:()=>{o(void 0)}},c=B(f=>({onClick:()=>o(f)}),"editButtonProps"),p=B(f=>f===n,"isEditing");return{...r,...a,formProps:{...a.formProps,onFinish:async f=>{let b=await a.onFinish(f);return e&&o(void 0),b}},saveButtonProps:i,cancelButtonProps:l,editButtonProps:c,isEditing:p}},"useEditableTable"),zf=te(),Vf=B(e=>{let{queryResult:t,defaultValueQueryResult:r,onSearch:a,options:n}=(0,zf.useSelect)(e);return{selectProps:{options:n,onSearch:a,loading:r.isFetching,showSearch:!0,filterOption:!1},queryResult:t,defaultValueQueryResult:r}},"useSelect"),To=te(),jf=B(({resource:e,sort:t,sorters:r,filters:a,optionLabel:n,optionValue:o,queryOptions:i,fetchSize:l,pagination:c,liveMode:p,defaultValue:f,onLiveEvent:b,liveParams:w,meta:m,metaData:E,dataProviderName:x})=>{let{queryResult:v,options:s}=(0,To.useSelect)({resource:e,sort:t,sorters:r,filters:a,optionLabel:n,optionValue:o,queryOptions:i,fetchSize:l,pagination:c,liveMode:p,defaultValue:f,onLiveEvent:b,liveParams:w,meta:(0,To.pickNotDeprecated)(m,E),metaData:(0,To.pickNotDeprecated)(m,E),dataProviderName:x});return{checkboxGroupProps:{options:s,defaultValue:f},queryResult:v}},"useCheckboxGroup"),$o=te(),Wf=B(({resource:e,sort:t,sorters:r,filters:a,optionLabel:n,optionValue:o,queryOptions:i,fetchSize:l,pagination:c,liveMode:p,defaultValue:f,onLiveEvent:b,liveParams:w,meta:m,metaData:E,dataProviderName:x})=>{let{queryResult:v,options:s}=(0,$o.useSelect)({resource:e,sort:t,sorters:r,filters:a,optionLabel:n,optionValue:o,queryOptions:i,fetchSize:l,pagination:c,liveMode:p,defaultValue:f,onLiveEvent:b,liveParams:w,meta:(0,$o.pickNotDeprecated)(m,E),metaData:(0,$o.pickNotDeprecated)(m,E),dataProviderName:x});return{radioGroupProps:{options:s,defaultValue:f},queryResult:v}},"useRadioGroup"),qo=ee(y("react")),No=y("antd"),ka=te(),Kf=B(({resource:e,resourceName:t,mapData:r=B(f=>f,"mapData"),paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:i,metaData:l,dataProviderName:c,onProgress:p}={})=>{let f=(0,ka.useTranslate)(),{resource:b}=(0,ka.useResource)(e??t),{mutationResult:w,isLoading:m,handleChange:E}=(0,ka.useImport)({resource:(b==null?void 0:b.identifier)??(b==null?void 0:b.name),mapData:r,paparseOptions:a,batchSize:n,meta:(0,ka.pickNotDeprecated)(i,l),metaData:(0,ka.pickNotDeprecated)(i,l),dataProviderName:c,onFinish:o,onProgress:p??(({totalAmount:x,processedAmount:v})=>{if(x>0&&v>0){let s=qo.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},qo.default.createElement(No.Progress,{type:"circle",percent:Math.floor(v/x*100),width:50,strokeColor:"#1890ff",status:"normal"}),qo.default.createElement("span",{style:{marginLeft:8,width:"100%"}},f("notifications.importProgress",{processed:v,total:x},`Importing: ${v}/${x}`)));No.notification.open({description:s,message:null,key:`${b}-import`,duration:0}),v>=x,v===x&&setTimeout(()=>{No.notification.destroy(`${b}-import`)},4500)}})});return{uploadProps:{onChange:E,beforeUpload:()=>!1,showUploadList:!1,accept:".csv"},buttonProps:{type:"default",loading:m},mutationResult:w,isLoading:m}},"useImport"),Yr=y("react"),Zs=y("antd"),Ao=te(),Qf=te(),Hf=B(({resource:e,initialCurrent:t,initialPageSize:r,pagination:a,hasPagination:n=!0,initialSorter:o,permanentSorter:i,initialFilter:l,permanentFilter:c,defaultSetFilterBehavior:p,filters:f,sorters:b,onSearch:w,queryOptions:m,syncWithLocation:E,successNotification:x,errorNotification:v,liveMode:s,onLiveEvent:h,liveParams:d,meta:k,metaData:L,dataProviderName:u}={})=>{let{sorters:P,sorter:$,filters:S,current:q,pageSize:g,pageCount:I,setFilters:T,setCurrent:A,setPageSize:N,setSorter:M,setSorters:D,createLinkForSyncWithLocation:O,tableQueryResult:W,overtime:R}=(0,Ao.useTable)({resource:e,initialSorter:o,permanentSorter:i,initialFilter:l,permanentFilter:c,filters:f,sorters:b,defaultSetFilterBehavior:p,initialCurrent:t,initialPageSize:r,queryOptions:m,successNotification:x,errorNotification:v,liveMode:s,onLiveEvent:h,liveParams:d,meta:(0,Ao.pickNotDeprecated)(k,L),metaData:(0,Ao.pickNotDeprecated)(k,L),syncWithLocation:E,dataProviderName:u,pagination:a,hasPagination:n}),Q=n===!1?"off":"server",U=((a==null?void 0:a.mode)??Q)!=="off",z=Zs.Grid.useBreakpoint(),V=(0,Qf.useLiveMode)(s),[j]=Zs.Form.useForm(),{data:K,isFetched:G,isLoading:J}=W,re=B((ne,ie)=>{U&&(A(ne),N(ie||10))},"onChange"),me=B(async ne=>{if(w){let ie=await w(ne);return U&&(A==null||A(1)),T(ie)}},"onFinish"),de=B(()=>U?{itemRender:(ne,ie,fe)=>{var oe;let Ce=O({pagination:{pageSize:g,current:ne},sorters:P,filters:S});if(ie==="page")return(0,Yr.createElement)(oa,{to:Ce,element:`${ne}`});if(ie==="next"||ie==="prev")return(0,Yr.createElement)(oa,{to:Ce,element:fe});if(ie==="jump-next"||ie==="jump-prev"){let Fe=(oe=fe==null?void 0:fe.props)==null?void 0:oe.children;return(0,Yr.createElement)(oa,{to:Ce,element:Yr.Children.count(Fe)>1?(0,Yr.createElement)(Yr.Fragment,{},Fe):Fe})}return fe},pageSize:g,current:q,simple:!z.sm,total:K==null?void 0:K.total,onChange:re}:!1,"antdPagination");return{searchFormProps:{form:j,onFinish:me},listProps:{dataSource:K==null?void 0:K.data,loading:V==="auto"?J:!G,pagination:de()},queryResult:W,filters:S,setFilters:T,sorter:$,setSorter:M,sorters:P,setSorters:D,current:q,setCurrent:A,pageSize:g,setPageSize:N,pageCount:I,createLinkForSyncWithLocation:O,overtime:R}},"useSimpleList"),Do=y("react"),_f=B(()=>{let[e,t]=(0,Do.useState)(!1),r=(0,Do.useCallback)(a=>{Gf(a.fileList).includes(!0)?t(!0):t(!1)},[]);return(0,Do.useMemo)(()=>({isLoading:e,onChange:r}),[e])},"useFileUploadState"),Gf=B(e=>e.map(t=>{switch(t.status){case"uploading":return!0;default:return!1}}),"mapStatusToLoading"),Xf=y("react"),kn=ee(y("react")),Fn=kn.default.createContext({siderCollapsed:!1,mobileSiderOpen:!1,setSiderCollapsed:()=>{},setMobileSiderOpen:()=>{}}),xu=B(({children:e,initialSiderCollapsed:t})=>{let[r,a]=(0,kn.useState)(t??!1),[n,o]=(0,kn.useState)(!1);return kn.default.createElement(Fn.Provider,{value:{siderCollapsed:r,mobileSiderOpen:n,setSiderCollapsed:a,setMobileSiderOpen:o}},e)},"ThemedLayoutContextProvider"),Yf=B(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:a}=(0,Xf.useContext)(Fn);return{siderVisible:e,setSiderVisible:r,drawerSiderVisible:t,setDrawerSiderVisible:a}},"useSiderVisible"),Zf=y("react"),ku=B(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:a}=(0,Zf.useContext)(Fn);return{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:a}},"useThemedLayoutContext"),Ro=ee(y("react")),Mo=y("antd"),wa=ee(y("react")),Oo=y("antd"),Jf=y("@ant-design/icons"),ev=B(({notificationKey:e,message:t,cancelMutation:r,undoableTimeout:a})=>wa.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},wa.default.createElement(Oo.Progress,{type:"circle",percent:(a??0)*20,format:n=>n&&n/20,width:50,strokeColor:"#1890ff",status:"normal"}),wa.default.createElement("span",{style:{marginLeft:8,width:"100%"}},t),wa.default.createElement(Oo.Button,{style:{flexShrink:0},onClick:()=>{r==null||r(),Oo.notification.destroy(e??"")},disabled:a===0,icon:wa.default.createElement(Jf.UndoOutlined,null)})),"UndoableNotification"),tv={open:({key:e,message:t,description:r,type:a,cancelMutation:n,undoableTimeout:o})=>{a==="progress"?Mo.notification.open({key:e,description:Ro.default.createElement(ev,{notificationKey:e,message:t,cancelMutation:n,undoableTimeout:o}),message:null,duration:0,closeIcon:Ro.default.createElement(Ro.default.Fragment,null)}):Mo.notification.open({key:e,description:t,message:r??null,type:a})},close:e=>Mo.notification.destroy(e)},ur=ee(y("react")),un=y("antd"),ce=ee(y("react")),Ft=y("antd"),Fa=y("@ant-design/icons"),at=te(),rv={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999},{SubMenu:av}=Ft.Menu,wu=B(({Title:e,render:t,meta:r})=>{let[a,n]=(0,ce.useState)(!1),[o,i]=(0,ce.useState)(!1),l=(0,at.useIsExistAuthentication)(),c=(0,at.useRouterType)(),p=(0,at.useLink)(),{warnWhen:f,setWarnWhen:b}=(0,at.useWarnAboutChange)(),{Link:w}=(0,at.useRouterContext)(),m=c==="legacy"?w:p,E=(0,at.useTitle)(),x=(0,at.useTranslate)(),{menuItems:v,selectedKey:s,defaultOpenKeys:h}=(0,at.useMenu)({meta:r}),d=Ft.Grid.useBreakpoint(),{hasDashboard:k}=(0,at.useRefineContext)(),L=(0,at.useActiveAuthProvider)(),{mutate:u}=(0,at.useLogout)({v3LegacyAuthProviderCompatible:!!(L!=null&&L.isLegacy)}),P=typeof d.lg>"u"?!1:!d.lg,$=e??E??Iu,S=B((D,O)=>D.map(W=>{let{icon:R,label:Q,route:U,key:z,name:V,children:j,parentName:K,meta:G,options:J}=W;if(j.length>0)return ce.default.createElement(at.CanAccess,{key:W.key,resource:V.toLowerCase(),action:"list",params:{resource:W}},ce.default.createElement(av,{key:W.key,icon:R??ce.default.createElement(Fa.UnorderedListOutlined,null),title:Q},S(j,O)));let re=z===O,me=!((0,at.pickNotDeprecated)(G==null?void 0:G.parent,J==null?void 0:J.parent,K)!==void 0&&j.length===0);return ce.default.createElement(at.CanAccess,{key:W.key,resource:V.toLowerCase(),action:"list",params:{resource:W}},ce.default.createElement(Ft.Menu.Item,{key:W.key,style:{fontWeight:re?"bold":"normal"},icon:R??(me&&ce.default.createElement(Fa.UnorderedListOutlined,null))},ce.default.createElement(m,{to:U??""},Q),!a&&re&&ce.default.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),q=B(()=>{f?window.confirm(x("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(b(!1),u()):u()},"handleLogout"),g=l&&ce.default.createElement(Ft.Menu.Item,{key:"logout",onClick:q,icon:ce.default.createElement(Fa.LogoutOutlined,null)},x("buttons.logout","Logout")),I=k?ce.default.createElement(Ft.Menu.Item,{key:"dashboard",style:{fontWeight:s==="/"?"bold":"normal"},icon:ce.default.createElement(Fa.DashboardOutlined,null)},ce.default.createElement(m,{to:"/"},x("dashboard.title","Dashboard")),!a&&s==="/"&&ce.default.createElement("div",{className:"ant-menu-tree-arrow"})):null,T=S(v,s),A=B(()=>t?t({dashboard:I,items:T,logout:g,collapsed:a}):ce.default.createElement(ce.default.Fragment,null,I,T,g),"renderSider"),N=B(()=>ce.default.createElement(ce.default.Fragment,null,ce.default.createElement(Ft.Menu,{theme:"dark",selectedKeys:s?[s]:[],defaultOpenKeys:h,mode:"inline",onClick:()=>{i(!1),d.lg||n(!0)}},A())),"renderMenu"),M=B(()=>ce.default.createElement(ce.default.Fragment,null,ce.default.createElement(Ft.Drawer,{open:o,onClose:()=>i(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},ce.default.createElement(Ft.Layout,null,ce.default.createElement(Ft.Layout.Sider,{style:{height:"100vh",overflow:"hidden"}},ce.default.createElement($,{collapsed:!1}),N()))),ce.default.createElement(Ft.Button,{style:rv,size:"large",onClick:()=>i(!0),icon:ce.default.createElement(Fa.BarsOutlined,null)})),"renderDrawerSider");return ce.default.createElement(Ft.ConfigProvider,{theme:{components:{Menu:{colorItemBg:"transparent",colorItemText:"#fff",colorItemTextSelected:"#fff",colorItemBgSelected:"transparent",colorItemTextHover:"#fff"}}}},B(()=>P?M():ce.default.createElement(Ft.Layout.Sider,{collapsible:!0,collapsed:a,onCollapse:D=>n(D),collapsedWidth:80,breakpoint:"lg"},ce.default.createElement($,{collapsed:a}),N()),"renderContent")())},"Sider"),Js=te(),wn=y("antd"),dn=ee(y("react")),{Text:nv}=wn.Typography,Fu=B(()=>{let e=(0,Js.useActiveAuthProvider)(),{data:t}=(0,Js.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(e!=null&&e.isLegacy)});return t&&(t.name||t.avatar)?dn.default.createElement(wn.Layout.Header,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},dn.default.createElement(wn.Space,{style:{marginLeft:"8px"}},(t==null?void 0:t.name)&&dn.default.createElement(nv,{style:{color:"white"},strong:!0},t.name),(t==null?void 0:t.avatar)&&dn.default.createElement(wn.Avatar,{src:t==null?void 0:t.avatar,alt:t==null?void 0:t.name}))):null},"Header"),ov=B(({children:e,Header:t,Sider:r,Title:a,Footer:n,OffLayoutArea:o})=>{let i=un.Grid.useBreakpoint(),l=r??wu,c=t??Fu,p=typeof i.sm>"u"?!0:i.sm;return ur.default.createElement(un.Layout,{style:{minHeight:"100vh"}},ur.default.createElement(l,{Title:a}),ur.default.createElement(un.Layout,null,ur.default.createElement(c,null),ur.default.createElement(un.Layout.Content,null,ur.default.createElement("div",{style:{minHeight:360,padding:p?24:12}},e),o&&ur.default.createElement(o,null)),n&&ur.default.createElement(n,null)))},"Layout"),cn=ee(y("react")),Bo=te(),Iu=B(({collapsed:e})=>{let t=(0,Bo.useRouterType)(),r=(0,Bo.useLink)(),{Link:a}=(0,Bo.useRouterContext)();return cn.default.createElement(t==="legacy"?a:r,{to:"/"},e?cn.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},cn.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{margin:"0 auto",padding:"12px 0",maxHeight:"65.5px"}})):cn.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",style:{width:"200px",padding:"12px 24px"}}))},"Title"),dr=ee(y("react")),mn=y("antd"),se=ee(y("react")),gt=y("antd"),Nr=y("@ant-design/icons"),nt=te(),iv={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999},{SubMenu:lv}=gt.Menu,{useToken:sv}=gt.theme,Su=B(({Title:e,render:t,meta:r})=>{let{token:a}=sv(),[n,o]=(0,se.useState)(!1),[i,l]=(0,se.useState)(!1),c=(0,nt.useIsExistAuthentication)(),p=(0,nt.useRouterType)(),f=(0,nt.useLink)(),{warnWhen:b,setWarnWhen:w}=(0,nt.useWarnAboutChange)(),{Link:m}=(0,nt.useRouterContext)(),E=p==="legacy"?m:f,x=(0,nt.useTitle)(),v=(0,nt.useTranslate)(),{menuItems:s,selectedKey:h,defaultOpenKeys:d}=(0,nt.useMenu)({meta:r}),k=gt.Grid.useBreakpoint(),{hasDashboard:L}=(0,nt.useRefineContext)(),u=(0,nt.useActiveAuthProvider)(),{mutate:P}=(0,nt.useLogout)({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),$=typeof k.lg>"u"?!1:!k.lg,S=e??x??ia,q=B((O,W)=>O.map(R=>{let{icon:Q,label:U,route:z,key:V,name:j,children:K,parentName:G,meta:J,options:re}=R;if(K.length>0)return se.default.createElement(nt.CanAccess,{key:R.key,resource:j.toLowerCase(),action:"list",params:{resource:R}},se.default.createElement(lv,{key:R.key,icon:Q??se.default.createElement(Nr.UnorderedListOutlined,null),title:U},q(K,W)));let me=V===W,de=!((0,nt.pickNotDeprecated)(J==null?void 0:J.parent,re==null?void 0:re.parent,G)!==void 0&&K.length===0);return se.default.createElement(nt.CanAccess,{key:R.key,resource:j.toLowerCase(),action:"list",params:{resource:R}},se.default.createElement(gt.Menu.Item,{key:R.key,icon:Q??(de&&se.default.createElement(Nr.UnorderedListOutlined,null))},se.default.createElement(E,{to:z??""},U),!n&&me&&se.default.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),g=B(()=>{b?window.confirm(v("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(w(!1),P()):P()},"handleLogout"),I=c&&se.default.createElement(gt.Menu.Item,{key:"logout",onClick:()=>g(),icon:se.default.createElement(Nr.LogoutOutlined,null)},v("buttons.logout","Logout")),T=L?se.default.createElement(gt.Menu.Item,{key:"dashboard",icon:se.default.createElement(Nr.DashboardOutlined,null)},se.default.createElement(E,{to:"/"},v("dashboard.title","Dashboard")),!n&&h==="/"&&se.default.createElement("div",{className:"ant-menu-tree-arrow"})):null,A=q(s,h),N=B(()=>t?t({dashboard:T,items:A,logout:I,collapsed:n}):se.default.createElement(se.default.Fragment,null,T,A,I),"renderSider"),M=B(()=>se.default.createElement(se.default.Fragment,null,se.default.createElement(gt.Menu,{selectedKeys:h?[h]:[],defaultOpenKeys:d,mode:"inline",style:{marginTop:"8px",border:"none"},onClick:()=>{l(!1),k.lg||o(!0)}},N())),"renderMenu"),D=B(()=>se.default.createElement(se.default.Fragment,null,se.default.createElement(gt.Drawer,{open:i,onClose:()=>l(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},se.default.createElement(gt.Layout,null,se.default.createElement(gt.Layout.Sider,{style:{height:"100vh",overflow:"hidden",backgroundColor:a.colorBgContainer,borderRight:`1px solid ${a.colorBgElevated}`}},se.default.createElement("div",{style:{width:"200px",padding:"0 16px",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"64px",backgroundColor:a.colorBgElevated}},se.default.createElement(S,{collapsed:!1})),M()))),se.default.createElement(gt.Button,{style:iv,size:"large",onClick:()=>l(!0),icon:se.default.createElement(Nr.BarsOutlined,null)})),"renderDrawerSider");return $?D():se.default.createElement(gt.Layout.Sider,{style:{backgroundColor:a.colorBgContainer,borderRight:`1px solid ${a.colorBgElevated}`},collapsible:!0,collapsed:n,onCollapse:O=>o(O),collapsedWidth:80,breakpoint:"lg",trigger:se.default.createElement(gt.Button,{type:"text",style:{borderRadius:0,height:"100%",width:"100%",backgroundColor:a.colorBgElevated}},n?se.default.createElement(Nr.RightOutlined,{style:{color:a.colorPrimary}}):se.default.createElement(Nr.LeftOutlined,{style:{color:a.colorPrimary}}))},se.default.createElement("div",{style:{width:n?"80px":"200px",padding:n?"0":"0 16px",display:"flex",justifyContent:n?"center":"flex-start",alignItems:"center",height:"64px",backgroundColor:a.colorBgElevated,fontSize:"14px"}},se.default.createElement(S,{collapsed:n})),M())},"ThemedSider"),Ia=ee(y("react")),aa=y("antd"),eu=te(),{Text:uv}=aa.Typography,{useToken:dv}=aa.theme,Lu=B(()=>{let{token:e}=dv(),t=(0,eu.useActiveAuthProvider)(),{data:r}=(0,eu.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(t!=null&&t.isLegacy)});return r&&(r.name||r.avatar)?Ia.default.createElement(aa.Layout.Header,{style:{backgroundColor:e.colorBgElevated,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},Ia.default.createElement(aa.Space,null,Ia.default.createElement(aa.Space,{size:"middle"},(r==null?void 0:r.name)&&Ia.default.createElement(uv,{strong:!0},r.name),(r==null?void 0:r.avatar)&&Ia.default.createElement(aa.Avatar,{src:r==null?void 0:r.avatar,alt:r==null?void 0:r.name})))):null},"ThemedHeader"),cv=B(({children:e,Header:t,Sider:r,Title:a,Footer:n,OffLayoutArea:o})=>{let i=mn.Grid.useBreakpoint(),l=r??Su,c=t??Lu,p=typeof i.sm>"u"?!0:i.sm;return dr.default.createElement(mn.Layout,{style:{minHeight:"100vh"}},dr.default.createElement(l,{Title:a}),dr.default.createElement(mn.Layout,null,dr.default.createElement(c,null),dr.default.createElement(mn.Layout.Content,null,dr.default.createElement("div",{style:{minHeight:360,padding:p?24:12}},e),o&&dr.default.createElement(o,null)),n&&dr.default.createElement(n,null)))},"ThemedLayout"),Or=ee(y("react")),Uo=te(),ei=y("antd"),{useToken:mv}=ei.theme,pv="refine Project",fv=Or.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Or.default.createElement("path",{d:"M12 9C13.6569 9 15 7.65685 15 6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6C9 7.65685 10.3431 9 12 9Z",fill:"currentColor"}),Or.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6V18C16 20.2091 14.2091 22 12 22C9.79086 22 8 20.2091 8 18V6Z",fill:"currentColor"})),ia=B(({collapsed:e,icon:t=fv,text:r=pv,wrapperStyles:a})=>{let{token:n}=mv(),o=(0,Uo.useRouterType)(),i=(0,Uo.useLink)(),{Link:l}=(0,Uo.useRouterContext)();return Or.default.createElement(o==="legacy"?l:i,{to:"/",style:{display:"inline-block",textDecoration:"none"}},Or.default.createElement(ei.Space,{style:{display:"flex",alignItems:"center",fontSize:"inherit",...a}},Or.default.createElement("div",{style:{height:"24px",width:"24px",color:n.colorPrimary}},t),!e&&Or.default.createElement(ei.Typography.Title,{style:{fontSize:"inherit",marginBottom:0,fontWeight:700}},r)))},"ThemedTitle"),Yt=ee(y("react")),pn=y("antd"),ue=ee(y("react")),yt=y("antd"),Ar=y("@ant-design/icons"),ot=te(),vv={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999},{SubMenu:gv}=yt.Menu,{useToken:yv}=yt.theme,Tu=B(({Title:e,render:t,meta:r,fixed:a,activeItemDisabled:n=!1})=>{let{token:o}=yv(),{siderCollapsed:i,setSiderCollapsed:l,mobileSiderOpen:c,setMobileSiderOpen:p}=ku(),f=(0,ot.useIsExistAuthentication)(),b=(0,ot.useRouterType)(),w=(0,ot.useLink)(),{warnWhen:m,setWarnWhen:E}=(0,ot.useWarnAboutChange)(),{Link:x}=(0,ot.useRouterContext)(),v=b==="legacy"?x:w,s=(0,ot.useTitle)(),h=(0,ot.useTranslate)(),{menuItems:d,selectedKey:k,defaultOpenKeys:L}=(0,ot.useMenu)({meta:r}),u=yt.Grid.useBreakpoint(),{hasDashboard:P}=(0,ot.useRefineContext)(),$=(0,ot.useActiveAuthProvider)(),{mutate:S}=(0,ot.useLogout)({v3LegacyAuthProviderCompatible:!!($!=null&&$.isLegacy)}),q=typeof u.lg>"u"?!1:!u.lg,g=e??s??qu,I=B((Q,U)=>Q.map(z=>{let{icon:V,label:j,route:K,key:G,name:J,children:re,parentName:me,meta:de,options:ne}=z;if(re.length>0)return ue.default.createElement(ot.CanAccess,{key:z.key,resource:J.toLowerCase(),action:"list",params:{resource:z}},ue.default.createElement(gv,{key:z.key,icon:V??ue.default.createElement(Ar.UnorderedListOutlined,null),title:j},I(re,U)));let ie=G===U,fe=!((0,ot.pickNotDeprecated)(de==null?void 0:de.parent,ne==null?void 0:ne.parent,me)!==void 0&&re.length===0),oe=n&&ie?{pointerEvents:"none"}:{};return ue.default.createElement(ot.CanAccess,{key:z.key,resource:J.toLowerCase(),action:"list",params:{resource:z}},ue.default.createElement(yt.Menu.Item,{key:z.key,icon:V??(fe&&ue.default.createElement(Ar.UnorderedListOutlined,null)),style:oe},ue.default.createElement(v,{to:K??"",style:oe},j),!i&&ie&&ue.default.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),T=B(()=>{m?window.confirm(h("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(E(!1),S()):S()},"handleLogout"),A=f&&ue.default.createElement(yt.Menu.Item,{key:"logout",onClick:()=>T(),icon:ue.default.createElement(Ar.LogoutOutlined,null)},h("buttons.logout","Logout")),N=P?ue.default.createElement(yt.Menu.Item,{key:"dashboard",icon:ue.default.createElement(Ar.DashboardOutlined,null)},ue.default.createElement(v,{to:"/"},h("dashboard.title","Dashboard")),!i&&k==="/"&&ue.default.createElement("div",{className:"ant-menu-tree-arrow"})):null,M=I(d,k),D=B(()=>t?t({dashboard:N,items:M,logout:A,collapsed:i}):ue.default.createElement(ue.default.Fragment,null,N,M,A),"renderSider"),O=B(()=>ue.default.createElement(yt.Menu,{selectedKeys:k?[k]:[],defaultOpenKeys:L,mode:"inline",style:{paddingTop:"8px",border:"none",overflow:"auto",height:"calc(100% - 72px)"},onClick:()=>{p(!1)}},D()),"renderMenu"),W=B(()=>ue.default.createElement(ue.default.Fragment,null,ue.default.createElement(yt.Drawer,{open:c,onClose:()=>p(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},ue.default.createElement(yt.Layout,null,ue.default.createElement(yt.Layout.Sider,{style:{height:"100vh",backgroundColor:o.colorBgContainer,borderRight:`1px solid ${o.colorBgElevated}`}},ue.default.createElement("div",{style:{width:"200px",padding:"0 16px",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"64px",backgroundColor:o.colorBgElevated,borderBottom:`1px solid ${o.colorBorder}`}},ue.default.createElement(g,{collapsed:!1})),O()))),ue.default.createElement(yt.Button,{style:vv,size:"large",onClick:()=>p(!0),icon:ue.default.createElement(Ar.BarsOutlined,null)})),"renderDrawerSider");if(q)return W();let R={backgroundColor:o.colorBgContainer,borderRight:`1px solid ${o.colorBgElevated}`};return a&&(R.position="fixed",R.top=0,R.height="100vh",R.zIndex=999),ue.default.createElement(ue.default.Fragment,null,a&&ue.default.createElement("div",{style:{width:i?"80px":"200px",transition:"all 0.2s"}}),ue.default.createElement(yt.Layout.Sider,{style:R,collapsible:!0,collapsed:i,onCollapse:(Q,U)=>{U==="clickTrigger"&&l(Q)},collapsedWidth:80,breakpoint:"lg",trigger:ue.default.createElement(yt.Button,{type:"text",style:{borderRadius:0,height:"100%",width:"100%",backgroundColor:o.colorBgElevated}},i?ue.default.createElement(Ar.RightOutlined,{style:{color:o.colorPrimary}}):ue.default.createElement(Ar.LeftOutlined,{style:{color:o.colorPrimary}}))},ue.default.createElement("div",{style:{width:i?"80px":"200px",padding:i?"0":"0 16px",display:"flex",justifyContent:i?"center":"flex-start",alignItems:"center",height:"64px",backgroundColor:o.colorBgElevated,fontSize:"14px",borderBottom:`1px solid ${o.colorBorder}`}},ue.default.createElement(g,{collapsed:i})),O()))},"ThemedSiderV2"),Sa=ee(y("react")),na=y("antd"),zo=te(),{Text:hv}=na.Typography,{useToken:bv}=na.theme,$u=B(({isSticky:e,sticky:t})=>{let{token:r}=bv(),a=(0,zo.useActiveAuthProvider)(),{data:n}=(0,zo.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)});if(!(n&&(n.name||n.avatar)))return null;let o={backgroundColor:r.colorBgElevated,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"};return(0,zo.pickNotDeprecated)(t,e)&&(o.position="sticky",o.top=0,o.zIndex=1),Sa.default.createElement(na.Layout.Header,{style:o},Sa.default.createElement(na.Space,null,Sa.default.createElement(na.Space,{size:"middle"},(n==null?void 0:n.name)&&Sa.default.createElement(hv,{strong:!0},n.name),(n==null?void 0:n.avatar)&&Sa.default.createElement(na.Avatar,{src:n==null?void 0:n.avatar,alt:n==null?void 0:n.name}))))},"ThemedHeaderV2"),Cv=B(({children:e,Header:t,Sider:r,Title:a,Footer:n,OffLayoutArea:o,initialSiderCollapsed:i})=>{let l=pn.Grid.useBreakpoint(),c=r??Tu,p=t??$u,f=typeof l.sm>"u"?!0:l.sm;return Yt.default.createElement(xu,{initialSiderCollapsed:i},Yt.default.createElement(pn.Layout,{style:{minHeight:"100vh"}},Yt.default.createElement(c,{Title:a}),Yt.default.createElement(pn.Layout,null,Yt.default.createElement(p,null),Yt.default.createElement(pn.Layout.Content,null,Yt.default.createElement("div",{style:{minHeight:360,padding:f?24:12}},e),o&&Yt.default.createElement(o,null)),n&&Yt.default.createElement(n,null))))},"ThemedLayoutV2"),Br=ee(y("react")),Vo=te(),ti=y("antd"),{useToken:Ev}=ti.theme,Pv="refine Project",xv=Br.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Br.default.createElement("path",{d:"M12 9C13.6569 9 15 7.65685 15 6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6C9 7.65685 10.3431 9 12 9Z",fill:"currentColor"}),Br.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6V18C16 20.2091 14.2091 22 12 22C9.79086 22 8 20.2091 8 18V6Z",fill:"currentColor"})),qu=B(({collapsed:e,icon:t=xv,text:r=Pv,wrapperStyles:a})=>{let{token:n}=Ev(),o=(0,Vo.useRouterType)(),i=(0,Vo.useLink)(),{Link:l}=(0,Vo.useRouterContext)();return Br.default.createElement(o==="legacy"?l:i,{to:"/",style:{display:"inline-block",textDecoration:"none"}},Br.default.createElement(ti.Space,{style:{display:"flex",alignItems:"center",fontSize:"inherit",...a}},Br.default.createElement("div",{style:{height:"24px",width:"24px",color:n.colorPrimary}},t),!e&&Br.default.createElement(ti.Typography.Title,{style:{fontSize:"inherit",marginBottom:0,fontWeight:700}},r)))},"ThemedTitleV2"),fn=ee(y("react")),kv=y("antd"),wv=y("@ant-design/icons"),cr=te(),Fv=kt(),Nu=B(({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,meta:n,children:o,onClick:i,...l})=>{let c=(0,fn.useContext)(cr.AccessControlContext),p=(a==null?void 0:a.enabled)??c.options.buttons.enableAccessControl,f=(a==null?void 0:a.hideIfUnauthorized)??c.options.buttons.hideIfUnauthorized,b=(0,cr.useTranslate)(),w=(0,cr.useRouterType)(),m=(0,cr.useLink)(),{Link:E}=(0,cr.useRouterContext)(),x=w==="legacy"?E:m,{createUrl:v}=(0,cr.useNavigation)(),{resource:s}=(0,cr.useResource)(e??t),{data:h}=(0,cr.useCan)({resource:s==null?void 0:s.name,action:"create",queryOptions:{enabled:p},params:{resource:s}}),d=B(()=>h!=null&&h.can?"":h!=null&&h.reason?h.reason:b("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),k=s?v(s,n):"";return p&&f&&!(h!=null&&h.can)?null:fn.default.createElement(x,{to:k,replace:!1,onClick:L=>{if((h==null?void 0:h.can)===!1){L.preventDefault();return}i&&(L.preventDefault(),i(L))}},fn.default.createElement(kv.Button,{icon:fn.default.createElement(wv.PlusSquareOutlined,null),disabled:(h==null?void 0:h.can)===!1,title:d(),className:Fv.RefineButtonClassNames.CreateButton,type:"primary",...l},!r&&(o??b("buttons.create","Create"))))},"CreateButton"),vn=ee(y("react")),Iv=y("antd"),Sv=y("@ant-design/icons"),mr=te(),Lv=kt(),Au=B(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,meta:o,children:i,onClick:l,...c})=>{let p=(0,vn.useContext)(mr.AccessControlContext),f=(n==null?void 0:n.enabled)??p.options.buttons.enableAccessControl,b=(n==null?void 0:n.hideIfUnauthorized)??p.options.buttons.hideIfUnauthorized,w=(0,mr.useTranslate)(),m=(0,mr.useRouterType)(),E=(0,mr.useLink)(),{Link:x}=(0,mr.useRouterContext)(),v=m==="legacy"?x:E,{editUrl:s}=(0,mr.useNavigation)(),{id:h,resource:d}=(0,mr.useResource)(e??t),{data:k}=(0,mr.useCan)({resource:d==null?void 0:d.name,action:"edit",params:{id:r??h,resource:d},queryOptions:{enabled:f}}),L=B(()=>k!=null&&k.can?"":k!=null&&k.reason?k.reason:w("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),u=d&&(r??h)?s(d,r??h,o):"";return f&&b&&!(k!=null&&k.can)?null:vn.default.createElement(v,{to:u,replace:!1,onClick:P=>{if((k==null?void 0:k.can)===!1){P.preventDefault();return}l&&(P.preventDefault(),l(P))}},vn.default.createElement(Iv.Button,{icon:vn.default.createElement(Sv.EditOutlined,null),disabled:(k==null?void 0:k.can)===!1,title:L(),className:Lv.RefineButtonClassNames.EditButton,...c},!a&&(i??w("buttons.edit","Edit"))))},"EditButton"),gn=ee(y("react")),tu=y("antd"),Tv=y("@ant-design/icons"),Zt=te(),$v=kt(),ri=B(({resource:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:a,mutationMode:n,children:o,successNotification:i,errorNotification:l,hideText:c=!1,accessControl:p,metaData:f,meta:b,dataProviderName:w,confirmTitle:m,confirmOkText:E,confirmCancelText:x,invalidates:v,...s})=>{let h=(0,gn.useContext)(Zt.AccessControlContext),d=(p==null?void 0:p.enabled)??h.options.buttons.enableAccessControl,k=(p==null?void 0:p.hideIfUnauthorized)??h.options.buttons.hideIfUnauthorized,L=(0,Zt.useTranslate)(),{id:u,resource:P,identifier:$}=(0,Zt.useResource)(e??t),{mutationMode:S}=(0,Zt.useMutationMode)(),q=n??S,{mutate:g,isLoading:I,variables:T}=(0,Zt.useDelete)(),{data:A}=(0,Zt.useCan)({resource:P==null?void 0:P.name,action:"delete",params:{id:r??u,resource:P},queryOptions:{enabled:d}}),N=B(()=>A!=null&&A.can?"":A!=null&&A.reason?A.reason:L("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),{setWarnWhen:M}=(0,Zt.useWarnAboutChange)();return d&&k&&!(A!=null&&A.can)?null:gn.default.createElement(tu.Popconfirm,{key:"delete",okText:E??L("buttons.delete","Delete"),cancelText:x??L("buttons.cancel","Cancel"),okType:"danger",title:m??L("buttons.confirm","Are you sure?"),okButtonProps:{disabled:I},onConfirm:()=>{(r??u)&&$&&(M(!1),g({id:r??u??"",resource:$,mutationMode:q,successNotification:i,errorNotification:l,meta:(0,Zt.pickNotDeprecated)(b,f),metaData:(0,Zt.pickNotDeprecated)(b,f),dataProviderName:w,invalidates:v},{onSuccess:D=>{a&&a(D)}}))},disabled:typeof(s==null?void 0:s.disabled)<"u"?s.disabled:(A==null?void 0:A.can)===!1},gn.default.createElement(tu.Button,{danger:!0,loading:(r??u)===(T==null?void 0:T.id)&&I,icon:gn.default.createElement(Tv.DeleteOutlined,null),title:N(),disabled:(A==null?void 0:A.can)===!1,className:$v.RefineButtonClassNames.DeleteButton,...s},!c&&(o??L("buttons.delete","Delete"))))},"DeleteButton"),ru=ee(y("react")),qv=y("antd"),Nv=y("@ant-design/icons"),La=te(),Av=kt(),Dv=y("@tanstack/react-query"),ai=B(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,dataProviderName:n,children:o,onClick:i,meta:l,metaData:c,...p})=>{let f=(0,La.useTranslate)(),b=(0,Dv.useQueryClient)(),w=(0,La.useInvalidate)(),{resources:m,identifier:E,id:x}=(0,La.useResource)(e??t),v=!!b.isFetching({queryKey:(0,La.queryKeys)(E,(0,La.pickDataProvider)(E,n,m)).detail(r??x)}),s=B(()=>{w({id:r??x,invalidates:["detail"],dataProviderName:n,resource:E})},"handleInvalidate");return ru.default.createElement(qv.Button,{onClick:h=>{i?i(h):s()},icon:ru.default.createElement(Nv.RedoOutlined,{spin:v}),className:Av.RefineButtonClassNames.RefreshButton,...p},!a&&(o??f("buttons.refresh","Refresh")))},"RefreshButton"),yn=ee(y("react")),Rv=y("antd"),Mv=y("@ant-design/icons"),pr=te(),Ov=kt(),Bv=B(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,meta:o,children:i,onClick:l,...c})=>{let p=(0,yn.useContext)(pr.AccessControlContext),f=(n==null?void 0:n.enabled)??p.options.buttons.enableAccessControl,b=(n==null?void 0:n.hideIfUnauthorized)??p.options.buttons.hideIfUnauthorized,{showUrl:w}=(0,pr.useNavigation)(),m=(0,pr.useRouterType)(),E=(0,pr.useLink)(),{Link:x}=(0,pr.useRouterContext)(),v=m==="legacy"?x:E,s=(0,pr.useTranslate)(),{id:h,resource:d}=(0,pr.useResource)(e??t),{data:k}=(0,pr.useCan)({resource:d==null?void 0:d.name,action:"show",params:{id:r??h,resource:d},queryOptions:{enabled:f}}),L=B(()=>k!=null&&k.can?"":k!=null&&k.reason?k.reason:s("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),u=d&&(r||h)?w(d,r??h,o):"";return f&&b&&!(k!=null&&k.can)?null:yn.default.createElement(v,{to:u,replace:!1,onClick:P=>{if((k==null?void 0:k.can)===!1){P.preventDefault();return}l&&(P.preventDefault(),l(P))}},yn.default.createElement(Rv.Button,{icon:yn.default.createElement(Mv.EyeOutlined,null),disabled:(k==null?void 0:k.can)===!1,title:L(),className:Ov.RefineButtonClassNames.ShowButton,...c},!a&&(i??s("buttons.show","Show"))))},"ShowButton"),hn=ee(y("react")),Uv=y("antd"),zv=y("@ant-design/icons"),Ut=te(),Vv=kt(),ni=B(({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,meta:n,children:o,onClick:i,...l})=>{var c;let p=(0,hn.useContext)(Ut.AccessControlContext),f=(a==null?void 0:a.enabled)??p.options.buttons.enableAccessControl,b=(a==null?void 0:a.hideIfUnauthorized)??p.options.buttons.hideIfUnauthorized,{listUrl:w}=(0,Ut.useNavigation)(),m=(0,Ut.useRouterType)(),E=(0,Ut.useLink)(),{Link:x}=(0,Ut.useRouterContext)(),v=(0,Ut.useUserFriendlyName)(),s=m==="legacy"?x:E,h=(0,Ut.useTranslate)(),{resource:d,identifier:k}=(0,Ut.useResource)(e??t),{data:L}=(0,Ut.useCan)({resource:d==null?void 0:d.name,action:"list",queryOptions:{enabled:f},params:{resource:d}}),u=B(()=>L!=null&&L.can?"":L!=null&&L.reason?L.reason:h("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),P=d?w(d,n):"";return f&&b&&!(L!=null&&L.can)?null:hn.default.createElement(s,{to:P,replace:!1,onClick:$=>{if((L==null?void 0:L.can)===!1){$.preventDefault();return}i&&($.preventDefault(),i($))}},hn.default.createElement(Uv.Button,{icon:hn.default.createElement(zv.BarsOutlined,null),disabled:(L==null?void 0:L.can)===!1,title:u(),className:Vv.RefineButtonClassNames.ListButton,...l},!r&&(o??h(`${k??e??t}.titles.list`,v(((c=d==null?void 0:d.meta)==null?void 0:c.label)??(d==null?void 0:d.label)??k??(0,Ut.pickNotDeprecated)(e,t),"plural")))))},"ListButton"),au=ee(y("react")),jv=y("antd"),Wv=y("@ant-design/icons"),Kv=te(),Qv=kt(),Hv=B(({hideText:e=!1,children:t,...r})=>{let a=(0,Kv.useTranslate)();return au.default.createElement(jv.Button,{type:"default",icon:au.default.createElement(Wv.ExportOutlined,null),className:Qv.RefineButtonClassNames.ExportButton,...r},!e&&(t??a("buttons.export","Export")))},"ExportButton"),nu=ee(y("react")),_v=y("antd"),Gv=y("@ant-design/icons"),Xv=te(),Yv=kt(),oi=B(({hideText:e=!1,children:t,...r})=>{let a=(0,Xv.useTranslate)();return nu.default.createElement(_v.Button,{type:"primary",icon:nu.default.createElement(Gv.SaveOutlined,null),className:Yv.RefineButtonClassNames.SaveButton,...r},!e&&(t??a("buttons.save","Save")))},"SaveButton"),bn=ee(y("react")),Zv=y("antd"),Jv=y("@ant-design/icons"),fr=te(),eg=kt(),tg=B(({resourceNameOrRouteName:e,resource:t,recordItemId:r,hideText:a=!1,accessControl:n,meta:o,children:i,onClick:l,...c})=>{let p=(0,bn.useContext)(fr.AccessControlContext),f=(n==null?void 0:n.enabled)??p.options.buttons.enableAccessControl,b=(n==null?void 0:n.hideIfUnauthorized)??p.options.buttons.hideIfUnauthorized,{cloneUrl:w}=(0,fr.useNavigation)(),m=(0,fr.useRouterType)(),E=(0,fr.useLink)(),{Link:x}=(0,fr.useRouterContext)(),v=m==="legacy"?x:E,s=(0,fr.useTranslate)(),{id:h,resource:d}=(0,fr.useResource)(t??e),{data:k}=(0,fr.useCan)({resource:d==null?void 0:d.name,action:"create",params:{id:r??h,resource:d},queryOptions:{enabled:f}}),L=B(()=>k!=null&&k.can?"":k!=null&&k.reason?k.reason:s("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),u=d&&(r||h)?w(d,r??h,o):"";return f&&b&&!(k!=null&&k.can)?null:bn.default.createElement(v,{to:u,replace:!1,onClick:P=>{if((k==null?void 0:k.can)===!1){P.preventDefault();return}l&&(P.preventDefault(),l(P))}},bn.default.createElement(Zv.Button,{icon:bn.default.createElement(Jv.PlusSquareOutlined,null),disabled:(k==null?void 0:k.can)===!1,title:L(),className:eg.RefineButtonClassNames.CloneButton,...c},!a&&(i??s("buttons.clone","Clone"))))},"CloneButton"),jo=ee(y("react")),ou=y("antd"),rg=y("@ant-design/icons"),ag=te(),ng=kt(),og=B(({uploadProps:e,buttonProps:t,hideText:r=!1,children:a})=>{let n=(0,ag.useTranslate)();return jo.default.createElement(ou.Upload,{...e},jo.default.createElement(ou.Button,{icon:jo.default.createElement(rg.ImportOutlined,null),className:ng.RefineButtonClassNames.ImportButton,...t},!r&&(a??n("buttons.import","Import"))))},"ImportButton"),vr=ee(y("react")),ig=y("antd"),Ta=te(),lg=B(({canCreate:e,title:t,children:r,createButtonProps:a,resource:n,wrapperProps:o,contentProps:i,headerProps:l,breadcrumb:c,headerButtonProps:p,headerButtons:f})=>{var b,w;let m=(0,Ta.useTranslate)(),{options:{breadcrumb:E}={}}=(0,Ta.useRefineContext)(),x=(0,Ta.useRouterType)(),v=(0,Ta.useUserFriendlyName)(),{resource:s,identifier:h}=(0,Ta.useResource)(n),d=e??(((s==null?void 0:s.canCreate)??!!(s!=null&&s.create))||a),k=typeof c>"u"?E:c,L=d?{size:"middle",resource:x==="legacy"?s==null?void 0:s.route:h,...a}:void 0,u=d?vr.default.createElement(Nu,{...L}):null;return vr.default.createElement("div",{...o??{}},vr.default.createElement(Ra,{ghost:!1,title:t??m(`${h}.titles.list`,v(((b=s==null?void 0:s.meta)==null?void 0:b.label)??((w=s==null?void 0:s.options)==null?void 0:w.label)??(s==null?void 0:s.label)??h,"plural")),extra:f?vr.default.createElement(ig.Space,{wrap:!0,...p},typeof f=="function"?f({defaultButtons:u,createButtonProps:L}):f):u,breadcrumb:typeof k<"u"?vr.default.createElement(vr.default.Fragment,null,k)??void 0:vr.default.createElement(Da,null),...l??{}},vr.default.createElement("div",{...i??{}},r)))},"List"),wt=ee(y("react")),Cn=y("antd"),Dr=te(),sg=B(({title:e,saveButtonProps:t,children:r,resource:a,isLoading:n=!1,breadcrumb:o,wrapperProps:i,headerProps:l,contentProps:c,headerButtonProps:p,headerButtons:f,footerButtonProps:b,footerButtons:w,goBack:m})=>{var E,x;let v=(0,Dr.useTranslate)(),{options:{breadcrumb:s}={}}=(0,Dr.useRefineContext)(),h=(0,Dr.useRouterType)(),d=(0,Dr.useBack)(),{goBack:k}=(0,Dr.useNavigation)(),L=(0,Dr.useUserFriendlyName)(),{resource:u,action:P,identifier:$}=(0,Dr.useResource)(a),S=typeof o>"u"?s:o,q={...n?{disabled:!0}:{},...t,htmlType:"submit"},g=wt.default.createElement(wt.default.Fragment,null,wt.default.createElement(oi,{...q}));return wt.default.createElement("div",{...i??{}},wt.default.createElement(Ra,{ghost:!1,backIcon:m,onBack:P!=="list"||typeof P<"u"?h==="legacy"?k:d:void 0,title:e??v(`${$}.titles.create`,`Create ${L(((E=u==null?void 0:u.meta)==null?void 0:E.label)??((x=u==null?void 0:u.options)==null?void 0:x.label)??(u==null?void 0:u.label)??$,"singular")}`),breadcrumb:typeof S<"u"?wt.default.createElement(wt.default.Fragment,null,S)??void 0:wt.default.createElement(Da,null),extra:wt.default.createElement(Cn.Space,{wrap:!0,...p??{}},f?typeof f=="function"?f({defaultButtons:null}):f:null),...l??{}},wt.default.createElement(Cn.Spin,{spinning:n},wt.default.createElement(Cn.Card,{bordered:!1,actions:[wt.default.createElement(Cn.Space,{key:"action-buttons",style:{float:"right",marginRight:24},...b??{}},w?typeof w=="function"?w({defaultButtons:g,saveButtonProps:q}):w:g)],...c??{}},r))))},"Create"),je=ee(y("react")),En=y("antd"),zt=te(),ug=B(({title:e,saveButtonProps:t,mutationMode:r,recordItemId:a,children:n,deleteButtonProps:o,canDelete:i,resource:l,isLoading:c=!1,dataProviderName:p,breadcrumb:f,wrapperProps:b,headerProps:w,contentProps:m,headerButtonProps:E,headerButtons:x,footerButtonProps:v,footerButtons:s,goBack:h,autoSaveProps:d})=>{var k,L,u;let P=(0,zt.useTranslate)(),{options:{breadcrumb:$}={}}=(0,zt.useRefineContext)(),{mutationMode:S}=(0,zt.useMutationMode)(),q=r??S,g=(0,zt.useRouterType)(),I=(0,zt.useBack)(),T=(0,zt.useGo)(),{goBack:A,list:N}=(0,zt.useNavigation)(),M=(0,zt.useUserFriendlyName)(),{resource:D,action:O,id:W,identifier:R}=(0,zt.useResource)(l),Q=(0,zt.useToPath)({resource:D,action:"list"}),U=a??W,z=typeof f>"u"?$:f,V=(D==null?void 0:D.list)&&!a,j=i??((((k=D==null?void 0:D.meta)==null?void 0:k.canDelete)??(D==null?void 0:D.canDelete))||o),K=V?{...c?{disabled:!0}:{},resource:g==="legacy"?D==null?void 0:D.route:R}:void 0,G={...c?{disabled:!0}:{},resource:g==="legacy"?D==null?void 0:D.route:R,recordItemId:U,dataProviderName:p},J=j?{...c?{disabled:!0}:{},resource:g==="legacy"?D==null?void 0:D.route:R,mutationMode:q,onSuccess:()=>{g==="legacy"?N((D==null?void 0:D.route)??(D==null?void 0:D.name)??""):T({to:Q})},recordItemId:U,dataProviderName:p,...o}:void 0,re={...c?{disabled:!0}:{},...t},me=je.default.createElement(je.default.Fragment,null,d&&je.default.createElement(Mu,{...d}),V&&je.default.createElement(ni,{...K}),je.default.createElement(ai,{...G})),de=je.default.createElement(je.default.Fragment,null,j&&je.default.createElement(ri,{...J}),je.default.createElement(oi,{...re}));return je.default.createElement("div",{...b??{}},je.default.createElement(Ra,{ghost:!1,backIcon:h,onBack:O!=="list"&&typeof O<"u"?g==="legacy"?A:I:void 0,title:e??P(`${R}.titles.edit`,`Edit ${M(((L=D==null?void 0:D.meta)==null?void 0:L.label)??((u=D==null?void 0:D.options)==null?void 0:u.label)??(D==null?void 0:D.label)??R,"singular")}`),extra:je.default.createElement(En.Space,{wrap:!0,...E??{}},x?typeof x=="function"?x({defaultButtons:me,listButtonProps:K,refreshButtonProps:G}):x:me),breadcrumb:typeof z<"u"?je.default.createElement(je.default.Fragment,null,z)??void 0:je.default.createElement(Da,null),...w??{}},je.default.createElement(En.Spin,{spinning:c},je.default.createElement(En.Card,{bordered:!1,actions:[je.default.createElement(En.Space,{key:"footer-buttons",wrap:!0,style:{float:"right",marginRight:24},...v??{}},s?typeof s=="function"?s({defaultButtons:de,deleteButtonProps:J,saveButtonProps:re}):s:de)],...m??{}},n))))},"Edit"),Ze=ee(y("react")),Pn=y("antd"),Jt=te(),dg=B(({title:e,canEdit:t,canDelete:r,isLoading:a=!1,children:n,resource:o,recordItemId:i,dataProviderName:l,breadcrumb:c,contentProps:p,headerProps:f,wrapperProps:b,headerButtons:w,footerButtons:m,footerButtonProps:E,headerButtonProps:x,goBack:v})=>{var s,h,d;let k=(0,Jt.useTranslate)(),{options:{breadcrumb:L}={}}=(0,Jt.useRefineContext)(),u=(0,Jt.useRouterType)(),P=(0,Jt.useBack)(),$=(0,Jt.useGo)(),{goBack:S,list:q}=(0,Jt.useNavigation)(),g=(0,Jt.useUserFriendlyName)(),{resource:I,action:T,id:A,identifier:N}=(0,Jt.useResource)(o),M=(0,Jt.useToPath)({resource:I,action:"list"}),D=i??A,O=typeof c>"u"?L:c,W=(I==null?void 0:I.list)&&!i,R=r??((s=I==null?void 0:I.meta)==null?void 0:s.canDelete)??(I==null?void 0:I.canDelete),Q=t??(I==null?void 0:I.canEdit)??!!(I!=null&&I.edit),U=W?{resource:u==="legacy"?I==null?void 0:I.route:N}:void 0,z=Q?{...a?{disabled:!0}:{},type:"primary",resource:u==="legacy"?I==null?void 0:I.route:N,recordItemId:D}:void 0,V=R?{...a?{disabled:!0}:{},resource:u==="legacy"?I==null?void 0:I.route:N,recordItemId:D,onSuccess:()=>{u==="legacy"?q((I==null?void 0:I.route)??(I==null?void 0:I.name)??""):$({to:M})},dataProviderName:l}:void 0,j={...a?{disabled:!0}:{},resource:u==="legacy"?I==null?void 0:I.route:N,recordItemId:D,dataProviderName:l},K=Ze.default.createElement(Ze.default.Fragment,null,W&&Ze.default.createElement(ni,{...U}),Q&&Ze.default.createElement(Au,{...z}),R&&Ze.default.createElement(ri,{...V}),Ze.default.createElement(ai,{...j}));return Ze.default.createElement("div",{...b??{}},Ze.default.createElement(Ra,{ghost:!1,backIcon:v,onBack:T!=="list"&&typeof T<"u"?u==="legacy"?S:P:void 0,title:e??k(`${N}.titles.show`,`Show ${g(((h=I==null?void 0:I.meta)==null?void 0:h.label)??((d=I==null?void 0:I.options)==null?void 0:d.label)??(I==null?void 0:I.label)??N,"singular")}`),extra:Ze.default.createElement(Pn.Space,{key:"extra-buttons",wrap:!0,...x??{}},w?typeof w=="function"?w({defaultButtons:K,deleteButtonProps:V,editButtonProps:z,listButtonProps:U,refreshButtonProps:j}):w:K),breadcrumb:typeof O<"u"?Ze.default.createElement(Ze.default.Fragment,null,O)??void 0:Ze.default.createElement(Da,null),...f??{}},Ze.default.createElement(Pn.Spin,{spinning:a},Ze.default.createElement(Pn.Card,{bordered:!1,actions:m?[Ze.default.createElement(Pn.Space,{key:"footer-buttons",wrap:!0,...E},typeof m=="function"?m({defaultButtons:null}):m)]:void 0,...p??{}},n))))},"Show"),cg=ee(y("react")),mg=y("antd"),{Text:pg}=mg.Typography,fg=B(({value:e,...t})=>cg.default.createElement(pg,{...t},e),"TextField"),vg=ee(y("react")),gg=y("antd"),yg=B(({value:e,...t})=>vg.default.createElement(gg.Tag,{...t},e==null?void 0:e.toString()),"TagField"),hg=ee(y("react")),bg=y("antd"),{Link:Cg}=bg.Typography,Eg=B(({value:e,...t})=>hg.default.createElement(Cg,{href:`mailto:${e}`,...t},e),"EmailField"),Pg=ee(y("react")),xg=y("antd"),kg=B(({value:e,imageTitle:t,...r})=>Pg.default.createElement(xg.Image,{...r,src:e,title:t}),"ImageField"),$a=ee(y("react")),wg=y("antd"),iu=y("@ant-design/icons"),Fg=B(({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:a=$a.default.createElement(iu.CheckOutlined,null),falseIcon:n=$a.default.createElement(iu.CloseOutlined,null),...o})=>$a.default.createElement(wg.Tooltip,{title:e?t:r,...o},e?$a.default.createElement("span",null,a):$a.default.createElement("span",null,n)),"BooleanField"),Ig=ee(y("react")),Wo=ee(y("dayjs")),Sg=y("antd"),Lg=ee(y("dayjs/plugin/localizedFormat")),Tg=B(({value:e,locales:t,format:r="L",...a})=>{Wo.default.extend(Lg.default);let n=Wo.default.locale(),{Text:o}=Sg.Typography;return Ig.default.createElement(o,{...a},(0,Wo.default)(e).locale(t||n).format(r))},"DateField"),$g=ee(y("react")),qg=B(({title:e,src:t,...r})=>$g.default.createElement(Du,{value:t,title:e,...r},e??t),"FileField"),Ng=ee(y("react")),Ag=y("antd"),{Link:Dg}=Ag.Typography,Du=B(({children:e,value:t,...r})=>Ng.default.createElement(Dg,{href:t,...r},e??t),"UrlField"),Rg=ee(y("react")),Mg=y("antd"),{Text:Og}=Mg.Typography;function Ru(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}F(Ru,"da");B(Ru,"toLocaleStringSupportsOptions");var Bg=B(({value:e,locale:t,options:r,...a})=>{let n=Number(e);return Rg.default.createElement(Og,{...a},Ru()?n.toLocaleString(t,r):n)},"NumberField"),Ug=ee(y("react")),zg=ee(y("react-markdown")),Vg=ee(y("remark-gfm")),jg=B(({value:e=""})=>Ug.default.createElement(zg.default,{plugins:[Vg.default]},e),"MarkdownField"),Vt=ee(y("react")),Ko=y("antd"),lu=ee(y("dayjs")),Wg=y("@ant-design/icons"),Kg=te(),Qg=B(e=>{let{setSelectedKeys:t,confirm:r,clearFilters:a,mapValue:n,selectedKeys:o,children:i}=e,[l,c]=(0,Vt.useState)(o),p=(0,Kg.useTranslate)(),f=B(()=>{a&&(c([]),a())},"clearFilter"),b=B(()=>{let x=w(l),v;typeof x=="number"?v=`${x}`:lu.default.isDayjs(x)?v=[x.toISOString()]:v=x,t(v),r==null||r()},"onFilter"),w=B(x=>n?n(x):x,"mappedValue"),m=B(x=>{if(typeof x=="object"){if(Array.isArray(x)){let k=w(x);return c(k),t(k)}let s=!x||!x.target||lu.default.isDayjs(x)?{target:{value:x}}:x,{target:h}=s,d=w(h.value);c(d);return}let v=w(x);c(v)},"onChange"),E=Vt.default.Children.map(i,x=>Vt.default.isValidElement(x)?Vt.default.cloneElement(x,{onChange:m,value:w(l)}):x);return Vt.default.createElement("div",{style:{padding:10,display:"flex",flexDirection:"column",alignItems:"flex-end"}},Vt.default.createElement("div",{style:{marginBottom:15}},E),Vt.default.createElement(Ko.Space,null,Vt.default.createElement(Ko.Button,{type:"primary",size:"small",onClick:()=>b()},Vt.default.createElement(Wg.FilterOutlined,null)," ",p("buttons.filter","Filter")),Vt.default.createElement(Ko.Button,{danger:!0,size:"small",onClick:()=>f()},p("buttons.clear","Clear"))))},"FilterDropdown"),er=ee(y("react")),Qo=te(),ra=y("antd"),Hg=y("@ant-design/icons"),su=te(),{Text:_g}=ra.Typography,Gg=B(()=>{let[e,t]=(0,er.useState)(),r=(0,su.useTranslate)(),{push:a}=(0,su.useNavigation)(),n=(0,Qo.useGo)(),o=(0,Qo.useRouterType)(),{resource:i,action:l}=(0,Qo.useResource)();return(0,er.useEffect)(()=>{i&&l&&t(r("pages.error.info",{action:l,resource:i==null?void 0:i.name},`You may have forgotten to add the "${l}" component to "${i==null?void 0:i.name}" resource.`))},[i,l]),er.default.createElement(ra.Result,{status:"404",title:"404",extra:er.default.createElement(ra.Space,{direction:"vertical",size:"large"},er.default.createElement(ra.Space,null,er.default.createElement(_g,null,r("pages.error.404","Sorry, the page you visited does not exist.")),e&&er.default.createElement(ra.Tooltip,{title:e},er.default.createElement(Hg.InfoCircleOutlined,{}))),er.default.createElement(ra.Button,{type:"primary",onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome","Back Home")))})},"ErrorComponent"),Le=ee(y("react")),Xg=te(),it=y("antd"),uu=te(),Yg={background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"},Zg={maxWidth:"408px",margin:"auto"},Jg={textAlign:"center",color:"#626262",fontSize:"30px",letterSpacing:"-0.04em"},ey={display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"28px"},{Text:ty,Title:ry}=it.Typography,ay=B(()=>{let[e]=it.Form.useForm(),t=(0,uu.useTranslate)(),r=(0,Xg.useActiveAuthProvider)(),{mutate:a,isLoading:n}=(0,uu.useLogin)({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=Le.default.createElement(ry,{level:3,style:Jg},t("pages.login.title","Sign in your account"));return Le.default.createElement(it.Layout,{style:Yg},Le.default.createElement(it.Row,{justify:"center",align:"middle",style:{height:"100vh"}},Le.default.createElement(it.Col,{xs:22},Le.default.createElement("div",{style:Zg},Le.default.createElement("div",{style:ey},Le.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),Le.default.createElement(it.Card,{title:o,headStyle:{borderBottom:0}},Le.default.createElement(it.Form,{layout:"vertical",form:e,onFinish:i=>{a(i)},requiredMark:!1,initialValues:{remember:!1}},Le.default.createElement(it.Form.Item,{name:"username",label:t("pages.login.username","Username"),rules:[{required:!0}]},Le.default.createElement(it.Input,{size:"large",placeholder:t("pages.login.username","Username")})),Le.default.createElement(it.Form.Item,{name:"password",label:t("pages.login.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},Le.default.createElement(it.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),Le.default.createElement("div",{style:{marginBottom:"12px"}},Le.default.createElement(it.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},Le.default.createElement(it.Checkbox,{style:{fontSize:"12px"}},t("pages.login.remember","Remember me"))),Le.default.createElement("a",{style:{float:"right",fontSize:"12px"},href:"#"},t("pages.login.forgotPassword","Forgot password?"))),Le.default.createElement(it.Button,{type:"primary",size:"large",htmlType:"submit",loading:n,block:!0},t("pages.login.signin","Sign in"))),Le.default.createElement("div",{style:{marginTop:8}},Le.default.createElement(ty,{style:{fontSize:12}},t("pages.login.noAccount","Don\u2019t have an account?")," ",Le.default.createElement("a",{href:"#",style:{fontWeight:"bold"}},t("pages.login.signup","Sign up")))))))))},"LoginPage"),We=ee(y("react")),Mr=y("antd"),Ho=y("@ant-design/icons"),Zr={root:{height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover",backgroundColor:"#331049"},title:{color:"white",fontWeight:800,fontSize:"64px",marginBottom:"8px"},p1:{color:"white",marginBottom:0,fontSize:"20px",fontWeight:"bold"},p2:{color:"white",fontSize:"20px"},code:{backgroundColor:"white",color:"#331049"}},{Title:ny}=Mr.Typography,oy=B(()=>We.createElement(Mr.Row,{align:"middle",justify:"center",style:Zr.root},We.createElement(Mr.Col,{style:{textAlign:"center"}},We.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),We.createElement(ny,{style:Zr.title},"Welcome on board"),We.createElement("p",{style:Zr.p1},"Your configuration is completed."),We.createElement("p",{style:Zr.p2},"Now you can get started by adding your resources to the"," ",We.createElement("code",{style:Zr.code},"resources")," property of"," ",We.createElement("code",{style:Zr.code},"<Refine>")),We.createElement(Mr.Space,{size:"large",wrap:!0,style:{marginTop:"70px",justifyContent:"center"}},We.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},We.createElement(Mr.Button,{size:"large",icon:We.createElement(Ho.ReadOutlined,null)},"Documentation")),We.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},We.createElement(Mr.Button,{size:"large",icon:We.createElement(Ho.FolderOutlined,null)},"Examples")),We.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},We.createElement(Mr.Button,{size:"large",icon:We.createElement(Ho.TeamOutlined,null)},"Community"))))),"ReadyPage"),iy=ee(y("react")),ly=te(),sy=B(()=>iy.default.createElement(ly.WelcomePage,null),"WelcomePage"),Jr=ee(y("react")),ye=ee(y("react")),_o=te(),Ke=y("antd"),Go=te(),In={},Sn={maxWidth:"400px",margin:"auto",padding:"32px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.02), 0px 1px 6px -1px rgba(0, 0, 0, 0.02), 0px 1px 2px rgba(0, 0, 0, 0.03)"},Ln={borderBottom:0,padding:0},Tn={padding:0,marginTop:"32px"},$n={textAlign:"center",marginBottom:0,fontSize:"24px",lineHeight:"32px",fontWeight:700,overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"},{Text:du,Title:uy}=Ke.Typography,{useToken:dy}=Ke.theme,cy=B(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:i,formProps:l,title:c})=>{let{token:p}=dy(),[f]=Ke.Form.useForm(),b=(0,Go.useTranslate)(),w=(0,_o.useRouterType)(),m=(0,_o.useLink)(),{Link:E}=(0,Go.useRouterContext)(),x=w==="legacy"?E:m,v=(0,_o.useActiveAuthProvider)(),{mutate:s,isLoading:h}=(0,Go.useLogin)({v3LegacyAuthProviderCompatible:!!(v!=null&&v.isLegacy)}),d=c===!1?null:ye.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},c??ye.default.createElement(ia,{collapsed:!1})),k=ye.default.createElement(uy,{level:3,style:{color:p.colorPrimaryTextHover,...$n}},b("pages.login.title","Sign in to your account")),L=B(()=>e&&e.length>0?ye.default.createElement(ye.default.Fragment,null,e.map(P=>ye.default.createElement(Ke.Button,{key:P.name,type:"default",block:!0,icon:P.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>s({providerName:P.name})},P.label)),ye.default.createElement(Ke.Divider,null,ye.default.createElement(du,{style:{color:p.colorTextLabel}},b("pages.login.divider","or")))):null,"renderProviders"),u=ye.default.createElement(Ke.Card,{title:k,headStyle:Ln,bodyStyle:Tn,style:{...Sn,backgroundColor:p.colorBgElevated},...n??{}},L(),ye.default.createElement(Ke.Form,{layout:"vertical",form:f,onFinish:P=>s(P),requiredMark:!1,initialValues:{remember:!1},...l},ye.default.createElement(Ke.Form.Item,{name:"email",label:b("pages.login.fields.email","Email"),rules:[{required:!0},{type:"email",message:b("pages.login.errors.validEmail","Invalid email address")}]},ye.default.createElement(Ke.Input,{size:"large",placeholder:b("pages.login.fields.email","Email")})),ye.default.createElement(Ke.Form.Item,{name:"password",label:b("pages.login.fields.password","Password"),rules:[{required:!0}]},ye.default.createElement(Ke.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),ye.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"}},a??ye.default.createElement(Ke.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},ye.default.createElement(Ke.Checkbox,{style:{fontSize:"12px"}},b("pages.login.buttons.rememberMe","Remember me"))),r??ye.default.createElement(x,{style:{color:p.colorPrimaryTextHover,fontSize:"12px",marginLeft:"auto"},to:"/forgot-password"},b("pages.login.buttons.forgotPassword","Forgot password?"))),ye.default.createElement(Ke.Form.Item,null,ye.default.createElement(Ke.Button,{type:"primary",size:"large",htmlType:"submit",loading:h,block:!0},b("pages.login.signin","Sign in")))),ye.default.createElement("div",{style:{marginTop:8}},t??ye.default.createElement(du,{style:{fontSize:12}},b("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",ye.default.createElement(x,{to:"/register",style:{fontWeight:"bold",color:p.colorPrimaryTextHover}},b("pages.login.signup","Sign up")))));return ye.default.createElement(Ke.Layout,{style:In,...o??{}},ye.default.createElement(Ke.Row,{justify:"center",align:"middle",style:{height:"100vh"}},ye.default.createElement(Ke.Col,{xs:22},i?i(u,d):ye.default.createElement(ye.default.Fragment,null,d,u))))},"LoginPage"),Pe=ee(y("react")),Xo=te(),Xe=y("antd"),Yo=te(),{Text:cu,Title:my}=Xe.Typography,{useToken:py}=Xe.theme,fy=B(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o,title:i})=>{let{token:l}=py(),[c]=Xe.Form.useForm(),p=(0,Yo.useTranslate)(),f=(0,Xo.useRouterType)(),b=(0,Xo.useLink)(),{Link:w}=(0,Yo.useRouterContext)(),m=f==="legacy"?w:b,E=(0,Xo.useActiveAuthProvider)(),{mutate:x,isLoading:v}=(0,Yo.useRegister)({v3LegacyAuthProviderCompatible:!!(E!=null&&E.isLegacy)}),s=i===!1?null:Pe.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},i??Pe.default.createElement(ia,{collapsed:!1})),h=Pe.default.createElement(my,{level:3,style:{color:l.colorPrimaryTextHover,...$n}},p("pages.register.title","Sign up for your account")),d=B(()=>e&&e.length>0?Pe.default.createElement(Pe.default.Fragment,null,e.map(L=>Pe.default.createElement(Xe.Button,{key:L.name,type:"default",block:!0,icon:L.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>x({providerName:L.name})},L.label)),Pe.default.createElement(Xe.Divider,null,Pe.default.createElement(cu,{style:{color:l.colorTextLabel}},p("pages.login.divider","or")))):null,"renderProviders"),k=Pe.default.createElement(Xe.Card,{title:h,headStyle:Ln,bodyStyle:Tn,style:{...Sn,backgroundColor:l.colorBgElevated},...a??{}},d(),Pe.default.createElement(Xe.Form,{layout:"vertical",form:c,onFinish:L=>x(L),requiredMark:!1,...o},Pe.default.createElement(Xe.Form.Item,{name:"email",label:p("pages.register.email","Email"),rules:[{required:!0},{type:"email",message:p("pages.register.errors.validEmail","Invalid email address")}]},Pe.default.createElement(Xe.Input,{size:"large",placeholder:p("pages.register.fields.email","Email")})),Pe.default.createElement(Xe.Form.Item,{name:"password",label:p("pages.register.fields.password","Password"),rules:[{required:!0}]},Pe.default.createElement(Xe.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),Pe.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"}},t??Pe.default.createElement(cu,{style:{fontSize:12,marginLeft:"auto"}},p("pages.login.buttons.haveAccount","Have an account?")," ",Pe.default.createElement(m,{style:{fontWeight:"bold",color:l.colorPrimaryTextHover},to:"/login"},p("pages.login.signin","Sign in")))),Pe.default.createElement(Xe.Form.Item,{style:{marginBottom:0}},Pe.default.createElement(Xe.Button,{type:"primary",size:"large",htmlType:"submit",loading:v,block:!0},p("pages.register.buttons.submit","Sign up")))));return Pe.default.createElement(Xe.Layout,{style:In,...r??{}},Pe.default.createElement(Xe.Row,{justify:"center",align:"middle",style:{height:"100vh"}},Pe.default.createElement(Xe.Col,{xs:22},n?n(k,s):Pe.default.createElement(Pe.default.Fragment,null,s,k))))},"RegisterPage"),He=ee(y("react")),mu=te(),It=y("antd"),Zo=te(),{Text:vy,Title:gy}=It.Typography,{useToken:yy}=It.theme,hy=B(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n,title:o})=>{let{token:i}=yy(),[l]=It.Form.useForm(),c=(0,Zo.useTranslate)(),p=(0,mu.useRouterType)(),f=(0,mu.useLink)(),{Link:b}=(0,Zo.useRouterContext)(),w=p==="legacy"?b:f,{mutate:m,isLoading:E}=(0,Zo.useForgotPassword)(),x=o===!1?null:He.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},o??He.default.createElement(ia,{collapsed:!1})),v=He.default.createElement(gy,{level:3,style:{color:i.colorPrimaryTextHover,...$n}},c("pages.forgotPassword.title","Forgot your password?")),s=He.default.createElement(It.Card,{title:v,headStyle:Ln,bodyStyle:Tn,style:{...Sn,backgroundColor:i.colorBgElevated},...r??{}},He.default.createElement(It.Form,{layout:"vertical",form:l,onFinish:h=>m(h),requiredMark:!1,...n},He.default.createElement(It.Form.Item,{name:"email",label:c("pages.forgotPassword.fields.email","Email"),rules:[{required:!0},{type:"email",message:c("pages.forgotPassword.errors.validEmail","Invalid email address")}]},He.default.createElement(It.Input,{type:"email",size:"large",placeholder:c("pages.forgotPassword.fields.email","Email")})),He.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},e??He.default.createElement(vy,{style:{fontSize:12,marginLeft:"auto"}},c("pages.register.buttons.haveAccount","Have an account? ")," ",He.default.createElement(w,{style:{fontWeight:"bold",color:i.colorPrimaryTextHover},to:"/login"},c("pages.login.signin","Sign in")))),He.default.createElement(It.Form.Item,{style:{marginTop:"24px",marginBottom:0}},He.default.createElement(It.Button,{type:"primary",size:"large",htmlType:"submit",loading:E,block:!0},c("pages.forgotPassword.buttons.submit","Send reset instructions")))));return He.default.createElement(It.Layout,{style:In,...t??{}},He.default.createElement(It.Row,{justify:"center",align:"middle",style:{height:"100vh"}},He.default.createElement(It.Col,{xs:22},a?a(s,x):He.default.createElement(He.default.Fragment,null,x,s))))},"ForgotPasswordPage"),Ge=ee(y("react")),by=te(),lt=y("antd"),pu=te(),{Title:Cy}=lt.Typography,{useToken:Ey}=lt.theme,Py=B(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:n})=>{let{token:o}=Ey(),[i]=lt.Form.useForm(),l=(0,pu.useTranslate)(),c=(0,by.useActiveAuthProvider)(),{mutate:p,isLoading:f}=(0,pu.useUpdatePassword)({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),b=n===!1?null:Ge.default.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},n??Ge.default.createElement(ia,{collapsed:!1})),w=Ge.default.createElement(Cy,{level:3,style:{color:o.colorPrimaryTextHover,...$n}},l("pages.updatePassword.title","Set New Password")),m=Ge.default.createElement(lt.Card,{title:w,headStyle:Ln,bodyStyle:Tn,style:{...Sn,backgroundColor:o.colorBgElevated},...t??{}},Ge.default.createElement(lt.Form,{layout:"vertical",form:i,onFinish:E=>p(E),requiredMark:!1,...a},Ge.default.createElement(lt.Form.Item,{name:"password",label:l("pages.updatePassword.fields.password","New Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},Ge.default.createElement(lt.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),Ge.default.createElement(lt.Form.Item,{name:"confirmPassword",label:l("pages.updatePassword.fields.confirmPassword","Confirm New Password"),hasFeedback:!0,dependencies:["password"],rules:[{required:!0},({getFieldValue:E})=>({validator(x,v){return!v||E("password")===v?Promise.resolve():Promise.reject(new Error(l("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match")))}})]},Ge.default.createElement(lt.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),Ge.default.createElement(lt.Form.Item,{style:{marginBottom:0}},Ge.default.createElement(lt.Button,{type:"primary",size:"large",htmlType:"submit",loading:f,block:!0},l("pages.updatePassword.buttons.submit","Update")))));return Ge.default.createElement(lt.Layout,{style:In,...e??{}},Ge.default.createElement(lt.Row,{justify:"center",align:"middle",style:{height:"100vh"}},Ge.default.createElement(lt.Col,{xs:22},r?r(m,b):Ge.default.createElement(Ge.default.Fragment,null,b,m))))},"UpdatePasswordPage"),xy=B(e=>{let{type:t}=e;return Jr.default.createElement(Jr.default.Fragment,null,B(()=>{switch(t){case"register":return Jr.default.createElement(fy,{...e});case"forgotPassword":return Jr.default.createElement(hy,{...e});case"updatePassword":return Jr.default.createElement(Py,{...e});default:return Jr.default.createElement(cy,{...e})}},"renderView")())},"AuthPage"),ea=ee(y("react")),Rr=te(),ky=y("antd"),wy=y("@ant-design/icons"),Da=B(({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1,meta:a})=>{let n=(0,Rr.useRouterType)(),{breadcrumbs:o}=(0,Rr.useBreadcrumb)({meta:a}),i=(0,Rr.useLink)(),{Link:l}=(0,Rr.useRouterContext)(),{hasDashboard:c}=(0,Rr.useRefineContext)(),{resources:p}=(0,Rr.useResource)(),f=(0,Rr.matchResourceFromRoute)("/",p),b=n==="legacy"?l:i;if(o.length===1)return null;let w=o.map(({label:m,icon:E,href:x})=>({key:`breadcrumb-item-${m}`,title:ea.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:4}},!r&&E,x?ea.default.createElement(b,{to:x},m):ea.default.createElement("span",null,m))}));return ea.default.createElement(ky.Breadcrumb,{items:B(()=>{var m,E;return t&&(c||f.found)?[{key:"breadcrumb-item-home",title:ea.default.createElement(b,{to:"/"},((E=(m=f==null?void 0:f.resource)==null?void 0:m.meta)==null?void 0:E.icon)??ea.default.createElement(wy.HomeOutlined,null))},...w]:w},"getBreadcrumbItems")(),...e})},"Breadcrumb"),qa=ee(y("react")),Fy=y("@ant-design/pro-layout"),Jo=y("antd"),Iy=y("@ant-design/icons"),fu=kt(),Ra=B(({children:e,...t})=>{let r=typeof t.backIcon>"u"?qa.default.createElement(Jo.Button,{type:"text",icon:qa.default.createElement(Iy.ArrowLeftOutlined,null)}):t.backIcon,a=typeof t.title=="string"?qa.default.createElement(Jo.Typography.Title,{className:fu.RefinePageHeaderClassNames.Title,level:4,style:{marginBottom:0}},t.title):t.title,n=typeof t.title=="string"?qa.default.createElement(Jo.Typography.Title,{className:fu.RefinePageHeaderClassNames.SubTitle,level:5,type:"secondary",style:{marginBottom:0}},t.subTitle):t.subTitle;return qa.default.createElement(Fy.PageHeader,{...t,backIcon:r,title:a,subTitle:n,style:{padding:0,...t.style}},e)},"PageHeader"),ta=ee(y("react")),Sy=te(),vu=y("antd"),xn=y("@ant-design/icons"),Mu=B(({status:e})=>{let t=(0,Sy.useTranslate)(),{useToken:r}=vu.theme,{token:a}=r(),n=null,o=ta.default.createElement(xn.EllipsisOutlined,null);switch(e){case"success":n=t("autoSave.success","saved"),o=ta.default.createElement(xn.CheckCircleOutlined,null);break;case"error":n=t("autoSave.error","auto save failure"),o=ta.default.createElement(xn.ExclamationCircleOutlined,null);break;case"loading":n=t("autoSave.loading","saving..."),o=ta.default.createElement(xn.SyncOutlined,null);break;default:n=t("autoSave.idle","waiting for changes");break}return ta.default.createElement(vu.Typography.Text,{style:{marginRight:5,color:a.colorTextTertiary,fontSize:".8rem"}},n,ta.default.createElement("span",{style:{marginLeft:".2rem"}},o))},"AutoSaveIndicator"),Ly=B(e=>{let{fileList:t}=e;return[...t]},"getValueFromEvent"),Ty={Blue:{token:{colorPrimary:"#1677FF"}},Purple:{token:{colorPrimary:"#722ED1"}},Magenta:{token:{colorPrimary:"#EB2F96"}},Red:{token:{colorPrimary:"#F5222D"}},Orange:{token:{colorPrimary:"#FA541C"}},Yellow:{token:{colorPrimary:"#FAAD14"}},Green:{token:{colorPrimary:"#52C41A"}}}});var Va=ge(y("react")),Fd=ge(te());var Ne=ge(Ma()),bd=y("antd");var st=ge(y("react")),ua=ge(te());var $y=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,ii=F((e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];$y.test(e)&&r.unshift("url");let a=r.find(n=>n in t&&!!t[n]);if(a)return a==="firstName"&&"lastName"in t?["firstName","lastName"]:a},"getFieldableKeys");var Bu=ge(te());function li(e,t,r){if(t)return t;let a=r==null?void 0:r.find(o=>o.name===e),n=(0,Bu.pickNotDeprecated)(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"}F(li,"pickDataProvider");var Oa=F(e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName},"dataProviderFromResource");var si=F(e=>{let t=[...e].filter(Boolean).sort((r,a)=>(a.priority||0)-(r.priority||0))[0];return t||null},"pickInferredField");var Uu=ge(y("prettier/standalone")),zu=ge(y("prettier/parser-typescript"));var ui=F(e=>{try{return Uu.default.format(e,{parser:"typescript",plugins:[zu.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}},"prettierFormat");var Vu=F(e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`),"prettySpaces");var di=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,ju=F((e,t)=>{let r=di.test(e),a=typeof t=="string"||typeof t=="number",n=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&a||r&&n?{key:e,relation:!0,multiple:!!n,type:"relation",priority:1}:!1},"relationInfer");var Oe=F(e=>e.replace(di,""),"removeRelationSuffix");var St=F(e=>Oe(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "),"prettyString");var ae=F(e=>{let{resource:t,field:r,i18n:a}=e;if(a){let o=`translate("${t.name}.fields.${r.key}")`;return e.noBraces?`${o}`:`{${o}}`}let n=St(r.key);return e.noQuotes?n:`"${n}"`},"translatePrettyString");var ci=ge(y("pluralize"));var Mt=F((e="")=>ci.default.isSingular(e)?e:ci.default.singular(e),"toSingular");var mi=ge(y("pluralize"));var tr=F((e="")=>mi.default.isPlural(e)?e:mi.default.plural(e),"toPlural");var pi=F(e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(n=>!n.trim().startsWith("export default")).join(`
`),"replaceExports");var Wu=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,qy=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,Ny=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,fi=F((e,t={})=>{let r=e.matchAll(Wu),a=new Set;for(let n of r){let[,o,i,l,c]=n;if(c in t){let p=t[c];if(c==="react")continue;o&&a.add(`const { default: ${o} } = ${p};`),i&&a.add(`const${i.replace(Ny,"$1: $3$4")} = ${p};`),l&&a.add(`const ${l} = ${p};`)}}return Vu(`
    ${Array.from(a).join(`
`)}
    ${e.replace(Wu,"").replace(qy,"")}
    `)},"replaceImports");var Ba=ge(y("pluralize"));var vi=F((e,t)=>e?t.find(a=>{let n=Oe(e.key);return a.name===n||a.name===(Ba.default.isPlural(n)?n:Ba.default.plural(n))||a.name===(Ba.default.isSingular(n)?n:Ba.default.singular(n))}):void 0,"resourceFromInferred");var Ku=ge(y("pluralize"));var Ot=F((e,t,r="Inferred")=>{let a=e.replace(/[^a-zA-Z0-9]/g," "),n=Ku.default.singular(a),i=St(n).replace(/ /g,"")||r,l=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(i)?`${i}${l}`:`${l}${i}`},"componentName");var Ay=F(e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"","handleExpression"),Z=F((e,...t)=>e.reduce((a,n,o)=>`${a}${n}${Ay(t[o])}`,"").trim(),"jsx");var gi=F((e,t)=>`
    ${e??""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `,"prepareLiveCode");var yi=F(e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,""),"removeHiddenCode");var Dy=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Ur=F(e=>Dy.test(e),"shouldDotAccess");function hi(e,t,r){let a=`${e}`;return t&&(a+="?.",Ur(t)?a+=t:a+=`['${t}']`),r&&(a+="?.",Ur(r)?a+=r:a+=`['${r}']`),a}F(hi,"accessorSingle");function Ry(e,t,r){return(r??[]).map(n=>hi(e,t,n))}F(Ry,"accessorMultiple");var X=F((e,t,r,a=' + " " + ')=>Array.isArray(r)?a?Ry(e,t,r).join(a):hi(e,t,r[0]):hi(e,t,r),"accessor");var rr=F(e=>{let t=e.reduce((a,[n,o,i])=>(a[o]||(a[o]=[]),a[o].includes(n)||(i?a[o].push([n,!0]):a[o].push(n)),a),{});return Object.entries(t).map(([a,n])=>{let o=n.find(p=>Array.isArray(p)&&p[1]),i=n.filter(p=>typeof p=="string"),l=o?`${o[0]}`:"",c=i.length?`{ ${i.join(", ")} }`:"";return`import ${l}${l&&c?", ":""}${c} from "${a}";`})},"printImports");var My=/^id$/i,la=F(e=>My.test(e),"isIDKey");var bi=F(e=>e.relationInfer&&e.relationInfer.accessor?Array.isArray(e.relationInfer.accessor)?`optionLabel: "${e.relationInfer.accessor[0]}",`:e.relationInfer.accessor!=="title"?`optionLabel: "${e.relationInfer.accessor}",`:"":"","getOptionLabel");var ar=F(e=>{},"noOp");var $e=F((e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let a=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),n=St(a).replace(/ /g,"");return`${n.charAt(0).toLowerCase()+n.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`},"getVariableName");var qe=F((e,t,r)=>{if(t&&r&&e){let a=e?t[e]:{},n=(a==null?void 0:a[r])??(a==null?void 0:a.default);return n?`meta: ${JSON.stringify(n)},`:""}return""},"getMetaProps"),jt=F((e,t,r)=>{if(t&&r&&e){let a=e?t[e]:{},o=[...r,"default"].reduce((i,l)=>i??(a==null?void 0:a[l]),void 0);if(o)return o}},"pickMeta");var Ua=F(e=>e===void 0?e:typeof e=="string"?`"${e}"`:e,"idQuoteWrapper");var Qu=F(e=>{let t=F((r,a,n,o=t,i)=>{let l=e.map(p=>p(r,a,n,o,i));return si(l)},"fieldInferencer");return t},"composeInferencers");var Hu=F(e=>F((r,a,n,o,i,l)=>e.reduce((c,p)=>p(c,a,n,o,i,l),r),"fieldTransformer"),"composeTransformers");var _u=F((e,t,r,a,n)=>{let o=Array.isArray(t),i=Array.isArray(t)&&t.every(l=>typeof l=="string"||typeof l=="number");if(o){if(!i){let c=a(e,t[0],r,a,n);return c?{...c,key:e,multiple:!0,priority:1}:!1}let l=a(e,t[0],r,a,n)||{type:"string"};return{key:e,multiple:!0,priority:1,type:l==null?void 0:l.type}}return!1},"arrayInfer");var Gu=F((e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1,"booleanInfer");var Ci=ge(y("dayjs"));var Oy=/(_at|_on|At|On|AT|ON)(\[\])?$/,By=["/",":","-","."],Xu=F((e,t)=>{let r=Oy.test(e)&&(0,Ci.default)(t).isValid(),a=typeof t=="string"&&(0,Ci.default)(t).isValid();return typeof t=="string"&&By.some(o=>t.includes(o))&&(r||a)?{key:e,type:"date",priority:1}:!1},"dateInfer");var Uy=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Yu=F((e,t)=>typeof t=="string"&&Uy.test(t)?{key:e,type:"email",priority:1}:!1,"emailInfer");var zy=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,Zu=F((e,t)=>typeof t=="string"&&zy.test(t)?{key:e,type:"image",priority:2}:!1,"imageInfer");var Ju=F((e,t)=>typeof t>"u"||t===null?null:!1,"nullishInfer");var ed=F((e,t)=>{let r=typeof t=="string"&&t.length>0,a=!isNaN(t);return r&&a||typeof t=="number"?{key:e,type:"number"}:!1},"numberInfer");var td=/id$/i,rd=F((e,t,r,a,n)=>{let o=t!==null,i=!Array.isArray(t);if(o&&i&&typeof t=="object"){let c=Object.keys(t).length===1&&td.test(Object.keys(t)[0]),p=Object.keys(t).some(w=>td.test(w));if(c)return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let f=ii(e,t);if((f?f.length>0:!1)&&f){let w=f&&Array.isArray(f)?f[0]:f,m=a(w,t[w],t,a,n);if(m){let E=Array.isArray(f)?f.map(x=>m.accessor?`${x}.${Array.isArray(m.accessor)?m.accessor[0]:m.accessor}`:x):m.accessor?Array.isArray(m.accessor)?`${f}.${m.accessor[0]}`:`${f}.${m.accessor}`:f;return(m==null?void 0:m.type)==="text"&&(n==="create"||n==="edit")&&p?{key:e,type:"relation",relation:!0,accessor:"id",priority:1}:{...m,fieldable:!0,key:e,accessor:E,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1},"objectInfer");var ad=F((e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1,"richtextInfer");var nd=F((e,t)=>typeof t=="string"?{key:e,type:"text"}:!1,"textInfer");var Vy=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,od=F((e,t)=>typeof t=="string"&&Vy.test(t)?{key:e,type:"url",priority:1}:!1,"urlInfer");var id=[_u,Gu,Xu,Yu,Zu,Ju,ed,rd,ju,ad,nd,od];var ld=F((e,t,r,a)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let i=/^[a-z0-9-]+$/,l=F(w=>i.test(`${w}`),"isValidUUID"),c=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!c?o:(o.multiple?a[o.key]:[a[o.key]]).every(w=>l(o.accessor?w[o.accessor]:w))?{...o,canRelation:!0}:o}return o}),"basicToRelation");var jy=/(image|photo|avatar|cover|thumbnail|icon)/i,sd=F(e=>e.map(r=>r.type==="url"&&jy.test(r.key)?{...r,type:"image"}:r),"imageByKey");var ud=F((e,t)=>e.map(a=>{let n=vi(a,t);return n?{...a,relation:!0,type:"relation",resource:n}:a}),"relationByResource");var dd=F((e,t,r,a,n,o)=>e.map(l=>{if(l.relation&&l.type==="relation"&&!l.resource){let c=l.accessor?a[l.key][l.accessor]:a[l.key],p=n(l.key,c,a,n,o);if(p&&p.type!=="relation")return{...l,fieldable:!0,relation:!1,type:p.type,canRelation:!0}}return l}),"relationToFieldable");var cd=[sd,ud,dd,ld];var Lt=ge(y("react")),Wy=ge(te()),qn=y("@aliemir/react-live");var md=[["react","React",Lt.default],["@refinedev/core","RefineCore",Wy]],Ei=Lt.default.createContext({}),Pi=F(({fetchError:e,code:t,additionalScope:r,errorComponent:a})=>{let n=(t&&pi(fi(t,[...md,...r??[]].reduce((l,[c,p,f,b])=>b?l:{...l,[c]:p},{}))))??"",o=Lt.default.useMemo(()=>({React:Lt.default,...Lt.default,...[...md,...r??[]].reduce((l,[c,p,f])=>({...l,[p]:f}),{})}),[r]),i=Lt.default.useMemo(()=>F(()=>{let{error:c}=Lt.default.useContext(Ei);return a?Lt.default.createElement(a,{error:c?`<p>An error occured while rendering the generated component.You can check the generated code from the below "Show Code" button and fix the error manually.</p>
                                    <p>If you think this is a bug, please report the issue at <a target="_blank" rel="noopener noreferrer" href="https://github.com/refinedev/refine/issues">https://github.com/refinedev/refine/issues</a></p>
                                    <p>Exception:</p>
                                    <code>${c}</code>`:typeof e=="string"?e:e?`<p>Something went wrong while fetching the resource data.</p>
                                    <p>To learn more about the Inferencer, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`:void 0}):null},"LiveErrorComponent"),[a,e]);return Lt.default.createElement(qn.LiveProvider,{Context:Ei,code:n,scope:o,noInline:!0},!e&&Lt.default.createElement(qn.LivePreview,{Context:Ei}),Lt.default.createElement(i,null))},"LiveComponent");var Y=ge(y("react")),Nn=ge(y("prism-react-renderer")),fd=ge(y("prism-react-renderer/themes/vsDark"));var gr=F(({code:e,loading:t})=>{let r=Y.default.useMemo(()=>ui(e??""),[e]),[a,n]=Y.default.useState(!1),[o,i]=Y.default.useState(!1),[l,c]=Y.default.useState(!1),[p,f]=Y.default.useState(!1),[b,w]=Y.default.useState(!1);return Y.default.useEffect(()=>{if(!t){let m=setTimeout(()=>{n(!0)},300);return()=>{clearTimeout(m)}}return()=>{}},[t]),Y.default.useEffect(()=>{if(typeof window<"u"){let m=window.matchMedia("(max-width: 449px)");m.matches?c(!1):c(!0);let E=F(()=>{m.matches?c(!1):c(!0)},"handleResize");return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}}return()=>{}},[]),Y.default.useEffect(()=>{if(typeof window<"u"){let m=window.matchMedia("(max-width: 1280px)");m.matches?f(!0):f(!1);let E=F(()=>{m.matches?f(!0):f(!1)},"handleResize");return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}}return()=>{}},[]),r&&!t?Y.default.createElement(Y.default.Fragment,null,l&&Y.default.createElement("div",{className:"refine-inferencer--code-viewer",style:{position:"sticky",bottom:"24px",paddingTop:"24px",left:0,right:0,width:"100%",zIndex:10,display:"flex",justifyContent:"center",transition:"all 0.2s ease",opacity:a&&!o?1:0,transform:a&&!o?"translateY(0)":"translateY(100px)"}},Y.default.createElement("div",{style:{width:"calc(100% - calc(64px * 2))",maxWidth:"1080px",padding:"20px",backgroundColor:"#1A1A1A",boxShadow:"0px 4px 16px -4px rgba(0, 0, 0, 0.5), 0px 8px 32px -8px rgba(0, 0, 0, 0.35)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:p?"column":"row",gap:"12px"}},Y.default.createElement("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"}},Y.default.createElement("div",null,Y.default.createElement(Qy,null)),Y.default.createElement("div",{style:{fontSize:"14px",lineHeight:"20px",color:"#ffffff"}},Y.default.createElement("p",{style:{padding:0,margin:0}},"Most of the page code is auto-generated by the"," ",Y.default.createElement("span",{style:{textDecoration:"underline"}},"Inferencer")," ","feature, based on your backend data structure."),Y.default.createElement("p",{style:{padding:0,margin:0}},"While this is an excellent way to experiment with refine,"," ",Y.default.createElement("span",{style:{fontWeight:600}},"it's not intended to be used on production.")))),Y.default.createElement("div",null,Y.default.createElement("button",{onPointerEnter:()=>w(!0),onPointerLeave:()=>w(!1),onClick:()=>i(!0),style:{appearance:"none",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",color:"#ffffff",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",transition:"all 0.2s ease",transform:b?"scale(1.025)":void 0,filter:b?"brightness(1.1)":void 0}},Y.default.createElement(vd,{style:{flexShrink:0}}),Y.default.createElement("span",null,"Show the auto-generated code"))))),Y.default.createElement(Ky,{visible:o,onClose:()=>i(!1),code:r})):null},"SharedCodeViewer"),Ky=F(({visible:e,onClose:t,code:r=""})=>{let a=Y.default.useRef(null),[n,o]=Y.default.useState(!1),[i,l]=Y.default.useState(!1),[c,p]=Y.default.useState(!1),[f,b]=Y.default.useState(!1);Y.default.useEffect(()=>{if(typeof document<"u"){let v=F(s=>{a.current&&!a.current.contains(s.target)&&t()},"onOutsideClick");return document.addEventListener("pointerdown",v),()=>{document.removeEventListener("pointerdown",v)}}return()=>{}},[t]);let w=F(()=>{typeof navigator<"u"&&(navigator.clipboard.writeText(r),o(!0),setTimeout(()=>{o(!1)},1e3))},"onCopy"),m=Y.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},Y.default.createElement("div",{style:{fontWeight:700,fontSize:"20px",lineHeight:"32px",color:"#0D0D0D"}},"Auto-generated code by Inferencer"),Y.default.createElement("button",{onClick:t,onPointerEnter:()=>p(!0),onPointerLeave:()=>p(!1),style:{flexShrink:0,appearance:"none",border:"none",background:"none",padding:0,margin:0,outline:"none",borderRadius:"50px",width:"32px",height:"32px",cursor:"pointer",transition:"all 0.15s ease",transform:c?"scale(1.05)":void 0,filter:c?"brightness(0.8)":void 0}},Y.default.createElement(Hy,null))),E=Y.default.createElement("div",{style:{fontSize:"13px",borderRadius:"8px",flex:"1",overflow:"scroll",background:"#1E1E1E"}},Y.default.createElement(Nn.default,{...Nn.defaultProps,theme:fd.default,code:r,language:"tsx"},({className:v,style:s,tokens:h,getLineProps:d,getTokenProps:k})=>Y.default.createElement("pre",{className:v,style:{...s,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},h.map((L,u)=>Y.default.createElement("div",{key:u,...d({line:L,key:u})},L.map((P,$)=>Y.default.createElement("span",{key:$,...k({token:P,key:$})})))))));return Y.default.createElement("div",{className:"refine-inferencer--code-viewer-modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,backgroundColor:"rgba(0, 0, 0, 0.5)",transition:"all 0.2s ease",opacity:e?1:0,pointerEvents:e?"all":"none",display:"flex",justifyContent:"center",alignItems:"center"}},Y.default.createElement("div",{ref:a,style:{transform:e?"scale(1) translateY(0px)":"scale(0) translateY(-200px)",transition:"all 0.25s cubic-bezier(.35,1.29,.81,1.08)",transitionDelay:"0.25",width:"calc(100% - calc(32px * 2))",height:"calc(100% - calc(32px * 2))",backgroundColor:"#fff",maxWidth:"640px",maxHeight:"720px",borderRadius:"8px",padding:"16px"}},Y.default.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",gap:"16px"}},m,E,Y.default.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-end",gap:"16px"}},Y.default.createElement("button",{onPointerEnter:()=>l(!0),onPointerLeave:()=>l(!1),onClick:w,style:{appearance:"none",height:"40px",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",color:"#ffffff",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",position:"relative",overflow:"hidden",transition:"filter 0.2s ease",transform:i?"scale(1.025)":"scale(1)",filter:i?"brightness(1.1)":void 0}},Y.default.createElement(pd,{style:{flexShrink:0,marginTop:"-2px",marginBottom:"-2px"}}),Y.default.createElement("span",null,"Copy Generated Code"),Y.default.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",transition:"all 0.2s ease",transform:n?"translateY(0)":"translateY(40px)"}},Y.default.createElement(pd,{style:{flexShrink:0,marginTop:"-2px",marginBottom:"-2px"}}),Y.default.createElement("span",null,"Copied!"))),Y.default.createElement("a",{onPointerEnter:()=>b(!0),onPointerLeave:()=>b(!1),href:"https://refine.dev/docs/packages/documentation/inferencer",target:"_blank",rel:"noreferrer",style:{appearance:"none",textDecoration:"none",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 128, 255, 0.1)",color:"#0080FF",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",transition:"all 0.2s ease",transform:f?"scale(1.025)":void 0,filter:f?"brightness(1.1)":void 0}},Y.default.createElement(vd,{style:{flexShrink:0}}),Y.default.createElement("span",null,"Learn more about inferencer"))))))},"CodeModal"),Qy=F(e=>Y.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",...e},Y.default.createElement("path",{fill:"#0080FF",fillRule:"evenodd",d:"M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10Zm0-15a1.25 1.25 0 1 0 0 2.5A1.25 1.25 0 0 0 10 5Zm0 10c.69 0 1.25-.56 1.25-1.25V10a1.25 1.25 0 1 0-2.5 0v3.75c0 .69.56 1.25 1.25 1.25Z",clipRule:"evenodd"})),"InfoIcon"),vd=F(e=>Y.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},Y.default.createElement("path",{fill:"currentColor",d:"M5 2a1 1 0 0 1 0 2H4v8h8v-1a1 1 0 1 1 2 0v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h1Z"}),Y.default.createElement("path",{fill:"currentColor",d:"M9 2a1 1 0 0 0 0 2h1.586L6.293 8.293a1 1 0 0 0 1.414 1.414L12 5.414V7a1 1 0 1 0 2 0V3a1 1 0 0 0-1-1H9Z"})),"OpenIcon"),Hy=F(e=>Y.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",...e},Y.default.createElement("path",{fill:"#A6A6A6",fillRule:"evenodd",d:"M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16Zm-2.586-21.414a2 2 0 1 0-2.828 2.828L13.172 16l-2.586 2.586a2 2 0 1 0 2.828 2.828L16 18.828l2.586 2.586a2 2 0 1 0 2.828-2.828L18.828 16l2.586-2.586a2 2 0 1 0-2.828-2.828L16 13.172l-2.586-2.586Z",clipRule:"evenodd"})),"CloseIcon"),pd=F(e=>Y.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",fill:"none",...e},Y.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 5a3 3 0 0 0 3 3h2a3 3 0 0 0 3-3h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h1Zm0 7a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm1 3a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2H9Z",clipRule:"evenodd"}),Y.default.createElement("path",{fill:"currentColor",d:"M13 4a1 1 0 1 1 0 2h-2a1 1 0 1 1 0-2h2Z"})),"ClipboardIcon");var yr=ge(y("react")),An=ge(te());var gd=F((e,t,r,a)=>{let{resource:n,id:o,resources:i}=(0,An.useResource)(t),l=r??o,c=(0,An.useDataProvider)(),[p,f]=yr.default.useState(void 0),[b,w]=yr.default.useState(void 0),[m,E]=yr.default.useState(void 0),[x,v]=yr.default.useState(!0),[s,h]=yr.default.useState(!1),d=yr.default.useCallback(async k=>{var P;let L=Oa(n)??li(n==null?void 0:n.name,void 0,i),u=c(L);h(!0),f(void 0);try{if((e==="list"||e==="create")&&n){let $=await u.getList({resource:n==null?void 0:n.name,meta:jt((n==null?void 0:n.identifier)??(n==null?void 0:n.name),a,["getList"])}),S=(P=$.data)==null?void 0:P[0];S||f(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),w(S),E($.data),setTimeout(()=>{h(!1)},500)}if((e==="edit"||e==="show")&&k&&n){let S=(await u.getOne({resource:n==null?void 0:n.name,id:k,meta:jt((n==null?void 0:n.identifier)??(n==null?void 0:n.name),a,["getOne"])})).data;S||f(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),w(S),setTimeout(()=>{h(!1)},500)}}catch($){console.warn("An error occured while fetching the resource data. Please check the error message below:",$),f(`<p>Something went wrong while fetching the resource data.</p>
                    <p>Please check your data provider and API for resource "${n==null?void 0:n.name}".</p>
                    <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),setTimeout(()=>{h(!1)},500)}},[e,c,n,i]);return yr.default.useEffect(()=>{v(!1),!s&&!b&&d(l)},[d,l]),{data:b,datas:m,loading:s,initial:x,error:p}},"useInferFetch");var sa=ge(y("react")),yd=ge(te());var xi=y("lodash-es");var hd=F(({record:e,fields:t,infer:r,meta:a})=>{let n=(0,yd.useDataProvider)(),[o,i]=sa.default.useState([]),[l,c]=sa.default.useState(!0),[p,f]=sa.default.useState(!1),b=sa.default.useCallback(async w=>{console.groupCollapsed("@refinedev/inferencer is trying to detect relations");let m=[];f(!0);try{let E=w.map(async v=>{var s,h,d,k,L;if(v&&(v.relation||v.canRelation)&&e){if(v.relationInfer)return v;let u=Oa(v.resource),P=n(u),$=v.multiple,S=Array.isArray(v.accessor)?void 0:v.multiple?e[v.key].map(q=>v.accessor?(0,xi.get)(q,v.accessor):q)[0]:v.accessor?(0,xi.get)(e[v.key],v.accessor):e[v.key];if(S&&v.resource)try{let q={};if($&&P.getMany){let{data:I}=await P.getMany({resource:v.resource.name,ids:[S],meta:jt(((s=v.resource)==null?void 0:s.identifier)??((h=v.resource)==null?void 0:h.name),a,["getMany"])});q=I==null?void 0:I[0]}else{let{data:I}=await P.getOne({resource:v.resource.name,id:S,meta:jt(((d=v.resource)==null?void 0:d.identifier)??((k=v.resource)==null?void 0:k.name),a,$?["getMany","getOne"]:["getOne"])});q=I}m.push({status:"success",resource:v.resource.name,field:v.key});let g=r("__",q,{},r);return{...v,relationInfer:g}}catch{return m.push({status:"error",resource:v.resource.name,field:v.key}),{...v,relationInfer:null}}if(S){let q,g;try{let A={};if($&&P.getMany){let{data:N}=await((L=P.getMany)==null?void 0:L.call(P,{resource:tr(Oe(v.key)),ids:[S],meta:jt(tr(Oe(v.key)),a,["getMany"])}));A=N==null?void 0:N[0]}else{let{data:N}=await P.getOne({resource:tr(Oe(v.key)),id:S,meta:jt(tr(Oe(v.key)),a,$?["getMany","getOne"]:["getOne"])});A=N}m.push({status:"success",resource:tr(Oe(v.key)),field:v.key}),q=A,g=!0}catch{m.push({status:"error",resource:tr(Oe(v.key)),field:v.key});let N={};try{if($&&P.getMany){let{data:M}=await P.getMany({resource:Mt(Oe(v.key)),meta:jt(Mt(Oe(v.key)),a,["getMany"]),ids:[S]});N=M==null?void 0:M[0]}else{let{data:M}=await P.getOne({resource:Mt(Oe(v.key)),meta:jt(Mt(Oe(v.key)),a,$?["getMany","getOne"]:["getOne"]),id:S});N=M}m.push({status:"success",resource:Mt(Oe(v.key)),field:v.key}),q=N,g=!1}catch{return m.push({status:"error",resource:Mt(Oe(v.key)),field:v.key}),{...v,relationInfer:null}}}let I=r("__",q,{},r),T=Oe(v.key);return{...v,relation:!0,type:"relation",resource:{name:g?tr(T):Mt(T)},fieldable:!1,canRelation:void 0,relationInfer:I}}return{...v,relationInfer:null}}return v}),x=await Promise.all(E);i(x.filter(v=>v)),setTimeout(()=>{f(!1)},500)}catch{setTimeout(()=>{f(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${m.length} attempts and succeeded with ${m.filter(E=>E.status==="success").length} attempts.`),console.groupEnd(),console.info("@refinedev/inferencer may send multiple requests to your API for nonexistent resources when trying to detect relations. To learn more about how the inferencer works, visit https://s.refine.dev/how-inferencer-works")},500)},[n,e]);return sa.default.useEffect(()=>{c(!1),!p&&t&&t.length>0&&o.length===0&&b(t)},[b,p,t,b]),{fields:o,loading:p,initial:l}},"useRelationFetch");var hr=F(({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:a=[],renderer:n,loadingComponent:o,errorComponent:i,codeViewerComponent:l})=>{let c=Qu([...id,...r]),p=Hu([...cd,...a]),f=F(({resourceName:w,fieldTransformer:m,hideCodeViewerInProduction:E,meta:x,id:v})=>{var R,Q;let{resource:s,resources:h}=(0,ua.useResource)(w),{i18nProvider:d}=(0,st.useContext)(ua.TranslationContext),{resource:k}=(0,ua.useResource)(),{data:L,datas:u,loading:P,initial:$,error:S}=gd(e,w??(s==null?void 0:s.name),v,x),q=F((U,z,V)=>{let j=c(U,z,V,c,e);if(j&&s){let K=p([j],h,s,V,c,e),G=m?K.flatMap(J=>{let re=m(J);return re?[re]:[]}):K;return G==null?void 0:G[0]}},"inferSingleField"),g=F(U=>Object.keys(U).map(V=>{let j=U[V];return q(V,j,U)}).filter(Boolean),"inferSingleRecord"),I=F(U=>{let z=U.map(J=>g(J)),V=U.flatMap(J=>Object.keys(J)).filter((J,re,me)=>me.indexOf(J)===re),j={},K=V.map(J=>{let re=z.map(de=>de.find(ne=>ne.key===J));return re.reduce((de,ne,ie)=>{if(!ne)return de;let fe=re.filter(oe=>(oe==null?void 0:oe.key)===ne.key&&(oe==null?void 0:oe.type)===ne.type).length;return fe>de.count?(j[J]=U[ie][J],{count:fe,field:ne}):de},{count:0,field:void 0}).field});return{commonRecord:j,inferredFields:K}},"inferMultipleRecords"),[T,A]=st.default.useMemo(()=>{if(u&&(e==="list"||e==="create")){let U=I(u);return[U.inferredFields,U.commonRecord]}if(L){let U=Object.keys(L).map(z=>{let V=L[z];return c(z,V,L,c,e)}).filter(Boolean);if(s){let z=p(U,h,s,L,c,e);return[m?z.flatMap(j=>{let K=m(j);return K?[K]:[]}):z,L]}return[[],L]}return[[],void 0]},[L,u,h,s,m]),{fields:N,loading:M}=hd({record:A,fields:T,infer:c,meta:x}),D=st.default.useMemo(()=>{let U=[];return N.forEach((z,V,j)=>{if(z.resource){if(U.findIndex(G=>{var J,re;return((J=G.resource)==null?void 0:J.name)===((re=z.resource)==null?void 0:re.name)})>-1)return;let K=j.filter((G,J)=>{var re,me,de,ne,ie,fe;if(J!==V){let oe=z.resource,Ce=G.resource,Ae=((re=G.resource)==null?void 0:re.identifier)||((me=z.resource)==null?void 0:me.identifier)?((de=G.resource)==null?void 0:de.identifier)===((ne=z.resource)==null?void 0:ne.identifier):((ie=G.resource)==null?void 0:ie.name)===((fe=z.resource)==null?void 0:fe.name);return oe&&Ce&&Ae}else return!1});if(K.length>0)if(e==="create"||e==="edit"){let G;[z,...K].find(J=>{J.fieldable!==!0&&G===void 0&&(G=J)}),G?U.push(G):U.push(z)}else{let G;[z,...K].find(J=>{J.fieldable!==!1&&G===void 0&&(G=J)}),G?U.push(G):U.push(z)}else U.push(z)}else U.push(z)}),U},[N,e]),O=st.default.useMemo(()=>!P&&!M&&!$&&s?n({resource:s,resources:h,fields:D,infer:c,meta:x,isCustomPage:s.name!==(k==null?void 0:k.name),id:v,i18n:!!d}):"",[s,h,D,P,M]),W=E;return st.default.createElement(st.default.Fragment,null,o&&(P||M)&&st.default.createElement(o,null),!P&&!M&&st.default.createElement(st.default.Fragment,null,st.default.createElement(Pi,{fetchError:!P&&S?S:!P&&!$&&!L,code:gi(O,Ot(((R=s==null?void 0:s.meta)==null?void 0:R.label)??((Q=s==null?void 0:s.options)==null?void 0:Q.label)??(s==null?void 0:s.label)??(s==null?void 0:s.name)??"Resource",e)),errorComponent:i,additionalScope:t}),typeof l<"u"&&!W?st.default.createElement(l,{code:yi(O),loading:P||M}):null))},"Inferencer");return F(({name:w,resource:m,fieldTransformer:E,meta:x,hideCodeViewerInProduction:v,id:s})=>{let{resource:h}=(0,ua.useResource)(m??w),d=`${(h==null?void 0:h.identifier)??(h==null?void 0:h.name)}-${e}-${s}`;return st.default.createElement(f,{hideCodeViewerInProduction:v,fieldTransformer:E,resourceName:m??w,meta:x??{},key:d,id:s})},"InferencerComponent")},"createInferencer");var za=ge(y("react")),da=y("antd");var br=F(({error:e})=>e?za.default.createElement(da.Row,{justify:"center",align:"middle",style:{minHeight:"200px"}},za.default.createElement(da.Col,null,za.default.createElement(da.Alert,{message:"Error",description:za.default.createElement("div",{dangerouslySetInnerHTML:{__html:e??""}}),type:"error",showIcon:!0}))):null,"ErrorComponent");var Dn=ge(y("react")),ca=y("antd");var Cr=F(()=>Dn.default.createElement(ca.Row,{justify:"center",align:"middle",style:{minHeight:"300px"}},Dn.default.createElement(ca.Col,null,Dn.default.createElement(ca.Spin,{size:"large"}))),"LoadingComponent");var Cd=F(({resource:e,fields:t,meta:r,isCustomPage:a,id:n,i18n:o})=>{let i=Ot(e.label??e.name,"show"),l="record",c=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["useShow","@refinedev/core"],["Show","@refinedev/antd"],["Typography","antd"]];o&&c.push(["useTranslate","@refinedev/core"]);let f=t.filter(u=>(u==null?void 0:u.relation)&&!(u!=null&&u.fieldable)&&(u==null?void 0:u.resource)).filter(Boolean).map(u=>{var P,$,S,q;if(u!=null&&u.relation&&!u.fieldable&&u.resource){if(u.multiple){c.push(["useMany","@refinedev/core"]);let g=X(l,u.key);return u.accessor&&(g=`${X(l,u.key)}?.map((item: any) => ${X("item",void 0,u.accessor)})`),`
                const { data: ${$e(u.key,"Data")}, isLoading: ${$e(u.key,"IsLoading")} } =
                useMany({
                    resource: "${u.resource.name}",
                    ids: ${g} || [],
                    queryOptions: {
                        enabled: !!${l} && !!${g}?.length,
                    },
                    ${qe(((P=u==null?void 0:u.resource)==null?void 0:P.identifier)??(($=u==null?void 0:u.resource)==null?void 0:$.name),r,"getMany")}
                });
                `}return c.push(["useOne","@refinedev/core"]),`
                const { data: ${$e(u.key,"Data")}, isLoading: ${$e(u.key,"IsLoading")} } =
                useOne({
                    resource: "${u.resource.name}",
                    id: ${X(l,u.key,u.accessor,!1)} || "",
                    queryOptions: {
                        enabled: !!${l},
                    },
                    ${qe(((S=u==null?void 0:u.resource)==null?void 0:S.identifier)??((q=u==null?void 0:u.resource)==null?void 0:q.name),r,"getOne")}
                });
            `}}).filter(Boolean),b=F(u=>{if(u.relation&&u.resource){let P=$e(u.key,"Data"),$=$e(u.key,"IsLoading");if(u.multiple){let S=X(l,u.key)+"?.length";return c.push(["TagField","@refinedev/antd"]),Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                {${$} && ${S} ? <>Loading...</> : (
                    <>
                    ${(()=>{var q,g;if(u.relationInfer)if((q=u.relationInfer)!=null&&q.accessor){if(Array.isArray(u.relationInfer.accessor))return"Not Handled.";{let I=Mt((g=u.resource)==null?void 0:g.name),T=X(I,void 0,u.relationInfer.accessor);return`{record?.${u.key}?.length ? ${P}?.data?.map((${I}: any) => <TagField key={${T}} value={${T}} />) : <></>}`}}else return;else return})()}
                    </>
                )}
                `}return u.fieldable?Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <TextField value={${X(l,u.key,u.accessor)}} />
                `:Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                {${$} ? <>Loading...</> : (
                    <>
                    ${(()=>{var S;return u.relationInfer?(S=u.relationInfer)!=null&&S.accessor?Array.isArray(u.relationInfer.accessor)?`{${X(`${P}?.data`,void 0,u.relationInfer.accessor,' + " " + ')}}`:`{${P}?.data?.${u.relationInfer.accessor}}`:`{${P}?.data}`:`{${P}?.data?.id}`})()}
                    </>
                )}
                
                `}},"renderRelationFields"),w=F(u=>{if(u.type==="text"){if(c.push(["TagField","@refinedev/antd"],["TextField","@refinedev/antd"]),u.multiple){let P=X("item",void 0,u.accessor);return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                {${X(l,u.key)}?.map((item: any) => (
                    <TagField value={${P}} key={${P}} />
                ))}
            `}return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <TextField value={${X(l,u.key,u.accessor)}} />
            `}},"textFields"),m=F(u=>{if(u.type==="image"){if(c.push(["ImageField","@refinedev/antd"]),u.multiple){let P=X("item",void 0,u.accessor);return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                {${X(l,u.key)}?.map((item: any) => (
                    <ImageField style={{ maxWidth: 200 }} value={${P}} key={${P}} />
                ))}
            `}return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <ImageField style={{ maxWidth: 200 }} value={${X(l,u.key,u.accessor," + ")}} />
                `}},"imageFields"),E=F(u=>{if(u.type==="email"){if(c.push(["TagField","@refinedev/antd"],["EmailField","@refinedev/antd"]),u.multiple){let P=X("item",void 0,u.accessor);return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <>
                {${X(l,u.key)}?.map((item: any) => (
                    <TagField value={${P}} key={${P}} />
                ))}
                </>
            `}return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <EmailField value={${X(l,u.key,u.accessor," + ")}} />
            `}},"emailFields"),x=F(u=>{if(u.type==="url"){if(c.push(["TagField","@refinedev/antd"],["UrlField","@refinedev/antd"]),u.multiple){let P=X("item",void 0,u.accessor);return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                {${X(l,u.key)}?.map((item: any) => (
                    <TagField value={${P}} key={${P}} />
                ))}
            `}return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <UrlField value={${X(l,u.key,u.accessor," + ")}} />
            `}},"urlFields"),v=F(u=>{if(u.type==="boolean"){if(c.push(["TagField","@refinedev/antd"],["BooleanField","@refinedev/antd"]),u.multiple){let P=X("item",void 0,u.accessor);return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                {(${X(l,u.key)} as any[])?.map((item, index) => (
                    <BooleanField value={${P}} key={index} />
                ))}
            `}return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <BooleanField value={${X(l,u.key,u.accessor," && ")}} />
            `}},"booleanFields"),s=F(u=>{if(u.type==="date"){if(c.push(["DateField","@refinedev/antd"]),u.multiple){let P=X("item",void 0,u.accessor);return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                {${X(l,u.key)}?.map((item: any) => (
                    <DateField value={${P}} key={${P}} />
                ))}
            `}return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <DateField value={${X(l,u.key,u.accessor," + ' ' + ")}} />
            `}},"dateFields"),h=F(u=>{if(u.type==="richtext")return c.push(["MarkdownField","@refinedev/antd"]),Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <MarkdownField value={${X(l,u.key,u.accessor,' + " " + ')}} />
            `},"richtextFields"),d=F(u=>{if(u.type==="number"){if(c.push(["NumberField","@refinedev/antd"]),u.multiple){let P=X("item",void 0,u.accessor);return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                {${X(l,u.key)}?.map((item: any) => (
                    <TagField value={${P}} key={${P}} />
                ))}
            `}return Z`
                <Title level={5}>${ae({resource:e,field:u,i18n:o,noQuotes:!0})}</Title>
                <NumberField value={${X(l,u.key,u.accessor,' + " " + ')} ?? ""} />
            `}},"numberFields"),k=t.map(u=>{switch(u==null?void 0:u.type){case"text":return w(u);case"number":return d(u);case"richtext":return h(u);case"email":return E(u);case"image":return m(u);case"date":return s(u);case"boolean":return v(u);case"url":return x(u);case"relation":return b(u);default:return}});ar(c);let L=o&&"const translate = useTranslate();";return Z`
    ${rr(c)}
    
    const { Title } = Typography;

    export const ${i}: React.FC<IResourceComponentsProps> = () => {
        ${L}
        const { queryResult } = useShow(${a?`{ 
                    resource: "${e.name}", 
                    id: ${Ua(n)},
                    ${qe((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}
                }`:qe((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")?`{${qe((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}}`:""});
        const { data, isLoading } = queryResult;
    
        const ${l} = data?.data;

        ${f}

        return (
            <Show isLoading={isLoading}>
                ${k.join("")}
            </Show>
        );
    };
    `},"renderer"),ki=hr({type:"show",additionalScope:[["@refinedev/antd","RefineAntd",{Show:Ne.Show,TagField:Ne.TagField,TextField:Ne.TextField,ImageField:Ne.ImageField,EmailField:Ne.EmailField,UrlField:Ne.UrlField,BooleanField:Ne.BooleanField,DateField:Ne.DateField,MarkdownField:Ne.MarkdownField,NumberField:Ne.NumberField}],["antd","AntdPackage",{Typography:bd.Typography}]],codeViewerComponent:gr,loadingComponent:Cr,errorComponent:br,renderer:Cd});var xe=ge(Ma()),Rn=y("antd");var Ed=F(({resource:e,fields:t,meta:r,isCustomPage:a,i18n:n})=>{let o=Ot(e.label??e.name,"list"),i="tableProps?.dataSource",l=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["BaseRecord","@refinedev/core"],["useTable","@refinedev/antd"],["List","@refinedev/antd"],["Table","antd"],["Space","antd"]];n&&l.push(["useTranslate","@refinedev/core"]);let p=t.filter(g=>(g==null?void 0:g.relation)&&!(g!=null&&g.fieldable)&&(g==null?void 0:g.resource)).filter(Boolean).map(g=>{var I,T;if(g!=null&&g.relation&&!g.fieldable&&g.resource){l.push(["useMany","@refinedev/core"]);let A="";return g.multiple?A=`[].concat(...(${i}?.map((item) => ${X("item",g.key,g.accessor,!1)}) ?? []))`:A=`${i}?.map((item) => ${X("item",g.key,g.accessor,!1)}) ?? []`,`
                const { data: ${$e(g.key,"Data")}, isLoading: ${$e(g.key,"IsLoading")} } =
                useMany({
                    resource: "${g.resource.name}",
                    ids: ${A},
                    queryOptions: {
                        enabled: !!${i},
                    },
                    ${qe(((I=g==null?void 0:g.resource)==null?void 0:I.identifier)??((T=g==null?void 0:g.resource)==null?void 0:T.name),r,"getMany")}
                });
                `}}).filter(Boolean),f=F(g=>{var I,T;if(g.relation&&g.resource){let N=`${$e(g.key,"Data")}?.data`,M=$e(g.key,"IsLoading");if(Array.isArray(g.accessor))return;let D=`${M} ? <>Loading...</> : `,O=g.multiple?`dataIndex="${g.key}"`:`dataIndex={["${g.key}", ${g.accessor?`"${g.accessor}"`:""}]}`,W=`title=${ae({resource:e,field:g,i18n:n})}`,R="";if(g.multiple){l.push(["TagField","@refinedev/antd"]);let Q="item";if(g!=null&&g.relationInfer){let U=`${N}?.find((resourceItems) => resourceItems.id === ${X("item",void 0,g.accessor)})`;Q=X(U,void 0,(I=g==null?void 0:g.relationInfer)==null?void 0:I.accessor)}R=`render={(value: any[]) => ${D} (
                    <>
                        {${X("value",void 0)}?.map((item, index) => (
                            <TagField key={index} value={${Q}} />
                        ))}
                    </>
                )}`}else if(g!=null&&g.relationInfer){let Q=`${N}?.find((item) => item.id === value)`,U=X(Q,void 0,(T=g==null?void 0:g.relationInfer)==null?void 0:T.accessor);R=`render={(value) => ${D} ${U}}`}else R="";return Z`<Table.Column ${O} ${W} ${R} />`}},"renderRelationFields"),b=F(g=>{if(g.type==="image"){l.push(["ImageField","@refinedev/antd"]);let I=Array.isArray(g.accessor)||g.multiple?`dataIndex="${g.key}"`:`dataIndex={["${g.key}", ${g.accessor?`"${g.accessor}"`:""}]}`,T=`title=${ae({resource:e,field:g,i18n:n})}`,A=Z`render={(value: any) => <ImageField style={{ maxWidth: "100px" }} value={${X("value",void 0,Array.isArray(g.accessor)?g.accessor:void 0," + ")}} />}`;if(g.multiple){let N=X("item",void 0,g.accessor," + ");A=Z`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <ImageField style={{ maxWidth: "100px" }} value={${N}} key={index} />
                ))}</>)}`}return Z`<Table.Column ${I} ${T} ${A} />`}},"imageFields"),w=F(g=>{if(g.type==="email"){l.push(["TagField","@refinedev/antd"],["EmailField","@refinedev/antd"]);let I=Array.isArray(g.accessor)||g.multiple?`dataIndex="${g.key}"`:`dataIndex={["${g.key}", ${g.accessor?`"${g.accessor}"`:""}]}`,T=`title=${ae({resource:e,field:g,i18n:n})}`,A=Z`render={(value: any) => <EmailField value={${X("value",void 0,Array.isArray(g.accessor)?g.accessor:void 0,' + " " + ')}} />}`;if(g.multiple){let N=X("item",void 0,g.accessor,' + " " + ');A=Z`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <TagField value={${N}} key={index} />
                ))}</>)}`}return Z`<Table.Column ${I} ${T} ${A} />`}},"emailFields"),m=F(g=>{if(g.type==="url"){l.push(["UrlField","@refinedev/antd"],["TagField","@refinedev/antd"]);let I=Array.isArray(g.accessor)||g.multiple?`dataIndex="${g.key}"`:`dataIndex={["${g.key}", ${g.accessor?`"${g.accessor}"`:""}]}`,T=`title=${ae({resource:e,field:g,i18n:n})}`,A=Z`render={(value: any) => <UrlField value={${X("value",void 0,Array.isArray(g.accessor)?g.accessor:void 0," + ")}} />}`;if(g.multiple){let N=X("item",void 0,g.accessor," + ");A=Z`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <TagField value={${N}} key={index} />
                ))}</>)}`}return Z`<Table.Column ${I} ${T} ${A} />`}},"urlFields"),E=F(g=>{if((g==null?void 0:g.type)==="boolean"){l.push(["BooleanField","@refinedev/antd"]);let I=Array.isArray(g.accessor)||g.multiple?`dataIndex="${g.key}"`:`dataIndex={["${g.key}", ${g.accessor?`"${g.accessor}"`:""}]}`,T=`title=${ae({resource:e,field:g,i18n:n})}`,A=Z`render={(value: any) => <BooleanField value={${X("value",void 0,Array.isArray(g.accessor)?g.accessor:void 0," && ")}} />}`;if(g.multiple){let N=X("item",void 0,g.accessor," && ");A=Z`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <BooleanField value={${N}} key={index} />
                ))}</>)}`}return Z`<Table.Column ${I} ${T} ${A} />`}},"booleanFields"),x=F(g=>{if(g.type==="date"){l.push(["DateField","@refinedev/antd"]);let I=Array.isArray(g.accessor)||g.multiple?`dataIndex="${g.key}"`:`dataIndex={["${g.key}", ${g.accessor?`"${g.accessor}"`:""}]}`,T=`title=${ae({resource:e,field:g,i18n:n})}`,A=Z`render={(value: any) => <DateField value={${X("value",void 0,Array.isArray(g.accessor)?g.accessor:void 0,' + " " + ')}} />}`;if(g.multiple){let N=X("item",void 0,g.accessor,' + " " + ');A=Z`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <DateField value={${N}} key={index} />
                ))}</>)}`}return Z`<Table.Column ${I} ${T} ${A} />`}},"dateFields"),v=F(g=>{if((g==null?void 0:g.type)==="richtext"){l.push(["MarkdownField","@refinedev/antd"]);let I=Array.isArray(g.accessor)||g.multiple?`dataIndex="${g.key}"`:g.accessor?`dataIndex={["${g.key}", "${g.accessor}"]}`:`dataIndex="${g.key}"`,T=`title=${ae({resource:e,field:g,i18n:n})}`,A=Z`render={(value: any) => <MarkdownField value={(${X("value",void 0,Array.isArray(g.accessor)?g.accessor:void 0)}).slice(0, 80) + "..."} />}`;if(g.multiple){let N=X("item",void 0,g.accessor,' + " " + ');A=Z`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <MarkdownField value={(${N})?.slice(0, 80) + "..."} key={index} />
                ))}</>)}`}return Z`<Table.Column ${I} ${T} ${A} />`}},"richtextFields"),s=F(g=>{if(g&&(g.type==="text"||g.type==="number")){let I=g.accessor&&!Array.isArray(g.accessor)&&!g.multiple?`dataIndex={["${g.key}", "${g.accessor}"]}`:`dataIndex="${g.key}"`,T=`title=${ae({resource:e,field:g,i18n:n})}`,A="";if(g.multiple){l.push(["TagField","@refinedev/antd"]);let N=X("item",void 0,g.accessor,' + " " + ');A=`render={(value: any[]) => (<>{value?.map((item) => (
                    <TagField value={${N}} key={${N}} />
                ))}</>)}`}return!g.multiple&&Array.isArray(g.accessor)&&(A=`render={(value: any) => (<>{${X("value",void 0,g.accessor)}}</>)}`),`<Table.Column ${I} ${T} ${A} />`}},"basicFields"),{canEdit:h,canShow:d,canDelete:k,meta:L}=e??{},u=k||(L==null?void 0:L.canDelete);h&&l.push(["EditButton","@refinedev/antd"]),d&&l.push(["ShowButton","@refinedev/antd"]),u&&l.push(["DeleteButton","@refinedev/antd"]);let $=h||d||u?Z`
            <Table.Column
                title=${n?'{translate("table.actions")}':'"Actions"'}
                dataIndex="actions"
                render={(_, record: BaseRecord) => (
                    <Space>
                    ${h?Z`
                        <EditButton
                            hideText
                            size="small"
                            recordItemId={record.id}
                        />
                        `:""}
                    ${d?Z`
                        <ShowButton
                            hideText
                            size="small"
                            recordItemId={record.id}
                        />
                        `:""}
                    ${u?Z`
                        <DeleteButton
                            hideText
                            size="small"
                            recordItemId={record.id}
                        />
                        `:""}
                    </Space>
                )}
            />
        `:"",S=t.map(g=>{switch(g==null?void 0:g.type){case"text":case"number":return s(g);case"richtext":return v(g);case"email":return w(g);case"image":return b(g);case"date":return x(g);case"boolean":return E(g);case"url":return m(g);case"relation":return f(g);default:return}});ar(l);let q=n&&"const translate = useTranslate();";return Z`
    ${rr(l)}
    
    export const ${o}: React.FC<IResourceComponentsProps> = () => {
        ${q}
        const { tableProps } = useTable({
            syncWithLocation: true,
            ${a?` resource: "${e.name}",`:""}
            ${qe((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getList")}
        });
    
        ${p}

        return (
            <List>
                <Table {...tableProps} rowKey="id">
                    ${S.join(`\r
`)}
                    ${$}
                </Table>
            </List>
        );
    };
    `},"renderer"),wi=hr({type:"list",additionalScope:[["@refinedev/antd","RefineAntd",{useTable:xe.useTable,List:xe.List,TagField:xe.TagField,ImageField:xe.ImageField,EmailField:xe.EmailField,UrlField:xe.UrlField,BooleanField:xe.BooleanField,DateField:xe.DateField,MarkdownField:xe.MarkdownField,EditButton:xe.EditButton,ShowButton:xe.ShowButton,DeleteButton:xe.DeleteButton}],["antd","AntdPackage",{Table:Rn.Table,Space:Rn.Space}]],codeViewerComponent:gr,loadingComponent:Cr,errorComponent:br,renderer:Ed});var Er=ge(Ma()),Tt=y("antd"),Pd=ge(y("dayjs"));var xd=F(({resource:e,fields:t,meta:r,isCustomPage:a,i18n:n})=>{let o=Ot(e.label??e.name,"create"),i=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["Create","@refinedev/antd"],["Form","antd"],["useForm","@refinedev/antd"],["Input","antd"]];n&&i.push(["useTranslate","@refinedev/core"]);let c=t.filter(s=>(s==null?void 0:s.relation)&&!(s!=null&&s.fieldable)&&(s==null?void 0:s.resource)).filter(Boolean).map(s=>{var h,d;if(s!=null&&s.relation&&!s.fieldable&&s.resource)return i.push(["useSelect","@refinedev/antd"]),`
                const { selectProps: ${$e(s.key,"SelectProps")} } =
                useSelect({
                    resource: "${s.resource.name}",
                    ${bi(s)}
                    ${qe(((h=s==null?void 0:s.resource)==null?void 0:h.identifier)??((d=s==null?void 0:s.resource)==null?void 0:d.name),r,"getList")}
                });
            `}).filter(Boolean),p=F(s=>{if(s.relation&&s.resource){i.push(["Select","antd"]);let h=$e(s.key,"SelectProps"),d=s.accessor?s.multiple?`"${s.key}"`:`["${s.key}", "${s.accessor}"]`:`"${s.key}"`,k="",L="";return s.accessor&&s.multiple&&(L=`getValueFromEvent={(selected: string[]) => {
                    return selected?.map((item) => ({ ${Ur(`${s.accessor}`)?s.accessor:`["${s.accessor}"]`}: item }));
                }}`,k=`getValueProps={(value: any[]) => {
                    return {
                        value: value?.map((item) => ${X("item",void 0,s.accessor)}),
                    };
                }}`),Z`
                <Form.Item
                    label=${ae({resource:e,field:s,i18n:n})}
                    name={${d}}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                    ${k}
                    ${L}
                >
                    <Select ${s.multiple?'mode="multiple"':""} {...${h}} />
                </Form.Item>             
                `}},"renderRelationFields"),f=F(s=>{if(s.type==="text"||s.type==="url"||s.type==="email"||s.type==="number")return la(s.key)||s.multiple?void 0:Z`
                <Form.Item
                    label=${ae({resource:e,field:s,i18n:n})}
                    name={["${s.key}"${s.accessor?', "'+s.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Input  />
                </Form.Item>
            `},"basicInputFields"),b=F(s=>{if(s.type==="image"){i.push(["Upload","antd"],["getValueFromEvent","@refinedev/antd"]);let h='valuePropName="fileList"';return s.multiple&&!s.accessor&&(h="getValueProps={(value) => ({ fileList: value?.map((item: any) => ({ url: item, name: item, uid: item }))})}"),s.multiple||(s.accessor?h="getValueProps={(value) => ({ fileList: value ? [value] : [] })}":h="getValueProps={(value) => ({ fileList: [{ url: value, name: value, uid: value }]})}"),Z`
                <Form.Item label=${ae({resource:e,field:s,i18n:n})}>
                    <Form.Item
                        name="${s.key}"
                        ${h}
                        getValueFromEvent={getValueFromEvent}
                        noStyle
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                    >
                        <Upload.Dragger
                            listType="picture"
                            ${s.multiple?"multiple":""}
                            beforeUpload={() => false}
                        >
                            <p className="ant-upload-text">
                                Drag & drop a file in this area
                            </p>
                        </Upload.Dragger>
                    </Form.Item>
                </Form.Item>
                `}},"imageFields"),w=F(s=>{if(s.type==="boolean")return i.push(["Checkbox","antd"]),s.multiple?void 0:Z`
                <Form.Item
                    label=${ae({resource:e,field:s,i18n:n})}
                    valuePropName="checked"
                    name={["${s.key}"${s.accessor?', "'+s.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Checkbox>${St(s.key)}</Checkbox>
                </Form.Item>
            `},"booleanFields"),m=F(s=>{if(s.type==="date")return i.push(["DatePicker","antd"],["dayjs","dayjs",!0]),s.multiple?void 0:Z`
                <Form.Item
                    label=${ae({resource:e,field:s,i18n:n})}
                    name={["${s.key}"${s.accessor?', "'+s.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                    getValueProps={(value) => ({ value: value ? dayjs(value) : undefined })}
                >
                    <DatePicker />
                </Form.Item>
            `},"dateFields"),E=F(s=>{if(s.type==="richtext")return Z`
            <Form.Item
                label=${ae({resource:e,field:s,i18n:n})}
                name="${s.key}"
                rules={[
                    {
                        required: true,
                    },
                ]}
            >
                <Input.TextArea rows={5} />
            </Form.Item>
            `},"richtextFields"),x=t.map(s=>{switch(s==null?void 0:s.type){case"text":case"number":case"email":case"url":return f(s);case"richtext":return E(s);case"image":return b(s);case"date":return m(s);case"boolean":return w(s);case"relation":return p(s);default:return}});ar(i);let v=n&&"const translate = useTranslate();";return Z`
    ${rr(i)}
    
    export const ${o}: React.FC<IResourceComponentsProps> = () => {
        ${v}
        const { formProps, saveButtonProps, queryResult } = useForm(${a?`{
                      resource: "${e.name}",
                      action: "create",
                      ${qe(e.identifier??e.name,r,"getOne")}
                  }`:qe((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")?`{
                  ${qe((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}
              }`:""});
    
        ${c}

        return (
            <Create saveButtonProps={saveButtonProps}>
                <Form {...formProps} layout="vertical">
                    ${x.join("")}
                </Form>
            </Create>
        );
    };
    `},"renderer"),Fi=hr({type:"create",additionalScope:[["@refinedev/antd","RefineAntd",{Create:Er.Create,useForm:Er.useForm,useSelect:Er.useSelect,getValueFromEvent:Er.getValueFromEvent}],["dayjs","dayjs",Pd.default,!0],["antd","AntdPackage",{Form:Tt.Form,Input:Tt.Input,Select:Tt.Select,Upload:Tt.Upload,Checkbox:Tt.Checkbox,DatePicker:Tt.DatePicker}]],codeViewerComponent:gr,loadingComponent:Cr,errorComponent:br,renderer:xd});var Pr=ge(Ma()),$t=y("antd"),kd=ge(y("dayjs"));var wd=F(({resource:e,fields:t,meta:r,isCustomPage:a,id:n,i18n:o})=>{let i=Ot(e.label??e.name,"edit"),l=$e(e.label??e.name,"Data"),c=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["Edit","@refinedev/antd"],["Form","antd"],["useForm","@refinedev/antd"],["Input","antd"]];o&&c.push(["useTranslate","@refinedev/core"]);let f=t.filter(d=>(d==null?void 0:d.relation)&&!(d!=null&&d.fieldable)&&(d==null?void 0:d.resource)).filter(Boolean).map(d=>{var k,L;if(d!=null&&d.relation&&!d.fieldable&&d.resource){c.push(["useSelect","@refinedev/antd"]);let u=X(l,d.key,d.accessor,!1);return d.multiple&&d.accessor&&(u=`${X(l,d.key)}?.map((item: any) => ${X("item",void 0,d.accessor)})`),`
                const { selectProps: ${$e(d.key,"SelectProps")} } =
                useSelect({
                    resource: "${d.resource.name}",
                    defaultValue: ${u},
                    ${d.relationInfer&&d.relationInfer.accessor?typeof d.relationInfer.accessor=="string"?d.relationInfer.accessor!=="title"?`optionLabel: "${d.relationInfer.accessor}",`:"":`optionLabel: "${d.relationInfer.accessor[0]}",`:""}
                    ${qe(((k=d==null?void 0:d.resource)==null?void 0:k.identifier)??((L=d==null?void 0:d.resource)==null?void 0:L.name),r,"getList")}
                });
            `}}).filter(Boolean),b=F(d=>{if(d.relation&&d.resource){c.push(["Select","antd"]);let k=$e(d.key,"SelectProps"),L=d.accessor?d.multiple?`"${d.key}"`:`["${d.key}", "${d.accessor}"]`:`"${d.key}"`,u="",P="";return d.accessor&&d.multiple&&(P=`getValueFromEvent={(selected: string[]) => {
                    return selected?.map((item) => ({ ${Ur(`${d.accessor}`)?d.accessor:`["${d.accessor}"]`}: item }));
                }}`,u=`getValueProps={(value: any[]) => {
                    return {
                        value: value?.map((item) => ${X("item",void 0,d.accessor)}),
                    };
                }}`),Z`
                <Form.Item
                    label=${ae({resource:e,field:d,i18n:o})}
                    name={${L}}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                    ${u}
                    ${P}
                >
                    <Select ${d.multiple?'mode="multiple"':""} {...${k}} />
                </Form.Item>             
                `}},"renderRelationFields"),w=F(d=>{if(d.type==="text"||d.type==="url"||d.type==="email"||d.type==="number"){if(d.multiple){let k=X(d.key,"index",d.accessor).split("?.").map(L=>`"${L}"`).join(", ").replace(/"index"/,"index");return`
                    <>
                        {(${X(l,d.key)} as any[])?.map((item, index) => (
                            <Form.Item
                                key={index}
                                label=${ae({resource:e,field:d,i18n:o})}
                                name={[${k}]}
                            >
                                <Input
                                    type="${d.type}"
                                ${la(d.key)?"readOnly disabled":""} />
                            </Form.Item>
                        ))}
                    </>
                `}return Z`
                <Form.Item
                    label=${ae({resource:e,field:d,i18n:o})}
                    name={["${d.key}"${d.accessor?', "'+d.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Input ${la(d.key)?"readOnly disabled":""} />
                </Form.Item>
            `}},"basicInputFields"),m=F(d=>{if(d.type==="image"){c.push(["Upload","antd"],["getValueFromEvent","@refinedev/antd"]);let k='valuePropName="fileList"';return d.multiple&&!d.accessor&&(k="getValueProps={(value) => ({ fileList: value?.map((item: any) => ({ url: item, name: item, uid: item }))})}"),d.multiple||(d.accessor?k="getValueProps={(value) => ({ fileList: value ? [value] : [] })}":k="getValueProps={(value) => ({ fileList: [{ url: value, name: value, uid: value }]})}"),Z`
                <Form.Item label=${ae({resource:e,field:d,i18n:o})}>
                    <Form.Item
                        name="${d.key}"
                        ${k}
                        getValueFromEvent={getValueFromEvent}
                        noStyle
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                    >
                        <Upload.Dragger
                            listType="picture"
                            ${d.multiple?"multiple":""}
                            beforeUpload={() => false}
                        >
                            <p className="ant-upload-text">
                                Drag & drop a file in this area
                            </p>
                        </Upload.Dragger>
                    </Form.Item>
                </Form.Item>
                `}},"imageFields"),E=F(d=>{if(d.type==="boolean"){if(c.push(["Checkbox","antd"]),d.multiple){let k=X(d.key,"index",d.accessor).split("?.").map(L=>`"${L}"`).join(", ").replace(/"index"/,"index");return`
                    <>
                        {(${X(l,d.key)} as any[])?.map((item, index) => (
                            <Form.Item
                                key={index}
                                valuePropName="checked"
                                label=${ae({resource:e,field:d,i18n:o})}
                                name={[${k}]}
                            >
                                <Checkbox>${St(d.key)}</Checkbox>
                            </Form.Item>
                        ))}
                    </>
                `}return Z`
                <Form.Item
                    label=${ae({resource:e,field:d,i18n:o})}
                    valuePropName="checked"
                    name={["${d.key}"${d.accessor?', "'+d.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Checkbox>${St(d.key)}</Checkbox>
                </Form.Item>
            `}},"booleanFields"),x=F(d=>{if(d.type==="date"){if(c.push(["DatePicker","antd"],["dayjs","dayjs",!0]),d.multiple){let k=X(d.key,"index",d.accessor).split("?.").map(L=>`"${L}"`).join(", ").replace(/"index"/,"index");return Z`
                    <>
                        {(${X(l,d.key)} as any[])?.map((item, index) => (
                            <Form.Item
                                key={index}
                                label=${ae({resource:e,field:d,i18n:o})}
                                name={[${k}]}
                                getValueProps={(value) => ({ value: value ? dayjs(value) : undefined })}
                            >
                                <DatePicker />
                            </Form.Item>
                        ))}
                    </>
                `}return Z`
                <Form.Item
                    label=${ae({resource:e,field:d,i18n:o})}
                    name={["${d.key}"${d.accessor?', "'+d.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                    getValueProps={(value) => ({ value: value ? dayjs(value) : undefined })}
                >
                    <DatePicker />
                </Form.Item>
            `}},"dateFields"),v=F(d=>{if(d.type==="richtext")return Z`
            <Form.Item
                label=${ae({resource:e,field:d,i18n:o})}
                name="${d.key}"
                rules={[
                    {
                        required: true,
                    },
                ]}
            >
                <Input.TextArea rows={5} />
            </Form.Item>
            `},"richtextFields"),s=t.map(d=>{switch(d==null?void 0:d.type){case"text":case"number":case"email":case"url":return w(d);case"richtext":return v(d);case"image":return m(d);case"date":return x(d);case"boolean":return E(d);case"relation":return b(d);default:return}});ar(c);let h=o&&"const translate = useTranslate();";return Z`
    ${rr(c)}
    
    export const ${i}: React.FC<IResourceComponentsProps> = () => {
        ${h}
        const { formProps, saveButtonProps, queryResult } = useForm(${a?`{
                      resource: "${e.name}",
                      id: ${Ua(n)},
                      action: "edit",
                      ${qe((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}
                  }`:qe((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")?`{
                    ${qe((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}
                }`:""});
    
        const ${l} = queryResult?.data?.data;
    
        ${f}

        return (
            <Edit saveButtonProps={saveButtonProps}>
                <Form {...formProps} layout="vertical">
                    ${s.join("")}
                </Form>
            </Edit>
        );
    };
    `},"renderer"),Ii=hr({type:"edit",additionalScope:[["@refinedev/antd","RefineAntd",{Edit:Pr.Edit,useForm:Pr.useForm,useSelect:Pr.useSelect,getValueFromEvent:Pr.getValueFromEvent}],["dayjs","dayjs",kd.default,!0],["antd","AntdPackage",{Form:$t.Form,Input:$t.Input,Select:$t.Select,Upload:$t.Upload,Checkbox:$t.Checkbox,DatePicker:$t.DatePicker}]],codeViewerComponent:gr,loadingComponent:Cr,errorComponent:br,renderer:wd});var dE=F(({action:e,id:t,...r})=>{let{action:a,id:n}=(0,Fd.useResource)();switch(e??a){case"show":return Va.default.createElement(ki,{...r,id:t??n});case"create":return Va.default.createElement(Fi,{...r,id:t??n});case"edit":return Va.default.createElement(Ii,{...r,id:t??n});default:return Va.default.createElement(wi,{...r,id:t??n})}},"AntdInferencer");})();
//# sourceMappingURL=antd.js.map