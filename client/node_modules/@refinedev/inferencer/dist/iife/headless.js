(()=>{var Os=Object.create;var _r=Object.defineProperty;var qs=Object.getOwnPropertyDescriptor;var Vs=Object.getOwnPropertyNames;var Us=Object.getPrototypeOf,Qs=Object.prototype.hasOwnProperty;var h=(e,t)=>_r(e,"name",{value:t,configurable:!0}),S=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var rr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ks=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Vs(t))!Qs.call(e,n)&&n!==r&&_r(e,n,{get:()=>t[n],enumerable:!(a=qs(t,n))||a.enumerable});return e};var oe=(e,t,r)=>(r=e!=null?Os(Us(e)):{},Ks(t||!e||!e.__esModule?_r(r,"default",{value:e,enumerable:!0}):r,e));var xr=rr((Zd,ya)=>{var zs=Object.create,Cr=Object.defineProperty,Ws=Object.getOwnPropertyDescriptor,js=Object.getOwnPropertyNames,Hs=Object.getPrototypeOf,_s=Object.prototype.hasOwnProperty,Bs=h((e,t)=>{for(var r in t)Cr(e,r,{get:t[r],enumerable:!0})},"N"),ca=h((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of js(t))!_s.call(e,n)&&n!==r&&Cr(e,n,{get:()=>t[n],enumerable:!(a=Ws(t,n))||a.enumerable});return e},"E"),Gs=h((e,t,r)=>(r=e!=null?zs(Hs(e)):{},ca(t||!e||!e.__esModule?Cr(r,"default",{value:e,enumerable:!0}):r,e)),"A"),Xs=h(e=>ca(Cr({},"__esModule",{value:!0}),e),"V"),da={};Bs(da,{DevToolsContext:()=>ga,DevToolsContextProvider:()=>Ys,DevtoolsEvent:()=>pa,hooksByScope:()=>Zs,receive:()=>va,scopes:()=>ma,send:()=>fa});ya.exports=Xs(da);var pa=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(pa||{}),ma={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},Zs=Object.entries(ma).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),Wt=Gs(S("react"));async function fa(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let n=h(()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",n)},"a");e.addEventListener("open",n)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}h(fa,"d");function va(e,t,r){let a=h(n=>{let{event:o,payload:i}=JSON.parse(n.data);t===o&&r(i)},"s");return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}h(va,"c");var ga=Wt.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),Ys=h(({__devtools:e,port:t,children:r})=>{let[a,n]=Wt.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[o,i]=Wt.default.useState(null);Wt.default.useEffect(()=>{let m=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),g=va(m,"devtools:handshake",y=>{n(x=>({...x,devtoolsUrl:y.url})),g()});return m.addEventListener("open",()=>{a.__devtools||fa(m,"devtools:init",{url:window.location.origin})}),i(m),()=>{g(),m.close(1e3,window.location.origin)}},[]);let l=Wt.default.useMemo(()=>({...a,ws:o}),[a,o]);return Wt.default.createElement(ga.Provider,{value:l},r)},"S")});var ie=rr((rp,wa)=>{var Js=Object.create,Pr=Object.defineProperty,el=Object.getOwnPropertyDescriptor,tl=Object.getOwnPropertyNames,rl=Object.getPrototypeOf,nl=Object.prototype.hasOwnProperty,al=h((e,t)=>{for(var r in t)Pr(e,r,{get:t[r],enumerable:!0})},"L"),ha=h((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of tl(t))!nl.call(e,n)&&n!==r&&Pr(e,n,{get:()=>t[n],enumerable:!(a=el(t,n))||a.enumerable});return e},"d"),ba=h((e,t,r)=>(r=e!=null?Js(rl(e)):{},ha(t||!e||!e.__esModule?Pr(r,"default",{value:e,enumerable:!0}):r,e)),"E"),ol=h(e=>ha(Pr({},"__esModule",{value:!0}),e),"M"),Ca={};al(Ca,{getTrace:()=>Pa,getXRay:()=>pl,useQuerySubscription:()=>ml});wa.exports=ol(Ca);var il=ba(S("error-stack-parser")),sl="renderWithHooks",ll=h(e=>{let t=e.findIndex(r=>r.functionName===sl);return t!==-1?e.slice(0,t):e},"T"),xa=/node_modules\/refinedev\/(?<name>.*?)\//,ul=h(e=>e?!!e.match(xa):!1,"_"),cl=h(e=>{var t;if(!e)return;let r=e.match(xa),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`},"R");function Pa(){return[];try{let e=new Error,t=il.default.parse(e);return ll(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:ul(r.fileName),packageName:cl(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}h(Pa,"l");var Br=xr(),dl=h((e,t)=>{if(Br.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(Br.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(Br.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function pl(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}h(pl,"I");var Jd=xr(),ep=ba(S("react")),tp=xr(),ml=()=>({})});var ct=rr((ap,Si)=>{var fl=Object.create,ar=Object.defineProperty,vl=Object.getOwnPropertyDescriptor,gl=Object.getOwnPropertyNames,yl=Object.getPrototypeOf,hl=Object.prototype.hasOwnProperty,p=h((e,t)=>ar(e,"name",{value:t,configurable:!0}),"o"),bl=h((e,t)=>{for(var r in t)ar(e,r,{get:t[r],enumerable:!0})},"Pi"),Co=h((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of gl(t))!hl.call(e,n)&&n!==r&&ar(e,n,{get:()=>t[n],enumerable:!(a=vl(t,n))||a.enumerable});return e},"Bs"),j=h((e,t,r)=>(r=e!=null?fl(yl(e)):{},Co(t||!e||!e.__esModule?ar(r,"default",{value:e,enumerable:!0}):r,e)),"B"),Cl=h(e=>Co(ar({},"__esModule",{value:!0}),e),"xi"),xo={};bl(xo,{AccessControlContext:()=>ur,AuthPage:()=>Hc,Authenticated:()=>Ii,CanAccess:()=>dd,ErrorComponent:()=>Qc,GitHubBanner:()=>md,KeyBuilder:()=>hn,LayoutWrapper:()=>sd,LoginPage:()=>wi,ReadyPage:()=>$i,Refine:()=>id,ResourceContext:()=>ir,RouteChangeHandler:()=>Ei,TranslationContext:()=>Vt,UndoableQueue:()=>ki,WelcomePage:()=>Bc,createTreeView:()=>Al,file2Base64:()=>Xl,generateDefaultDocumentTitle:()=>_o,getDefaultFilter:()=>Gl,getDefaultSortOrder:()=>Bl,getNextPageParam:()=>Qo,getPreviousPageParam:()=>Ko,handleUseParams:()=>$l,importCSVMapper:()=>$o,keys:()=>xt,legacyResourceTransform:()=>zo,matchResourceFromRoute:()=>Nl,parseTableParams:()=>Pn,parseTableParamsFromQuery:()=>_l,pickDataProvider:()=>ee,pickNotDeprecated:()=>Q,queryKeys:()=>kl,routeGenerator:()=>Oo,setInitialFilters:()=>fn,setInitialSorters:()=>vn,stringifyTableParams:()=>pn,unionFilters:()=>nr,unionSorters:()=>mn,useActiveAuthProvider:()=>Ce,useApiUrl:()=>$u,useAuthenticated:()=>ru,useBack:()=>yi,useBreadcrumb:()=>qc,useCan:()=>Ci,useCanWithoutCache:()=>Ic,useCancelNotification:()=>Xt,useCheckError:()=>nu,useCreate:()=>Fn,useCreateMany:()=>ri,useCustom:()=>Eu,useCustomMutation:()=>Fu,useDataProvider:()=>Ee,useDelete:()=>yu,useDeleteMany:()=>wu,useExport:()=>ic,useForgotPassword:()=>In,useForm:()=>uc,useGetIdentity:()=>wn,useGetLocale:()=>nc,useGetToPath:()=>Tn,useGo:()=>Be,useHandleNotification:()=>Ke,useImport:()=>vc,useInfiniteList:()=>Ru,useInvalidate:()=>yt,useIsAuthenticated:()=>Mr,useIsExistAuthentication:()=>Jo,useLink:()=>Rr,useList:()=>Sn,useLiveMode:()=>mi,useLoadingOvertime:()=>we,useLog:()=>Ut,useLogList:()=>Rc,useLogin:()=>Tr,useLogout:()=>Lr,useMany:()=>ei,useMenu:()=>Uc,useMeta:()=>ge,useModal:()=>gc,useMutationMode:()=>Gt,useNavigation:()=>Ge,useNotification:()=>kt,useOnError:()=>Te,useOne:()=>Ln,useParse:()=>di,useParsed:()=>rt,usePermissions:()=>Yo,usePublish:()=>qt,useRedirectionAfterSubmission:()=>gi,useRefineContext:()=>Ae,useRegister:()=>kn,useResource:()=>re,useResourceSubscription:()=>lr,useResourceWithRoute:()=>pi,useRouterContext:()=>ze,useRouterType:()=>xe,useSelect:()=>Lc,useSetLocale:()=>rc,useShow:()=>pc,useSubscription:()=>Gu,useSyncWithLocation:()=>Go,useTable:()=>xi,useTitle:()=>jl,useToPath:()=>hc,useTranslate:()=>ce,useUpdate:()=>gn,useUpdateMany:()=>xu,useUpdatePassword:()=>En,useUserFriendlyName:()=>xn,useWarnAboutChange:()=>Cn,userFriendlyResourceName:()=>ko});Si.exports=Cl(xo);var Tt=j(S("react")),$a=S("@tanstack/react-query"),ka=ie(),yn=j(S("qs")),Po=j(S("lodash/unionWith")),wo=j(S("lodash/differenceWith")),xl=j(S("warn-once")),Gr=p(e=>e/1e3,"userFriendlySecond"),Pl=j(S("lodash/zip")),wl=j(S("lodash/fromPairs")),$o=p((e,t=r=>r)=>{let[r,...a]=e;return a.map(n=>(0,wl.default)((0,Pl.default)(r,n))).map((n,o,i)=>t.call(void 0,n,o,i))},"importCSVMapper"),Ia=j(S("pluralize")),ko=p((e="",t)=>{let r=qo(e);return t==="singular"?Ia.default.singular(r):Ia.default.plural(r)},"userFriendlyResourceName"),$l=p((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),Q=p((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function ut(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((n,o)=>e[a+o]===n))}h(ut,"Ye");p(ut,"arrayFindIndex");function Io(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(ut(e,["auth","login"])!==-1)return["useLogin"];if(ut(e,["auth","logout"])!==-1)return["useLogout"];if(ut(e,["auth","identity"])!==-1)return["getUserIdentity"];if(ut(e,["auth","register"])!==-1)return["useRegister"];if(ut(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(ut(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(ut(e,["auth","onError"])!==-1)return["useCheckError"];if(ut(e,["auth","permissions"])!==-1)return["usePermissions"];if(ut(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}h(Io,"Ci");p(Io,"convertToLegacy");var Qe=h(class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return Io(this.segments)}get(e){return e?this.legacy():this.segments}},"ve");p(Qe,"BaseKeyBuilder");var gt=h(class extends Qe{constructor(e){super(e)}params(e){return new Qe([...this.segments,e])}},"We");p(gt,"ParamsKeyBuilder");var Eo=h(class extends Qe{constructor(e){super(e)}id(e){return new gt([...this.segments,e?String(e):void 0])}},"Mr");p(Eo,"DataIdRequiringKeyBuilder");var So=h(class extends Qe{constructor(e){super(e)}ids(...e){return new gt([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}},"Ir");p(So,"DataIdsRequiringKeyBuilder");var Lo=h(class extends Qe{constructor(e){super(e)}action(e){if(e==="one")return new Eo([...this.segments,e]);if(e==="many")return new So([...this.segments,e]);if(["list","infinite"].includes(e))return new gt([...this.segments,e]);throw new Error("Invalid action type")}},"wr");p(Lo,"DataResourceKeyBuilder");var Fo=h(class extends Qe{constructor(e){super(e)}resource(e){return new Lo([...this.segments,e])}mutation(e){return new gt([...e==="custom"?this.segments:[this.segments[0]],e])}},"Sr");p(Fo,"DataKeyBuilder");var No=h(class extends Qe{constructor(e){super(e)}action(e){return new gt([...this.segments,e])}},"Ar");p(No,"AuthKeyBuilder");var Ao=h(class extends Qe{constructor(e){super(e)}action(e){return new gt([...this.segments,e])}},"kr");p(Ao,"AccessResourceKeyBuilder");var To=h(class extends Qe{constructor(e){super(e)}resource(e){return new Ao([...this.segments,e])}},"Qr");p(To,"AccessKeyBuilder");var Mo=h(class extends Qe{constructor(e){super(e)}action(e){return new gt([...this.segments,e])}},"Fr");p(Mo,"AuditActionKeyBuilder");var Ro=h(class extends Qe{constructor(e){super(e)}resource(e){return new Mo([...this.segments,e])}action(e){return new gt([...this.segments,e])}},"Vr");p(Ro,"AuditKeyBuilder");var hn=h(class extends Qe{constructor(e){super(e)}data(e){return new Fo(["data",e||"default"])}auth(){return new No(["auth"])}access(){return new To(["access"])}audit(){return new Ro(["audit"])}},"Pt");p(hn,"KeyBuilder");var xt=p(()=>new hn([]),"keys"),kl=p((e,t,r,a)=>{let n=t||"default",o={all:[n],resourceAll:[n,e||""],list:i=>[...o.resourceAll,"list",{...i,...Q(r,a)||{}}],many:i=>[...o.resourceAll,"getMany",i&&i.map(String),{...Q(r,a)||{}}].filter(l=>l!==void 0),detail:i=>[...o.resourceAll,"detail",i==null?void 0:i.toString(),{...Q(r,a)||{}}],logList:i=>["logList",e,i,a].filter(l=>l!==void 0)};return o},"queryKeys"),Nr=p(e=>(t,r,a,n)=>{let o=r||"default";return{all:xt().data(o).get(e),resourceAll:xt().data(r).resource(t??"").get(e),list:i=>xt().data(r).resource(t??"").action("list").params({...i,...Q(a,n)||{}}).get(e),many:i=>xt().data(r).resource(t??"").action("many").ids(...i??[]).params({...Q(a,n)||{}}).get(e),detail:i=>xt().data(r).resource(t??"").action("one").id(i??"").params({...Q(a,n)||{}}).get(e),logList:i=>[...xt().audit().resource(t).action("list").params(i).get(e),n].filter(l=>l!==void 0)}},"queryKeysReplacement"),Il=p((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),bn=p(e=>e.startsWith(":"),"isParameter"),_t=p(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),El=p((e,t)=>{let r=_t(e),a=_t(t);return r.length===a.length},"isSegmentCountsSame"),vt=p(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),Sl=p((e,t)=>{let r=vt(e),a=vt(t);if(!El(r,a))return!1;let n=_t(r);return _t(a).every((o,i)=>bn(o)||o===n[i])},"checkBySegments"),Ll=p((e,t,r)=>{let a=vt(r||""),n=`${a}${a?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},"getDefaultActionPath"),wt=p((e,t)=>{var r,a;let n=Q((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return n?t.find(o=>(o.identifier??o.name)===n)??{name:n}:void 0},"getParentResource"),Do=p((e,t,r)=>{let a=[],n=wt(e,t);for(;n;)a.push(n),n=wt(n,t);if(a.length!==0)return`/${a.reverse().map(o=>{var i;let l=r?((i=o.options)==null?void 0:i.route)??o.name:o.name;return vt(l)}).join("/")}`},"getParentPrefixForResource"),Ve=p((e,t,r)=>{let a=[],n=["list","show","edit","create","clone"],o=Do(e,t,r);return n.forEach(i=>{var l,m;let g=r&&i==="clone"?e.create:e[i],y;typeof g=="function"||r?y=Ll(r?((l=e.meta)==null?void 0:l.route)??((m=e.options)==null?void 0:m.route)??e.name:e.name,i,r?o:void 0):typeof g=="string"?y=g:typeof g=="object"&&(y=g.path),y&&a.push({action:i,resource:e,route:`/${y.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),Fl=p(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(o=>({...o,splitted:_t(vt(o.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,n=[...r];for(let o=0;o<a;o++){let i=n.filter(l=>!bn(l.splitted[o]));if(i.length!==0){if(i.length===1){n=i;break}n=i}}return n[0]},"pickMatchedRoute"),Nl=p((e,t)=>{let r=t.flatMap(n=>Ve(n,t)).filter(n=>Sl(e,n.route)),a=Fl(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),Oo=p((e,t)=>{var r;let a,n=Do(e,t,!0);if(n){let o=Q(e.meta,e.options);a=`${n}/${(o==null?void 0:o.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),Al=p(e=>{var t;let r=[],a={},n={},o,i;for(let l=0;l<e.length;l++){o=e[l];let m=o.route??((t=Q(o==null?void 0:o.meta,o.options))==null?void 0:t.route)??"";a[m]=o,a[m].children=[],n[o.name]=o,n[o.name].children=[]}for(let l in a)a.hasOwnProperty(l)&&(i=a[l],i.parentName&&n[i.parentName]?n[i.parentName].children.push(i):r.push(i));return r},"createTreeView"),qo=p(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),Vo=j(S("react")),Ea=j(S("pluralize")),Tl=j(S("react")),Uo=p(({children:e})=>Tl.default.createElement("div",null,e),"DefaultLayout"),Ne={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:qo,plural:Ea.default.plural,singular:Ea.default.singular},disableServerSideValidation:!1},$t=Vo.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Uo,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ne}),Ml=p(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:n,children:o,DashboardPage:i,Title:l,Layout:m=Uo,Header:g,Sider:y,Footer:x,OffLayoutArea:$,LoginPage:d=wi,catchAll:C,liveMode:f="off",onLiveEvent:v,options:u})=>Vo.default.createElement($t.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:l,undoableTimeout:n,Layout:m,Header:g,Sider:y,Footer:x,OffLayoutArea:$,DashboardPage:i,LoginPage:d,catchAll:C,liveMode:f,onLiveEvent:v,options:u}},o),"RefineContextProvider"),Rl=p(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:n,reactQueryDevtoolConfig:o,syncWithLocation:i,undoableTimeout:l,warnWhenUnsavedChanges:m}={})=>{var g,y,x,$,d,C,f,v;let u={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??Ne.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??l??Ne.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??i??Ne.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??m??Ne.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Ne.liveMode,redirect:{afterCreate:((g=e==null?void 0:e.redirect)==null?void 0:g.afterCreate)??Ne.redirect.afterCreate,afterClone:((y=e==null?void 0:e.redirect)==null?void 0:y.afterClone)??Ne.redirect.afterClone,afterEdit:((x=e==null?void 0:e.redirect)==null?void 0:x.afterEdit)??Ne.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Ne.overtime,textTransformers:{humanize:(($=e==null?void 0:e.textTransformers)==null?void 0:$.humanize)??Ne.textTransformers.humanize,plural:((d=e==null?void 0:e.textTransformers)==null?void 0:d.plural)??Ne.textTransformers.plural,singular:((C=e==null?void 0:e.textTransformers)==null?void 0:C.singular)??Ne.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Ne.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},b=(e==null?void 0:e.disableTelemetry)??t??!1,w={clientConfig:((f=e==null?void 0:e.reactQuery)==null?void 0:f.clientConfig)??n??{},devtoolConfig:((v=e==null?void 0:e.reactQuery)==null?void 0:v.devtoolConfig)??o??{}};return{optionsWithDefaults:u,disableTelemetryWithDefault:b,reactQueryWithDefaults:w}},"handleRefineOptions"),Dl=p(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),Sa=p(async(e,t,r)=>{let a=[];for(let[n,o]of e.entries())try{let i=await o();a.push(t(i,n))}catch(i){a.push(r(i,n))}return a},"sequentialPromises"),Ie=p((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(o=>vt(o.route??"")===vt(e))||t.find(o=>o.name===e);let a=t.find(n=>n.identifier===e);return a||(a=t.find(n=>n.name===e)),a},"pickResource"),ee=p((e,t,r)=>{if(t)return t;let a=Ie(e,r),n=Q(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},"pickDataProvider"),Ar=p(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),Qo=p(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/n);return a<o?Number(a)+1:void 0},"getNextPageParam"),Ko=p(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),zo=p(e=>{let t=[];return e.forEach(r=>{var a,n;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((n=r.options)==null?void 0:n.label),route:Oo(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),Ol=p(e=>_t(vt(e)).flatMap(t=>bn(t)?[t.slice(1)]:[]),"pickRouteParams"),ql=p((e,t={})=>e.reduce((r,a)=>{let n=t[a];return typeof n<"u"&&(r[a]=n),r},{}),"prepareRouteParams"),He=p((e,t={},r={},a={})=>{let n=Ol(e),o=ql(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(i,l)=>{let m=o[l];return typeof m<"u"?`${m}`:i})},"composeRoute"),Bt=j(S("react")),Wo=Bt.default.createContext({}),Vl=p(({children:e,isProvided:t,...r})=>{let{replace:a}=Ge(),n=p(async m=>{var g;try{return await((g=r.login)==null?void 0:g.call(r,m))}catch(y){return Promise.reject(y)}},"loginFunc"),o=p(async m=>{var g;try{return await((g=r.register)==null?void 0:g.call(r,m))}catch(y){return Promise.reject(y)}},"registerFunc"),i=p(async m=>{var g;try{return await((g=r.logout)==null?void 0:g.call(r,m))}catch(y){return Promise.reject(y)}},"logoutFunc"),l=p(async m=>{var g;try{return await((g=r.checkAuth)==null?void 0:g.call(r,m)),Promise.resolve()}catch(y){return y!=null&&y.redirectPath&&a(y.redirectPath),Promise.reject(y)}},"checkAuthFunc");return Bt.default.createElement(Wo.Provider,{value:{...r,login:n,logout:i,checkAuth:l,register:o,isProvided:t}},e)},"LegacyAuthContextProvider"),jo=Bt.default.createContext({}),Ul=p(({children:e,isProvided:t,...r})=>{let a=p(async g=>{var y;try{return await((y=r.login)==null?void 0:y.call(r,g))}catch(x){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",x),Promise.reject(x)}},"handleLogin"),n=p(async g=>{var y;try{return await((y=r.register)==null?void 0:y.call(r,g))}catch(x){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",x),Promise.reject(x)}},"handleRegister"),o=p(async g=>{var y;try{return await((y=r.logout)==null?void 0:y.call(r,g))}catch(x){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",x),Promise.reject(x)}},"handleLogout"),i=p(async g=>{var y;try{let x=await((y=r.check)==null?void 0:y.call(r,g));return Promise.resolve(x)}catch(x){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",x),Promise.reject(x)}},"handleCheck"),l=p(async g=>{var y;try{let x=await((y=r.forgotPassword)==null?void 0:y.call(r,g));return Promise.resolve(x)}catch(x){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",x),Promise.reject(x)}},"handleForgotPassword"),m=p(async g=>{var y;try{let x=await((y=r.updatePassword)==null?void 0:y.call(r,g));return Promise.resolve(x)}catch(x){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",x),Promise.reject(x)}},"handleUpdatePassword");return Bt.default.createElement(jo.Provider,{value:{...r,login:a,logout:o,check:i,register:n,forgotPassword:l,updatePassword:m,isProvided:t}},e)},"AuthBindingsContextProvider"),_e=p(()=>Bt.default.useContext(Wo),"useLegacyAuthContext"),tt=p(()=>Bt.default.useContext(jo),"useAuthBindingsContext"),Ce=p(()=>{let e=_e(),t=tt();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),Ho=p(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",n=(t==null?void 0:t.mode)??a,o=Q(t==null?void 0:t.current,r==null?void 0:r.current)??1,i=Q(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:o,pageSize:i,mode:n}},"handlePaginationParams"),La=S("react"),Fa=p(e=>{let[t,r]=(0,La.useState)(!1);return(0,La.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let n=p(()=>r(a.matches),"listener");return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t},"useMediaQuery"),Xr=p((e,t,r,a)=>{let n=a?e(t,a,r):e(t,r);return n===t||typeof n>"u"?r??t:n},"safeTranslate");function _o(e,t,r,a,n){var o;let i={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},l=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),m=(t==null?void 0:t.label)??((o=t==null?void 0:t.meta)==null?void 0:o.label)??ko(l,r==="list"?"plural":"singular"),g=n??m,y=Xr(e,"documentTitle.default","refine"),x=Xr(e,"documentTitle.suffix"," | refine"),$=y;return r&&l&&($=Xr(e,`documentTitle.${l}.${r}`,`${i[r]??""}${g}${x}`,{id:a})),$}h(_o,"Ko");p(_o,"generateDefaultDocumentTitle");var Ql=S("react"),Gt=p(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Ql.useContext)($t);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Na=S("react"),dn=j(S("react")),Bo=dn.default.createContext({}),Kl=p(({children:e})=>{let[t,r]=(0,dn.useState)(!1);return dn.default.createElement(Bo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),Cn=p(()=>{let{warnWhenUnsavedChanges:e}=(0,Na.useContext)($t),{warnWhen:t,setWarnWhen:r}=(0,Na.useContext)(Bo);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),zl=S("react"),Go=p(()=>{let{syncWithLocation:e}=(0,zl.useContext)($t);return{syncWithLocation:e}},"useSyncWithLocation"),Wl=S("react"),jl=p(()=>{let{Title:e}=(0,Wl.useContext)($t);return e},"useTitle"),Hl=S("react"),Ae=p(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:i,mutationMode:l,syncWithLocation:m,undoableTimeout:g,warnWhenUnsavedChanges:y,DashboardPage:x,LoginPage:$,catchAll:d,options:C}=(0,Hl.useContext)($t);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:i,mutationMode:l,syncWithLocation:m,undoableTimeout:g,warnWhenUnsavedChanges:y,DashboardPage:x,LoginPage:$,catchAll:d,options:C}},"useRefineContext"),xn=p(()=>{let{options:{textTransformers:e}}=Ae();return p((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),Pn=p(e=>{let{current:t,pageSize:r,sorter:a,sorters:n,filters:o}=yn.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:Q(n,a)??[],parsedFilters:o??[]}},"parseTableParams"),_l=p(e=>{let t=yn.default.stringify(e);return Pn(`/${t}`)},"parseTableParamsFromQuery"),pn=p(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:n,filters:o,...i}=e;return yn.default.stringify({...i,...r||{},sorters:Q(n,a),filters:o},t)},"stringifyTableParams"),Xo=p((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),Zo=p((e,t)=>e.field==t.field,"compareSorters"),nr=p((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,xl.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Po.default)(e,t,r,Xo).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),mn=p((e,t)=>(0,Po.default)(e,t,Zo).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),fn=p((e,t)=>[...(0,wo.default)(t,e,Xo),...e],"setInitialFilters"),vn=p((e,t)=>[...(0,wo.default)(t,e,Zo),...e],"setInitialSorters"),Bl=p((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),Gl=p((e,t,r="eq")=>{let a=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:o,field:i}=n;return i===e&&o===r}});if(a)return a.value||[]},"getDefaultFilter"),Xl=p(e=>new Promise((t,r)=>{let a=new FileReader,n=p(()=>{a.result&&(a.removeEventListener("load",n,!1),t(a.result))},"resultHandler");a.addEventListener("load",n,!1),a.readAsDataURL(e.originFileObj),a.onerror=o=>(a.removeEventListener("load",n,!1),r(o))}),"file2Base64"),se=p(()=>{let{options:{useNewQueryKeys:e}}=Ae();return{keys:xt,preferLegacyKeys:!e}},"useKeys");function Yo({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=_e(),{getPermissions:a}=tt(),{keys:n,preferLegacyKeys:o}=se(),i=(0,$a.useQuery)(n().auth().action("permissions").get(o),a??(()=>Promise.resolve(void 0)),{enabled:!e&&!!a,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,ka.getXRay)("usePermissions",o)}}),l=(0,$a.useQuery)([...n().auth().action("permissions").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ka.getXRay)("usePermissions",o)}});return e?l:i}h(Yo,"mn");p(Yo,"usePermissions");var Aa=S("@tanstack/react-query"),Ta=ie();function wn({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=_e(),{getIdentity:a}=tt(),{keys:n,preferLegacyKeys:o}=se(),i=(0,Aa.useQuery)(n().auth().action("identity").get(o),a??(()=>Promise.resolve({})),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ta.getXRay)("useGetIdentity",o)}}),l=(0,Aa.useQuery)([...n().auth().action("identity").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ta.getXRay)("useGetIdentity",o)}});return e?l:i}h(wn,"zr");p(wn,"useGetIdentity");var Ma=S("@tanstack/react-query"),Ra=ie(),Zl=S("@tanstack/react-query"),$n=p(()=>{let e=(0,Zl.useQueryClient)(),{keys:t,preferLegacyKeys:r}=se();return p(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function Lr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=$n(),a=xe(),n=Be(),{push:o}=Ge(),{open:i,close:l}=kt(),{logout:m}=_e(),{logout:g}=tt(),{keys:y,preferLegacyKeys:x}=se(),$=(0,Ma.useMutation)(y().auth().action("logout").get(x),g,{onSuccess:async(C,f)=>{let{success:v,error:u,redirectTo:b}=C,{redirectPath:w}=f??{},F=w??b;v&&(l==null||l("useLogout-error")),(u||!v)&&(i==null||i(Zr(u))),await r(),F!==!1&&(a==="legacy"?o(F??"/login"):F&&n({to:F}))},onError:C=>{i==null||i(Zr(C))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ra.getXRay)("useLogout",x)}}),d=(0,Ma.useMutation)([...y().auth().action("logout").get(x),"v3LegacyAuthProviderCompatible"],m,{onSuccess:async(C,f)=>{let v=(f==null?void 0:f.redirectPath)??C;if(await r(),v!==!1){if(v){a==="legacy"?o(v):n({to:v});return}a==="legacy"?o("/login"):n({to:"/login"})}},onError:C=>{i==null||i(Zr(C))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ra.getXRay)("useLogout",x)}});return e?d:$}h(Lr,"pr");p(Lr,"useLogout");var Zr=p(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),Yl=j(S("react")),Da=S("@tanstack/react-query"),Oa=ie(),Jl=j(S("qs"));function Tr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=$n(),a=xe(),n=Be(),{replace:o}=Ge(),i=rt(),{useLocation:l}=ze(),{search:m}=l(),{close:g,open:y}=kt(),{login:x}=_e(),{login:$}=tt(),{keys:d,preferLegacyKeys:C}=se(),f=Yl.default.useMemo(()=>{var b;return a==="legacy"?Jl.default.parse(m,{ignoreQueryPrefix:!0}).to:(b=i.params)==null?void 0:b.to},[a,i.params,m]),v=(0,Da.useMutation)(d().auth().action("login").get(C),$,{onSuccess:async({success:b,redirectTo:w,error:F})=>{b&&(g==null||g("login-error")),(F||!b)&&(y==null||y(Yr(F))),await r(),f&&b?a==="legacy"?o(f):n({to:f,type:"replace"}):w?a==="legacy"?o(w):n({to:w,type:"replace"}):a==="legacy"&&o("/")},onError:b=>{y==null||y(Yr(b))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Oa.getXRay)("useLogin",C)}}),u=(0,Da.useMutation)([...d().auth().action("login").get(C),"v3LegacyAuthProviderCompatible"],x,{onSuccess:async b=>{await r(),f&&o(f),b!==!1&&!f&&(typeof b=="string"?a==="legacy"?o(b):n({to:b,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"})),g==null||g("login-error")},onError:b=>{y==null||y(Yr(b))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Oa.getXRay)("useLogin",C)}});return e?u:v}h(Tr,"At");p(Tr,"useLogin");var Yr=p(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),qa=S("@tanstack/react-query"),Va=ie();function kn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=$n(),a=xe(),n=Be(),{replace:o}=Ge(),{register:i}=_e(),{register:l}=tt(),{close:m,open:g}=kt(),{keys:y,preferLegacyKeys:x}=se(),$=(0,qa.useMutation)(y().auth().action("register").get(x),l,{onSuccess:async({success:C,redirectTo:f,error:v})=>{C&&(m==null||m("register-error")),(v||!C)&&(g==null||g(Jr(v))),await r(),f?a==="legacy"?o(f):n({to:f,type:"replace"}):a==="legacy"&&o("/")},onError:C=>{g==null||g(Jr(C))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Va.getXRay)("useRegister",x)}}),d=(0,qa.useMutation)([...y().auth().action("register").get(x),"v3LegacyAuthProviderCompatible"],i,{onSuccess:async C=>{await r(),C!==!1&&(C?a==="legacy"?o(C):n({to:C,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"}),m==null||m("register-error"))},onError:C=>{g==null||g(Jr(C))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Va.getXRay)("useRegister",x)}});return e?d:$}h(kn,"jr");p(kn,"useRegister");var Jr=p(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),Ua=S("@tanstack/react-query"),Qa=ie();function In({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xe(),a=Be(),{replace:n}=Ge(),{forgotPassword:o}=_e(),{forgotPassword:i}=tt(),{close:l,open:m}=kt(),{keys:g,preferLegacyKeys:y}=se(),x=(0,Ua.useMutation)(g().auth().action("forgotPassword").get(y),i,{onSuccess:({success:d,redirectTo:C,error:f})=>{d&&(l==null||l("forgot-password-error")),(f||!d)&&(m==null||m(en(f))),C&&(r==="legacy"?n(C):a({to:C,type:"replace"}))},onError:d=>{m==null||m(en(d))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Qa.getXRay)("useForgotPassword",y)}}),$=(0,Ua.useMutation)([...g().auth().action("forgotPassword").get(y),"v3LegacyAuthProviderCompatible"],o,{onSuccess:d=>{d!==!1&&d&&(r==="legacy"?n(d):a({to:d,type:"replace"})),l==null||l("forgot-password-error")},onError:d=>{m==null||m(en(d))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Qa.getXRay)("useForgotPassword",y)}});return e?$:x}h(In,"_r");p(In,"useForgotPassword");var en=p(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),eu=j(S("react")),Ka=S("@tanstack/react-query"),za=ie(),tu=j(S("qs"));function En({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xe(),a=Be(),{replace:n}=Ge(),{updatePassword:o}=_e(),{updatePassword:i}=tt(),{close:l,open:m}=kt(),{keys:g,preferLegacyKeys:y}=se(),x=rt(),{useLocation:$}=ze(),{search:d}=$(),C=eu.default.useMemo(()=>r==="legacy"?tu.default.parse(d,{ignoreQueryPrefix:!0})??{}:x.params??{},[d,x,r]),f=(0,Ka.useMutation)(g().auth().action("updatePassword").get(y),async u=>i==null?void 0:i({...C,...u}),{onSuccess:({success:u,redirectTo:b,error:w})=>{u&&(l==null||l("update-password-error")),(w||!u)&&(m==null||m(tn(w))),b&&(r==="legacy"?n(b):a({to:b,type:"replace"}))},onError:u=>{m==null||m(tn(u))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,za.getXRay)("useUpdatePassword",y)}}),v=(0,Ka.useMutation)([...g().auth().action("updatePassword").get(y),"v3LegacyAuthProviderCompatible"],async u=>o==null?void 0:o({...C,...u}),{onSuccess:u=>{u!==!1&&u&&(r==="legacy"?n(u):a({to:u,type:"replace"})),l==null||l("update-password-error")},onError:u=>{m==null||m(tn(u))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,za.getXRay)("useUpdatePassword",y)}});return e?v:f}h(En,"Or");p(En,"useUpdatePassword");var tn=p(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),Wa=S("@tanstack/react-query"),ja=ie();function Mr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=_e(),{check:a}=tt(),{keys:n,preferLegacyKeys:o}=se(),i=(0,Wa.useQuery)(n().auth().action("check").params(t).get(o),async()=>await(a==null?void 0:a(t))??{},{retry:!1,enabled:!e,meta:{...(0,ja.getXRay)("useIsAuthenticated",o)}}),l=(0,Wa.useQuery)([...n().auth().action("check").params(t).get(o),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,ja.getXRay)("useIsAuthenticated",o)}});return e?l:i}h(Mr,"lr");p(Mr,"useIsAuthenticated");var ru=Mr,Ha=S("@tanstack/react-query"),_a=ie();function Te({v3LegacyAuthProviderCompatible:e=!1}={}){let t=xe(),r=Be(),{replace:a}=Ge(),{checkError:n}=_e(),{onError:o}=tt(),{keys:i,preferLegacyKeys:l}=se(),{mutate:m}=Lr({v3LegacyAuthProviderCompatible:!!e}),{mutate:g}=Lr({v3LegacyAuthProviderCompatible:!!e}),y=(0,Ha.useMutation)(i().auth().action("onError").get(l),o,{onSuccess:({logout:$,redirectTo:d})=>{if($){g({redirectPath:d});return}if(d){t==="legacy"?a(d):r({to:d,type:"replace"});return}},meta:{...(0,_a.getXRay)("useOnError",l)}}),x=(0,Ha.useMutation)([...i().auth().action("onError").get(l),"v3LegacyAuthProviderCompatible"],n,{onError:$=>{m({redirectPath:$})},meta:{...(0,_a.getXRay)("useOnError",l)}});return e?x:y}h(Te,"ae");p(Te,"useOnError");var nu=Te,Jo=p(()=>{let{isProvided:e}=_e(),{isProvided:t}=tt();return!!(t||e)},"useIsExistAuthentication"),au=S("@tanstack/react-query"),ou=ie(),rn=S("react"),we=p(({isLoading:e,interval:t,onInterval:r})=>{let[a,n]=(0,rn.useState)(void 0),{options:o}=Ae(),{overtime:i}=o,l=t??i.interval,m=r??(i==null?void 0:i.onInterval);return(0,rn.useEffect)(()=>{let g;return e&&(g=setInterval(()=>{n(y=>y===void 0?l:y+l)},l)),()=>{clearInterval(g),n(void 0)}},[e,l]),(0,rn.useEffect)(()=>{m&&a&&m(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),Sn=p(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:i,successNotification:l,errorNotification:m,meta:g,metaData:y,liveMode:x,onLiveEvent:$,liveParams:d,dataProviderName:C,overtimeOptions:f})=>{let{resources:v,resource:u,identifier:b}=re(e),w=Ee(),F=ce(),D=Ce(),{mutate:E}=Te({v3LegacyAuthProviderCompatible:!!(D!=null&&D.isLegacy)}),P=Ke(),N=ge(),{keys:s,preferLegacyKeys:c}=se(),L=ee(b,C,v),k=Q(g,y),I=Q(r,t==null?void 0:t.filters),M=Q(o,t==null?void 0:t.sort),A=Q(a,t==null?void 0:t.hasPagination),T=Ho({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:A}),R=T.mode==="server",O=N({resource:u,meta:k}),B={meta:O,metaData:O,filters:I,hasPagination:R,pagination:T,sorters:M,config:{...t,sort:M}},q=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,{getList:G}=w(L);lr({resource:b,types:["*"],params:{meta:O,metaData:O,pagination:T,hasPagination:R,sort:M,sorters:M,filters:I,subscriptionType:"useList",...d},channel:`resources/${u==null?void 0:u.name}`,enabled:q,liveMode:x,onLiveEvent:$});let U=(0,au.useQuery)(s().data(L).resource(b??"").action("list").params({...k||{},filters:I,hasPagination:R,...R&&{pagination:T},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(c),({queryKey:z,pageParam:V,signal:W})=>G({resource:(u==null?void 0:u.name)??"",pagination:T,hasPagination:R,filters:I,sort:M,sorters:M,meta:{...O,queryContext:{queryKey:z,pageParam:V,signal:W}},metaData:{...O,queryContext:{queryKey:z,pageParam:V,signal:W}}}),{...i,enabled:typeof(i==null?void 0:i.enabled)<"u"?i==null?void 0:i.enabled:!!(u!=null&&u.name),select:z=>{var V;let W=z,{current:Z,mode:Y,pageSize:te}=T;return Y==="client"&&(W={...W,data:W.data.slice((Z-1)*te,Z*te),total:W.total}),i!=null&&i.select?(V=i==null?void 0:i.select)==null?void 0:V.call(i,W):W},onSuccess:z=>{var V;(V=i==null?void 0:i.onSuccess)==null||V.call(i,z);let W=typeof l=="function"?l(z,B,b):l;P(W)},onError:z=>{var V;E(z),(V=i==null?void 0:i.onError)==null||V.call(i,z);let W=typeof m=="function"?m(z,B,b):m;P(W,{key:`${b}-useList-notification`,message:F("notifications.error",{statusCode:z.statusCode},`Error (status code: ${z.statusCode})`),description:z.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,ou.getXRay)("useList",c)}}),{elapsedTime:_}=we({isLoading:U.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...U,overtime:{elapsedTime:_}}},"useList"),iu=S("@tanstack/react-query"),su=ie(),Ln=p(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:i,liveMode:l,onLiveEvent:m,liveParams:g,dataProviderName:y,overtimeOptions:x})=>{let{resources:$,resource:d,identifier:C}=re(e),f=Ee(),v=ce(),u=Ce(),{mutate:b}=Te({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),w=Ke(),F=ge(),{keys:D,preferLegacyKeys:E}=se(),P=Q(o,i),N=ee(C,y,$),{getOne:s}=f(N),c=F({resource:d,meta:P});lr({resource:C,types:["*"],channel:`resources/${d==null?void 0:d.name}`,params:{ids:t?[t]:[],id:t,meta:c,metaData:c,subscriptionType:"useOne",...g},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(d==null?void 0:d.name)<"u"&&typeof t<"u",liveMode:l,onLiveEvent:m});let L=(0,iu.useQuery)(D().data(N).resource(C??"").action("one").id(t??"").params({...P||{}}).get(E),({queryKey:I,pageParam:M,signal:A})=>s({resource:(d==null?void 0:d.name)??"",id:t,meta:{...c,queryContext:{queryKey:I,pageParam:M,signal:A}},metaData:{...c,queryContext:{queryKey:I,pageParam:M,signal:A}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:I=>{var M;(M=r==null?void 0:r.onSuccess)==null||M.call(r,I);let A=typeof a=="function"?a(I,{id:t,...c},C):a;w(A)},onError:I=>{var M;b(I),(M=r==null?void 0:r.onError)==null||M.call(r,I);let A=typeof n=="function"?n(I,{id:t,...c},C):n;w(A,{key:`${t}-${C}-getOne-notification`,message:v("notifications.error",{statusCode:I.statusCode},`Error (status code: ${I.statusCode})`),description:I.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,su.getXRay)("useOne",E)}}),{elapsedTime:k}=we({isLoading:L.isFetching,interval:x==null?void 0:x.interval,onInterval:x==null?void 0:x.onInterval});return{...L,overtime:{elapsedTime:k}}},"useOne"),lu=S("@tanstack/react-query"),uu=ie(),ei=p(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:i,liveMode:l,onLiveEvent:m,liveParams:g,dataProviderName:y,overtimeOptions:x})=>{let{resources:$,resource:d,identifier:C}=re(e),f=Ee(),v=ce(),u=Ce(),{mutate:b}=Te({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),w=Ke(),F=ge(),{keys:D,preferLegacyKeys:E}=se(),P=Q(o,i),N=ee(C,y,$),s=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:c,getOne:L}=f(N),k=F({resource:d,meta:P});lr({resource:C,types:["*"],params:{ids:t,meta:k,metaData:k,subscriptionType:"useMany",...g},channel:`resources/${d.name}`,enabled:s,liveMode:l,onLiveEvent:m});let I=(0,lu.useQuery)(D().data(N).resource(C).action("many").ids(...t).params({...P||{}}).get(E),({queryKey:A,pageParam:T,signal:R})=>c?c({resource:d==null?void 0:d.name,ids:t,meta:{...k,queryContext:{queryKey:A,pageParam:T,signal:R}},metaData:{...k,queryContext:{queryKey:A,pageParam:T,signal:R}}}):Ar(t.map(O=>L({resource:d==null?void 0:d.name,id:O,meta:{...k,queryContext:{queryKey:A,pageParam:T,signal:R}},metaData:{...k,queryContext:{queryKey:A,pageParam:T,signal:R}}}))),{...r,onSuccess:A=>{var T;(T=r==null?void 0:r.onSuccess)==null||T.call(r,A);let R=typeof a=="function"?a(A,t,C):a;w(R)},onError:A=>{var T;b(A),(T=r==null?void 0:r.onError)==null||T.call(r,A);let R=typeof n=="function"?n(A,t,C):n;w(R,{key:`${t[0]}-${C}-getMany-notification`,message:v("notifications.error",{statusCode:A.statusCode},`Error (status code: ${A.statusCode})`),description:A.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,uu.getXRay)("useMany",E)}}),{elapsedTime:M}=we({isLoading:I.isFetching,interval:x==null?void 0:x.interval,onInterval:x==null?void 0:x.onInterval});return{...I,overtime:{elapsedTime:M}}},"useMany"),Ba=S("@tanstack/react-query"),cu=ie(),Er=j(S("react")),nn=j(S("lodash/isEqual")),ti=Er.default.createContext({notifications:[],notificationDispatch:()=>!1}),du=[],pu=p((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,nn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,nn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,nn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),mu=p(({children:e})=>{let[t,r]=(0,Er.useReducer)(pu,du),a={notifications:t,notificationDispatch:r};return Er.default.createElement(ti.Provider,{value:a},e,typeof window<"u"&&t.map(n=>Er.default.createElement(ki,{key:`${n.id}-${n.resource}-queue`,notification:n})))},"UndoableQueueContextProvider"),gn=p(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=re(),n=(0,Ba.useQueryClient)(),o=Ee(),{mutationMode:i,undoableTimeout:l}=Gt(),m=ce(),g=Ce(),{mutate:y}=Te({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),x=qt(),{log:$}=Ut(),{notificationDispatch:d}=Xt(),C=Ke(),f=yt(),v=ge(),{options:{textTransformers:u}}=Ae(),{keys:b,preferLegacyKeys:w}=se(),F=(0,Ba.useMutation)(({id:E,values:P,resource:N,mutationMode:s,undoableTimeout:c,onCancel:L,meta:k,metaData:I,dataProviderName:M})=>{let{resource:A,identifier:T}=a(N),R=v({resource:A,meta:Q(k,I)}),O=s??i,B=c??l;return O!=="undoable"?o(ee(T,M,r)).update({resource:A.name,id:E,variables:P,meta:R,metaData:R}):new Promise((q,G)=>{let U=p(()=>{o(ee(T,M,r)).update({resource:A.name,id:E,variables:P,meta:R,metaData:R}).then(z=>q(z)).catch(z=>G(z))},"doMutation"),_=p(()=>{G({message:"mutationCancelled"})},"cancelMutation");L&&L(_),d({type:"ADD",payload:{id:E,resource:T,cancelMutation:_,doMutation:U,seconds:B,isSilent:!!L}})})},{onMutate:async({resource:E,id:P,mutationMode:N,values:s,dataProviderName:c,meta:L,metaData:k,optimisticUpdateMap:I={list:!0,many:!0,detail:!0}})=>{let{identifier:M}=a(E),A=Q(L,k),T=Nr(w)(M,ee(M,c,r),A),R=b().data(ee(M,c,r)).resource(M),O=n.getQueriesData(R.get(w)),B=N??i;return await n.cancelQueries(R.get(w),void 0,{silent:!0}),B!=="pessimistic"&&(I.list&&n.setQueriesData(R.action("list").params(A??{}).get(w),q=>{if(typeof I.list=="function")return I.list(q,s,P);if(!q)return null;let G=q.data.map(U=>{var _;return((_=U.id)==null?void 0:_.toString())===(P==null?void 0:P.toString())?{id:P,...U,...s}:U});return{...q,data:G}}),I.many&&n.setQueriesData(R.action("many").get(w),q=>{if(typeof I.many=="function")return I.many(q,s,P);if(!q)return null;let G=q.data.map(U=>{var _;return((_=U.id)==null?void 0:_.toString())===(P==null?void 0:P.toString())&&(U={id:P,...U,...s}),U});return{...q,data:G}}),I.detail&&n.setQueriesData(R.action("one").id(P).params(A??{}).get(w),q=>typeof I.detail=="function"?I.detail(q,s,P):q?{...q,data:{...q.data,...s}}:null)),{previousQueries:O,queryKey:T}},onSettled:(E,P,{id:N,resource:s,dataProviderName:c,invalidates:L=["list","many","detail"]})=>{let{identifier:k}=a(s);f({resource:k,dataProviderName:ee(k,c,r),invalidates:L,id:N}),d({type:"REMOVE",payload:{id:N,resource:k}})},onSuccess:(E,{id:P,resource:N,successNotification:s,dataProviderName:c,values:L,meta:k,metaData:I},M)=>{var A;let{resource:T,identifier:R}=a(N),O=u.singular(R),B=typeof s=="function"?s(E,{id:P,values:L},R):s;C(B,{key:`${P}-${R}-notification`,description:m("notifications.success","Successful"),message:m("notifications.editSuccess",{resource:m(`${R}.${R}`,O)},`Successfully updated ${O}`),type:"success"}),x==null||x({channel:`resources/${T.name}`,type:"updated",payload:{ids:(A=E.data)!=null&&A.id?[E.data.id]:void 0},date:new Date});let q;if(M){let V=n.getQueryData(M.queryKey.detail(P));q=Object.keys(L||{}).reduce((W,Z)=>{var Y;return W[Z]=(Y=V==null?void 0:V.data)==null?void 0:Y[Z],W},{})}let{fields:G,operation:U,variables:_,...z}=Q(k,I)||{};$==null||$.mutate({action:"update",resource:T.name,data:L,previousData:q,meta:{id:P,dataProviderName:ee(R,c,r),...z}})},onError:(E,{id:P,resource:N,errorNotification:s,values:c},L)=>{let{identifier:k}=a(N);if(L)for(let I of L.previousQueries)n.setQueryData(I[0],I[1]);if(E.message!=="mutationCancelled"){y==null||y(E);let I=u.singular(k),M=typeof s=="function"?s(E,{id:P,values:c},k):s;C(M,{key:`${P}-${k}-notification`,message:m("notifications.editError",{resource:m(`${k}.${k}`,I),statusCode:E.statusCode},`Error when updating ${I} (status code: ${E.statusCode})`),description:E.message,type:"error"})}},mutationKey:b().data().mutation("update").get(w),...e,meta:{...e==null?void 0:e.meta,...(0,cu.getXRay)("useUpdate",w)}}),{elapsedTime:D}=we({isLoading:F.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...F,overtime:{elapsedTime:D}}},"useUpdate"),fu=S("@tanstack/react-query"),vu=ie(),Fn=p(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Ce(),{mutate:a}=Te({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Ee(),o=yt(),{resources:i,select:l}=re(),m=ce(),g=qt(),{log:y}=Ut(),x=Ke(),$=ge(),{options:{textTransformers:d}}=Ae(),{keys:C,preferLegacyKeys:f}=se(),v=(0,fu.useMutation)(({resource:b,values:w,meta:F,metaData:D,dataProviderName:E})=>{let{resource:P,identifier:N}=l(b),s=$({resource:P,meta:Q(F,D)});return n(ee(N,E,i)).create({resource:P.name,variables:w,meta:s,metaData:s})},{onSuccess:(b,{resource:w,successNotification:F,dataProviderName:D,invalidates:E=["list","many"],values:P,meta:N,metaData:s})=>{var c,L;let{resource:k,identifier:I}=l(w),M=d.singular(I),A=typeof F=="function"?F(b,P,I):F;x(A,{key:`create-${I}-notification`,message:m("notifications.createSuccess",{resource:m(`${I}.${I}`,M)},`Successfully created ${M}`),description:m("notifications.success","Success"),type:"success"}),o({resource:I,dataProviderName:ee(I,D,i),invalidates:E}),g==null||g({channel:`resources/${k.name}`,type:"created",payload:{ids:(c=b==null?void 0:b.data)!=null&&c.id?[b.data.id]:void 0},date:new Date});let T=$({resource:k,meta:Q(N,s)}),{fields:R,operation:O,variables:B,...q}=T||{};y==null||y.mutate({action:"create",resource:k.name,data:P,meta:{dataProviderName:ee(I,D,i),id:((L=b==null?void 0:b.data)==null?void 0:L.id)??void 0,...q}})},onError:(b,{resource:w,errorNotification:F,values:D})=>{a(b);let{identifier:E}=l(w),P=d.singular(E),N=typeof F=="function"?F(b,D,E):F;x(N,{key:`create-${E}-notification`,description:b.message,message:m("notifications.createError",{resource:m(`${E}.${E}`,P),statusCode:b.statusCode},`There was an error creating ${P} (status code: ${b.statusCode})`),type:"error"})},mutationKey:C().data().mutation("create").get(f),...e,meta:{...e==null?void 0:e.meta,...(0,vu.getXRay)("useCreate",f)}}),{elapsedTime:u}=we({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:u}}},"useCreate"),Ga=S("@tanstack/react-query"),gu=ie(),yu=p(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Ce(),{mutate:a}=Te({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Ee(),{resources:o,select:i}=re(),l=(0,Ga.useQueryClient)(),{mutationMode:m,undoableTimeout:g}=Gt(),{notificationDispatch:y}=Xt(),x=ce(),$=qt(),{log:d}=Ut(),C=Ke(),f=yt(),v=ge(),{options:{textTransformers:u}}=Ae(),{keys:b,preferLegacyKeys:w}=se(),F=(0,Ga.useMutation)(({id:E,mutationMode:P,undoableTimeout:N,resource:s,onCancel:c,meta:L,metaData:k,dataProviderName:I,values:M})=>{let{resource:A,identifier:T}=i(s),R=v({resource:A,meta:Q(L,k)}),O=P??m,B=N??g;return O!=="undoable"?n(ee(T,I,o)).deleteOne({resource:A.name,id:E,meta:R,metaData:R,variables:M}):new Promise((q,G)=>{let U=p(()=>{n(ee(T,I,o)).deleteOne({resource:A.name,id:E,meta:R,metaData:R,variables:M}).then(z=>q(z)).catch(z=>G(z))},"doMutation"),_=p(()=>{G({message:"mutationCancelled"})},"cancelMutation");c&&c(_),y({type:"ADD",payload:{id:E,resource:T,cancelMutation:_,doMutation:U,seconds:B,isSilent:!!c}})})},{onMutate:async({id:E,resource:P,mutationMode:N,dataProviderName:s,meta:c,metaData:L})=>{let{identifier:k}=i(P),I=Q(c,L),M=Nr(w)(k,ee(k,s,o),I),A=b().data(ee(k,s,o)).resource(k),T=N??m;await l.cancelQueries(A.get(w),void 0,{silent:!0});let R=l.getQueriesData(A.get(w));return T!=="pessimistic"&&(l.setQueriesData(A.action("list").params(I??{}).get(w),O=>O?{data:O.data.filter(B=>{var q;return((q=B.id)==null?void 0:q.toString())!==E.toString()}),total:O.total-1}:null),l.setQueriesData(A.action("many").get(w),O=>{if(!O)return null;let B=O.data.filter(q=>{var G;return((G=q.id)==null?void 0:G.toString())!==(E==null?void 0:E.toString())});return{...O,data:B}})),{previousQueries:R,queryKey:M}},onSettled:(E,P,{id:N,resource:s,dataProviderName:c,invalidates:L=["list","many"]})=>{let{identifier:k}=i(s);f({resource:k,dataProviderName:ee(k,c,o),invalidates:L}),y({type:"REMOVE",payload:{id:N,resource:k}})},onSuccess:(E,{id:P,resource:N,successNotification:s,dataProviderName:c,meta:L,metaData:k},I)=>{let{resource:M,identifier:A}=i(N),T=u.singular(A);l.removeQueries(I==null?void 0:I.queryKey.detail(P));let R=typeof s=="function"?s(E,P,A):s;C(R,{key:`${P}-${A}-notification`,description:x("notifications.success","Success"),message:x("notifications.deleteSuccess",{resource:x(`${A}.${A}`,T)},`Successfully deleted a ${T}`),type:"success"}),$==null||$({channel:`resources/${M.name}`,type:"deleted",payload:{ids:[P]},date:new Date});let O=v({resource:M,meta:Q(L,k)}),{fields:B,operation:q,variables:G,...U}=O||{};d==null||d.mutate({action:"delete",resource:M.name,meta:{id:P,dataProviderName:ee(A,c,o),...U}}),l.removeQueries(I==null?void 0:I.queryKey.detail(P))},onError:(E,{id:P,resource:N,errorNotification:s},c)=>{let{identifier:L}=i(N);if(c)for(let k of c.previousQueries)l.setQueryData(k[0],k[1]);if(E.message!=="mutationCancelled"){a(E);let k=u.singular(L),I=typeof s=="function"?s(E,P,L):s;C(I,{key:`${P}-${L}-notification`,message:x("notifications.deleteError",{resource:k,statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})}},mutationKey:b().data().mutation("delete").get(w),...e,meta:{...e==null?void 0:e.meta,...(0,gu.getXRay)("useDelete",w)}}),{elapsedTime:D}=we({isLoading:F.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...F,overtime:{elapsedTime:D}}},"useDelete"),hu=S("@tanstack/react-query"),bu=ie(),ri=p(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Ee(),{resources:a,select:n}=re(),o=ce(),i=qt(),l=Ke(),m=yt(),{log:g}=Ut(),y=ge(),{options:{textTransformers:x}}=Ae(),{keys:$,preferLegacyKeys:d}=se(),C=(0,hu.useMutation)(({resource:v,values:u,meta:b,metaData:w,dataProviderName:F})=>{let{resource:D,identifier:E}=n(v),P=y({resource:D,meta:Q(b,w)}),N=r(ee(E,F,a));return N.createMany?N.createMany({resource:D.name,variables:u,meta:P,metaData:P}):Ar(u.map(s=>N.create({resource:D.name,variables:s,meta:P,metaData:P})))},{onSuccess:(v,{resource:u,successNotification:b,dataProviderName:w,invalidates:F=["list","many"],values:D,meta:E,metaData:P})=>{let{resource:N,identifier:s}=n(u),c=x.plural(s),L=typeof b=="function"?b(v,D,s):b;l(L,{key:`createMany-${s}-notification`,message:o("notifications.createSuccess",{resource:o(`${s}.${s}`,s)},`Successfully created ${c}`),description:o("notifications.success","Success"),type:"success"}),m({resource:s,dataProviderName:ee(s,w,a),invalidates:F});let k=v==null?void 0:v.data.filter(O=>(O==null?void 0:O.id)!==void 0).map(O=>O.id);i==null||i({channel:`resources/${N.name}`,type:"created",payload:{ids:k},date:new Date});let I=y({resource:N,meta:Q(E,P)}),{fields:M,operation:A,variables:T,...R}=I||{};g==null||g.mutate({action:"createMany",resource:N.name,data:D,meta:{dataProviderName:ee(s,w,a),ids:k,...R}})},onError:(v,{resource:u,errorNotification:b,values:w})=>{let{identifier:F}=n(u),D=typeof b=="function"?b(v,w,F):b;l(D,{key:`createMany-${F}-notification`,description:v.message,message:o("notifications.createError",{resource:o(`${F}.${F}`,F),statusCode:v.statusCode},`There was an error creating ${F} (status code: ${v.statusCode}`),type:"error"})},mutationKey:$().data().mutation("createMany").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,bu.getXRay)("useCreateMany",d)}}),{elapsedTime:f}=we({isLoading:C.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...C,overtime:{elapsedTime:f}}},"useCreateMany"),Xa=S("@tanstack/react-query"),Cu=ie(),xu=p(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=re(),n=(0,Xa.useQueryClient)(),o=Ee(),i=ce(),{mutationMode:l,undoableTimeout:m}=Gt(),g=Ce(),{mutate:y}=Te({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),{notificationDispatch:x}=Xt(),$=qt(),d=Ke(),C=yt(),{log:f}=Ut(),v=ge(),{options:{textTransformers:u}}=Ae(),{keys:b,preferLegacyKeys:w}=se(),F=(0,Xa.useMutation)(({ids:E,values:P,resource:N,onCancel:s,mutationMode:c,undoableTimeout:L,meta:k,metaData:I,dataProviderName:M})=>{let{resource:A,identifier:T}=a(N),R=v({resource:A,meta:Q(k,I)}),O=c??l,B=L??m,q=o(ee(T,M,r)),G=p(()=>q.updateMany?q.updateMany({resource:A.name,ids:E,variables:P,meta:R,metaData:R}):Ar(E.map(U=>q.update({resource:A.name,id:U,variables:P,meta:R,metaData:R}))),"mutationFn");return O!=="undoable"?G():new Promise((U,_)=>{let z=p(()=>{G().then(W=>U(W)).catch(W=>_(W))},"doMutation"),V=p(()=>{_({message:"mutationCancelled"})},"cancelMutation");s&&s(V),x({type:"ADD",payload:{id:E,resource:T,cancelMutation:V,doMutation:z,seconds:B,isSilent:!!s}})})},{onMutate:async({resource:E,ids:P,values:N,mutationMode:s,dataProviderName:c,meta:L,metaData:k,optimisticUpdateMap:I={list:!0,many:!0,detail:!0}})=>{let{identifier:M}=a(E),A=Q(L,k),T=Nr(w)(M,ee(M,c,r),Q(L,k)),R=b().data(ee(M,c,r)).resource(M),O=s??l;await n.cancelQueries(R.get(w),void 0,{silent:!0});let B=n.getQueriesData(R.get(w));if(O!=="pessimistic"&&(I.list&&n.setQueriesData(R.action("list").params(A??{}).get(w),q=>{if(typeof I.list=="function")return I.list(q,N,P);if(!q)return null;let G=q.data.map(U=>U.id!==void 0&&P.filter(_=>_!==void 0).map(String).includes(U.id.toString())?{...U,...N}:U);return{...q,data:G}}),I.many&&n.setQueriesData(R.action("many").get(w),q=>{if(typeof I.many=="function")return I.many(q,N,P);if(!q)return null;let G=q.data.map(U=>U.id!==void 0&&P.filter(_=>_!==void 0).map(String).includes(U.id.toString())?{...U,...N}:U);return{...q,data:G}}),I.detail))for(let q of P)n.setQueriesData(R.action("one").id(q).params(A??{}).get(w),G=>{if(typeof I.detail=="function")return I.detail(G,N,q);if(!G)return null;let U={...G.data,...N};return{...G,data:U}});return{previousQueries:B,queryKey:T}},onSettled:(E,P,{ids:N,resource:s,dataProviderName:c})=>{let{identifier:L}=a(s);C({resource:L,invalidates:["list","many"],dataProviderName:ee(L,c,r)}),N.forEach(k=>C({resource:L,invalidates:["detail"],dataProviderName:ee(L,c,r),id:k})),x({type:"REMOVE",payload:{id:N,resource:L}})},onSuccess:(E,{ids:P,resource:N,meta:s,metaData:c,dataProviderName:L,successNotification:k,values:I},M)=>{let{resource:A,identifier:T}=a(N),R=u.singular(T),O=typeof k=="function"?k(E,{ids:P,values:I},T):k;d(O,{key:`${P}-${T}-notification`,description:i("notifications.success","Successful"),message:i("notifications.editSuccess",{resource:i(`${T}.${T}`,T)},`Successfully updated ${R}`),type:"success"}),$==null||$({channel:`resources/${A.name}`,type:"updated",payload:{ids:P.map(String)},date:new Date});let B=[];M&&P.forEach(V=>{let W=n.getQueryData(M.queryKey.detail(V));B.push(Object.keys(I||{}).reduce((Z,Y)=>{var te;return Z[Y]=(te=W==null?void 0:W.data)==null?void 0:te[Y],Z},{}))});let q=v({resource:A,meta:Q(s,c)}),{fields:G,operation:U,variables:_,...z}=q||{};f==null||f.mutate({action:"updateMany",resource:A.name,data:I,previousData:B,meta:{ids:P,dataProviderName:ee(T,L,r),...z}})},onError:(E,{ids:P,resource:N,errorNotification:s,values:c},L)=>{let{identifier:k}=a(N);if(L)for(let I of L.previousQueries)n.setQueryData(I[0],I[1]);if(E.message!=="mutationCancelled"){y==null||y(E);let I=u.singular(k),M=typeof s=="function"?s(E,{ids:P,values:c},k):s;d(M,{key:`${P}-${k}-updateMany-error-notification`,message:i("notifications.editError",{resource:I,statusCode:E.statusCode},`Error when updating ${I} (status code: ${E.statusCode})`),description:E.message,type:"error"})}},mutationKey:b().data().mutation("updateMany").get(w),...e,meta:{...e==null?void 0:e.meta,...(0,Cu.getXRay)("useUpdateMany",w)}}),{elapsedTime:D}=we({isLoading:F.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...F,overtime:{elapsedTime:D}}},"useUpdateMany"),Za=S("@tanstack/react-query"),Pu=ie(),wu=p(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Ce(),{mutate:a}=Te({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:n,undoableTimeout:o}=Gt(),i=Ee(),{notificationDispatch:l}=Xt(),m=ce(),g=qt(),y=Ke(),x=yt(),{log:$}=Ut(),{resources:d,select:C}=re(),f=(0,Za.useQueryClient)(),v=ge(),{options:{textTransformers:u}}=Ae(),{keys:b,preferLegacyKeys:w}=se(),F=(0,Za.useMutation)(({resource:E,ids:P,mutationMode:N,undoableTimeout:s,onCancel:c,meta:L,metaData:k,dataProviderName:I,values:M})=>{let{resource:A,identifier:T}=C(E),R=v({resource:A,meta:Q(L,k)}),O=N??n,B=s??o,q=i(ee(T,I,d)),G=p(()=>q.deleteMany?q.deleteMany({resource:A.name,ids:P,meta:R,metaData:R,variables:M}):Ar(P.map(U=>q.deleteOne({resource:A.name,id:U,meta:R,metaData:R,variables:M}))),"mutationFn");return O!=="undoable"?G():new Promise((U,_)=>{let z=p(()=>{G().then(W=>U(W)).catch(W=>_(W))},"doMutation"),V=p(()=>{_({message:"mutationCancelled"})},"cancelMutation");c&&c(V),l({type:"ADD",payload:{id:P,resource:T,cancelMutation:V,doMutation:z,seconds:B,isSilent:!!c}})})},{onMutate:async({ids:E,resource:P,mutationMode:N,dataProviderName:s,meta:c,metaData:L})=>{let{identifier:k}=C(P),I=Q(c,L),M=Nr(w)(k,ee(k,s,d),I),A=b().data(ee(k,s,d)).resource(k),T=N??n;await f.cancelQueries(A.get(w),void 0,{silent:!0});let R=f.getQueriesData(A.get(w));if(T!=="pessimistic"){f.setQueriesData(A.action("list").params(I??{}).get(w),O=>O?{data:O.data.filter(B=>B.id&&!E.map(String).includes(B.id.toString())),total:O.total-1}:null),f.setQueriesData(A.action("many").get(w),O=>{if(!O)return null;let B=O.data.filter(q=>q.id?!E.map(String).includes(q.id.toString()):!1);return{...O,data:B}});for(let O of E)f.setQueriesData(A.action("one").id(O).params(I).get(w),B=>!B||B.data.id==O?null:{...B})}return{previousQueries:R,queryKey:M}},onSettled:(E,P,{resource:N,ids:s,dataProviderName:c,invalidates:L=["list","many"]})=>{let{identifier:k}=C(N);x({resource:k,dataProviderName:ee(k,c,d),invalidates:L}),l({type:"REMOVE",payload:{id:s,resource:k}})},onSuccess:(E,{ids:P,resource:N,meta:s,metaData:c,dataProviderName:L,successNotification:k},I)=>{let{resource:M,identifier:A}=C(N);P.forEach(U=>f.removeQueries(I==null?void 0:I.queryKey.detail(U)));let T=typeof k=="function"?k(E,P,A):k;y(T,{key:`${P}-${A}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${A}.${A}`,A)},`Successfully deleted ${A}`),type:"success"}),g==null||g({channel:`resources/${M.name}`,type:"deleted",payload:{ids:P},date:new Date});let R=v({resource:M,meta:Q(s,c)}),{fields:O,operation:B,variables:q,...G}=R||{};$==null||$.mutate({action:"deleteMany",resource:M.name,meta:{ids:P,dataProviderName:ee(A,L,d),...G}}),P.forEach(U=>f.removeQueries(I==null?void 0:I.queryKey.detail(U)))},onError:(E,{ids:P,resource:N,errorNotification:s},c)=>{let{identifier:L}=C(N);if(c)for(let k of c.previousQueries)f.setQueryData(k[0],k[1]);if(E.message!=="mutationCancelled"){a(E);let k=u.singular(L),I=typeof s=="function"?s(E,P,L):s;y(I,{key:`${P}-${L}-notification`,message:m("notifications.deleteError",{resource:k,statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})}},mutationKey:b().data().mutation("deleteMany").get(w),...e,meta:{...e==null?void 0:e.meta,...(0,Pu.getXRay)("useDeleteMany",w)}}),{elapsedTime:D}=we({isLoading:F.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...F,overtime:{elapsedTime:D}}},"useDeleteMany"),$u=p(e=>{var t;let r=Ee(),{resource:a}=re(),{getApiUrl:n}=r(e??((t=Q(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return n()},"useApiUrl"),ku=S("@tanstack/react-query"),Iu=ie(),Eu=p(({url:e,method:t,config:r,queryOptions:a,successNotification:n,errorNotification:o,meta:i,metaData:l,dataProviderName:m,overtimeOptions:g})=>{let y=Ee(),x=Ce(),{mutate:$}=Te({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),d=ce(),C=Ke(),f=ge(),{keys:v,preferLegacyKeys:u}=se(),b=Q(i,l),{custom:w}=y(m),F=f({meta:b});if(w){let D=(0,ku.useQuery)({queryKey:v().data(m).mutation("custom").params({method:t,url:e,...r,...b||{}}).get(u),queryFn:({queryKey:P,pageParam:N,signal:s})=>w({url:e,method:t,...r,meta:{...F,queryContext:{queryKey:P,pageParam:N,signal:s}},metaData:{...F,queryContext:{queryKey:P,pageParam:N,signal:s}}}),...a,onSuccess:P=>{var N;(N=a==null?void 0:a.onSuccess)==null||N.call(a,P);let s=typeof n=="function"?n(P,{...r,...F}):n;C(s)},onError:P=>{var N;$(P),(N=a==null?void 0:a.onError)==null||N.call(a,P);let s=typeof o=="function"?o(P,{...r,...F}):o;C(s,{key:`${t}-notification`,message:d("notifications.error",{statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Iu.getXRay)("useCustom",u)}}),{elapsedTime:E}=we({isLoading:D.isFetching,interval:g==null?void 0:g.interval,onInterval:g==null?void 0:g.onInterval});return{...D,overtime:{elapsedTime:E}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),Su=S("@tanstack/react-query"),Lu=ie(),Fu=p(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Ce(),{mutate:a}=Te({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Ke(),o=Ee(),i=ce(),l=ge(),{keys:m,preferLegacyKeys:g}=se(),y=(0,Su.useMutation)(({url:$,method:d,values:C,meta:f,metaData:v,dataProviderName:u,config:b})=>{let w=l({meta:Q(f,v)}),{custom:F}=o(u);if(F)return F({url:$,method:d,payload:C,meta:w,metaData:w,headers:{...b==null?void 0:b.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:($,{successNotification:d,config:C,meta:f,metaData:v})=>{let u=typeof d=="function"?d($,{...C,...Q(f,v)||{}}):d;n(u)},onError:($,{errorNotification:d,method:C,config:f,meta:v,metaData:u})=>{a($);let b=typeof d=="function"?d($,{...f,...Q(v,u)||{}}):d;n(b,{key:`${C}-notification`,message:i("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})},mutationKey:m().data().mutation("customMutation").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,Lu.getXRay)("useCustomMutation",g)}}),{elapsedTime:x}=we({isLoading:y.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...y,overtime:{elapsedTime:x}}},"useCustomMutation"),Ya=S("react"),ni=j(S("react")),Nu=p(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),Nn=ni.default.createContext(Nu()),Au=p(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},ni.default.createElement(Nn.Provider,{value:r},e)},"DataContextProvider"),Ee=p(()=>{let e=(0,Ya.useContext)(Nn);return(0,Ya.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),Tu=S("@tanstack/react-query"),Mu=ie(),Ru=p(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:i,successNotification:l,errorNotification:m,meta:g,metaData:y,liveMode:x,onLiveEvent:$,liveParams:d,dataProviderName:C,overtimeOptions:f})=>{let{resources:v,resource:u,identifier:b}=re(e),w=Ee(),F=ce(),D=Ce(),{mutate:E}=Te({v3LegacyAuthProviderCompatible:!!(D!=null&&D.isLegacy)}),P=Ke(),N=ge(),{keys:s,preferLegacyKeys:c}=se(),L=ee(b,C,v),k=Q(g,y),I=Q(r,t==null?void 0:t.filters),M=Q(o,t==null?void 0:t.sort),A=Q(a,t==null?void 0:t.hasPagination),T=Ho({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:A}),R=T.mode==="server",O={meta:k,metaData:k,filters:I,hasPagination:R,pagination:T,sorters:M,config:{...t,sort:M}},B=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,q=N({resource:u,meta:k}),{getList:G}=w(L);lr({resource:b,types:["*"],params:{meta:q,metaData:q,pagination:T,hasPagination:R,sort:M,sorters:M,filters:I,subscriptionType:"useList",...d},channel:`resources/${u.name}`,enabled:B,liveMode:x,onLiveEvent:$});let U=(0,Tu.useInfiniteQuery)(s().data(L).resource(b).action("infinite").params({...k||{},filters:I,hasPagination:R,...R&&{pagination:T},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(c),({queryKey:z,pageParam:V,signal:W})=>{let Z={...T,current:V};return G({resource:u.name,pagination:Z,hasPagination:R,filters:I,sort:M,sorters:M,meta:{...q,queryContext:{queryKey:z,pageParam:V,signal:W}},metaData:{...q,queryContext:{queryKey:z,pageParam:V,signal:W}}}).then(({data:Y,total:te,...$e})=>({data:Y,total:te,pagination:Z,...$e}))},{getNextPageParam:z=>Qo(z),getPreviousPageParam:z=>Ko(z),...i,onSuccess:z=>{var V;(V=i==null?void 0:i.onSuccess)==null||V.call(i,z);let W=typeof l=="function"?l(z,O,b):l;P(W)},onError:z=>{var V;E(z),(V=i==null?void 0:i.onError)==null||V.call(i,z);let W=typeof m=="function"?m(z,O,b):m;P(W,{key:`${b}-useInfiniteList-notification`,message:F("notifications.error",{statusCode:z.statusCode},`Error (status code: ${z.statusCode})`),description:z.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,Mu.getXRay)("useInfiniteList",c)}}),{elapsedTime:_}=we({isLoading:U.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...U,overtime:{elapsedTime:_}}},"useInfiniteList"),an=S("react"),ai=j(S("react")),or=ai.default.createContext(void 0),Du=p(({liveProvider:e,children:t})=>ai.default.createElement(or.Provider,{value:e},t),"LiveContextProvider"),Ou=S("react"),oi=j(S("react")),qu=S("react"),Vu=S("react"),Uu=j(S("lodash/isEqual")),Qu=p(e=>{let t=(0,Vu.useRef)(e);return(0,Uu.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),ii=p((e,t)=>{let r=Qu(t);return(0,qu.useMemo)(e,r)},"useDeepMemo"),ir=oi.default.createContext({resources:[]}),Ku=p(({resources:e,children:t})=>{let r=ii(()=>zo(e??[]),[e]);return oi.default.createElement(ir.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),si=j(S("react")),li=si.default.createContext("new"),zu=li.Provider,xe=p(()=>si.default.useContext(li),"useRouterType"),Wu=j(S("react")),ui=j(S("react")),ci={},sr=(0,ui.createContext)(ci),ju=p(({children:e,router:t})=>ui.default.createElement(sr.Provider,{value:t??ci},e),"RouterBindingsProvider"),Ja=j(S("react")),di=p(()=>{let e=(0,Ja.useContext)(sr);return Ja.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),rt=p(()=>{let e=di();return Wu.default.useMemo(()=>e(),[e])},"useParsed");function re(e){let{resources:t}=(0,Ou.useContext)(ir),r=xe(),a=rt(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},o=p((x,$=!0)=>{let d=Ie(x,t,r==="legacy");if(d)return{resource:d,identifier:d.identifier??d.name};if($){let C={name:x,identifier:x},f=C.identifier??C.name;return{resource:C,identifier:f}}},"select"),i=pi(),{useParams:l}=ze(),m=l();if(r==="legacy"){let x=n.resourceNameOrRouteName?n.resourceNameOrRouteName:m.resource,$=x?i(x):void 0,d=(n==null?void 0:n.recordItemId)??m.id,C=m.action,f=(n==null?void 0:n.resourceName)??($==null?void 0:$.name),v=($==null?void 0:$.identifier)??($==null?void 0:$.name);return{resources:t,resource:$,resourceName:f,id:d,action:C,select:o,identifier:v}}let g,y=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(y){let x=Ie(y,t);x?g=x:g={name:y}}else a!=null&&a.resource&&(g=a.resource);return{resources:t,resource:g,resourceName:g==null?void 0:g.name,id:a.id,action:a.action,select:o,identifier:(g==null?void 0:g.identifier)??(g==null?void 0:g.name)}}h(re,"K");p(re,"useResource");var eo=S("react"),pi=p(()=>{let{resources:e}=(0,eo.useContext)(ir);return(0,eo.useCallback)(t=>Ie(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),Hu=S("react"),_u=S("@tanstack/react-query"),yt=p(()=>{let{resources:e}=re(),t=(0,_u.useQueryClient)(),{keys:r,preferLegacyKeys:a}=se();return(0,Hu.useCallback)(async({resource:n,dataProviderName:o,invalidates:i,id:l,invalidationFilters:m={type:"all",refetchType:"active"},invalidationOptions:g={cancelRefetch:!1}})=>{if(i===!1)return;let y=ee(n,o,e),x=r().data(y).resource(n??"");await Promise.all(i.map($=>{switch($){case"all":return t.invalidateQueries(r().data(y).get(a),m,g);case"list":return t.invalidateQueries(x.action("list").get(a),m,g);case"many":return t.invalidateQueries(x.action("many").get(a),m,g);case"resourceAll":return t.invalidateQueries(x.get(a),m,g);case"detail":return t.invalidateQueries(x.action("one").id(l||"").get(a),m,g);default:return}}))},[])},"useInvalidate"),lr=p(({resource:e,params:t,channel:r,types:a,enabled:n=!0,liveMode:o,onLiveEvent:i})=>{let{resource:l,identifier:m}=re(e),g=(0,an.useContext)(or),{liveMode:y,onLiveEvent:x}=(0,an.useContext)($t),$=o??y,d=yt();(0,an.useEffect)(()=>{let C,f=p(v=>{var u;$==="auto"&&d({resource:m,dataProviderName:(u=l==null?void 0:l.meta)==null?void 0:u.dataProviderName,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),i==null||i(v),x==null||x(v)},"callback");return $&&$!=="off"&&n&&(C=g==null?void 0:g.subscribe({channel:r,params:{resource:l==null?void 0:l.name,...t},types:a,callback:f})),()=>{C&&(g==null||g.unsubscribe(C))}},[n])},"useResourceSubscription"),Bu=S("react"),mi=p(e=>{let{liveMode:t}=(0,Bu.useContext)($t);return e??t},"useLiveMode"),to=S("react"),Gu=p(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:n})=>{let o=(0,to.useContext)(or);(0,to.useEffect)(()=>{let i;return a&&(i=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:n})),()=>{i&&(o==null||o.unsubscribe(i))}},[a])},"useSubscription"),Xu=S("react"),qt=p(()=>{let e=(0,Xu.useContext)(or);return e==null?void 0:e.publish},"usePublish"),Zu=S("react"),Xt=p(()=>{let{notifications:e,notificationDispatch:t}=(0,Zu.useContext)(ti);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),Yu=S("react"),fi=j(S("react")),An=(0,fi.createContext)({}),Ju=p(({open:e,close:t,children:r})=>fi.default.createElement(An.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),kt=p(()=>{let{open:e,close:t}=(0,Yu.useContext)(An);return{open:e,close:t}},"useNotification"),ec=S("react"),Ke=p(()=>{let{open:e}=kt();return(0,ec.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),ro=S("react"),vi=j(S("react")),Vt=vi.default.createContext({}),tc=p(({children:e,i18nProvider:t})=>vi.default.createElement(Vt.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),rc=p(()=>{let{i18nProvider:e}=(0,ro.useContext)(Vt);return(0,ro.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),no=S("react"),ce=p(()=>{let{i18nProvider:e}=(0,no.useContext)(Vt);return(0,no.useMemo)(()=>{function t(r,a,n){return(e==null?void 0:e.translate(r,a,n))??n??(typeof a=="string"&&typeof n>"u"?a:r)}return h(t,"r"),p(t,"translate"),t},[e])},"useTranslate"),ao=S("react"),nc=p(()=>{let{i18nProvider:e}=(0,ao.useContext)(Vt);return(0,ao.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),ac=S("react"),oc=S("export-to-csv-fix-source-map"),ic=p(({resourceName:e,resource:t,sorter:r,sorters:a,filters:n,maxItemCount:o,pageSize:i=20,mapData:l=p(d=>d,"mapData"),exportOptions:m,meta:g,metaData:y,dataProviderName:x,onError:$}={})=>{let[d,C]=(0,ac.useState)(!1),f=Ee(),v=ge(),{resource:u,resources:b,identifier:w}=re(Q(t,e)),F=`${xn()(w,"plural")}-${new Date().toLocaleString()}`,{getList:D}=f(ee(w,x,b)),E=v({resource:u,meta:Q(g,y)});return{isLoading:d,triggerExport:p(async()=>{C(!0);let P=[],N=1,s=!0;for(;s;)try{let{data:c,total:L}=await D({resource:(u==null?void 0:u.name)??"",filters:n,sort:Q(a,r),sorters:Q(a,r),pagination:{current:N,pageSize:i,mode:"server"},meta:E,metaData:E});N++,P.push(...c),o&&P.length>=o&&(P=P.slice(0,o),s=!1),L===P.length&&(s=!1)}catch(c){C(!1),s=!1,$==null||$(c);return}new oc.ExportToCsv({filename:F,useKeysAsHeaders:!0,...m}).generateCsv(P.map(l)),C(!1)},"triggerExport")}},"useExport"),on=j(S("react")),sc=j(S("warn-once")),lc=j(S("lodash/debounce")),uc=p(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:n,redirect:o,successNotification:i,errorNotification:l,meta:m,metaData:g,queryMeta:y,mutationMeta:x,mutationMode:$,liveMode:d,onLiveEvent:C,liveParams:f,undoableTimeout:v,dataProviderName:u,invalidates:b,queryOptions:w,createMutationOptions:F,updateMutationOptions:D,overtimeOptions:E,autoSave:P,optimisticUpdateMap:N}={})=>{let s=yt(),{options:c}=Ae(),L=ge(),{resource:k,id:I,action:M,identifier:A}=re(e),{identifier:T}=re(),R=p(()=>e&&e!==T?r:r??I,"getDefaultId")(),[O,B]=on.default.useState(R);on.default.useEffect(()=>{B(R)},[R]);let q=p(()=>t||(M==="edit"||M==="clone"?M:"create"),"getAction")(),G=L({resource:k,meta:Q(m,g)}),{mutationMode:U}=Gt(),_=$??U,z=q==="create",V=q==="edit",W=q==="clone";(0,sc.default)((W||V)&&!!e&&!r&&(w==null?void 0:w.enabled)!==!1,`[useForm]: action: "${q}", resource: "${A}", id: ${O} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let Z=Dl({redirectFromProps:o,action:q,redirectOptions:c.redirect}),Y=Ln({resource:A,id:O??"",queryOptions:{enabled:O!==void 0&&(V||W),...w},liveMode:d,onLiveEvent:C,liveParams:f,meta:{...G,...y},metaData:{...G,...y},dataProviderName:u}),{isFetching:te}=Y,$e=Fn({mutationOptions:F}),{mutate:De,isLoading:Le}=$e,ke=gn({mutationOptions:D}),{mutate:it,isLoading:Pe}=ke,st=gn({}),{setWarnWhen:Ct}=Cn(),lt=gi(),Kt=p(async pe=>{Ct(!1);let Ye=p(fe=>{lt({redirect:Z,resource:k,id:fe,meta:Q(m,g)})},"onSuccess");return _!=="pessimistic"&&setTimeout(()=>{Ye()}),new Promise((fe,pt)=>{if(_!=="pessimistic"&&fe(),!!k)return De({values:pe,resource:A??k.name,successNotification:i,errorNotification:l,meta:{...G,...x},metaData:{...G,...x},dataProviderName:u,invalidates:b},{onSuccess:(he,Je,et)=>{var mt;a&&a(he,pe,et);let ft=(mt=he==null?void 0:he.data)==null?void 0:mt.id;Ye(ft),fe(he)},onError:(he,Je,et)=>{if(n)return n(he,pe,et);pt()}})})},"onFinishCreate");on.default.useEffect(()=>()=>{P!=null&&P.invalidateOnUnmount&&st.status==="success"&&s({id:O,invalidates:b||["list","many","detail"],dataProviderName:u,resource:A})},[P==null?void 0:P.invalidateOnUnmount,st.status]);let zt=p(pe=>{if(!k||!V)return;let Ye={id:O??"",values:pe,resource:A??k.name,successNotification:!1,errorNotification:!1,meta:{...G,...x},metaData:{...G,...x},dataProviderName:u,invalidates:[],mutationMode:"pessimistic"};return st.mutate(Ye,{onSuccess:(fe,pt,he)=>{a&&a(fe,pe,he,!0)},onError:(fe,pt,he)=>{if(n)return n(fe,pe,he,!0)}})},"onFinishAutoSaveMutation"),yr=(0,lc.default)(pe=>zt(pe),(P==null?void 0:P.debounce)||1e3),er=z||W?{formLoading:te||Le,mutationResult:$e,onFinish:Kt}:{formLoading:te||Pe,mutationResult:ke,onFinish:p(async pe=>{if(Ct(!1),!k)return;let Ye={id:O??"",values:pe,resource:A??k.name,mutationMode:_,undoableTimeout:v,successNotification:i,errorNotification:l,meta:{...G,...x},metaData:{...G,...x},dataProviderName:u,invalidates:b,optimisticUpdateMap:N},fe=p(()=>{lt({redirect:Z,resource:k,id:O,meta:Q(m,g)})},"onSuccess");return _!=="pessimistic"&&setTimeout(()=>{fe()}),new Promise((pt,he)=>(_!=="pessimistic"&&pt(),setTimeout(()=>{it(Ye,{onSuccess:(Je,et,mt)=>{a&&a(Je,pe,mt),_==="pessimistic"&&fe(),pt(Je)},onError:(Je,et,mt)=>{if(n)return n(Je,pe,mt);he()}})})))},"onFinishUpdate")},{elapsedTime:jr}=we({isLoading:er.mutationResult.isLoading||Y.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...er,queryResult:Y,onFinishAutoSave:yr,autoSaveProps:{status:st.status,data:st.data,error:st.error},id:O,setId:B,redirect:(pe,Ye)=>{lt({redirect:pe!==void 0?pe:V?"list":"edit",resource:k,id:Ye??O,meta:Q(m,g)})},overtime:{elapsedTime:jr}}},"useForm"),cc=S("react"),gi=p(()=>{let{show:e,edit:t,list:r,create:a}=Ge();return(0,cc.useCallback)(({redirect:n,resource:o,id:i,meta:l={}})=>{if(n&&o)return o.show&&n==="show"&&i?e(o,i,void 0,l):o.edit&&n==="edit"&&i?t(o,i,void 0,l):o.create&&n==="create"?a(o,void 0,l):r(o,"push",l)},[])},"useRedirectionAfterSubmission"),oo=j(S("react")),Be=p(()=>{let e=(0,oo.useContext)(sr);return oo.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])()},"useGo"),io=j(S("react")),yi=p(()=>{let e=(0,io.useContext)(sr);return io.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),Ge=p(()=>{let{resources:e}=re(),t=xe(),{useHistory:r}=ze(),a=r(),n=rt(),o=Be(),i=yi(),l=p((d,C="push")=>{t==="legacy"?a[C](d):o({to:d,type:C})},"handleUrl"),m=p((d,C={})=>{var f;if(t==="legacy"){let v=typeof d=="string"?Ie(d,e,!0)??{name:d,route:d}:d,u=Ve(v,e,!0).find(b=>b.action==="create");return u?He(u.route,v==null?void 0:v.meta,n,C):""}else{let v=typeof d=="string"?Ie(d,e)??{name:d}:d,u=(f=Ve(v,e).find(b=>b.action==="create"))==null?void 0:f.route;return u?o({to:He(u,v==null?void 0:v.meta,n,C),type:"path"}):""}},"createUrl"),g=p((d,C,f={})=>{var v;let u=encodeURIComponent(C);if(t==="legacy"){let b=typeof d=="string"?Ie(d,e,!0)??{name:d,route:d}:d,w=Ve(b,e,!0).find(F=>F.action==="edit");return w?He(w.route,b==null?void 0:b.meta,n,{...f,id:u}):""}else{let b=typeof d=="string"?Ie(d,e)??{name:d}:d,w=(v=Ve(b,e).find(F=>F.action==="edit"))==null?void 0:v.route;return w?o({to:He(w,b==null?void 0:b.meta,n,{...f,id:u}),type:"path"}):""}},"editUrl"),y=p((d,C,f={})=>{var v;let u=encodeURIComponent(C);if(t==="legacy"){let b=typeof d=="string"?Ie(d,e,!0)??{name:d,route:d}:d,w=Ve(b,e,!0).find(F=>F.action==="clone");return w?He(w.route,b==null?void 0:b.meta,n,{...f,id:u}):""}else{let b=typeof d=="string"?Ie(d,e)??{name:d}:d,w=(v=Ve(b,e).find(F=>F.action==="clone"))==null?void 0:v.route;return w?o({to:He(w,b==null?void 0:b.meta,n,{...f,id:u}),type:"path"}):""}},"cloneUrl"),x=p((d,C,f={})=>{var v;let u=encodeURIComponent(C);if(t==="legacy"){let b=typeof d=="string"?Ie(d,e,!0)??{name:d,route:d}:d,w=Ve(b,e,!0).find(F=>F.action==="show");return w?He(w.route,b==null?void 0:b.meta,n,{...f,id:u}):""}else{let b=typeof d=="string"?Ie(d,e)??{name:d}:d,w=(v=Ve(b,e).find(F=>F.action==="show"))==null?void 0:v.route;return w?o({to:He(w,b==null?void 0:b.meta,n,{...f,id:u}),type:"path"}):""}},"showUrl"),$=p((d,C={})=>{var f;if(t==="legacy"){let v=typeof d=="string"?Ie(d,e,!0)??{name:d,route:d}:d,u=Ve(v,e,!0).find(b=>b.action==="list");return u?He(u.route,v==null?void 0:v.meta,n,C):""}else{let v=typeof d=="string"?Ie(d,e)??{name:d}:d,u=(f=Ve(v,e).find(b=>b.action==="list"))==null?void 0:f.route;return u?o({to:He(u,v==null?void 0:v.meta,n,C),type:"path"}):""}},"listUrl");return{create:p((d,C="push",f={})=>{l(m(d,f),C)},"create"),createUrl:m,edit:p((d,C,f="push",v={})=>{l(g(d,C,v),f)},"edit"),editUrl:g,clone:p((d,C,f="push",v={})=>{l(y(d,C,v),f)},"clone"),cloneUrl:y,show:p((d,C,f="push",v={})=>{l(x(d,C,v),f)},"show"),showUrl:x,list:p((d,C="push",f={})=>{l($(d,f),C)},"list"),listUrl:$,push:p((d,...C)=>{t==="legacy"?a.push(d,...C):o({to:d,type:"push"})},"push"),replace:p((d,...C)=>{t==="legacy"?a.replace(d,...C):o({to:d,type:"replace"})},"replace"),goBack:p(()=>{t==="legacy"?a.goBack():i()},"goBack")}},"useNavigation"),so=j(S("react")),dc=j(S("warn-once")),pc=p(({resource:e,id:t,successNotification:r,errorNotification:a,meta:n,metaData:o,liveMode:i,onLiveEvent:l,dataProviderName:m,queryOptions:g,overtimeOptions:y}={})=>{let{resource:x,id:$,identifier:d}=re(e),{identifier:C}=re(),f=ge(),v=p(()=>e&&e!==C?t:t??$,"getDefaultId")(),[u,b]=(0,so.useState)(v);so.default.useEffect(()=>{b(v)},[v]);let w=f({resource:x,meta:Q(n,o)});(0,dc.default)(!!e&&!t,`[useShow]: resource: "${d}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let F=Ln({resource:d,id:u??"",queryOptions:{enabled:u!==void 0,...g},successNotification:r,errorNotification:a,meta:w,metaData:w,liveMode:i,onLiveEvent:l,dataProviderName:m}),{elapsedTime:D}=we({isLoading:F.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{queryResult:F,showId:u,setShowId:b,overtime:{elapsedTime:D}}},"useShow"),wr=S("react"),mc=S("papaparse"),fc=j(S("lodash/chunk")),vc=p(({resourceName:e,resource:t,mapData:r=p(y=>y,"mapData"),paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:i,metaData:l,onProgress:m,dataProviderName:g}={})=>{let[y,x]=(0,wr.useState)(0),[$,d]=(0,wr.useState)(0),[C,f]=(0,wr.useState)(!1),{resource:v,identifier:u}=re(t??e),b=ge(),w=ri(),F=Fn(),D=b({resource:v,meta:Q(i,l)}),E;n===1?E=F:E=w;let P=p(()=>{d(0),x(0),f(!1)},"handleCleanup"),N=p(c=>{let L={succeeded:c.filter(k=>k.type==="success"),errored:c.filter(k=>k.type==="error")};o==null||o(L),f(!1)},"handleFinish");(0,wr.useEffect)(()=>{m==null||m({totalAmount:$,processedAmount:y})},[$,y]);let s=p(({file:c})=>(P(),new Promise(L=>{f(!0),(0,mc.parse)(c,{complete:async({data:k})=>{let I=$o(k,r);if(d(I.length),n===1){let M=I.map(T=>p(async()=>({response:await F.mutateAsync({resource:u??"",values:T,successNotification:!1,errorNotification:!1,dataProviderName:g,meta:D,metaData:D}),value:T}),"fn")),A=await Sa(M,({response:T,value:R})=>(x(O=>O+1),{response:[T.data],type:"success",request:[R]}),(T,R)=>({response:[T],type:"error",request:[I[R]]}));L(A)}else{let M=(0,fc.default)(I,n),A=M.map(R=>p(async()=>({response:await w.mutateAsync({resource:u??"",values:R,successNotification:!1,errorNotification:!1,dataProviderName:g,meta:D,metaData:D}),value:R,currentBatchLength:R.length}),"fn")),T=await Sa(A,({response:R,currentBatchLength:O,value:B})=>(x(q=>q+O),{response:R.data,type:"success",request:B}),(R,O)=>({response:[R],type:"error",request:M[O]}));L(T)}},...a})}).then(L=>(N(L),L))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:c=>{c.target.files&&c.target.files.length>0&&s({file:c.target.files[0]})}},mutationResult:E,isLoading:C,handleChange:s}},"useImport"),sn=S("react"),gc=p(({defaultVisible:e=!1}={})=>{let[t,r]=(0,sn.useState)(e),a=(0,sn.useCallback)(()=>r(!0),[t]),n=(0,sn.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:n}},"useModal"),yc=j(S("react")),Tn=p(()=>{let e=xe(),{resource:t,resources:r}=re(),a=rt();return yc.default.useCallback(({resource:n,action:o,meta:i})=>{var l;let m=n||t;if(!m)return;let g=(l=Ve(m,r,e==="legacy").find(y=>y.action===o))==null?void 0:l.route;return g?He(g,m==null?void 0:m.meta,a,i):void 0},[r,t,a])},"useGetToPath"),hc=p(({resource:e,action:t,meta:r,legacy:a})=>Tn()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),lo=j(S("react")),Rr=p(()=>{let e=(0,lo.useContext)(sr);return e!=null&&e.Link?e.Link:p(({to:t,...r})=>lo.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),bc=S("react"),hi=j(S("react")),Pt={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Cc=hi.default.createContext(Pt),Mn=Cc,xc=p(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i})=>hi.default.createElement(Mn.Provider,{value:{useHistory:t??Pt.useHistory,useLocation:r??Pt.useLocation,useParams:a??Pt.useParams,Prompt:n??Pt.Prompt,Link:o??Pt.Link,routes:i??Pt.routes}},e),"LegacyRouterContextProvider"),ze=p(()=>{let e=(0,bc.useContext)(Mn),{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i}=e??Pt;return{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i}},"useRouterContext"),Pc=S("@tanstack/react-query"),wc=S("react"),bi=j(S("react")),ur=bi.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),$c=p(({can:e,children:t,options:r})=>bi.default.createElement(ur.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),Rn=p(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:n,show:o,clone:i,children:l,meta:m,options:g,...y}=e,{icon:x,...$}=m??{},{icon:d,...C}=g??{};return{...y,...m?{meta:$}:{},...g?{options:C}:{}}},"sanitizeResource"),kc=ie(),Ci=p(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:n}=(0,wc.useContext)(ur),{keys:o,preferLegacyKeys:i}=se(),{resource:l,...m}=r??{},g=Rn(l),y=(0,Pc.useQuery)(o().access().resource(t).action(e).params({params:{...m,resource:g},enabled:a==null?void 0:a.enabled}).get(i),()=>(n==null?void 0:n({action:e,resource:t,params:{...m,resource:g}}))??Promise.resolve({can:!0}),{enabled:typeof n<"u",...a,meta:{...a==null?void 0:a.meta,...(0,kc.getXRay)("useCan",i)},retry:!1});return typeof n>"u"?{data:{can:!0}}:y},"useCan"),uo=j(S("react")),Ic=p(()=>{let{can:e}=uo.default.useContext(ur);return{can:uo.default.useMemo(()=>e?p(async({params:t,...r})=>{let a=t!=null&&t.resource?Rn(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),jt=S("react"),Ec=j(S("lodash/uniqBy")),Sc=j(S("lodash/debounce")),$r=j(S("lodash/get")),Lc=p(e=>{let[t,r]=(0,jt.useState)([]),[a,n]=(0,jt.useState)([]),[o,i]=(0,jt.useState)([]),{resource:l,sort:m,sorters:g,filters:y=[],optionLabel:x="title",optionValue:$="id",debounce:d=300,successNotification:C,errorNotification:f,defaultValueQueryOptions:v,queryOptions:u,fetchSize:b,pagination:w,hasPagination:F=!1,liveMode:D,defaultValue:E=[],onLiveEvent:P,onSearch:N,liveParams:s,meta:c,metaData:L,dataProviderName:k,overtimeOptions:I}=e,{resource:M,identifier:A}=re(l),T=ge()({resource:M,meta:Q(c,L)}),R=Array.isArray(E)?E:[E],O=(0,jt.useCallback)(V=>{i(V.data.map(W=>({label:(0,$r.default)(W,x),value:(0,$r.default)(W,$)})))},[x,$]),B=v??u,q=ei({resource:A,ids:R,queryOptions:{...B,enabled:R.length>0&&((B==null?void 0:B.enabled)??!0),onSuccess:V=>{var W;O(V),(W=B==null?void 0:B.onSuccess)==null||W.call(B,V)}},meta:T,metaData:T,liveMode:"off",dataProviderName:k}),G=(0,jt.useCallback)(V=>{n(V.data.map(W=>({label:(0,$r.default)(W,x),value:(0,$r.default)(W,$)})))},[x,$]),U=Sn({resource:A,sorters:Q(g,m),filters:y.concat(t),pagination:{current:w==null?void 0:w.current,pageSize:(w==null?void 0:w.pageSize)??b,mode:w==null?void 0:w.mode},hasPagination:F,queryOptions:{...u,onSuccess:V=>{var W;G(V),(W=u==null?void 0:u.onSuccess)==null||W.call(u,V)}},successNotification:C,errorNotification:f,meta:T,metaData:T,liveMode:D,liveParams:s,onLiveEvent:P,dataProviderName:k}),_=p(V=>{if(N){r(N(V));return}if(V)r([{field:x,operator:"contains",value:V}]);else{r([]);return}},"onSearch"),{elapsedTime:z}=we({isLoading:U.isFetching||q.isFetching,interval:I==null?void 0:I.interval,onInterval:I==null?void 0:I.onInterval});return{queryResult:U,defaultValueQueryResult:q,options:(0,jt.useMemo)(()=>(0,Ec.default)([...a,...o],"value"),[a,o]),onSearch:(0,Sc.default)(_,d),overtime:{elapsedTime:z}}},"useSelect"),Mt=j(S("react")),co=j(S("qs")),kr=j(S("lodash/differenceWith")),Ir=j(S("lodash/isEqual")),Fc=j(S("warn-once")),po=[],mo=[];function xi({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:n,permanentSorter:o=mo,defaultSetFilterBehavior:i,initialFilter:l,permanentFilter:m=po,filters:g,sorters:y,syncWithLocation:x,resource:$,successNotification:d,errorNotification:C,queryOptions:f,liveMode:v,onLiveEvent:u,liveParams:b,meta:w,metaData:F,dataProviderName:D,overtimeOptions:E}={}){var P,N,s,c,L;let{syncWithLocation:k}=Go(),I=x??k,M=mi(v),A=xe(),{useLocation:T}=ze(),{search:R,pathname:O}=T(),B=ge(),q=rt(),G=((g==null?void 0:g.mode)||"server")==="server",U=((y==null?void 0:y.mode)||"server")==="server",_=r===!1?"off":"server",z=((a==null?void 0:a.mode)??_)!=="off",V=Q(a==null?void 0:a.current,e),W=Q(a==null?void 0:a.pageSize,t),Z=Q(w,F),{parsedCurrent:Y,parsedPageSize:te,parsedSorter:$e,parsedFilters:De}=Pn(R??"?"),Le=Q(g==null?void 0:g.initial,l),ke=Q(g==null?void 0:g.permanent,m)??po,it=Q(y==null?void 0:y.initial,n),Pe=Q(y==null?void 0:y.permanent,o)??mo,st=Q(g==null?void 0:g.defaultBehavior,i)??"merge",Ct,lt,Kt,zt;I?(Ct=((P=q==null?void 0:q.params)==null?void 0:P.current)||Y||V||1,lt=((N=q==null?void 0:q.params)==null?void 0:N.pageSize)||te||W||10,Kt=((s=q==null?void 0:q.params)==null?void 0:s.sorters)||($e.length?$e:it),zt=((c=q==null?void 0:q.params)==null?void 0:c.filters)||(De.length?De:Le)):(Ct=V||1,lt=W||10,Kt=it,zt=Le);let{replace:yr}=Ge(),er=Be(),{resource:jr,identifier:pe}=re($),Ye=B({resource:jr,meta:Z});Mt.default.useEffect(()=>{(0,Fc.default)(typeof pe>"u","useTable: `resource` is not defined.")},[pe]);let[fe,pt]=(0,Mt.useState)(vn(Pe,Kt??[])),[he,Je]=(0,Mt.useState)(fn(ke,zt??[])),[et,mt]=(0,Mt.useState)(Ct),[ft,sa]=(0,Mt.useState)(lt),Fs=p(({pagination:{current:ve,pageSize:je},sorter:hr,filters:br})=>{if(A==="new")return er({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...z?{current:ve,pageSize:je}:{},sorters:hr,filters:br,...la()}})??"";{let tr=co.default.parse(R==null?void 0:R.substring(1)),Ds=pn({pagination:{pageSize:je,current:ve},sorters:fe??hr,filters:br,...tr});return`${O??""}?${Ds??""}`}},"createLinkForSyncWithLocation");(0,Mt.useEffect)(()=>{R===""&&(mt(Ct),sa(lt),pt(vn(Pe,Kt??[])),Je(fn(ke,zt??[])))},[R]);let la=p(()=>{if(A==="new"){let{sorters:ve,filters:je,pageSize:hr,current:br,...tr}=(q==null?void 0:q.params)??{};return tr}else{let{sorter:ve,filters:je,pageSize:hr,current:br,...tr}=co.default.parse(R,{ignoreQueryPrefix:!0});return tr}},"currentQueryParams");(0,Mt.useEffect)(()=>{if(I){let ve=la();if(A==="new")er({type:"replace",options:{keepQuery:!0},query:{...z?{pageSize:ft,current:et}:{},sorters:(0,kr.default)(fe,Pe,Ir.default),filters:(0,kr.default)(he,ke,Ir.default)}});else{let je=pn({...z?{pagination:{pageSize:ft,current:et}}:{},sorters:(0,kr.default)(fe,Pe,Ir.default),filters:(0,kr.default)(he,ke,Ir.default),...ve});return yr==null?void 0:yr(`${O}?${je}`,void 0,{shallow:!0})}}},[I,et,ft,fe,he]);let Hr=Sn({resource:pe,hasPagination:r,pagination:{current:et,pageSize:ft,mode:a==null?void 0:a.mode},filters:G?nr(ke,he):void 0,sorters:U?mn(Pe,fe):void 0,queryOptions:f,successNotification:d,errorNotification:C,meta:Ye,metaData:Ye,liveMode:M,liveParams:b,onLiveEvent:u,dataProviderName:D}),Ns=p(ve=>{Je(je=>nr(ke,ve,je))},"setFiltersAsMerge"),As=p(ve=>{Je(nr(ke,ve))},"setFiltersAsReplace"),Ts=p(ve=>{Je(je=>nr(ke,ve(je)))},"setFiltersWithSetter"),Ms=p((ve,je=st)=>{typeof ve=="function"?Ts(ve):je==="replace"?As(ve):Ns(ve)},"setFiltersFn"),ua=p(ve=>{pt(()=>mn(Pe,ve))},"setSortWithUnion"),{elapsedTime:Rs}=we({isLoading:Hr.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{tableQueryResult:Hr,sorters:fe,setSorters:ua,sorter:fe,setSorter:ua,filters:he,setFilters:Ms,current:et,setCurrent:mt,pageSize:ft,setPageSize:sa,pageCount:ft?Math.ceil((((L=Hr.data)==null?void 0:L.total)??0)/ft):1,createLinkForSyncWithLocation:Fs,overtime:{elapsedTime:Rs}}}h(xi,"ki");p(xi,"useTable");var fo=S("react"),ln=S("@tanstack/react-query"),Pi=j(S("react")),Dr=Pi.default.createContext({}),Nc=p(({create:e,get:t,update:r,children:a})=>Pi.default.createElement(Dr.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),vo=ie(),Ut=p(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,ln.useQueryClient)(),a=(0,fo.useContext)(Dr),{keys:n,preferLegacyKeys:o}=se(),i=Ce(),{resources:l}=(0,fo.useContext)(ir),{data:m,refetch:g,isLoading:y}=wn({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy),queryOptions:{enabled:!!a}}),x=(0,ln.useMutation)(async d=>{var C,f,v,u,b;let w=Ie(d.resource,l),F=Q((C=w==null?void 0:w.meta)==null?void 0:C.audit,(f=w==null?void 0:w.options)==null?void 0:f.audit,(u=(v=w==null?void 0:w.options)==null?void 0:v.auditLog)==null?void 0:u.permissions);if(F&&!Il(F,d.action))return;let D;return y&&(D=await g()),await((b=a.create)==null?void 0:b.call(a,{...d,author:m??(D==null?void 0:D.data)}))},{mutationKey:n().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,vo.getXRay)("useLog",o)}}),$=(0,ln.useMutation)(async d=>{var C;return await((C=a.update)==null?void 0:C.call(a,d))},{onSuccess:d=>{d!=null&&d.resource&&r.invalidateQueries(n().audit().resource((d==null?void 0:d.resource)??"").action("list").get(o))},mutationKey:n().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,vo.getXRay)("useLog",o)}});return{log:x,rename:$}},"useLog"),Ac=S("react"),Tc=S("@tanstack/react-query"),Mc=ie(),Rc=p(({resource:e,action:t,meta:r,author:a,metaData:n,queryOptions:o})=>{let{get:i}=(0,Ac.useContext)(Dr),{keys:l,preferLegacyKeys:m}=se();return(0,Tc.useQuery)(l().audit().resource(e).action("list").params(r).get(m),()=>(i==null?void 0:i({resource:e,action:t,author:a,meta:r,metaData:n}))??Promise.resolve([]),{enabled:typeof i<"u",...o,retry:!1,meta:{...o==null?void 0:o.meta,...(0,Mc.getXRay)("useLogList",m)}})},"useLogList"),Dc=S("react"),Oc=j(S("warn-once")),qc=p(({meta:e={}}={})=>{let t=xe(),{i18nProvider:r}=(0,Dc.useContext)(Vt),a=rt(),n=ce(),{resources:o,resource:i,action:l}=re(),{options:{textTransformers:m}}=Ae(),g=[];if(!(i!=null&&i.name))return{breadcrumbs:g};let y=p(x=>{var $,d,C,f,v,u;let b=typeof x=="string"?Ie(x,o,t==="legacy")??{name:x}:x;if(b){let w=Q(($=b==null?void 0:b.meta)==null?void 0:$.parent,b==null?void 0:b.parentName);w&&y(w);let F=Ve(b,o,t==="legacy").find(P=>P.action==="list"),D=(d=F==null?void 0:F.resource)!=null&&d.list?F==null?void 0:F.route:void 0,E=D?t==="legacy"?D:He(D,b==null?void 0:b.meta,a,e):void 0;g.push({label:Q((C=b.meta)==null?void 0:C.label,(f=b.options)==null?void 0:f.label)??n(`${b.name}.${b.name}`,m.humanize(b.name)),href:E,icon:Q((v=b.meta)==null?void 0:v.icon,(u=b.options)==null?void 0:u.icon,b.icon)})}},"addBreadcrumb");if(y(i),l&&l!=="list"){let x=`actions.${l}`,$=n(x);typeof r<"u"&&$===x?((0,Oc.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${l}" action. Please add "actions.${l}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),g.push({label:n(`buttons.${l}`,m.humanize(l))})):g.push({label:n(x,m.humanize(l))})}return{breadcrumbs:g}},"useBreadcrumb"),un=j(S("react")),Sr=p((e,t,r=!1)=>{let a=[],n=wt(e,t);for(;n;)a.push(n),n=wt(n,t);return a.reverse(),`/${[...a,e].map(o=>vt((r?o.route:void 0)??o.identifier??o.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),Vc=p((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{let o=[],i=wt(n,e);for(;i;)o.push(i),i=wt(i,e);o.reverse();let l=r;o.forEach(g=>{let y=(t?g.route:void 0)??g.identifier??g.name;l.children[y]||(l.children[y]={item:g,children:{}}),l=l.children[y]});let m=(t?n.route:void 0)??n.identifier??n.name;l.children[m]||(l.children[m]={item:n,children:{}})});let a=p(n=>{let o=[];return Object.keys(n.children).forEach(i=>{let l=Sr(n.children[i].item,e,t),m={...n.children[i].item,key:l,children:a(n.children[i])};o.push(m)}),o},"flatten");return a(r)},"createTree"),go=p(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Uc=p(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=ce(),a=Tn(),n=xe(),{resource:o,resources:i}=re(),{pathname:l}=rt(),{useLocation:m}=ze(),{pathname:g}=m(),y=xn(),x=`/${((n==="legacy"?go(g):l?go(l):void 0)??"").replace(/^\//,"")}`,$=o?Sr(o,i,n==="legacy"):x??"",d=un.default.useMemo(()=>{if(!o)return[];let v=wt(o,i),u=[Sr(o,i)];for(;v;)u.push(Sr(v,i)),v=wt(v,i);return u},[]),C=un.default.useCallback(v=>{var u,b,w,F,D,E;if((((u=v==null?void 0:v.meta)==null?void 0:u.hide)??((b=v==null?void 0:v.options)==null?void 0:b.hide))||!(v!=null&&v.list)&&v.children.length===0)return;let P=v.list?a({resource:v,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&P&&P.match(/(\/|^):(.+?)(\/|$){1}/)))return{...v,route:P,icon:Q((w=v.meta)==null?void 0:w.icon,(F=v.options)==null?void 0:F.icon,v.icon),label:Q((D=v==null?void 0:v.meta)==null?void 0:D.label,(E=v==null?void 0:v.options)==null?void 0:E.label)??r(`${v.name}.${v.name}`,y(v.name,"plural"))}},[n,e,r,t]),f=un.default.useMemo(()=>{let v=Vc(i,n==="legacy"),u=p(b=>b.flatMap(w=>{let F=u(w.children),D=C({...w,children:F});return D?[D]:[]}),"prepare");return u(v)},[i,n,C]);return{defaultOpenKeys:d,selectedKey:$,menuItems:f}},"useMenu"),ge=p(()=>{let{params:e}=rt();return p(({resource:t,meta:r}={})=>{let{meta:a}=Rn(t)??{meta:{}},{filters:n,sorters:o,current:i,pageSize:l,...m}=e??{};return{...a,...m,...r}},"getMetaFn")},"useMeta"),Qc=p(()=>{let[e,t]=(0,Tt.useState)(),r=ce(),{push:a}=Ge(),n=Be(),o=xe(),{resource:i,action:l}=re();return(0,Tt.useEffect)(()=>{i&&l&&t(r("pages.error.info",{action:l,resource:i.name},`You may have forgotten to add the "${l}" component to "${i.name}" resource.`))},[i,l]),Tt.default.createElement(Tt.default.Fragment,null,Tt.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Tt.default.createElement("p",null,e),Tt.default.createElement("button",{onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),be=j(S("react")),wi=p(()=>{let[e,t]=(0,be.useState)(""),[r,a]=(0,be.useState)(""),n=ce(),o=Ce(),{mutate:i}=Tr({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy)});return be.default.createElement(be.default.Fragment,null,be.default.createElement("h1",null,n("pages.login.title","Sign in your account")),be.default.createElement("form",{onSubmit:l=>{l.preventDefault(),i({username:e,password:r})}},be.default.createElement("table",null,be.default.createElement("tbody",null,be.default.createElement("tr",null,be.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),be.default.createElement("td",null,be.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:l=>t(l.target.value)}))),be.default.createElement("tr",null,be.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),be.default.createElement("td",null,be.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:l=>a(l.target.value)}))))),be.default.createElement("br",null),be.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),Ht=j(S("react")),le=j(S("react")),Kc=p(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:i,formProps:l,title:m=void 0})=>{let g=xe(),y=Rr(),{Link:x}=ze(),$=g==="legacy"?x:y,[d,C]=(0,le.useState)(""),[f,v]=(0,le.useState)(""),[u,b]=(0,le.useState)(!1),w=ce(),F=Ce(),{mutate:D}=Tr({v3LegacyAuthProviderCompatible:!!(F!=null&&F.isLegacy)}),E=p((s,c)=>le.default.createElement($,{to:s},c),"renderLink"),P=p(()=>e?e.map(s=>le.default.createElement("div",{key:s.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},le.default.createElement("button",{onClick:()=>D({providerName:s.name}),style:{display:"flex",alignItems:"center"}},s==null?void 0:s.icon,s.label??le.default.createElement("label",null,s.label)))):null,"renderProviders"),N=le.default.createElement("div",{...n},le.default.createElement("h1",{style:{textAlign:"center"}},w("pages.login.title","Sign in to your account")),P(),le.default.createElement("hr",null),le.default.createElement("form",{onSubmit:s=>{s.preventDefault(),D({email:d,password:f,remember:u})},...l},le.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},le.default.createElement("label",{htmlFor:"email-input"},w("pages.login.fields.email","Email")),le.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:d,onChange:s=>C(s.target.value)}),le.default.createElement("label",{htmlFor:"password-input"},w("pages.login.fields.password","Password")),le.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:f,onChange:s=>v(s.target.value)}),a??le.default.createElement(le.default.Fragment,null,le.default.createElement("label",{htmlFor:"remember-me-input"},w("pages.login.buttons.rememberMe","Remember me"),le.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:u,value:u.toString(),onChange:()=>{b(!u)}}))),le.default.createElement("br",null),r??E("/forgot-password",w("pages.login.buttons.forgotPassword","Forgot password?")),le.default.createElement("input",{type:"submit",value:w("pages.login.signin","Sign in")}),t??le.default.createElement("span",null,w("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",E("/register",w("pages.login.register","Sign up"))))));return le.default.createElement("div",{...o},i?i(N,m):N)},"LoginPage"),me=j(S("react")),zc=p(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o,title:i=void 0})=>{let l=xe(),m=Rr(),{Link:g}=ze(),y=l==="legacy"?g:m,[x,$]=(0,me.useState)(""),[d,C]=(0,me.useState)(""),f=ce(),v=Ce(),{mutate:u,isLoading:b}=kn({v3LegacyAuthProviderCompatible:!!(v!=null&&v.isLegacy)}),w=p((E,P)=>me.default.createElement(y,{to:E},P),"renderLink"),F=p(()=>e?e.map(E=>me.default.createElement("div",{key:E.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},me.default.createElement("button",{onClick:()=>u({providerName:E.name}),style:{display:"flex",alignItems:"center"}},E==null?void 0:E.icon,E.label??me.default.createElement("label",null,E.label)))):null,"renderProviders"),D=me.default.createElement("div",{...a},me.default.createElement("h1",{style:{textAlign:"center"}},f("pages.register.title","Sign up for your account")),F(),me.default.createElement("hr",null),me.default.createElement("form",{onSubmit:E=>{E.preventDefault(),u({email:x,password:d})},...o},me.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},me.default.createElement("label",{htmlFor:"email-input"},f("pages.register.fields.email","Email")),me.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:x,onChange:E=>$(E.target.value)}),me.default.createElement("label",{htmlFor:"password-input"},f("pages.register.fields.password","Password")),me.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:d,onChange:E=>C(E.target.value)}),me.default.createElement("input",{type:"submit",value:f("pages.register.buttons.submit","Sign up"),disabled:b}),t??me.default.createElement(me.default.Fragment,null,me.default.createElement("span",null,f("pages.login.buttons.haveAccount","Have an account?")," ",w("/login",f("pages.login.signin","Sign in")))))));return me.default.createElement("div",{...r},n?n(D,i):D)},"RegisterPage"),Oe=j(S("react")),Wc=p(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n,title:o=void 0})=>{let i=ce(),l=xe(),m=Rr(),{Link:g}=ze(),y=l==="legacy"?g:m,[x,$]=(0,Oe.useState)(""),{mutate:d,isLoading:C}=In(),f=p((u,b)=>Oe.default.createElement(y,{to:u},b),"renderLink"),v=Oe.default.createElement("div",{...r},Oe.default.createElement("h1",{style:{textAlign:"center"}},i("pages.forgotPassword.title","Forgot your password?")),Oe.default.createElement("hr",null),Oe.default.createElement("form",{onSubmit:u=>{u.preventDefault(),d({email:x})},...n},Oe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Oe.default.createElement("label",{htmlFor:"email-input"},i("pages.forgotPassword.fields.email","Email")),Oe.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:x,onChange:u=>$(u.target.value)}),Oe.default.createElement("input",{type:"submit",disabled:C,value:i("pages.forgotPassword.buttons.submit","Send reset instructions")}),Oe.default.createElement("br",null),e??Oe.default.createElement("span",null,i("pages.register.buttons.haveAccount","Have an account? ")," ",f("/login",i("pages.login.signin","Sign in"))))));return Oe.default.createElement("div",{...t},a?a(v,o):v)},"ForgotPasswordPage"),qe=j(S("react")),jc=p(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:n=void 0})=>{let o=ce(),i=Ce(),{mutate:l,isLoading:m}=En({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)}),[g,y]=(0,qe.useState)(""),[x,$]=(0,qe.useState)(""),d=qe.default.createElement("div",{...t},qe.default.createElement("h1",{style:{textAlign:"center"}},o("pages.updatePassword.title","Update Password")),qe.default.createElement("hr",null),qe.default.createElement("form",{onSubmit:C=>{C.preventDefault(),l({password:g,confirmPassword:x})},...a},qe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},qe.default.createElement("label",{htmlFor:"password-input"},o("pages.updatePassword.fields.password","New Password")),qe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:g,onChange:C=>y(C.target.value)}),qe.default.createElement("label",{htmlFor:"confirm-password-input"},o("pages.updatePassword.fields.confirmPassword","Confirm New Password")),qe.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:x,onChange:C=>$(C.target.value)}),qe.default.createElement("input",{type:"submit",disabled:m,value:o("pages.updatePassword.buttons.submit","Update")}))));return qe.default.createElement("div",{...e},r?r(d,n):d)},"UpdatePasswordPage"),Hc=p(e=>{let{type:t}=e;return Ht.default.createElement(Ht.default.Fragment,null,p(()=>{switch(t){case"register":return Ht.default.createElement(zc,{...e});case"forgotPassword":return Ht.default.createElement(Wc,{...e});case"updatePassword":return Ht.default.createElement(jc,{...e});default:return Ht.default.createElement(Kc,{...e})}},"renderView")())},"AuthPage"),Fe=j(S("react")),$i=p(()=>Fe.default.createElement(Fe.default.Fragment,null,Fe.default.createElement("h1",null,"Welcome on board"),Fe.default.createElement("p",null,"Your configuration is completed."),Fe.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Fe.default.createElement("code",null,"`resources`")," property of ",Fe.default.createElement("code",null,"`<Refine>`")),Fe.default.createElement("div",{style:{display:"flex",gap:8}},Fe.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Fe.default.createElement("button",null,"Documentation")),Fe.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Fe.default.createElement("button",null,"Examples")),Fe.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Fe.default.createElement("button",null,"Community")))),"ReadyPage"),ne=j(S("react")),_c=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:ne.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:ne.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),ne.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:ne.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),ne.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:ne.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Bc=p(()=>{let e=Fa("(max-width: 1010px)"),t=Fa("(max-width: 650px)"),r=p(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),a=p(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),n=p(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return ne.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},ne.default.createElement("div",{style:{height:"89px"}}),ne.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},ne.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),ne.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),ne.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},ne.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),ne.default.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),ne.default.createElement("div",{style:{height:"64px"}}),ne.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},_c.map(o=>ne.default.createElement(Gc,{key:`welcome-page-${o.title}`,card:o}))),ne.default.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),Gc=p(({card:e})=>{let{title:t,description:r,icon:a,link:n}=e,[o,i]=(0,ne.useState)(!1);return ne.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},ne.default.createElement("div",{style:{display:"flex",alignItems:"center"}},ne.default.createElement("a",{onPointerEnter:()=>i(!0),onPointerLeave:()=>i(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},a,ne.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),ne.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...o&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},ne.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),ne.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),ue=j(S("react")),cn=S("@tanstack/react-query"),Xc=ie(),yo=j(S("react")),Rt=S("react"),Zc="4.42.4",Yc=p(()=>{var e;let t=Jo(),r=(0,Rt.useContext)(Dr),a=(0,Rt.useContext)(or),n=(0,Rt.useContext)(Mn),o=(0,Rt.useContext)(Nn),{i18nProvider:i}=(0,Rt.useContext)(Vt),l=(0,Rt.useContext)(An),m=(0,Rt.useContext)(ur),{resources:g}=re(),y=Ae(),x=!!r.create||!!r.get||!!r.update,$=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),d=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,C=!!o,f=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),v=!!l.close||!!l.open,u=!!m.can,b=(e=y==null?void 0:y.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:x,live:$,router:d,data:C,i18n:f,notification:v,accessControl:u},version:Zc,resourceCount:g.length,projectId:b}},"useTelemetryData"),Jc=p(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),ed=p(e=>{let t=new Image;t.src=e},"throughImage"),td=p(e=>{fetch(e)},"throughFetch"),rd=p(e=>{typeof Image<"u"?ed(e):typeof fetch<"u"&&td(e)},"transport"),nd=p(()=>{let e=Yc(),t=yo.default.useRef(!1);return yo.default.useEffect(()=>{if(t.current)return;let r=Jc(e);r&&(rd(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),ad=p(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),ho=j(S("react")),od=p(e=>{let t=ho.default.useRef(!1);ho.default.useEffect(()=>{t.current===!1&&e&&ad(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),id=p(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:n,notificationProvider:o,accessControlProvider:i,auditLogProvider:l,resources:m,DashboardPage:g,ReadyPage:y,LoginPage:x,catchAll:$,children:d,liveProvider:C,i18nProvider:f,Title:v,Layout:u,Sider:b,Header:w,Footer:F,OffLayoutArea:D,onLiveEvent:E,options:P})=>{let{optionsWithDefaults:N,disableTelemetryWithDefault:s,reactQueryWithDefaults:c}=Rl({options:P}),L=ii(()=>{var M;return c.clientConfig instanceof cn.QueryClient?c.clientConfig:new cn.QueryClient({...c.clientConfig,defaultOptions:{...c.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(M=c.clientConfig.defaultOptions)==null?void 0:M.queries}}})},[c.clientConfig]);(0,Xc.useQuerySubscription)(L);let k=ue.default.useMemo(()=>typeof o=="function"?o:()=>o??{},[o])();if(od(n),a&&!n&&(m??[]).length===0)return y?ue.default.createElement(y,null):ue.default.createElement($i,null);let{RouterComponent:I=ue.default.Fragment}=n?{}:a??{};return ue.default.createElement(cn.QueryClientProvider,{client:L},ue.default.createElement(Ju,{...k},ue.default.createElement(Vl,{...e??{},isProvided:!!e},ue.default.createElement(Ul,{...t??{},isProvided:!!t},ue.default.createElement(Au,{...r},ue.default.createElement(Du,{liveProvider:C},ue.default.createElement(zu,{value:a&&!n?"legacy":"new"},ue.default.createElement(ju,{router:n},ue.default.createElement(xc,{...a},ue.default.createElement(Ku,{resources:m??[]},ue.default.createElement(tc,{i18nProvider:f},ue.default.createElement($c,{...i??{}},ue.default.createElement(Nc,{...l??{}},ue.default.createElement(mu,null,ue.default.createElement(Ml,{mutationMode:N.mutationMode,warnWhenUnsavedChanges:N.warnWhenUnsavedChanges,syncWithLocation:N.syncWithLocation,Title:v,undoableTimeout:N.undoableTimeout,catchAll:$,DashboardPage:g,LoginPage:x,Layout:u,Sider:b,Footer:F,Header:w,OffLayoutArea:D,hasDashboard:!!g,liveMode:N.liveMode,onLiveEvent:E,options:N},ue.default.createElement(Kl,null,ue.default.createElement(I,null,d,!s&&ue.default.createElement(nd,null),ue.default.createElement(Ei,null))))))))))))))))))},"Refine"),bo=S("react"),ki=p(({notification:e})=>{let t=ce(),{notificationDispatch:r}=Xt(),{open:a}=kt(),[n,o]=(0,bo.useState)(),i=p(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Gr(e.seconds)},`You have ${Gr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Gr(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let l=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(l)}},"cancelNotification");return(0,bo.useEffect)(()=>{i()},[e]),null},"UndoableQueue"),Fr=j(S("react")),sd=p(({children:e,Layout:t,Sider:r,Header:a,Title:n,Footer:o,OffLayoutArea:i})=>{let{Layout:l,Footer:m,Header:g,Sider:y,Title:x,OffLayoutArea:$}=Ae();return Fr.default.createElement(t??l,{Sider:r??y,Header:a??g,Footer:o??m,Title:n??x,OffLayoutArea:i??$},e,Fr.default.createElement(ld,null))},"LayoutWrapper"),ld=p(()=>{let{Prompt:e}=ze(),t=ce(),{warnWhen:r,setWarnWhen:a}=Cn(),n=p(o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue),"warnWhenListener");return(0,Fr.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),Fr.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),Ue=j(S("react")),ud=p(()=>{let e=Be(),[t,r]=Ue.default.useState(void 0);return Ue.default.useEffect(()=>{t&&e(t)},[t]),Ue.default.useCallback(a=>{t||r(a)},[t])},"useDeferredGo");function Ii({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:n}){var o;let i=Ce(),l=xe(),m=!!(i!=null&&i.isProvided),g=!!(i!=null&&i.isLegacy),y=l==="legacy",x=rt(),$=Be(),d=ud(),{replace:C}=Ge(),{useLocation:f}=ze(),v=f(),{isLoading:u,isFetching:b,isSuccess:w,data:{authenticated:F,redirectTo:D}={},refetch:E}=Mr({v3LegacyAuthProviderCompatible:g});Ue.default.useEffect(()=>{E()},[r,a]);let P=Ue.default.useRef({status:u?"initial":"pending",content:n??null});b?P.current.status="pending":b||(P.current.status="settled");let N=m?g?w:F:!0;if(P.current.status==="settled")if(N)P.current.content=Ue.default.createElement(Ue.default.Fragment,null,r??null);else if(typeof a<"u")P.current.content=Ue.default.createElement(Ue.default.Fragment,null,a);else{let s=`${y?v==null?void 0:v.pathname:x.pathname}`.replace(/(\?.*|#.*)$/,""),c=g?typeof e=="string"?e:"/login":typeof e=="string"?e:D;if(c)if(y){let L=t?`?to=${encodeURIComponent(s)}`:"";C(`${c}${L}`)}else d({to:c,query:t?{to:(o=x.params)!=null&&o.to?x.params.to:$({to:s,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return m?Ue.default.createElement(Ue.default.Fragment,null,P.current.content):Ue.default.createElement(Ue.default.Fragment,null,r??null)}h(Ii,"ui");p(Ii,"Authenticated");var cd=S("react"),Ei=p(()=>{let{useLocation:e}=ze(),{checkAuth:t}=_e(),r=e();return(0,cd.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),Dt=j(S("react")),dd=p(({resource:e,action:t,params:r,fallback:a,onUnauthorized:n,children:o,...i})=>{let{resource:l,id:m,action:g}=re(e),{identifier:y}=re(),x=p(()=>{let v=(r==null?void 0:r.id)??m;return e&&e!==y?r==null?void 0:r.id:v},"getDefaultId")(),$=e??(l==null?void 0:l.name),d=t??g??"",C=r??{id:x,resource:l},{data:f}=Ci({resource:$,action:d,params:C});return(0,Dt.useEffect)(()=>{n&&(f==null?void 0:f.can)===!1&&n({resource:$,action:d,reason:f==null?void 0:f.reason,params:C})},[f==null?void 0:f.can]),f!=null&&f.can?Dt.default.isValidElement(o)?Dt.default.cloneElement(o,i):Dt.default.createElement(Dt.default.Fragment,null,o):(f==null?void 0:f.can)===!1?Dt.default.createElement(Dt.default.Fragment,null,a??null):null},"CanAccess"),Ot=j(S("react")),pd=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],md=p(()=>((0,Ot.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),pd.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Ot.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},Ot.default.createElement("div",{style:{width:"200px"}}),Ot.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},Ot.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Ot.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),Ot.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going."))))),"GitHubBanner")});var vs=rr((Hv,fs)=>{var zr=Object.defineProperty,Nd=Object.getOwnPropertyDescriptor,Ad=Object.getOwnPropertyNames,Td=Object.prototype.hasOwnProperty,ds=h((e,t)=>zr(e,"name",{value:t,configurable:!0}),"c"),Md=h((e,t)=>{for(var r in t)zr(e,r,{get:t[r],enumerable:!0})},"Y"),Rd=h((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ad(t))!Td.call(e,n)&&n!==r&&zr(e,n,{get:()=>t[n],enumerable:!(a=Nd(t,n))||a.enumerable});return e},"Z"),Dd=h(e=>Rd(zr({},"__esModule",{value:!0}),e),"_"),ps={};Md(ps,{useTable:()=>ms});fs.exports=Dd(ps);var Qr=S("react"),Od=ct(),Kr=S("@tanstack/react-table"),cs=S("react"),qd=ds(()=>{let e=(0,cs.useRef)(!0);return(0,cs.useEffect)(()=>{e.current=!1},[]),e.current},"useIsFirstRender");function ms({refineCoreProps:{hasPagination:e=!0,...t}={},initialState:r={},...a}){var n,o,i;let l=qd(),m=(0,Od.useTable)({...t,hasPagination:e}),g=(((n=t.filters)==null?void 0:n.mode)||"server")==="server",y=(((o=t.sorters)==null?void 0:o.mode)||"server")==="server",x=e===!1?"off":"server",$=(((i=t.pagination)==null?void 0:i.mode)??x)!=="off",{tableQueryResult:{data:d},current:C,setCurrent:f,pageSize:v,setPageSize:u,sorters:b,setSorters:w,filters:F,setFilters:D,pageCount:E}=m,P=[];F.forEach(T=>{T.operator!=="or"&&T.operator!=="and"&&"field"in T&&P.push(T)});let N=(0,Kr.useReactTable)({data:(d==null?void 0:d.data)??[],getCoreRowModel:(0,Kr.getCoreRowModel)(),getSortedRowModel:y?void 0:(0,Kr.getSortedRowModel)(),getFilteredRowModel:g?void 0:(0,Kr.getFilteredRowModel)(),initialState:{pagination:{pageIndex:C-1,pageSize:v},sorting:b.map(T=>({id:T.field,desc:T.order==="desc"})),columnFilters:P.map(T=>({id:T.field,operator:T.operator,value:T.value})),...r},pageCount:E,manualPagination:!0,manualSorting:y,manualFiltering:g,...a}),{state:s,columns:c}=N.options,{pagination:L,sorting:k,columnFilters:I}=s,{pageIndex:M,pageSize:A}=L??{};return(0,Qr.useEffect)(()=>{M!==void 0&&f(M+1)},[M]),(0,Qr.useEffect)(()=>{A!==void 0&&u(A)},[A]),(0,Qr.useEffect)(()=>{k!==void 0&&(w(k==null?void 0:k.map(T=>({field:T.id,order:T.desc?"desc":"asc"}))),k.length>0&&$&&!l&&f(1))},[k]),(0,Qr.useEffect)(()=>{let T=[];I==null||I.map(O=>{var B,q;let G=O.operator??((q=(B=c.find(U=>U.id===O.id))==null?void 0:B.meta)==null?void 0:q.filterOperator);T.push({field:O.id,operator:G??(Array.isArray(O.value)?"in":"eq"),value:O.value})});let R=P.filter(O=>!T.some(B=>O.field===B.field&&O.operator===B.operator));R==null||R.map(O=>{T.push({field:O.field,operator:O.operator,value:void 0})}),D(T),T.length>0&&$&&!l&&f(1)},[I]),{...N,refineCore:m}}h(ms,"w");ds(ms,"useTable")});var aa=rr((tg,$s)=>{var Vd=Object.create,vr=Object.defineProperty,Ud=Object.getOwnPropertyDescriptor,Qd=Object.getOwnPropertyNames,Kd=Object.getPrototypeOf,zd=Object.prototype.hasOwnProperty,At=h((e,t)=>vr(e,"name",{value:t,configurable:!0}),"R"),Wd=h((e,t)=>{for(var r in t)vr(e,r,{get:t[r],enumerable:!0})},"ue"),Ps=h((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Qd(t))!zd.call(e,n)&&n!==r&&vr(e,n,{get:()=>t[n],enumerable:!(a=Ud(t,n))||a.enumerable});return e},"q"),jd=h((e,t,r)=>(r=e!=null?Vd(Kd(e)):{},Ps(t||!e||!e.__esModule?vr(r,"default",{value:e,enumerable:!0}):r,e)),"pe"),Hd=h(e=>Ps(vr({},"__esModule",{value:!0}),e),"ce"),ws={};Wd(ws,{useForm:()=>na,useModalForm:()=>Gd,useStepsForm:()=>Bd});$s.exports=Hd(ws);var bs=S("react"),_d=S("react-hook-form"),Wr=ct(),na=At(({refineCoreProps:e,warnWhenUnsavedChanges:t,disableServerSideValidation:r=!1,...a}={})=>{let{options:n}=(0,Wr.useRefineContext)(),o=(n==null?void 0:n.disableServerSideValidation)||r,i=(0,Wr.useTranslate)(),{warnWhenUnsavedChanges:l,setWarnWhen:m}=(0,Wr.useWarnAboutChange)(),g=t??l,y=(0,_d.useForm)({...a}),{watch:x,setValue:$,getValues:d,handleSubmit:C,setError:f}=y,v=(0,Wr.useForm)({...e,onMutationError:(P,N,s)=>{var c,L;if(o){(c=e==null?void 0:e.onMutationError)==null||c.call(e,P,N,s);return}let k=P==null?void 0:P.errors;for(let I in k){if(!Object.keys(N).includes(I.split(".")[0]))continue;let M=k[I],A="";Array.isArray(M)&&(A=M.join(" ")),typeof M=="string"&&(A=M),typeof M=="boolean"&&M&&(A="Field is not valid."),typeof M=="object"&&"key"in M&&(A=i(M.key,M.message)),f(I,{message:A})}(L=e==null?void 0:e.onMutationError)==null||L.call(e,P,N,s)}}),{queryResult:u,onFinish:b,formLoading:w,onFinishAutoSave:F}=v;(0,bs.useEffect)(()=>{var P;let N=(P=u==null?void 0:u.data)==null?void 0:P.data;if(!N)return;let s=Object.keys(d());Object.entries(N).forEach(([c,L])=>{let k=c;s.includes(k)&&$(k,L)})},[u==null?void 0:u.data,$,d]),(0,bs.useEffect)(()=>{let P=x((N,{type:s})=>{s==="change"&&D(N)});return()=>P.unsubscribe()},[x]);let D=At(P=>{var N;if(g&&m(!0),e!=null&&e.autoSave){m(!1);let s=(N=e.autoSave)==null?void 0:N.onFinish;return F(s?s(P):P)}return P},"onValuesChange"),E=At((P,N)=>async s=>(m(!1),C(P,N)(s)),"handleSubmit");return{...y,handleSubmit:E,refineCore:v,saveButtonProps:{disabled:w,onClick:P=>{E(b,()=>!1)(P)}}}},"useForm"),Cs=S("react"),Bd=At(({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:a=!1}=e??{},[n,o]=(0,Cs.useState)(r),i=na({...t}),{trigger:l,getValues:m,setValue:g,formState:{dirtyFields:y},refineCore:{queryResult:x}}=i;(0,Cs.useEffect)(()=>{var d;let C=(d=x==null?void 0:x.data)==null?void 0:d.data;if(!C)return;let f=Object.keys(m());Object.entries(C).forEach(([v,u])=>{let b=v;f.includes(b)&&(y[b]||g(b,u))})},[x==null?void 0:x.data,n,g,m]);let $=At(d=>{let C=d;d<0&&(C=0),o(C)},"go");return{...i,steps:{currentStep:n,gotoStep:At(async d=>{if(d!==n){if(d<n&&!a){$(d);return}await l()&&$(d)}},"gotoStep")}}},"useStepsForm"),xs=S("react"),Nt=ct(),ra=jd(S("react")),Gd=At(({modalProps:e,refineCoreProps:t,syncWithLocation:r,...a}={})=>{var n,o;let i=(0,Nt.useInvalidate)(),[l,m]=ra.default.useState(!1),g=(0,Nt.useTranslate)(),{resource:y,action:x}=t??{},{resource:$,action:d,identifier:C}=(0,Nt.useResource)(y),f=(0,Nt.useParsed)(),v=(0,Nt.useGo)(),u=(0,Nt.useUserFriendlyName)(),b=x??d??"",w=!(typeof r=="object"&&(r==null?void 0:r.syncId)===!1),F=typeof r=="object"&&"key"in r?r.key:$&&b&&r?`modal-${C}-${b}`:void 0,{defaultVisible:D=!1,autoSubmitClose:E=!0,autoResetForm:P=!0}=e??{},N=na({refineCoreProps:{...t,meta:{...F?{[F]:void 0}:{},...t==null?void 0:t.meta}},...a}),{reset:s,refineCore:{onFinish:c,id:L,setId:k,autoSaveProps:I},saveButtonProps:M,handleSubmit:A}=N,{visible:T,show:R,close:O}=(0,Nt.useModal)({defaultVisible:D});ra.default.useEffect(()=>{var V,W,Z,Y;if(l===!1&&F){let te=(W=(V=f==null?void 0:f.params)==null?void 0:V[F])==null?void 0:W.open;if(typeof te=="boolean"?te&&R():typeof te=="string"&&te==="true"&&R(),w){let $e=(Y=(Z=f==null?void 0:f.params)==null?void 0:Z[F])==null?void 0:Y.id;$e&&(k==null||k($e))}m(!0)}},[F,f,w,k]),ra.default.useEffect(()=>{var V;l===!0&&(T&&F?v({query:{[F]:{...(V=f==null?void 0:f.params)==null?void 0:V[F],open:!0,...w&&L&&{id:L}}},options:{keepQuery:!0},type:"replace"}):F&&!T&&v({query:{[F]:void 0},options:{keepQuery:!0},type:"replace"}))},[L,T,R,F,w]);let B=At(async V=>{await c(V),E&&O(),P&&s()},"submit"),{warnWhen:q,setWarnWhen:G}=(0,Nt.useWarnAboutChange)(),U=(0,xs.useCallback)(()=>{var V;if(I.status==="success"&&(V=t==null?void 0:t.autoSave)!=null&&V.invalidateOnClose&&i({id:L,invalidates:t.invalidates||["list","many","detail"],dataProviderName:t.dataProviderName,resource:C}),q)if(window.confirm(g("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))G(!1);else return;k==null||k(void 0),O()},[q,I.status]),_=(0,xs.useCallback)(V=>{typeof V<"u"&&(k==null||k(V)),(!(b==="edit"||b==="clone")||typeof V<"u"||typeof L<"u")&&R()},[L]),z=g(`${C}.titles.${x}`,void 0,`${u(`${x} ${((n=$==null?void 0:$.meta)==null?void 0:n.label)??((o=$==null?void 0:$.options)==null?void 0:o.label)??($==null?void 0:$.label)??C}`,"singular")}`);return{modal:{submit:B,close:U,show:_,visible:T,title:z},...N,saveButtonProps:{...M,onClick:V=>A(B)(V)}}},"useModalForm")});var gr=oe(S("react")),Ls=oe(ct());var Re=oe(S("react")),Yt=oe(ct());var fd=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,Dn=h((e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];fd.test(e)&&r.unshift("url");let a=r.find(n=>n in t&&!!t[n]);if(a)return a==="firstName"&&"lastName"in t?["firstName","lastName"]:a},"getFieldableKeys");var Li=oe(ct());function On(e,t,r){if(t)return t;let a=r==null?void 0:r.find(o=>o.name===e),n=(0,Li.pickNotDeprecated)(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"}h(On,"pickDataProvider");var cr=h(e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName},"dataProviderFromResource");var qn=h(e=>{let t=[...e].filter(Boolean).sort((r,a)=>(a.priority||0)-(r.priority||0))[0];return t||null},"pickInferredField");var Fi=oe(S("prettier/standalone")),Ni=oe(S("prettier/parser-typescript"));var Vn=h(e=>{try{return Fi.default.format(e,{parser:"typescript",plugins:[Ni.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}},"prettierFormat");var Ai=h(e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`),"prettySpaces");var Un=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,Ti=h((e,t)=>{let r=Un.test(e),a=typeof t=="string"||typeof t=="number",n=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&a||r&&n?{key:e,relation:!0,multiple:!!n,type:"relation",priority:1}:!1},"relationInfer");var ye=h(e=>e.replace(Un,""),"removeRelationSuffix");var We=h(e=>ye(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "),"prettyString");var J=h(e=>{let{resource:t,field:r,i18n:a}=e;if(a){let o=`translate("${t.name}.fields.${r.key}")`;return e.noBraces?`${o}`:`{${o}}`}let n=We(r.key);return e.noQuotes?n:`"${n}"`},"translatePrettyString");var Qn=oe(S("pluralize"));var Se=h((e="")=>Qn.default.isSingular(e)?e:Qn.default.singular(e),"toSingular");var Kn=oe(S("pluralize"));var nt=h((e="")=>Kn.default.isPlural(e)?e:Kn.default.plural(e),"toPlural");var Xe=h(e=>{var o;let{resource:t,action:r,i18n:a,noBraces:n}=e;if(a){let i=`translate("${t.name}.titles.${r}")`;return n?i:`{${i}}`}return r==="list"?We(nt(t.label??((o=t==null?void 0:t.meta)==null?void 0:o.label)??t.name)):`${We(Se(t.name))} ${We(r)}`},"translateActionTitle");var at=h(e=>{let{action:t,i18n:r,noQuotes:a}=e;return r?`{translate("buttons.${t}")}`:a?We(t):`"${We(t)}"`},"translateButtonTitle");var zn=h(e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(n=>!n.trim().startsWith("export default")).join(`
`),"replaceExports");var Mi=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,vd=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,gd=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,Wn=h((e,t={})=>{let r=e.matchAll(Mi),a=new Set;for(let n of r){let[,o,i,l,m]=n;if(m in t){let g=t[m];if(m==="react")continue;o&&a.add(`const { default: ${o} } = ${g};`),i&&a.add(`const${i.replace(gd,"$1: $3$4")} = ${g};`),l&&a.add(`const ${l} = ${g};`)}}return Ai(`
    ${Array.from(a).join(`
`)}
    ${e.replace(Mi,"").replace(vd,"")}
    `)},"replaceImports");var dr=oe(S("pluralize"));var jn=h((e,t)=>e?t.find(a=>{let n=ye(e.key);return a.name===n||a.name===(dr.default.isPlural(n)?n:dr.default.plural(n))||a.name===(dr.default.isSingular(n)?n:dr.default.singular(n))}):void 0,"resourceFromInferred");var Ri=oe(S("pluralize"));var ot=h((e,t,r="Inferred")=>{let a=e.replace(/[^a-zA-Z0-9]/g," "),n=Ri.default.singular(a),i=We(n).replace(/ /g,"")||r,l=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(i)?`${i}${l}`:`${l}${i}`},"componentName");var yd=h(e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"","handleExpression"),X=h((e,...t)=>e.reduce((a,n,o)=>`${a}${n}${yd(t[o])}`,"").trim(),"jsx");var Hn=h((e,t)=>`
    ${e??""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `,"prepareLiveCode");var _n=h(e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,""),"removeHiddenCode");var hd=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Bn=h(e=>hd.test(e),"shouldDotAccess");function Gn(e,t,r){let a=`${e}`;return t&&(a+="?.",Bn(t)?a+=t:a+=`['${t}']`),r&&(a+="?.",Bn(r)?a+=r:a+=`['${r}']`),a}h(Gn,"accessorSingle");function bd(e,t,r){return(r??[]).map(n=>Gn(e,t,n))}h(bd,"accessorMultiple");var K=h((e,t,r,a=' + " " + ')=>Array.isArray(r)?a?bd(e,t,r).join(a):Gn(e,t,r[0]):Gn(e,t,r),"accessor"),Me=h((e,t,r)=>{let a=e;return t&&(a+=`.${t}`),r&&(Array.isArray(r)?a+=`.${r[0]}`:a+=`.${r}`),a},"dotAccessor");var ht=h(e=>{let t=e.reduce((a,[n,o,i])=>(a[o]||(a[o]=[]),a[o].includes(n)||(i?a[o].push([n,!0]):a[o].push(n)),a),{});return Object.entries(t).map(([a,n])=>{let o=n.find(g=>Array.isArray(g)&&g[1]),i=n.filter(g=>typeof g=="string"),l=o?`${o[0]}`:"",m=i.length?`{ ${i.join(", ")} }`:"";return`import ${l}${l&&m?", ":""}${m} from "${a}";`})},"printImports");var Cd=/^id$/i,pr=h(e=>Cd.test(e),"isIDKey");var mr=h(e=>e.relationInfer&&e.relationInfer.accessor?Array.isArray(e.relationInfer.accessor)?`optionLabel: "${e.relationInfer.accessor[0]}",`:e.relationInfer.accessor!=="title"?`optionLabel: "${e.relationInfer.accessor}",`:"":"","getOptionLabel");var bt=h(e=>{},"noOp");var ae=h((e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let a=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),n=We(a).replace(/ /g,"");return`${n.charAt(0).toLowerCase()+n.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`},"getVariableName");var de=h((e,t,r)=>{if(t&&r&&e){let a=e?t[e]:{},n=(a==null?void 0:a[r])??(a==null?void 0:a.default);return n?`meta: ${JSON.stringify(n)},`:""}return""},"getMetaProps"),dt=h((e,t,r)=>{if(t&&r&&e){let a=e?t[e]:{},o=[...r,"default"].reduce((i,l)=>i??(a==null?void 0:a[l]),void 0);if(o)return o}},"pickMeta");var fr=h(e=>e===void 0?e:typeof e=="string"?`"${e}"`:e,"idQuoteWrapper");var Di=h(e=>{let t=h((r,a,n,o=t,i)=>{let l=e.map(g=>g(r,a,n,o,i));return qn(l)},"fieldInferencer");return t},"composeInferencers");var Oi=h(e=>h((r,a,n,o,i,l)=>e.reduce((m,g)=>g(m,a,n,o,i,l),r),"fieldTransformer"),"composeTransformers");var qi=h((e,t,r,a,n)=>{let o=Array.isArray(t),i=Array.isArray(t)&&t.every(l=>typeof l=="string"||typeof l=="number");if(o){if(!i){let m=a(e,t[0],r,a,n);return m?{...m,key:e,multiple:!0,priority:1}:!1}let l=a(e,t[0],r,a,n)||{type:"string"};return{key:e,multiple:!0,priority:1,type:l==null?void 0:l.type}}return!1},"arrayInfer");var Vi=h((e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1,"booleanInfer");var Xn=oe(S("dayjs"));var xd=/(_at|_on|At|On|AT|ON)(\[\])?$/,Pd=["/",":","-","."],Ui=h((e,t)=>{let r=xd.test(e)&&(0,Xn.default)(t).isValid(),a=typeof t=="string"&&(0,Xn.default)(t).isValid();return typeof t=="string"&&Pd.some(o=>t.includes(o))&&(r||a)?{key:e,type:"date",priority:1}:!1},"dateInfer");var wd=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Qi=h((e,t)=>typeof t=="string"&&wd.test(t)?{key:e,type:"email",priority:1}:!1,"emailInfer");var $d=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,Ki=h((e,t)=>typeof t=="string"&&$d.test(t)?{key:e,type:"image",priority:2}:!1,"imageInfer");var zi=h((e,t)=>typeof t>"u"||t===null?null:!1,"nullishInfer");var Wi=h((e,t)=>{let r=typeof t=="string"&&t.length>0,a=!isNaN(t);return r&&a||typeof t=="number"?{key:e,type:"number"}:!1},"numberInfer");var ji=/id$/i,Hi=h((e,t,r,a,n)=>{let o=t!==null,i=!Array.isArray(t);if(o&&i&&typeof t=="object"){let m=Object.keys(t).length===1&&ji.test(Object.keys(t)[0]),g=Object.keys(t).some($=>ji.test($));if(m)return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let y=Dn(e,t);if((y?y.length>0:!1)&&y){let $=y&&Array.isArray(y)?y[0]:y,d=a($,t[$],t,a,n);if(d){let C=Array.isArray(y)?y.map(f=>d.accessor?`${f}.${Array.isArray(d.accessor)?d.accessor[0]:d.accessor}`:f):d.accessor?Array.isArray(d.accessor)?`${y}.${d.accessor[0]}`:`${y}.${d.accessor}`:y;return(d==null?void 0:d.type)==="text"&&(n==="create"||n==="edit")&&g?{key:e,type:"relation",relation:!0,accessor:"id",priority:1}:{...d,fieldable:!0,key:e,accessor:C,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1},"objectInfer");var _i=h((e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1,"richtextInfer");var Bi=h((e,t)=>typeof t=="string"?{key:e,type:"text"}:!1,"textInfer");var kd=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,Gi=h((e,t)=>typeof t=="string"&&kd.test(t)?{key:e,type:"url",priority:1}:!1,"urlInfer");var Xi=[qi,Vi,Ui,Qi,Ki,zi,Wi,Hi,Ti,_i,Bi,Gi];var Zi=h((e,t,r,a)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let i=/^[a-z0-9-]+$/,l=h($=>i.test(`${$}`),"isValidUUID"),m=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!m?o:(o.multiple?a[o.key]:[a[o.key]]).every($=>l(o.accessor?$[o.accessor]:$))?{...o,canRelation:!0}:o}return o}),"basicToRelation");var Id=/(image|photo|avatar|cover|thumbnail|icon)/i,Yi=h(e=>e.map(r=>r.type==="url"&&Id.test(r.key)?{...r,type:"image"}:r),"imageByKey");var Ji=h((e,t)=>e.map(a=>{let n=jn(a,t);return n?{...a,relation:!0,type:"relation",resource:n}:a}),"relationByResource");var es=h((e,t,r,a,n,o)=>e.map(l=>{if(l.relation&&l.type==="relation"&&!l.resource){let m=l.accessor?a[l.key][l.accessor]:a[l.key],g=n(l.key,m,a,n,o);if(g&&g.type!=="relation")return{...l,fieldable:!0,relation:!1,type:g.type,canRelation:!0}}return l}),"relationToFieldable");var ts=[Yi,Ji,es,Zi];var Ze=oe(S("react")),Ed=oe(ct()),Or=S("@aliemir/react-live");var rs=[["react","React",Ze.default],["@refinedev/core","RefineCore",Ed]],Zn=Ze.default.createContext({}),Yn=h(({fetchError:e,code:t,additionalScope:r,errorComponent:a})=>{let n=(t&&zn(Wn(t,[...rs,...r??[]].reduce((l,[m,g,y,x])=>x?l:{...l,[m]:g},{}))))??"",o=Ze.default.useMemo(()=>({React:Ze.default,...Ze.default,...[...rs,...r??[]].reduce((l,[m,g,y])=>({...l,[g]:y}),{})}),[r]),i=Ze.default.useMemo(()=>h(()=>{let{error:m}=Ze.default.useContext(Zn);return a?Ze.default.createElement(a,{error:m?`<p>An error occured while rendering the generated component.You can check the generated code from the below "Show Code" button and fix the error manually.</p>
                                    <p>If you think this is a bug, please report the issue at <a target="_blank" rel="noopener noreferrer" href="https://github.com/refinedev/refine/issues">https://github.com/refinedev/refine/issues</a></p>
                                    <p>Exception:</p>
                                    <code>${m}</code>`:typeof e=="string"?e:e?`<p>Something went wrong while fetching the resource data.</p>
                                    <p>To learn more about the Inferencer, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`:void 0}):null},"LiveErrorComponent"),[a,e]);return Ze.default.createElement(Or.LiveProvider,{Context:Zn,code:n,scope:o,noInline:!0},!e&&Ze.default.createElement(Or.LivePreview,{Context:Zn}),Ze.default.createElement(i,null))},"LiveComponent");var H=oe(S("react")),qr=oe(S("prism-react-renderer")),as=oe(S("prism-react-renderer/themes/vsDark"));var It=h(({code:e,loading:t})=>{let r=H.default.useMemo(()=>Vn(e??""),[e]),[a,n]=H.default.useState(!1),[o,i]=H.default.useState(!1),[l,m]=H.default.useState(!1),[g,y]=H.default.useState(!1),[x,$]=H.default.useState(!1);return H.default.useEffect(()=>{if(!t){let d=setTimeout(()=>{n(!0)},300);return()=>{clearTimeout(d)}}return()=>{}},[t]),H.default.useEffect(()=>{if(typeof window<"u"){let d=window.matchMedia("(max-width: 449px)");d.matches?m(!1):m(!0);let C=h(()=>{d.matches?m(!1):m(!0)},"handleResize");return window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}}return()=>{}},[]),H.default.useEffect(()=>{if(typeof window<"u"){let d=window.matchMedia("(max-width: 1280px)");d.matches?y(!0):y(!1);let C=h(()=>{d.matches?y(!0):y(!1)},"handleResize");return window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}}return()=>{}},[]),r&&!t?H.default.createElement(H.default.Fragment,null,l&&H.default.createElement("div",{className:"refine-inferencer--code-viewer",style:{position:"sticky",bottom:"24px",paddingTop:"24px",left:0,right:0,width:"100%",zIndex:10,display:"flex",justifyContent:"center",transition:"all 0.2s ease",opacity:a&&!o?1:0,transform:a&&!o?"translateY(0)":"translateY(100px)"}},H.default.createElement("div",{style:{width:"calc(100% - calc(64px * 2))",maxWidth:"1080px",padding:"20px",backgroundColor:"#1A1A1A",boxShadow:"0px 4px 16px -4px rgba(0, 0, 0, 0.5), 0px 8px 32px -8px rgba(0, 0, 0, 0.35)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:g?"column":"row",gap:"12px"}},H.default.createElement("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"}},H.default.createElement("div",null,H.default.createElement(Ld,null)),H.default.createElement("div",{style:{fontSize:"14px",lineHeight:"20px",color:"#ffffff"}},H.default.createElement("p",{style:{padding:0,margin:0}},"Most of the page code is auto-generated by the"," ",H.default.createElement("span",{style:{textDecoration:"underline"}},"Inferencer")," ","feature, based on your backend data structure."),H.default.createElement("p",{style:{padding:0,margin:0}},"While this is an excellent way to experiment with refine,"," ",H.default.createElement("span",{style:{fontWeight:600}},"it's not intended to be used on production.")))),H.default.createElement("div",null,H.default.createElement("button",{onPointerEnter:()=>$(!0),onPointerLeave:()=>$(!1),onClick:()=>i(!0),style:{appearance:"none",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",color:"#ffffff",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",transition:"all 0.2s ease",transform:x?"scale(1.025)":void 0,filter:x?"brightness(1.1)":void 0}},H.default.createElement(os,{style:{flexShrink:0}}),H.default.createElement("span",null,"Show the auto-generated code"))))),H.default.createElement(Sd,{visible:o,onClose:()=>i(!1),code:r})):null},"SharedCodeViewer"),Sd=h(({visible:e,onClose:t,code:r=""})=>{let a=H.default.useRef(null),[n,o]=H.default.useState(!1),[i,l]=H.default.useState(!1),[m,g]=H.default.useState(!1),[y,x]=H.default.useState(!1);H.default.useEffect(()=>{if(typeof document<"u"){let v=h(u=>{a.current&&!a.current.contains(u.target)&&t()},"onOutsideClick");return document.addEventListener("pointerdown",v),()=>{document.removeEventListener("pointerdown",v)}}return()=>{}},[t]);let $=h(()=>{typeof navigator<"u"&&(navigator.clipboard.writeText(r),o(!0),setTimeout(()=>{o(!1)},1e3))},"onCopy"),d=H.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},H.default.createElement("div",{style:{fontWeight:700,fontSize:"20px",lineHeight:"32px",color:"#0D0D0D"}},"Auto-generated code by Inferencer"),H.default.createElement("button",{onClick:t,onPointerEnter:()=>g(!0),onPointerLeave:()=>g(!1),style:{flexShrink:0,appearance:"none",border:"none",background:"none",padding:0,margin:0,outline:"none",borderRadius:"50px",width:"32px",height:"32px",cursor:"pointer",transition:"all 0.15s ease",transform:m?"scale(1.05)":void 0,filter:m?"brightness(0.8)":void 0}},H.default.createElement(Fd,null))),C=H.default.createElement("div",{style:{fontSize:"13px",borderRadius:"8px",flex:"1",overflow:"scroll",background:"#1E1E1E"}},H.default.createElement(qr.default,{...qr.defaultProps,theme:as.default,code:r,language:"tsx"},({className:v,style:u,tokens:b,getLineProps:w,getTokenProps:F})=>H.default.createElement("pre",{className:v,style:{...u,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},b.map((D,E)=>H.default.createElement("div",{key:E,...w({line:D,key:E})},D.map((P,N)=>H.default.createElement("span",{key:N,...F({token:P,key:N})})))))));return H.default.createElement("div",{className:"refine-inferencer--code-viewer-modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,backgroundColor:"rgba(0, 0, 0, 0.5)",transition:"all 0.2s ease",opacity:e?1:0,pointerEvents:e?"all":"none",display:"flex",justifyContent:"center",alignItems:"center"}},H.default.createElement("div",{ref:a,style:{transform:e?"scale(1) translateY(0px)":"scale(0) translateY(-200px)",transition:"all 0.25s cubic-bezier(.35,1.29,.81,1.08)",transitionDelay:"0.25",width:"calc(100% - calc(32px * 2))",height:"calc(100% - calc(32px * 2))",backgroundColor:"#fff",maxWidth:"640px",maxHeight:"720px",borderRadius:"8px",padding:"16px"}},H.default.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",gap:"16px"}},d,C,H.default.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-end",gap:"16px"}},H.default.createElement("button",{onPointerEnter:()=>l(!0),onPointerLeave:()=>l(!1),onClick:$,style:{appearance:"none",height:"40px",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",color:"#ffffff",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",position:"relative",overflow:"hidden",transition:"filter 0.2s ease",transform:i?"scale(1.025)":"scale(1)",filter:i?"brightness(1.1)":void 0}},H.default.createElement(ns,{style:{flexShrink:0,marginTop:"-2px",marginBottom:"-2px"}}),H.default.createElement("span",null,"Copy Generated Code"),H.default.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",transition:"all 0.2s ease",transform:n?"translateY(0)":"translateY(40px)"}},H.default.createElement(ns,{style:{flexShrink:0,marginTop:"-2px",marginBottom:"-2px"}}),H.default.createElement("span",null,"Copied!"))),H.default.createElement("a",{onPointerEnter:()=>x(!0),onPointerLeave:()=>x(!1),href:"https://refine.dev/docs/packages/documentation/inferencer",target:"_blank",rel:"noreferrer",style:{appearance:"none",textDecoration:"none",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 128, 255, 0.1)",color:"#0080FF",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",transition:"all 0.2s ease",transform:y?"scale(1.025)":void 0,filter:y?"brightness(1.1)":void 0}},H.default.createElement(os,{style:{flexShrink:0}}),H.default.createElement("span",null,"Learn more about inferencer"))))))},"CodeModal"),Ld=h(e=>H.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",...e},H.default.createElement("path",{fill:"#0080FF",fillRule:"evenodd",d:"M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10Zm0-15a1.25 1.25 0 1 0 0 2.5A1.25 1.25 0 0 0 10 5Zm0 10c.69 0 1.25-.56 1.25-1.25V10a1.25 1.25 0 1 0-2.5 0v3.75c0 .69.56 1.25 1.25 1.25Z",clipRule:"evenodd"})),"InfoIcon"),os=h(e=>H.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},H.default.createElement("path",{fill:"currentColor",d:"M5 2a1 1 0 0 1 0 2H4v8h8v-1a1 1 0 1 1 2 0v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h1Z"}),H.default.createElement("path",{fill:"currentColor",d:"M9 2a1 1 0 0 0 0 2h1.586L6.293 8.293a1 1 0 0 0 1.414 1.414L12 5.414V7a1 1 0 1 0 2 0V3a1 1 0 0 0-1-1H9Z"})),"OpenIcon"),Fd=h(e=>H.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",...e},H.default.createElement("path",{fill:"#A6A6A6",fillRule:"evenodd",d:"M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16Zm-2.586-21.414a2 2 0 1 0-2.828 2.828L13.172 16l-2.586 2.586a2 2 0 1 0 2.828 2.828L16 18.828l2.586 2.586a2 2 0 1 0 2.828-2.828L18.828 16l2.586-2.586a2 2 0 1 0-2.828-2.828L16 13.172l-2.586-2.586Z",clipRule:"evenodd"})),"CloseIcon"),ns=h(e=>H.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",fill:"none",...e},H.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 5a3 3 0 0 0 3 3h2a3 3 0 0 0 3-3h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h1Zm0 7a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm1 3a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2H9Z",clipRule:"evenodd"}),H.default.createElement("path",{fill:"currentColor",d:"M13 4a1 1 0 1 1 0 2h-2a1 1 0 1 1 0-2h2Z"})),"ClipboardIcon");var Et=oe(S("react")),Vr=oe(ct());var is=h((e,t,r,a)=>{let{resource:n,id:o,resources:i}=(0,Vr.useResource)(t),l=r??o,m=(0,Vr.useDataProvider)(),[g,y]=Et.default.useState(void 0),[x,$]=Et.default.useState(void 0),[d,C]=Et.default.useState(void 0),[f,v]=Et.default.useState(!0),[u,b]=Et.default.useState(!1),w=Et.default.useCallback(async F=>{var P;let D=cr(n)??On(n==null?void 0:n.name,void 0,i),E=m(D);b(!0),y(void 0);try{if((e==="list"||e==="create")&&n){let N=await E.getList({resource:n==null?void 0:n.name,meta:dt((n==null?void 0:n.identifier)??(n==null?void 0:n.name),a,["getList"])}),s=(P=N.data)==null?void 0:P[0];s||y(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),$(s),C(N.data),setTimeout(()=>{b(!1)},500)}if((e==="edit"||e==="show")&&F&&n){let s=(await E.getOne({resource:n==null?void 0:n.name,id:F,meta:dt((n==null?void 0:n.identifier)??(n==null?void 0:n.name),a,["getOne"])})).data;s||y(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),$(s),setTimeout(()=>{b(!1)},500)}}catch(N){console.warn("An error occured while fetching the resource data. Please check the error message below:",N),y(`<p>Something went wrong while fetching the resource data.</p>
                    <p>Please check your data provider and API for resource "${n==null?void 0:n.name}".</p>
                    <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),setTimeout(()=>{b(!1)},500)}},[e,m,n,i]);return Et.default.useEffect(()=>{v(!1),!u&&!x&&w(l)},[w,l]),{data:x,datas:d,loading:u,initial:f,error:g}},"useInferFetch");var Zt=oe(S("react")),ss=oe(ct());var Jn=S("lodash-es");var ls=h(({record:e,fields:t,infer:r,meta:a})=>{let n=(0,ss.useDataProvider)(),[o,i]=Zt.default.useState([]),[l,m]=Zt.default.useState(!0),[g,y]=Zt.default.useState(!1),x=Zt.default.useCallback(async $=>{console.groupCollapsed("@refinedev/inferencer is trying to detect relations");let d=[];y(!0);try{let C=$.map(async v=>{var u,b,w,F,D;if(v&&(v.relation||v.canRelation)&&e){if(v.relationInfer)return v;let E=cr(v.resource),P=n(E),N=v.multiple,s=Array.isArray(v.accessor)?void 0:v.multiple?e[v.key].map(c=>v.accessor?(0,Jn.get)(c,v.accessor):c)[0]:v.accessor?(0,Jn.get)(e[v.key],v.accessor):e[v.key];if(s&&v.resource)try{let c={};if(N&&P.getMany){let{data:k}=await P.getMany({resource:v.resource.name,ids:[s],meta:dt(((u=v.resource)==null?void 0:u.identifier)??((b=v.resource)==null?void 0:b.name),a,["getMany"])});c=k==null?void 0:k[0]}else{let{data:k}=await P.getOne({resource:v.resource.name,id:s,meta:dt(((w=v.resource)==null?void 0:w.identifier)??((F=v.resource)==null?void 0:F.name),a,N?["getMany","getOne"]:["getOne"])});c=k}d.push({status:"success",resource:v.resource.name,field:v.key});let L=r("__",c,{},r);return{...v,relationInfer:L}}catch{return d.push({status:"error",resource:v.resource.name,field:v.key}),{...v,relationInfer:null}}if(s){let c,L;try{let M={};if(N&&P.getMany){let{data:A}=await((D=P.getMany)==null?void 0:D.call(P,{resource:nt(ye(v.key)),ids:[s],meta:dt(nt(ye(v.key)),a,["getMany"])}));M=A==null?void 0:A[0]}else{let{data:A}=await P.getOne({resource:nt(ye(v.key)),id:s,meta:dt(nt(ye(v.key)),a,N?["getMany","getOne"]:["getOne"])});M=A}d.push({status:"success",resource:nt(ye(v.key)),field:v.key}),c=M,L=!0}catch{d.push({status:"error",resource:nt(ye(v.key)),field:v.key});let A={};try{if(N&&P.getMany){let{data:T}=await P.getMany({resource:Se(ye(v.key)),meta:dt(Se(ye(v.key)),a,["getMany"]),ids:[s]});A=T==null?void 0:T[0]}else{let{data:T}=await P.getOne({resource:Se(ye(v.key)),meta:dt(Se(ye(v.key)),a,N?["getMany","getOne"]:["getOne"]),id:s});A=T}d.push({status:"success",resource:Se(ye(v.key)),field:v.key}),c=A,L=!1}catch{return d.push({status:"error",resource:Se(ye(v.key)),field:v.key}),{...v,relationInfer:null}}}let k=r("__",c,{},r),I=ye(v.key);return{...v,relation:!0,type:"relation",resource:{name:L?nt(I):Se(I)},fieldable:!1,canRelation:void 0,relationInfer:k}}return{...v,relationInfer:null}}return v}),f=await Promise.all(C);i(f.filter(v=>v)),setTimeout(()=>{y(!1)},500)}catch{setTimeout(()=>{y(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${d.length} attempts and succeeded with ${d.filter(C=>C.status==="success").length} attempts.`),console.groupEnd(),console.info("@refinedev/inferencer may send multiple requests to your API for nonexistent resources when trying to detect relations. To learn more about how the inferencer works, visit https://s.refine.dev/how-inferencer-works")},500)},[n,e]);return Zt.default.useEffect(()=>{m(!1),!g&&t&&t.length>0&&o.length===0&&x(t)},[x,g,t,x]),{fields:o,loading:g,initial:l}},"useRelationFetch");var St=h(({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:a=[],renderer:n,loadingComponent:o,errorComponent:i,codeViewerComponent:l})=>{let m=Di([...Xi,...r]),g=Oi([...ts,...a]),y=h(({resourceName:$,fieldTransformer:d,hideCodeViewerInProduction:C,meta:f,id:v})=>{var q,G;let{resource:u,resources:b}=(0,Yt.useResource)($),{i18nProvider:w}=(0,Re.useContext)(Yt.TranslationContext),{resource:F}=(0,Yt.useResource)(),{data:D,datas:E,loading:P,initial:N,error:s}=is(e,$??(u==null?void 0:u.name),v,f),c=h((U,_,z)=>{let V=m(U,_,z,m,e);if(V&&u){let W=g([V],b,u,z,m,e),Z=d?W.flatMap(Y=>{let te=d(Y);return te?[te]:[]}):W;return Z==null?void 0:Z[0]}},"inferSingleField"),L=h(U=>Object.keys(U).map(z=>{let V=U[z];return c(z,V,U)}).filter(Boolean),"inferSingleRecord"),k=h(U=>{let _=U.map(Y=>L(Y)),z=U.flatMap(Y=>Object.keys(Y)).filter((Y,te,$e)=>$e.indexOf(Y)===te),V={},W=z.map(Y=>{let te=_.map(De=>De.find(Le=>Le.key===Y));return te.reduce((De,Le,ke)=>{if(!Le)return De;let it=te.filter(Pe=>(Pe==null?void 0:Pe.key)===Le.key&&(Pe==null?void 0:Pe.type)===Le.type).length;return it>De.count?(V[Y]=U[ke][Y],{count:it,field:Le}):De},{count:0,field:void 0}).field});return{commonRecord:V,inferredFields:W}},"inferMultipleRecords"),[I,M]=Re.default.useMemo(()=>{if(E&&(e==="list"||e==="create")){let U=k(E);return[U.inferredFields,U.commonRecord]}if(D){let U=Object.keys(D).map(_=>{let z=D[_];return m(_,z,D,m,e)}).filter(Boolean);if(u){let _=g(U,b,u,D,m,e);return[d?_.flatMap(V=>{let W=d(V);return W?[W]:[]}):_,D]}return[[],D]}return[[],void 0]},[D,E,b,u,d]),{fields:A,loading:T}=ls({record:M,fields:I,infer:m,meta:f}),R=Re.default.useMemo(()=>{let U=[];return A.forEach((_,z,V)=>{if(_.resource){if(U.findIndex(Z=>{var Y,te;return((Y=Z.resource)==null?void 0:Y.name)===((te=_.resource)==null?void 0:te.name)})>-1)return;let W=V.filter((Z,Y)=>{var te,$e,De,Le,ke,it;if(Y!==z){let Pe=_.resource,st=Z.resource,lt=((te=Z.resource)==null?void 0:te.identifier)||(($e=_.resource)==null?void 0:$e.identifier)?((De=Z.resource)==null?void 0:De.identifier)===((Le=_.resource)==null?void 0:Le.identifier):((ke=Z.resource)==null?void 0:ke.name)===((it=_.resource)==null?void 0:it.name);return Pe&&st&&lt}else return!1});if(W.length>0)if(e==="create"||e==="edit"){let Z;[_,...W].find(Y=>{Y.fieldable!==!0&&Z===void 0&&(Z=Y)}),Z?U.push(Z):U.push(_)}else{let Z;[_,...W].find(Y=>{Y.fieldable!==!1&&Z===void 0&&(Z=Y)}),Z?U.push(Z):U.push(_)}else U.push(_)}else U.push(_)}),U},[A,e]),O=Re.default.useMemo(()=>!P&&!T&&!N&&u?n({resource:u,resources:b,fields:R,infer:m,meta:f,isCustomPage:u.name!==(F==null?void 0:F.name),id:v,i18n:!!w}):"",[u,b,R,P,T]),B=C;return Re.default.createElement(Re.default.Fragment,null,o&&(P||T)&&Re.default.createElement(o,null),!P&&!T&&Re.default.createElement(Re.default.Fragment,null,Re.default.createElement(Yn,{fetchError:!P&&s?s:!P&&!N&&!D,code:Hn(O,ot(((q=u==null?void 0:u.meta)==null?void 0:q.label)??((G=u==null?void 0:u.options)==null?void 0:G.label)??(u==null?void 0:u.label)??(u==null?void 0:u.name)??"Resource",e)),errorComponent:i,additionalScope:t}),typeof l<"u"&&!B?Re.default.createElement(l,{code:_n(O),loading:P||T}):null))},"Inferencer");return h(({name:$,resource:d,fieldTransformer:C,meta:f,hideCodeViewerInProduction:v,id:u})=>{let{resource:b}=(0,Yt.useResource)(d??$),w=`${(b==null?void 0:b.identifier)??(b==null?void 0:b.name)}-${e}-${u}`;return Re.default.createElement(y,{hideCodeViewerInProduction:v,fieldTransformer:C,resourceName:d??$,meta:f??{},key:w,id:u})},"InferencerComponent")},"createInferencer");var Ur=oe(S("react"));var Lt=h(({error:e})=>e?Ur.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",position:"relative"}},Ur.default.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},Ur.default.createElement("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},dangerouslySetInnerHTML:{__html:e??""}}))):null,"ErrorComponent");var Jt=oe(S("react"));var Ft=h(()=>{let[e,t]=Jt.default.useState(0);return Jt.default.useEffect(()=>{if(typeof window<"u"){let r=setInterval(()=>{t(a=>a===3?0:a+1)},300);return()=>{clearInterval(r)}}return()=>{}},[]),Jt.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"120px",position:"relative"}},Jt.default.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},Jt.default.createElement("span",{style:{fontSize:"1rem",fontWeight:600}},"loading",".".repeat(e))))},"LoadingComponent");var us=h(({resource:e,fields:t,meta:r,isCustomPage:a,id:n,i18n:o})=>{let i=ot(e.label??e.name,"show"),l="record",m=[["React","react",!0],["useShow","@refinedev/core"],["useResource","@refinedev/core"],["useNavigation","@refinedev/core"],["IResourceComponentsProps","@refinedev/core"]];o&&m.push(["useTranslate","@refinedev/core"]);let y=t.filter(c=>(c==null?void 0:c.relation)&&!(c!=null&&c.fieldable)&&(c==null?void 0:c.resource)).filter(Boolean).map(c=>{var L,k,I,M;if(c!=null&&c.relation&&!c.fieldable&&c.resource){if(c.multiple){m.push(["useMany","@refinedev/core"]);let A=K(l,c.key);return c.accessor&&(A=`${K(l,c.key)}?.map((item: any) => ${K("item",void 0,c.accessor)})`),`
                const { data: ${ae(c.key,"Data")}, isLoading: ${ae(c.key,"IsLoading")} } =
                useMany({
                    resource: "${c.resource.name}",
                    ids: ${A} || [],
                    queryOptions: {
                        enabled: !!${l} && !!${A}?.length,
                    },
                    ${de(((L=c==null?void 0:c.resource)==null?void 0:L.identifier)??((k=c==null?void 0:c.resource)==null?void 0:k.name),r,"getMany")}
                });
                `}return m.push(["useOne","@refinedev/core"]),`
                const { data: ${ae(c.key,"Data")}, isLoading: ${ae(c.key,"IsLoading")} } =
                useOne({
                    resource: "${c.resource.name}",
                    id: ${K(l,c.key,c.accessor,!1)} || "",
                    queryOptions: {
                        enabled: !!${l},
                    },
                    ${de(((I=c==null?void 0:c.resource)==null?void 0:I.identifier)??((M=c==null?void 0:c.resource)==null?void 0:M.name),r,"getOne")}
                });
            `}}).filter(Boolean),x=h(c=>{if(c.relation&&c.resource){let L=ae(c.key,"Data"),k=ae(c.key,"IsLoading");if(c.multiple){let I=K(l,c.key)+"?.length";return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <ul>
                    {${k} && ${I} ? <>Loading...</> : (
                        <>
                        ${(()=>{var M;if(c.relationInfer)if((M=c.relationInfer)!=null&&M.accessor){if(Array.isArray(c.relationInfer.accessor))return"";{let A=ae(c.key),T=K(A,void 0,c.relationInfer.accessor);return X`
                                            {record?.${c.key}?.length ? ${L}?.data?.map((${A}: any) => <li key={${T}}>{${T}}</li>) : <></>}
                                        `}}else return"";else return""})()}
                        </>
                    )}
                    </ul>
                </div>
                `}return c.fieldable?X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <div>{${K(l,c.key,c.accessor)}}</div>
                </div>
                `:X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <div>
                    {${k} ? <>Loading...</> : (
                        <>
                        ${(()=>{var I;return c.relationInfer?(I=c.relationInfer)!=null&&I.accessor?Array.isArray(c.relationInfer.accessor)?`{${K(`${L}?.data`,void 0,c.relationInfer.accessor,' + " " + ')}}`:`{${L}?.data?.${c.relationInfer.accessor}}`:`{${L}?.data}`:`{${L}?.data?.id}`})()}
                        </>
                    )}
                    </div>
                </div>
                `}},"renderRelationFields"),$=h(c=>{if(c.type==="text"){if(c.multiple){let L=K("item",void 0,c.accessor);return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <ul>
                        {${K(l,c.key)}?.map((item: any) => (
                            <li key={${L}}>
                                {${L}}
                            </li>
                        ))}
                    </ul>
                </div>
            `}return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <div>
                    {${K(l,c.key,c.accessor)}}
                    </div>
                </div>
            `}},"textFields"),d=h(c=>{if(c.type==="image"){if(c.multiple){let L=K("item",void 0,c.accessor);return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <ul>
                    {${K(l,c.key)}?.map((item: any) => (
                        <li key={${L}}>
                            <img style={{ maxWidth: 200 }} src={${L}}/>
                        </li>
                    ))}
                    </ul>
                </div>
            `}return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <img src={{ maxWidth: 200 }} src={${K(l,c.key,c.accessor," + ")}} />
                </div>
                `}},"imageFields"),C=h(c=>{if(c.type==="email"){if(c.multiple){let L=K("item",void 0,c.accessor);return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <ul>
                        {${K(l,c.key)}?.map((item: any) => (
                            <li key={${L}}>
                                <a href={"mailto:" + ${L}}>{${L}}</a>
                            </li>
                        ))}
                    </ul>
                </div>
            `}return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <div>
                        <a href={"mailto:" + ${K(l,c.key,c.accessor," + ")}}>
                            {${K(l,c.key,c.accessor," + ")}}
                        </a>
                    </div>
                </div>
            `}},"emailFields"),f=h(c=>{if(c.type==="url"){if(c.multiple){let L=K("item",void 0,c.accessor);return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <ul>
                        {${K(l,c.key)}?.map((item: any) => (
                            <li key={${L}}>
                                <a href={${L}}>{${L}}</a>
                            </li>
                        ))}
                    </ul>
                </div>
            `}return X`
            <div style={{ marginTop: "6px" }}>
                <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                <div>
                    <a href={${K(l,c.key,c.accessor," + ")}} target="_blank" rel="noreferrer">
                        {${K(l,c.key,c.accessor," + ")}}
                    </a>
                </div>
            </div>
            `}},"urlFields"),v=h(c=>{if(c.type==="boolean"){if(c.multiple){let L=K("item",void 0,c.accessor);return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <ul>
                        {${K(l,c.key)}?.map((item: any) => (
                            <li key={${L}}>
                                {${L} ? "Yes" : "No"}
                            </li>
                        ))}
                    </ul>
                </div>
            `}return X`
            <div style={{ marginTop: "6px" }}>
                <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                <div>
                {${K(l,c.key,c.accessor," && ")} ? "Yes" : "No"}
                </div>
            </div>
            `}},"booleanFields"),u=h(c=>{if(c.type==="date"){if(c.multiple){let L=K("item",void 0,c.accessor);return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <ul>
                    {${K(l,c.key)}?.map((item: any) => (
                        <li key={${L}}>
                            {(new Date(${L})).toLocaleString(undefined, { timeZone: "UTC" })}
                        </li>
                    ))}
                    </ul>
                </div>
            `}return X`
            <div style={{ marginTop: "6px" }}>
                <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                <div>
                    {(new Date(${K(l,c.key,c.accessor," + ' ' + ")})).toLocaleString(undefined, { timeZone: "UTC" })}
                </div>
            </div>
            `}},"dateFields"),b=h(c=>{if(c.type==="richtext")return X`
            <div style={{ marginTop: "6px" }}>
                <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                <p>
                {${K(l,c.key,c.accessor,' + " " + ')}}
                </p>
            </div>
            `},"richtextFields"),w=h(c=>{if(c.type==="number"){if(c.multiple){let L=K("item",void 0,c.accessor);return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <ul>
                        {${K(l,c.key)}?.map((item: any) => (
                        <li key={${L}}>
                            {${L}}
                        </li>
                        ))}
                    </ul>
                </div>
                `}return X`
                <div style={{ marginTop: "6px" }}>
                    <h5>${J({resource:e,field:c,i18n:o,noQuotes:!0})}</h5>
                    <div>
                    {${K(l,c.key,c.accessor,' + " " + ')} ?? ""}
                    </div>
                </div>
            `}},"numberFields"),F=h(c=>{if(c)return X`
                ${c}
            `},"wrapper"),D=t.map(c=>{switch(c==null?void 0:c.type){case"text":return F($(c));case"number":return F(w(c));case"richtext":return F(b(c));case"email":return F(C(c));case"image":return F(d(c));case"date":return F(u(c));case"boolean":return F(v(c));case"url":return F(f(c));case"relation":return F(x(c));default:return}}),{canEdit:E,list:P}=e??{},N=!!P;bt(m);let s=o&&"const translate = useTranslate();";return X`
    ${ht(m)}
    
    export const ${i}: React.FC<IResourceComponentsProps> = () => {
        ${s}
        const { edit, list } = useNavigation();
        ${a?"":"const { id } = useResource();"}
        const { queryResult } = useShow(${a?`{ 
                    resource: "${e.name}", 
                    id: ${fr(n)},
                    ${de((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}
                }`:de((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")?`{ ${de((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")} }`:""});
        const { data, isLoading } = queryResult;

        const ${l} = data?.data;
    
        ${y}

        return (
            <div style={{ padding: "16px" }}>
            <div style={{ display: "flex", alignItems: "center", justifyContent: "space-between" }}>
                <h1>${Xe({resource:e,action:"show",i18n:o})}</h1>
                <div style={{ display: "flex", gap: "8px" }}>
                ${N?X`<button onClick={() => list("${e.name}")}>${Xe({resource:e,action:"list",i18n:o})}</button>`:""}
                ${E?X`<button onClick={() => edit("${e.name}", ${a?`"${n}"`:"id ?? ''"})}>${at({action:"edit",i18n:o,noQuotes:!0})}</button>`:""}
                </div>
            </div>
                <div>
                    ${D.join("")}
                </div>
            </div>
        );
    };
    `},"renderer"),ea=St({type:"show",additionalScope:[],codeViewerComponent:It,loadingComponent:Ft,errorComponent:Lt,renderer:us});var gs=oe(vs()),ys=S("@tanstack/react-table");var Qt=h(e=>Array.isArray(e.accessor)||e.multiple?`accessorKey: "${e.key}"`:e.accessor?`accessorKey: "${Me(e.key,void 0,e.accessor)}"`:`accessorKey: "${e.key}"`,"getAccessorKey"),hs=h(({resource:e,fields:t,meta:r,isCustomPage:a,i18n:n})=>{let o=ot(e.label??e.name,"list"),i="tableData?.data",l=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["useNavigation","@refinedev/core"],["useTable","@refinedev/react-table"],["ColumnDef","@tanstack/react-table"],["flexRender","@tanstack/react-table"]];n&&l.push(["useTranslate","@refinedev/core"]);let m=t.filter(s=>(s==null?void 0:s.relation)&&!(s!=null&&s.fieldable)&&(s==null?void 0:s.resource)),g=m.filter(Boolean).map(s=>{var c,L;if(s!=null&&s.relation&&!s.fieldable&&s.resource){l.push(["GetManyResponse","@refinedev/core"]),l.push(["useMany","@refinedev/core"]);let k="";return s.multiple?k=`[].concat(...(${i}?.map((item) => ${K("item",s.key,s.accessor,!1)}) ?? []))`:k=`${i}?.map((item) => ${K("item",s.key,s.accessor,!1)}) ?? []`,`
                const { data: ${ae(s.key,"Data")} } =
                useMany({
                    resource: "${s.resource.name}",
                    ids: ${k},
                    queryOptions: {
                        enabled: !!${i},
                    },
                    ${de(((c=s==null?void 0:s.resource)==null?void 0:c.identifier)??((L=s==null?void 0:s.resource)==null?void 0:L.name),r,"getMany")}
                });
                `}}).filter(Boolean),y=m==null?void 0:m.map(s=>{if(s&&s.resource)return ae(s.key,"Data")}).filter(Boolean),x=h(s=>{var c;if(s.relation&&s.resource){let L=`${ae(s.key,"Data")}?.data`;if(Array.isArray(s.accessor))return;let k=`id: "${s.key}"`,I=`header: ${J({resource:e,field:s,i18n:n,noBraces:!0})}`,M=Qt(s),A="";if(s.multiple){let T="item";s!=null&&s.relationInfer&&(T=K("item",void 0,s.relationInfer.accessor)),A=`cell: function render({ getValue, table }) {
                    const meta = table.options.meta as {
                        ${ae(s.key,"Data")}: GetManyResponse;
                    };

                    ${s!=null&&s.accessor?"try {":""}

                    const ${ae(s.key,"")} = getValue<any[]>()?.map((item) => {
                        return meta.${ae(s.key,"Data")}?.data?.find(
                            (resourceItems) => resourceItems.id === ${K("item",void 0,s.accessor)}
                        );
                    })


                    return (
                        <ul>
                            {${ae(s.key,"")}?.map((item, index) => (
                                <li key={index}>
                                    {${T}}
                                </li>
                            ))}
                        </ul>
                    )
                    ${s!=null&&s.accessor?" } catch (error) { return null; }":""}
                }
            `}else s!=null&&s.relationInfer?A=`cell: function render({ getValue, table }) {
                        const meta = table.options.meta as {
                            ${ae(s.key,"Data")}: GetManyResponse;
                        };

                        ${s!=null&&s.accessor?"try {":""}

                        const ${ae(s.key,"")} = meta.${L}?.find(
                            (item) => item.id == getValue<any>(),
                        );

                        return ${K(ae(s.key),void 0,(c=s==null?void 0:s.relationInfer)==null?void 0:c.accessor)} ?? "Loading...";

                        ${s!=null&&s.accessor?" } catch (error) { return null; }":""}
                    },`:A="";return`
                {
                    ${k},
                    ${I},
                    ${M},
                    ${A}
                }
            `}},"renderRelationFields"),$=h(s=>{if(s.type==="image"){let c=`id: "${s.key}"`,L=Qt(s),k=`header: ${J({resource:e,field:s,i18n:n,noBraces:!0})}`,I=X`
                cell: function render({ getValue }) {
                    ${s!=null&&s.accessor?"try {":""}
                        return <img style={{ maxWidth: "100px" }} src={${K("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0," + ")}} />
                    ${s!=null&&s.accessor?" } catch (error) { return null; }":""}
                }
            `;if(s.multiple){let M=K("item",void 0,s.accessor," + ");I=`
                    cell: function render({ getValue }) {
                        ${s!=null&&s.accessor?"try {":""}
                            return (
                                <ul>
                                    {getValue<any[]>()?.map((item, index) => (
                                        <li key={index}><img src={${M}} style={{ height: "50px", maxWidth: "100px" }} /></li>
                                    ))}
                                </ul>
                            )
                        ${s!=null&&s.accessor?" } catch (error) { return null; }":""}
                    }
                `}return`
                {
                    ${c},
                    ${L},
                    ${k},
                    ${I}
                }
            `}},"imageFields"),d=h(s=>{if(s.type==="email"){let c=`id: "${s.key}"`,L=Qt(s),k=`header: ${J({resource:e,field:s,i18n:n,noBraces:!0})}`,I=X`
                cell: function render({ getValue }) {
                    return <a href={"mailto:" + ${K("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0,' + " " + ')}}>{${K("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0,' + " " + ')}}</a>
                }
            `;return s.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                        {${K("item",void 0,s.accessor," + ")}}
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                `),`
                {
                    ${c},
                    ${L},
                    ${k},
                    ${I}
                }
            `}},"emailFields"),C=h(s=>{if(s.type==="url"){let c=`id: "${s.key}"`,L=Qt(s),k=`header: ${J({resource:e,field:s,i18n:n,noBraces:!0})}`,I=X`
                cell: function render({ getValue }) {
                    return <a href={${K("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0," + ")}}>{${K("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0," + ")}}</a>
                }
            `;return s.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                        {${K("item",void 0,s.accessor," + ")}}
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                `),`
                {
                    ${c},
                    ${L},
                    ${k},
                    ${I}
                }
            `}},"urlFields"),f=h(s=>{if((s==null?void 0:s.type)==="boolean"){let c=`id: "${s.key}"`,L=Qt(s),k=`header: ${J({resource:e,field:s,i18n:n,noBraces:!0})}`,I=X`
                cell: function render({ getValue }) {
                    return ${K("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0," + ")} ? "yes" : "no"
                }
            `;return s.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                        {${K("item",void 0,s.accessor," + ")} ? "yes" : "no"}
                                    </li>
                                ))}
                            </ul>
                        );
                    }
                `),`
                {
                    ${c},
                    ${L},
                    ${k},
                    ${I}
                }
            `}},"booleanFields"),v=h(s=>{if(s.type==="date"){let c=`id: "${s.key}"`,L=Qt(s),k=`header: ${J({resource:e,field:s,i18n:n,noBraces:!0})}`,I=X`
                cell: function render({ getValue }) {
                    return (new Date(${K("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0,' + " " + ')})).toLocaleString(undefined, { timeZone: "UTC" })
                }
            `;return s.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                    {(new Date(${K("item",void 0,s.accessor," + ")})).toLocaleString(undefined, { timeZone: "UTC" })}
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                `),`
                {
                    ${c},
                    ${L},
                    ${k},
                    ${I}
                }
            `}},"dateFields"),u=h(s=>{if(s&&(s.type==="text"||s.type==="number"||s.type==="richtext")){let c=`id: "${s.key}"`,L=Qt(s),k=`header: ${J({resource:e,field:s,i18n:n,noBraces:!0})}`,I="";return s.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                        {${K("item",void 0,s.accessor,' + " " + ')}}
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                `),!s.multiple&&Array.isArray(s.accessor)&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <>{${K("getValue<any>()",s.key,s.accessor)}}</>
                        );
                    }
                `),`
                {
                    ${c},
                    ${L},
                    ${k},
                    ${I}
                }
            `}},"basicFields"),{canEdit:b,canShow:w,canCreate:F}=e??{},E=b||w?X`
    {
        id: "actions",
        accessorKey: "id",
        header: ${n?'translate("table.actions")':'"Actions"'},
        cell: function render({ getValue }) {
            return (
                <div
                    style={{
                        display: "flex",
                        flexDirection: "row",
                        flexWrap: "wrap",
                        gap: "4px",
                    }}
                >
                ${w?X`
                    <button
                        onClick={() => {
                            show("${e.name}", getValue() as string);
                        }}
                    >
                        ${at({action:"show",i18n:n,noQuotes:!0})}
                    </button>
                    `:""}
                    ${b?X`
                            <button
                            onClick={() => {
                                edit("${e.name}", getValue() as string);
                            }}
                        >
                            ${at({action:"edit",i18n:n,noQuotes:!0})}
                        </button>
                    `:""}
                </div>
            );
        },
    },
        `:"",P=t.map(s=>{switch(s==null?void 0:s.type){case"text":case"number":case"richtext":return u(s);case"email":return d(s);case"image":return $(s);case"date":return v(s);case"boolean":return f(s);case"url":return C(s);case"relation":return x(s);default:return}});bt(l);let N=n&&"const translate = useTranslate();";return X`
    ${ht(l)}
    
    export const ${o}: React.FC<IResourceComponentsProps> = () => {
        ${N}
        const columns = React.useMemo<ColumnDef<any>[]>(() => [
            ${[...P,E].filter(Boolean).join(",")}
        ], [${n?"translate":""}]);

        ${b||w?X`
        const { ${b?"edit,":""} ${w?"show,":""} ${F?"create,":""} } = useNavigation();
        `:""}

        const {
            getHeaderGroups,
            getRowModel,
            setOptions,
            refineCore: {
                tableQueryResult: { data: tableData },
            },
            getState,
            setPageIndex,
            getCanPreviousPage,
            getPageCount,
            getCanNextPage,
            nextPage,
            previousPage,
            setPageSize,
            getColumn,
        } = useTable({
            columns,
            ${a?`
            refineCoreProps: {
                resource: "${e.name}",
                ${de((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getList")}
            }
            `:de((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getList")?`refineCoreProps: { ${de((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getList")} },`:""}
            
        });

        ${g}

        setOptions((prev) => ({
            ...prev,
            meta: {
                ...prev.meta,
                ${y.join(", ")}
            },
        }));

        return (
            <div style={{ padding: "16px" }}>
            <div style={{ display: "flex", alignItems: "center", justifyContent: "space-between" }}>
                <h1>${Xe({resource:e,action:"list",i18n:n})}</h1>
                ${F?X`<button onClick={() => create("${e.name}")}>${at({action:"create",i18n:n,noQuotes:!0})}</button>`:""}
            </div>
                <div style={{ maxWidth: "100%", overflowY: "scroll" }}>
                    <table>
                        <thead>
                            {getHeaderGroups().map((headerGroup) => (
                                <tr key={headerGroup.id}>
                                    {headerGroup.headers.map((header) => (
                                        <th key={header.id}>
                                            {!header.isPlaceholder && (
                                                flexRender(
                                                    header.column.columnDef
                                                        .header,
                                                    header.getContext(),
                                                )
                                            )}
                                        </th>
                                    ))}
                                </tr>
                            ))}
                        </thead>
                        <tbody>
                            {getRowModel().rows.map((row) => (
                                <tr key={row.id}>
                                    {row.getVisibleCells().map((cell) => (
                                        <td key={cell.id}>
                                            {flexRender(
                                                cell.column.columnDef.cell,
                                                cell.getContext(),
                                            )}
                                        </td>
                                    ))}
                                </tr>
                            ))}
                        </tbody>
                    </table>
                </div>
                <div style={{ marginTop: "12px" }}>
                    <button
                        onClick={() => setPageIndex(0)}
                        disabled={!getCanPreviousPage()}
                    >
                        {"<<"}
                    </button>
                    <button
                        onClick={() => previousPage()}
                        disabled={!getCanPreviousPage()}
                    >
                        {"<"}
                    </button>
                    <button onClick={() => nextPage()} disabled={!getCanNextPage()}>
                        {">"}
                    </button>
                    <button
                        onClick={() => setPageIndex(getPageCount() - 1)}
                        disabled={!getCanNextPage()}
                    >
                        {">>"}
                    </button>
                    <span>
                        <strong>
                            {" "} {getState().pagination.pageIndex + 1} / {" "} {getPageCount()} {" "}
                        </strong>
                    </span>
                    <span>
                        | ${n?'{translate("pagination.go")}':"Go to Page"}:{" "}
                        <input
                            type="number"
                            defaultValue={getState().pagination.pageIndex + 1}
                            onChange={(e) => {
                                const page = e.target.value
                                    ? Number(e.target.value) - 1
                                    : 0;
                                setPageIndex(page);
                            }}
                        />
                    </span>{" "}
                    <select
                        value={getState().pagination.pageSize}
                        onChange={(e) => {
                            setPageSize(Number(e.target.value));
                        }}
                    >
                        {[10, 20, 30, 40, 50].map((pageSize) => (
                            <option key={pageSize} value={pageSize}>
                                ${n?'{translate("pagination.show")}':"Show"} {pageSize}
                            </option>
                        ))}
                    </select>
                </div>
            </div>   
        );
    };
    `},"renderer"),ta=St({type:"list",additionalScope:[["@refinedev/react-table","RefineReactTable",{useTable:gs.useTable}],["@tanstack/react-table","TanstackReactTable",{flexRender:ys.flexRender}]],codeViewerComponent:It,loadingComponent:Ft,errorComponent:Lt,renderer:hs});var ks=oe(aa());var Is=h(({resource:e,fields:t,meta:r,isCustomPage:a,i18n:n})=>{let o=ot(e.label??e.name,"create"),i=[["React","react",!0],["useNavigation","@refinedev/core"],["IResourceComponentsProps","@refinedev/core"],["useForm","@refinedev/react-hook-form"]];n&&i.push(["useTranslate","@refinedev/core"]);let m=t.filter(f=>(f==null?void 0:f.relation)&&!(f!=null&&f.fieldable)&&(f==null?void 0:f.resource)).filter(Boolean).map(f=>{var v,u;if(f!=null&&f.relation&&!f.fieldable&&f.resource)return i.push(["useSelect","@refinedev/core"]),`
                const { options: ${ae(f.key,"Options")} } =
                useSelect({
                    resource: "${f.resource.name}",
                    ${mr(f)}
                    ${de(((v=f==null?void 0:f.resource)==null?void 0:v.identifier)??((u=f==null?void 0:f.resource)==null?void 0:u.name),r,"getList")}
                });
            `}).filter(Boolean),g=h(f=>{if(f.relation&&f.resource){i.push(["useSelect","@refinedev/core"]);let v=ae(f.key,"Options");return X`
            <label>
                <span style={{ marginRight: "8px" }}>
                    ${J({resource:e,field:f,i18n:n,noQuotes:!0})}
                </span>
                <select
                    placeholder="Select ${Se(f.resource.name)}"
                    {...register("${Me(f.key,void 0,f.accessor)}", {
                        required: ${f.multiple?"false":'"This field is required"'},
                    })}
                >
                    {${v}?.map((option) => (
                        <option value={option.value} key={option.value}>
                            {option.label}
                        </option>
                    ))}
                </select>
                <span style={{ color: "red" }}>
                    {${K("(errors as any)",f.key,f.accessor,!1)}?.message as string}
                </span>
            </label>
            `}},"renderRelationFields"),y=h(f=>{if(f.type==="text"||f.type==="url"||f.type==="email"||f.type==="number"||f.type==="date"||f.type==="richtext"){if(pr(f.key)||f.multiple)return;let v=f.type==="richtext"?"textarea":"input";return X`
                <label>
                    <span style={{ marginRight: "8px" }}>
                        ${J({resource:e,field:f,i18n:n,noQuotes:!0})}
                    </span>
                    <${v}
                        ${f.type!=="date"&&f.type!=="richtext"?`type="${f.type}"`:""}
                        ${v==="textarea"?`
                            rows={5}
                            cols={33}
                            style={{ verticalAlign: "top" }}
                        `:""}
                        {...register("${Me(f.key,void 0,f.accessor)}", {
                            required: "This field is required",
                            ${f.type==="number"?"valueAsNumber: true,":""}
                        })}

                    />
                    <span style={{ color: "red" }}>
                        {${K("(errors as any)",f.key,f.accessor,!1)}?.message as string}
                    </span>
                </label>
            `}},"basicInputFields"),x=h(f=>{if(f.type==="boolean")return f.multiple?void 0:X`
                <label>
                    <span style={{ marginRight: "8px" }}>
                        ${J({resource:e,field:f,i18n:n,noQuotes:!0})}
                    </span>
                    <input
                        type="checkbox"
                        {...register("${Me(f.key,void 0,f.accessor)}", {
                            required: "This field is required",
                        })}
                    />
                    <span style={{ color: "red" }}>
                        {${K("errors",f.key,f.accessor,!1)}?.message as string}
                    </span>
                </label>
            `},"booleanFields"),$=t.map(f=>{switch(f==null?void 0:f.type){case"text":case"number":case"email":case"url":case"richtext":case"date":return y(f);case"boolean":return x(f);case"relation":return g(f);default:return}}),d=!!e.list;bt(i);let C=n&&"const translate = useTranslate();";return X`
    ${ht(i)}
    
    export const ${o}: React.FC<IResourceComponentsProps> = () => {
        ${C}
        ${d?`
        const { list } = useNavigation();
        `:""}
        const {
            refineCore: { onFinish, formLoading },
            register,
            handleSubmit,
            resetField,
            formState: { errors },
        } = useForm(
            ${a?`
            { 
                refineCoreProps: {
                    resource: "${e.name}",
                    action: "create",
                    ${de(e.identifier??e.name,r,"getOne")}
                }
            }`:de(e.identifier??e.name,r,"getOne")?`{
                        refineCoreProps: { ${de(e.identifier??e.name,r,"getOne")} }
                        }`:""}
        );
    
        ${m}

        return (
            <div style={{ padding: "16px" }}>
                <div style={{ display: "flex", justifyContent: ${d?'"space-between"':'"flex-start"'} }}>
                    <h1>${Xe({resource:e,action:"create",i18n:n})}</h1>
                    ${d?X`
                            <div>
                        <button
                                onClick={() => {
                                    list("${e.name}");
                                }}
                        >
                            ${Xe({resource:e,action:"list",i18n:n})}
                        </button>
                        </div>
                    `:""}
                </div>
                <form onSubmit={handleSubmit(onFinish)}>
                    <div style={{ display: "flex", flexDirection: "column", gap: "8px" }}>
                        ${$.join("")}
                        <div>
                            <input type="submit" value=${at({action:"save",i18n:n})} />
                        </div>
                    </div>
                </form>
            </div>
        );
    };
    `},"renderer"),oa=St({type:"create",additionalScope:[["@refinedev/react-hook-form","RefineReactHookForm",{useForm:ks.useForm}]],codeViewerComponent:It,loadingComponent:Ft,errorComponent:Lt,renderer:Is});var Es=oe(aa());var Ss=h(({resource:e,fields:t,meta:r,isCustomPage:a,id:n,i18n:o})=>{let i=ot(e.label??e.name,"edit"),l=ae(e.label??e.name,"Data"),m=[["React","react",!0],["useNavigation","@refinedev/core"],["IResourceComponentsProps","@refinedev/core"],["useForm","@refinedev/react-hook-form"]];o&&m.push(["useTranslate","@refinedev/core"]);let y=t.filter(u=>(u==null?void 0:u.relation)&&!(u!=null&&u.fieldable)&&(u==null?void 0:u.resource)).filter(Boolean).map(u=>{var b,w;if(u!=null&&u.relation&&!u.fieldable&&u.resource){m.push(["useSelect","@refinedev/core"]);let F=K(l,u.key,u.accessor,!1);return u.multiple&&u.accessor&&(F=`${K(l,u.key)}?.map((item: any) => ${K("item",void 0,u.accessor)})`),`
                const { options: ${ae(u.key,"Options")} } =
                useSelect({
                    resource: "${u.resource.name}",
                    defaultValue: ${F},
                    ${mr(u)}
                    ${de(((b=u==null?void 0:u.resource)==null?void 0:b.identifier)??((w=u==null?void 0:u.resource)==null?void 0:w.name),r,"getList")}
                });

                React.useEffect(() => {
                    setValue("${Me(u.key,void 0,u.accessor)}", ${l}?.${u.key}?.id);
                }, [${ae(u.key,"Options")}]);
            `}}).filter(Boolean),x=h(u=>{if(u.relation&&u.resource){m.push(["useSelect","@refinedev/core"]);let b=ae(u.key,"Options");return X`
            <label>
                <span style={{ marginRight: "8px" }}>${J({resource:e,field:u,i18n:o,noQuotes:!0})}</span>
                <select
                    placeholder="Select ${Se(u.resource.name)}"
                    {...register("${Me(u.key,void 0,u.accessor)}", {
                        required: ${u.multiple?"false":'"This field is required"'},
                    })}
                >
                    {${b}?.map((option) => (
                        <option value={option.value} key={option.value}>
                            {option.label}
                        </option>
                    ))}
                </select>
                <span style={{ color: "red" }}>
                    {${K("(errors as any)",u.key,u.accessor,!1)}?.message as string}
                </span>
            </label>
            `}},"renderRelationFields"),$=h(u=>{if(u.type==="text"||u.type==="url"||u.type==="email"||u.type==="number"||u.type==="date"||u.type==="richtext"){if(u.multiple){let w=Me(u.key,"${index}",u.accessor),F=K(K("(errors as any)",u.key,void 0,!1)+"?.[index]",void 0,u.accessor);return`
                    <>
                        {${K(l,u.key)}?.map((item: any, index: number) => (
                            <label key={index}>
                                <span style={{ marginRight: "8px" }}>
                                    ${J({resource:e,field:u,i18n:o,noQuotes:!0})}
                                </span>
                                <input ${u.type!=="richtext"?`
                                type="${u.type!=="date"?u.type:"text"}"
                                `:""} {...register(\`${w}\`, { required: "This field is required", ${u.type==="number"?"valueAsNumber: true,":""} })} />
                                <span style={{color: "red"}}>
                                {${K(F,"message")} as string}
                                </span>
                            </label>
                        ))}
                    </>
                `}let b=u.type==="richtext"?"textarea":"input";return X`
            <label>
                <span style={{ marginRight: "8px" }}>${J({resource:e,field:u,i18n:o,noQuotes:!0})}</span>
                <${b}
                ${pr(u.key)?"disabled":""}
                ${u.type!=="date"&&u.type!=="richtext"?`type="${u.type}"`:""}
                ${b==="textarea"?`
                    rows={5}
                    cols={33}
                    style={{ verticalAlign: "top" }}
                `:""}
                {...register("${Me(u.key,void 0,u.accessor)}", {
                    required: "This field is required",
                    ${u.type==="number"?"valueAsNumber: true,":""}
                })}
                />
                <span style={{ color: "red" }}>
                {${K("(errors as any)",u.key,u.accessor,!1)}?.message as string}
                </span>
            </label>
            `}},"basicInputFields"),d=h(u=>{if(u.type==="boolean"){if(u.multiple){let b=Me(u.key,void 0,u.accessor),w=K("(errors as any)",u.key,void 0,!1)+"?.[index]";return`
                    <>
                        {${K(l,u.key)}?.map((item: any, index: number) => (
                            <label key={index}>
                            <span style={{ marginRight: "8px" }}>
                            ${J({resource:e,field:u,i18n:o,noQuotes:!0})}
                            </span>
                            <input
                                type="checkbox"
                                {...register(\`${b}.\${index}\`, {
                                    required: "This field is required",
                                })}
                            />
                            <span style={{ color: "red" }}>
                                {${w}?.message as string}
                            </span>
                        ))}
                    </>
                `}return X`
            <label>
                <span style={{ marginRight: "8px" }}>${J({resource:e,field:u,i18n:o,noQuotes:!0})}</span>
                <input type="checkbox" {...register("${Me(u.key,void 0,u.accessor)}", {
                    required: "This field is required",
                })} />
                <span style={{ color: "red" }}>
                    {${K("errors",u.key,u.accessor,!1)}?.message as string}
                </span>
            </label>
            `}},"booleanFields"),C=t.map(u=>{switch(u==null?void 0:u.type){case"text":case"number":case"email":case"url":case"richtext":case"date":return $(u);case"boolean":return d(u);case"relation":return x(u);default:return}}),f=!!e.list;bt(m);let v=o&&"const translate = useTranslate();";return X`
    ${ht(m)}
    
    export const ${i}: React.FC<IResourceComponentsProps> = () => {
        ${v}
        ${f?`
        const { list } = useNavigation();
        `:""}
        const {
            refineCore: { onFinish, formLoading, queryResult },
            register,
            handleSubmit,
            setValue,
            formState: { errors },
        } = useForm(
            ${a?`
            { 
                refineCoreProps: {
                    resource: "${e.name}",
                    id: ${fr(n)},
                    action: "edit",
                    ${de((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}
                }
            }`:de((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")?`{ refineCoreProps: {
                        ${de((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}
                    } }`:""}
        );
    
        const ${l} = queryResult?.data?.data;
    
        ${y}

        return (
            <div style={{ padding: "16px" }}>
                <div style={{ display: "flex", justifyContent: ${f?'"space-between"':'"flex-start"'} }}>
                    <h1>${Xe({resource:e,action:"edit",i18n:o})}</h1>
                    ${f?X`
                    <div>
                        <button
                                onClick={() => {
                                    list("${e.name}");
                                }}
                        >
                            ${Xe({resource:e,action:"list",i18n:o})}
                        </button>
                    </div>
                    `:""}
                </div>
                <form onSubmit={handleSubmit(onFinish)}>
                    <div style={{ display: "flex", flexDirection: "column", gap: "8px" }}>
                        ${C.join("")}
                        <div>
                            <input type="submit" value=${at({action:"save",i18n:o})} />
                        </div>
                    </div>
                </form>
            </div>
        );
    };
    `},"renderer"),ia=St({type:"edit",additionalScope:[["@refinedev/react-hook-form","RefineReactHookForm",{useForm:Es.useForm}]],codeViewerComponent:It,loadingComponent:Ft,errorComponent:Lt,renderer:Ss});var xg=h(({action:e,id:t,...r})=>{let{action:a,id:n}=(0,Ls.useResource)();switch(e??a){case"show":return gr.default.createElement(ea,{...r,id:t??n});case"create":return gr.default.createElement(oa,{...r,id:t??n});case"edit":return gr.default.createElement(ia,{...r,id:t??n});default:return gr.default.createElement(ta,{...r,id:t??n})}},"HeadlessInferencer");})();
//# sourceMappingURL=headless.js.map