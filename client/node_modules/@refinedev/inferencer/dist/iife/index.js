(()=>{var ji=Object.create;var Pr=Object.defineProperty;var _i=Object.getOwnPropertyDescriptor;var Hi=Object.getOwnPropertyNames;var Bi=Object.getPrototypeOf,Xi=Object.prototype.hasOwnProperty;var b=(e,t)=>Pr(e,"name",{value:t,configurable:!0}),E=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Cr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Gi=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Hi(t))!Xi.call(e,n)&&n!==r&&Pr(e,n,{get:()=>t[n],enumerable:!(a=_i(t,n))||a.enumerable});return e};var ce=(e,t,r)=>(r=e!=null?ji(Bi(e)):{},Gi(t||!e||!e.__esModule?Pr(r,"default",{value:e,enumerable:!0}):r,e));var Gt=Cr((Wd,Ra)=>{var Zi=Object.create,Xt=Object.defineProperty,Yi=Object.getOwnPropertyDescriptor,Ji=Object.getOwnPropertyNames,es=Object.getPrototypeOf,ts=Object.prototype.hasOwnProperty,rs=b((e,t)=>{for(var r in t)Xt(e,r,{get:t[r],enumerable:!0})},"N"),Na=b((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ji(t))!ts.call(e,n)&&n!==r&&Xt(e,n,{get:()=>t[n],enumerable:!(a=Yi(t,n))||a.enumerable});return e},"E"),as=b((e,t,r)=>(r=e!=null?Zi(es(e)):{},Na(t||!e||!e.__esModule?Xt(r,"default",{value:e,enumerable:!0}):r,e)),"A"),ns=b(e=>Na(Xt({},"__esModule",{value:!0}),e),"V"),Da={};rs(Da,{DevToolsContext:()=>qa,DevToolsContextProvider:()=>is,DevtoolsEvent:()=>Fa,hooksByScope:()=>os,receive:()=>Ta,scopes:()=>Aa,send:()=>Ma});Ra.exports=ns(Da);var Fa=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(Fa||{}),Aa={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},os=Object.entries(Aa).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),Et=as(E("react"));async function Ma(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let n=b(()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",n)},"a");e.addEventListener("open",n)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}b(Ma,"d");function Ta(e,t,r){let a=b(n=>{let{event:o,payload:i}=JSON.parse(n.data);t===o&&r(i)},"s");return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}b(Ta,"c");var qa=Et.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),is=b(({__devtools:e,port:t,children:r})=>{let[a,n]=Et.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[o,i]=Et.default.useState(null);Et.default.useEffect(()=>{let c=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),d=Ta(c,"devtools:handshake",p=>{n(y=>({...y,devtoolsUrl:p.url})),d()});return c.addEventListener("open",()=>{a.__devtools||Ma(c,"devtools:init",{url:window.location.origin})}),i(c),()=>{d(),c.close(1e3,window.location.origin)}},[]);let l=Et.default.useMemo(()=>({...a,ws:o}),[a,o]);return Et.default.createElement(qa.Provider,{value:l},r)},"S")});var te=Cr((Hd,Wa)=>{var ss=Object.create,Zt=Object.defineProperty,ls=Object.getOwnPropertyDescriptor,us=Object.getOwnPropertyNames,ds=Object.getPrototypeOf,cs=Object.prototype.hasOwnProperty,ms=b((e,t)=>{for(var r in t)Zt(e,r,{get:t[r],enumerable:!0})},"L"),Oa=b((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of us(t))!cs.call(e,n)&&n!==r&&Zt(e,n,{get:()=>t[n],enumerable:!(a=ls(t,n))||a.enumerable});return e},"d"),$a=b((e,t,r)=>(r=e!=null?ss(ds(e)):{},Oa(t||!e||!e.__esModule?Zt(r,"default",{value:e,enumerable:!0}):r,e)),"E"),ps=b(e=>Oa(Zt({},"__esModule",{value:!0}),e),"M"),Ua={};ms(Ua,{getTrace:()=>za,getXRay:()=>Ps,useQuerySubscription:()=>Cs});Wa.exports=ps(Ua);var fs=$a(E("error-stack-parser")),vs="renderWithHooks",gs=b(e=>{let t=e.findIndex(r=>r.functionName===vs);return t!==-1?e.slice(0,t):e},"T"),Ka=/node_modules\/refinedev\/(?<name>.*?)\//,ys=b(e=>e?!!e.match(Ka):!1,"_"),hs=b(e=>{var t;if(!e)return;let r=e.match(Ka),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`},"R");function za(){return[];try{let e=new Error,t=fs.default.parse(e);return gs(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:ys(r.fileName),packageName:hs(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}b(za,"l");var wr=Gt(),bs=b((e,t)=>{if(wr.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(wr.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(wr.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function Ps(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}b(Ps,"I");var Vd=Gt(),jd=$a(E("react")),_d=Gt(),Cs=()=>({})});var Ft=Cr((Xd,Bo)=>{var ws=Object.create,Ut=Object.defineProperty,xs=Object.getOwnPropertyDescriptor,Es=Object.getOwnPropertyNames,Ls=Object.getPrototypeOf,Ss=Object.prototype.hasOwnProperty,s=b((e,t)=>Ut(e,"name",{value:t,configurable:!0}),"o"),Is=b((e,t)=>{for(var r in t)Ut(e,r,{get:t[r],enumerable:!0})},"Pi"),Un=b((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Es(t))!Ss.call(e,n)&&n!==r&&Ut(e,n,{get:()=>t[n],enumerable:!(a=xs(t,n))||a.enumerable});return e},"Bs"),W=b((e,t,r)=>(r=e!=null?ws(Ls(e)):{},Un(t||!e||!e.__esModule?Ut(r,"default",{value:e,enumerable:!0}):r,e)),"B"),ks=b(e=>Un(Ut({},"__esModule",{value:!0}),e),"xi"),Kn={};Is(Kn,{AccessControlContext:()=>Vt,AuthPage:()=>ed,Authenticated:()=>_o,CanAccess:()=>bd,ErrorComponent:()=>Xu,GitHubBanner:()=>Cd,KeyBuilder:()=>jr,LayoutWrapper:()=>vd,LoginPage:()=>Qo,ReadyPage:()=>Vo,Refine:()=>fd,ResourceContext:()=>zt,RouteChangeHandler:()=>Ho,TranslationContext:()=>Pt,UndoableQueue:()=>jo,WelcomePage:()=>rd,createTreeView:()=>Ks,file2Base64:()=>nl,generateDefaultDocumentTitle:()=>po,getDefaultFilter:()=>al,getDefaultSortOrder:()=>rl,getNextPageParam:()=>io,getPreviousPageParam:()=>so,handleUseParams:()=>As,importCSVMapper:()=>Qn,keys:()=>lt,legacyResourceTransform:()=>lo,matchResourceFromRoute:()=>Us,parseTableParams:()=>Xr,parseTableParamsFromQuery:()=>tl,pickDataProvider:()=>Z,pickNotDeprecated:()=>K,queryKeys:()=>Ms,routeGenerator:()=>ro,setInitialFilters:()=>zr,setInitialSorters:()=>Wr,stringifyTableParams:()=>Ur,unionFilters:()=>$t,unionSorters:()=>Kr,useActiveAuthProvider:()=>ve,useApiUrl:()=>Al,useAuthenticated:()=>dl,useBack:()=>Oo,useBreadcrumb:()=>_u,useCan:()=>Ko,useCanWithoutCache:()=>Tu,useCancelNotification:()=>Dt,useCheckError:()=>cl,useCreate:()=>aa,useCreateMany:()=>wo,useCustom:()=>ql,useCustomMutation:()=>$l,useDataProvider:()=>Ce,useDelete:()=>Ll,useDeleteMany:()=>Fl,useExport:()=>fu,useForgotPassword:()=>Jr,useForm:()=>yu,useGetIdentity:()=>Gr,useGetLocale:()=>cu,useGetToPath:()=>ia,useGo:()=>Ke,useHandleNotification:()=>qe,useImport:()=>xu,useInfiniteList:()=>Ql,useInvalidate:()=>it,useIsAuthenticated:()=>ur,useIsExistAuthentication:()=>bo,useLink:()=>dr,useList:()=>ta,useLiveMode:()=>Mo,useLoadingOvertime:()=>he,useLog:()=>Ct,useLogList:()=>Qu,useLogin:()=>lr,useLogout:()=>nr,useMany:()=>Po,useMenu:()=>Bu,useMeta:()=>me,useModal:()=>Eu,useMutationMode:()=>Nt,useNavigation:()=>ze,useNotification:()=>mt,useOnError:()=>Se,useOne:()=>ra,useParse:()=>Fo,useParsed:()=>He,usePermissions:()=>ho,usePublish:()=>bt,useRedirectionAfterSubmission:()=>Ro,useRefineContext:()=>Le,useRegister:()=>Yr,useResource:()=>Y,useResourceSubscription:()=>Qt,useResourceWithRoute:()=>Ao,useRouterContext:()=>Re,useRouterType:()=>ge,useSelect:()=>Ou,useSetLocale:()=>du,useShow:()=>Pu,useSubscription:()=>au,useSyncWithLocation:()=>vo,useTable:()=>zo,useTitle:()=>Js,useToPath:()=>Su,useTranslate:()=>oe,useUpdate:()=>Qr,useUpdateMany:()=>Nl,useUpdatePassword:()=>ea,useUserFriendlyName:()=>Br,useWarnAboutChange:()=>Hr,userFriendlyResourceName:()=>Vn});Bo.exports=ks(Kn);var ft=W(E("react")),Qa=E("@tanstack/react-query"),Va=te(),Vr=W(E("qs")),zn=W(E("lodash/unionWith")),Wn=W(E("lodash/differenceWith")),Ns=W(E("warn-once")),xr=s(e=>e/1e3,"userFriendlySecond"),Ds=W(E("lodash/zip")),Fs=W(E("lodash/fromPairs")),Qn=s((e,t=r=>r)=>{let[r,...a]=e;return a.map(n=>(0,Fs.default)((0,Ds.default)(r,n))).map((n,o,i)=>t.call(void 0,n,o,i))},"importCSVMapper"),ja=W(E("pluralize")),Vn=s((e="",t)=>{let r=ao(e);return t==="singular"?ja.default.singular(r):ja.default.plural(r)},"userFriendlyResourceName"),As=s((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),K=s((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function Ze(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((n,o)=>e[a+o]===n))}b(Ze,"Ye");s(Ze,"arrayFindIndex");function jn(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(Ze(e,["auth","login"])!==-1)return["useLogin"];if(Ze(e,["auth","logout"])!==-1)return["useLogout"];if(Ze(e,["auth","identity"])!==-1)return["getUserIdentity"];if(Ze(e,["auth","register"])!==-1)return["useRegister"];if(Ze(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(Ze(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(Ze(e,["auth","onError"])!==-1)return["useCheckError"];if(Ze(e,["auth","permissions"])!==-1)return["usePermissions"];if(Ze(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}b(jn,"Ci");s(jn,"convertToLegacy");var Te=b(class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return jn(this.segments)}get(e){return e?this.legacy():this.segments}},"ve");s(Te,"BaseKeyBuilder");var ot=b(class extends Te{constructor(e){super(e)}params(e){return new Te([...this.segments,e])}},"We");s(ot,"ParamsKeyBuilder");var _n=b(class extends Te{constructor(e){super(e)}id(e){return new ot([...this.segments,e?String(e):void 0])}},"Mr");s(_n,"DataIdRequiringKeyBuilder");var Hn=b(class extends Te{constructor(e){super(e)}ids(...e){return new ot([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}},"Ir");s(Hn,"DataIdsRequiringKeyBuilder");var Bn=b(class extends Te{constructor(e){super(e)}action(e){if(e==="one")return new _n([...this.segments,e]);if(e==="many")return new Hn([...this.segments,e]);if(["list","infinite"].includes(e))return new ot([...this.segments,e]);throw new Error("Invalid action type")}},"wr");s(Bn,"DataResourceKeyBuilder");var Xn=b(class extends Te{constructor(e){super(e)}resource(e){return new Bn([...this.segments,e])}mutation(e){return new ot([...e==="custom"?this.segments:[this.segments[0]],e])}},"Sr");s(Xn,"DataKeyBuilder");var Gn=b(class extends Te{constructor(e){super(e)}action(e){return new ot([...this.segments,e])}},"Ar");s(Gn,"AuthKeyBuilder");var Zn=b(class extends Te{constructor(e){super(e)}action(e){return new ot([...this.segments,e])}},"kr");s(Zn,"AccessResourceKeyBuilder");var Yn=b(class extends Te{constructor(e){super(e)}resource(e){return new Zn([...this.segments,e])}},"Qr");s(Yn,"AccessKeyBuilder");var Jn=b(class extends Te{constructor(e){super(e)}action(e){return new ot([...this.segments,e])}},"Fr");s(Jn,"AuditActionKeyBuilder");var eo=b(class extends Te{constructor(e){super(e)}resource(e){return new Jn([...this.segments,e])}action(e){return new ot([...this.segments,e])}},"Vr");s(eo,"AuditKeyBuilder");var jr=b(class extends Te{constructor(e){super(e)}data(e){return new Xn(["data",e||"default"])}auth(){return new Gn(["auth"])}access(){return new Yn(["access"])}audit(){return new eo(["audit"])}},"Pt");s(jr,"KeyBuilder");var lt=s(()=>new jr([]),"keys"),Ms=s((e,t,r,a)=>{let n=t||"default",o={all:[n],resourceAll:[n,e||""],list:i=>[...o.resourceAll,"list",{...i,...K(r,a)||{}}],many:i=>[...o.resourceAll,"getMany",i&&i.map(String),{...K(r,a)||{}}].filter(l=>l!==void 0),detail:i=>[...o.resourceAll,"detail",i==null?void 0:i.toString(),{...K(r,a)||{}}],logList:i=>["logList",e,i,a].filter(l=>l!==void 0)};return o},"queryKeys"),ir=s(e=>(t,r,a,n)=>{let o=r||"default";return{all:lt().data(o).get(e),resourceAll:lt().data(r).resource(t??"").get(e),list:i=>lt().data(r).resource(t??"").action("list").params({...i,...K(a,n)||{}}).get(e),many:i=>lt().data(r).resource(t??"").action("many").ids(...i??[]).params({...K(a,n)||{}}).get(e),detail:i=>lt().data(r).resource(t??"").action("one").id(i??"").params({...K(a,n)||{}}).get(e),logList:i=>[...lt().audit().resource(t).action("list").params(i).get(e),n].filter(l=>l!==void 0)}},"queryKeysReplacement"),Ts=s((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),_r=s(e=>e.startsWith(":"),"isParameter"),It=s(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),qs=s((e,t)=>{let r=It(e),a=It(t);return r.length===a.length},"isSegmentCountsSame"),nt=s(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),Rs=s((e,t)=>{let r=nt(e),a=nt(t);if(!qs(r,a))return!1;let n=It(r);return It(a).every((o,i)=>_r(o)||o===n[i])},"checkBySegments"),Os=s((e,t,r)=>{let a=nt(r||""),n=`${a}${a?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},"getDefaultActionPath"),dt=s((e,t)=>{var r,a;let n=K((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return n?t.find(o=>(o.identifier??o.name)===n)??{name:n}:void 0},"getParentResource"),to=s((e,t,r)=>{let a=[],n=dt(e,t);for(;n;)a.push(n),n=dt(n,t);if(a.length!==0)return`/${a.reverse().map(o=>{var i;let l=r?((i=o.options)==null?void 0:i.route)??o.name:o.name;return nt(l)}).join("/")}`},"getParentPrefixForResource"),Ae=s((e,t,r)=>{let a=[],n=["list","show","edit","create","clone"],o=to(e,t,r);return n.forEach(i=>{var l,c;let d=r&&i==="clone"?e.create:e[i],p;typeof d=="function"||r?p=Os(r?((l=e.meta)==null?void 0:l.route)??((c=e.options)==null?void 0:c.route)??e.name:e.name,i,r?o:void 0):typeof d=="string"?p=d:typeof d=="object"&&(p=d.path),p&&a.push({action:i,resource:e,route:`/${p.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),$s=s(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(o=>({...o,splitted:It(nt(o.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,n=[...r];for(let o=0;o<a;o++){let i=n.filter(l=>!_r(l.splitted[o]));if(i.length!==0){if(i.length===1){n=i;break}n=i}}return n[0]},"pickMatchedRoute"),Us=s((e,t)=>{let r=t.flatMap(n=>Ae(n,t)).filter(n=>Rs(e,n.route)),a=$s(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),ro=s((e,t)=>{var r;let a,n=to(e,t,!0);if(n){let o=K(e.meta,e.options);a=`${n}/${(o==null?void 0:o.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),Ks=s(e=>{var t;let r=[],a={},n={},o,i;for(let l=0;l<e.length;l++){o=e[l];let c=o.route??((t=K(o==null?void 0:o.meta,o.options))==null?void 0:t.route)??"";a[c]=o,a[c].children=[],n[o.name]=o,n[o.name].children=[]}for(let l in a)a.hasOwnProperty(l)&&(i=a[l],i.parentName&&n[i.parentName]?n[i.parentName].children.push(i):r.push(i));return r},"createTreeView"),ao=s(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),no=W(E("react")),_a=W(E("pluralize")),zs=W(E("react")),oo=s(({children:e})=>zs.default.createElement("div",null,e),"DefaultLayout"),Ee={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:ao,plural:_a.default.plural,singular:_a.default.singular},disableServerSideValidation:!1},ct=no.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:oo,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ee}),Ws=s(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:n,children:o,DashboardPage:i,Title:l,Layout:c=oo,Header:d,Sider:p,Footer:y,OffLayoutArea:x,LoginPage:u=Qo,catchAll:f,liveMode:P="off",onLiveEvent:m,options:g})=>no.default.createElement(ct.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:l,undoableTimeout:n,Layout:c,Header:d,Sider:p,Footer:y,OffLayoutArea:x,DashboardPage:i,LoginPage:u,catchAll:f,liveMode:P,onLiveEvent:m,options:g}},o),"RefineContextProvider"),Qs=s(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:n,reactQueryDevtoolConfig:o,syncWithLocation:i,undoableTimeout:l,warnWhenUnsavedChanges:c}={})=>{var d,p,y,x,u,f,P,m;let g={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??Ee.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??l??Ee.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??i??Ee.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??c??Ee.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Ee.liveMode,redirect:{afterCreate:((d=e==null?void 0:e.redirect)==null?void 0:d.afterCreate)??Ee.redirect.afterCreate,afterClone:((p=e==null?void 0:e.redirect)==null?void 0:p.afterClone)??Ee.redirect.afterClone,afterEdit:((y=e==null?void 0:e.redirect)==null?void 0:y.afterEdit)??Ee.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Ee.overtime,textTransformers:{humanize:((x=e==null?void 0:e.textTransformers)==null?void 0:x.humanize)??Ee.textTransformers.humanize,plural:((u=e==null?void 0:e.textTransformers)==null?void 0:u.plural)??Ee.textTransformers.plural,singular:((f=e==null?void 0:e.textTransformers)==null?void 0:f.singular)??Ee.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Ee.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},v=(e==null?void 0:e.disableTelemetry)??t??!1,C={clientConfig:((P=e==null?void 0:e.reactQuery)==null?void 0:P.clientConfig)??n??{},devtoolConfig:((m=e==null?void 0:e.reactQuery)==null?void 0:m.devtoolConfig)??o??{}};return{optionsWithDefaults:g,disableTelemetryWithDefault:v,reactQueryWithDefaults:C}},"handleRefineOptions"),Vs=s(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),Ha=s(async(e,t,r)=>{let a=[];for(let[n,o]of e.entries())try{let i=await o();a.push(t(i,n))}catch(i){a.push(r(i,n))}return a},"sequentialPromises"),Pe=s((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(o=>nt(o.route??"")===nt(e))||t.find(o=>o.name===e);let a=t.find(n=>n.identifier===e);return a||(a=t.find(n=>n.name===e)),a},"pickResource"),Z=s((e,t,r)=>{if(t)return t;let a=Pe(e,r),n=K(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},"pickDataProvider"),sr=s(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),io=s(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/n);return a<o?Number(a)+1:void 0},"getNextPageParam"),so=s(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),lo=s(e=>{let t=[];return e.forEach(r=>{var a,n;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((n=r.options)==null?void 0:n.label),route:ro(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),js=s(e=>It(nt(e)).flatMap(t=>_r(t)?[t.slice(1)]:[]),"pickRouteParams"),_s=s((e,t={})=>e.reduce((r,a)=>{let n=t[a];return typeof n<"u"&&(r[a]=n),r},{}),"prepareRouteParams"),$e=s((e,t={},r={},a={})=>{let n=js(e),o=_s(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(i,l)=>{let c=o[l];return typeof c<"u"?`${c}`:i})},"composeRoute"),kt=W(E("react")),uo=kt.default.createContext({}),Hs=s(({children:e,isProvided:t,...r})=>{let{replace:a}=ze(),n=s(async c=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,c))}catch(p){return Promise.reject(p)}},"loginFunc"),o=s(async c=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,c))}catch(p){return Promise.reject(p)}},"registerFunc"),i=s(async c=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,c))}catch(p){return Promise.reject(p)}},"logoutFunc"),l=s(async c=>{var d;try{return await((d=r.checkAuth)==null?void 0:d.call(r,c)),Promise.resolve()}catch(p){return p!=null&&p.redirectPath&&a(p.redirectPath),Promise.reject(p)}},"checkAuthFunc");return kt.default.createElement(uo.Provider,{value:{...r,login:n,logout:i,checkAuth:l,register:o,isProvided:t}},e)},"LegacyAuthContextProvider"),co=kt.default.createContext({}),Bs=s(({children:e,isProvided:t,...r})=>{let a=s(async d=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,d))}catch(y){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleLogin"),n=s(async d=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,d))}catch(y){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleRegister"),o=s(async d=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,d))}catch(y){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleLogout"),i=s(async d=>{var p;try{let y=await((p=r.check)==null?void 0:p.call(r,d));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleCheck"),l=s(async d=>{var p;try{let y=await((p=r.forgotPassword)==null?void 0:p.call(r,d));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleForgotPassword"),c=s(async d=>{var p;try{let y=await((p=r.updatePassword)==null?void 0:p.call(r,d));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",y),Promise.reject(y)}},"handleUpdatePassword");return kt.default.createElement(co.Provider,{value:{...r,login:a,logout:o,check:i,register:n,forgotPassword:l,updatePassword:c,isProvided:t}},e)},"AuthBindingsContextProvider"),Ue=s(()=>kt.default.useContext(uo),"useLegacyAuthContext"),_e=s(()=>kt.default.useContext(co),"useAuthBindingsContext"),ve=s(()=>{let e=Ue(),t=_e();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),mo=s(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",n=(t==null?void 0:t.mode)??a,o=K(t==null?void 0:t.current,r==null?void 0:r.current)??1,i=K(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:o,pageSize:i,mode:n}},"handlePaginationParams"),Ba=E("react"),Xa=s(e=>{let[t,r]=(0,Ba.useState)(!1);return(0,Ba.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let n=s(()=>r(a.matches),"listener");return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t},"useMediaQuery"),Er=s((e,t,r,a)=>{let n=a?e(t,a,r):e(t,r);return n===t||typeof n>"u"?r??t:n},"safeTranslate");function po(e,t,r,a,n){var o;let i={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},l=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),c=(t==null?void 0:t.label)??((o=t==null?void 0:t.meta)==null?void 0:o.label)??Vn(l,r==="list"?"plural":"singular"),d=n??c,p=Er(e,"documentTitle.default","refine"),y=Er(e,"documentTitle.suffix"," | refine"),x=p;return r&&l&&(x=Er(e,`documentTitle.${l}.${r}`,`${i[r]??""}${d}${y}`,{id:a})),x}b(po,"Ko");s(po,"generateDefaultDocumentTitle");var Xs=E("react"),Nt=s(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Xs.useContext)(ct);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Ga=E("react"),$r=W(E("react")),fo=$r.default.createContext({}),Gs=s(({children:e})=>{let[t,r]=(0,$r.useState)(!1);return $r.default.createElement(fo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),Hr=s(()=>{let{warnWhenUnsavedChanges:e}=(0,Ga.useContext)(ct),{warnWhen:t,setWarnWhen:r}=(0,Ga.useContext)(fo);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),Zs=E("react"),vo=s(()=>{let{syncWithLocation:e}=(0,Zs.useContext)(ct);return{syncWithLocation:e}},"useSyncWithLocation"),Ys=E("react"),Js=s(()=>{let{Title:e}=(0,Ys.useContext)(ct);return e},"useTitle"),el=E("react"),Le=s(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:i,mutationMode:l,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:p,DashboardPage:y,LoginPage:x,catchAll:u,options:f}=(0,el.useContext)(ct);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:i,mutationMode:l,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:p,DashboardPage:y,LoginPage:x,catchAll:u,options:f}},"useRefineContext"),Br=s(()=>{let{options:{textTransformers:e}}=Le();return s((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),Xr=s(e=>{let{current:t,pageSize:r,sorter:a,sorters:n,filters:o}=Vr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:K(n,a)??[],parsedFilters:o??[]}},"parseTableParams"),tl=s(e=>{let t=Vr.default.stringify(e);return Xr(`/${t}`)},"parseTableParamsFromQuery"),Ur=s(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:n,filters:o,...i}=e;return Vr.default.stringify({...i,...r||{},sorters:K(n,a),filters:o},t)},"stringifyTableParams"),go=s((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),yo=s((e,t)=>e.field==t.field,"compareSorters"),$t=s((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,Ns.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,zn.default)(e,t,r,go).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),Kr=s((e,t)=>(0,zn.default)(e,t,yo).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),zr=s((e,t)=>[...(0,Wn.default)(t,e,go),...e],"setInitialFilters"),Wr=s((e,t)=>[...(0,Wn.default)(t,e,yo),...e],"setInitialSorters"),rl=s((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),al=s((e,t,r="eq")=>{let a=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:o,field:i}=n;return i===e&&o===r}});if(a)return a.value||[]},"getDefaultFilter"),nl=s(e=>new Promise((t,r)=>{let a=new FileReader,n=s(()=>{a.result&&(a.removeEventListener("load",n,!1),t(a.result))},"resultHandler");a.addEventListener("load",n,!1),a.readAsDataURL(e.originFileObj),a.onerror=o=>(a.removeEventListener("load",n,!1),r(o))}),"file2Base64"),re=s(()=>{let{options:{useNewQueryKeys:e}}=Le();return{keys:lt,preferLegacyKeys:!e}},"useKeys");function ho({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=Ue(),{getPermissions:a}=_e(),{keys:n,preferLegacyKeys:o}=re(),i=(0,Qa.useQuery)(n().auth().action("permissions").get(o),a??(()=>Promise.resolve(void 0)),{enabled:!e&&!!a,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,Va.getXRay)("usePermissions",o)}}),l=(0,Qa.useQuery)([...n().auth().action("permissions").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Va.getXRay)("usePermissions",o)}});return e?l:i}b(ho,"mn");s(ho,"usePermissions");var Za=E("@tanstack/react-query"),Ya=te();function Gr({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=Ue(),{getIdentity:a}=_e(),{keys:n,preferLegacyKeys:o}=re(),i=(0,Za.useQuery)(n().auth().action("identity").get(o),a??(()=>Promise.resolve({})),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ya.getXRay)("useGetIdentity",o)}}),l=(0,Za.useQuery)([...n().auth().action("identity").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ya.getXRay)("useGetIdentity",o)}});return e?l:i}b(Gr,"zr");s(Gr,"useGetIdentity");var Ja=E("@tanstack/react-query"),en=te(),ol=E("@tanstack/react-query"),Zr=s(()=>{let e=(0,ol.useQueryClient)(),{keys:t,preferLegacyKeys:r}=re();return s(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function nr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Zr(),a=ge(),n=Ke(),{push:o}=ze(),{open:i,close:l}=mt(),{logout:c}=Ue(),{logout:d}=_e(),{keys:p,preferLegacyKeys:y}=re(),x=(0,Ja.useMutation)(p().auth().action("logout").get(y),d,{onSuccess:async(f,P)=>{let{success:m,error:g,redirectTo:v}=f,{redirectPath:C}=P??{},N=C??v;m&&(l==null||l("useLogout-error")),(g||!m)&&(i==null||i(Lr(g))),await r(),N!==!1&&(a==="legacy"?o(N??"/login"):N&&n({to:N}))},onError:f=>{i==null||i(Lr(f))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,en.getXRay)("useLogout",y)}}),u=(0,Ja.useMutation)([...p().auth().action("logout").get(y),"v3LegacyAuthProviderCompatible"],c,{onSuccess:async(f,P)=>{let m=(P==null?void 0:P.redirectPath)??f;if(await r(),m!==!1){if(m){a==="legacy"?o(m):n({to:m});return}a==="legacy"?o("/login"):n({to:"/login"})}},onError:f=>{i==null||i(Lr(f))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,en.getXRay)("useLogout",y)}});return e?u:x}b(nr,"pr");s(nr,"useLogout");var Lr=s(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),il=W(E("react")),tn=E("@tanstack/react-query"),rn=te(),sl=W(E("qs"));function lr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Zr(),a=ge(),n=Ke(),{replace:o}=ze(),i=He(),{useLocation:l}=Re(),{search:c}=l(),{close:d,open:p}=mt(),{login:y}=Ue(),{login:x}=_e(),{keys:u,preferLegacyKeys:f}=re(),P=il.default.useMemo(()=>{var v;return a==="legacy"?sl.default.parse(c,{ignoreQueryPrefix:!0}).to:(v=i.params)==null?void 0:v.to},[a,i.params,c]),m=(0,tn.useMutation)(u().auth().action("login").get(f),x,{onSuccess:async({success:v,redirectTo:C,error:N})=>{v&&(d==null||d("login-error")),(N||!v)&&(p==null||p(Sr(N))),await r(),P&&v?a==="legacy"?o(P):n({to:P,type:"replace"}):C?a==="legacy"?o(C):n({to:C,type:"replace"}):a==="legacy"&&o("/")},onError:v=>{p==null||p(Sr(v))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,rn.getXRay)("useLogin",f)}}),g=(0,tn.useMutation)([...u().auth().action("login").get(f),"v3LegacyAuthProviderCompatible"],y,{onSuccess:async v=>{await r(),P&&o(P),v!==!1&&!P&&(typeof v=="string"?a==="legacy"?o(v):n({to:v,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"})),d==null||d("login-error")},onError:v=>{p==null||p(Sr(v))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,rn.getXRay)("useLogin",f)}});return e?g:m}b(lr,"At");s(lr,"useLogin");var Sr=s(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),an=E("@tanstack/react-query"),nn=te();function Yr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Zr(),a=ge(),n=Ke(),{replace:o}=ze(),{register:i}=Ue(),{register:l}=_e(),{close:c,open:d}=mt(),{keys:p,preferLegacyKeys:y}=re(),x=(0,an.useMutation)(p().auth().action("register").get(y),l,{onSuccess:async({success:f,redirectTo:P,error:m})=>{f&&(c==null||c("register-error")),(m||!f)&&(d==null||d(Ir(m))),await r(),P?a==="legacy"?o(P):n({to:P,type:"replace"}):a==="legacy"&&o("/")},onError:f=>{d==null||d(Ir(f))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,nn.getXRay)("useRegister",y)}}),u=(0,an.useMutation)([...p().auth().action("register").get(y),"v3LegacyAuthProviderCompatible"],i,{onSuccess:async f=>{await r(),f!==!1&&(f?a==="legacy"?o(f):n({to:f,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"}),c==null||c("register-error"))},onError:f=>{d==null||d(Ir(f))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,nn.getXRay)("useRegister",y)}});return e?u:x}b(Yr,"jr");s(Yr,"useRegister");var Ir=s(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),on=E("@tanstack/react-query"),sn=te();function Jr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ge(),a=Ke(),{replace:n}=ze(),{forgotPassword:o}=Ue(),{forgotPassword:i}=_e(),{close:l,open:c}=mt(),{keys:d,preferLegacyKeys:p}=re(),y=(0,on.useMutation)(d().auth().action("forgotPassword").get(p),i,{onSuccess:({success:u,redirectTo:f,error:P})=>{u&&(l==null||l("forgot-password-error")),(P||!u)&&(c==null||c(kr(P))),f&&(r==="legacy"?n(f):a({to:f,type:"replace"}))},onError:u=>{c==null||c(kr(u))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,sn.getXRay)("useForgotPassword",p)}}),x=(0,on.useMutation)([...d().auth().action("forgotPassword").get(p),"v3LegacyAuthProviderCompatible"],o,{onSuccess:u=>{u!==!1&&u&&(r==="legacy"?n(u):a({to:u,type:"replace"})),l==null||l("forgot-password-error")},onError:u=>{c==null||c(kr(u))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,sn.getXRay)("useForgotPassword",p)}});return e?x:y}b(Jr,"_r");s(Jr,"useForgotPassword");var kr=s(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),ll=W(E("react")),ln=E("@tanstack/react-query"),un=te(),ul=W(E("qs"));function ea({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ge(),a=Ke(),{replace:n}=ze(),{updatePassword:o}=Ue(),{updatePassword:i}=_e(),{close:l,open:c}=mt(),{keys:d,preferLegacyKeys:p}=re(),y=He(),{useLocation:x}=Re(),{search:u}=x(),f=ll.default.useMemo(()=>r==="legacy"?ul.default.parse(u,{ignoreQueryPrefix:!0})??{}:y.params??{},[u,y,r]),P=(0,ln.useMutation)(d().auth().action("updatePassword").get(p),async g=>i==null?void 0:i({...f,...g}),{onSuccess:({success:g,redirectTo:v,error:C})=>{g&&(l==null||l("update-password-error")),(C||!g)&&(c==null||c(Nr(C))),v&&(r==="legacy"?n(v):a({to:v,type:"replace"}))},onError:g=>{c==null||c(Nr(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,un.getXRay)("useUpdatePassword",p)}}),m=(0,ln.useMutation)([...d().auth().action("updatePassword").get(p),"v3LegacyAuthProviderCompatible"],async g=>o==null?void 0:o({...f,...g}),{onSuccess:g=>{g!==!1&&g&&(r==="legacy"?n(g):a({to:g,type:"replace"})),l==null||l("update-password-error")},onError:g=>{c==null||c(Nr(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,un.getXRay)("useUpdatePassword",p)}});return e?m:P}b(ea,"Or");s(ea,"useUpdatePassword");var Nr=s(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),dn=E("@tanstack/react-query"),cn=te();function ur({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=Ue(),{check:a}=_e(),{keys:n,preferLegacyKeys:o}=re(),i=(0,dn.useQuery)(n().auth().action("check").params(t).get(o),async()=>await(a==null?void 0:a(t))??{},{retry:!1,enabled:!e,meta:{...(0,cn.getXRay)("useIsAuthenticated",o)}}),l=(0,dn.useQuery)([...n().auth().action("check").params(t).get(o),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,cn.getXRay)("useIsAuthenticated",o)}});return e?l:i}b(ur,"lr");s(ur,"useIsAuthenticated");var dl=ur,mn=E("@tanstack/react-query"),pn=te();function Se({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ge(),r=Ke(),{replace:a}=ze(),{checkError:n}=Ue(),{onError:o}=_e(),{keys:i,preferLegacyKeys:l}=re(),{mutate:c}=nr({v3LegacyAuthProviderCompatible:!!e}),{mutate:d}=nr({v3LegacyAuthProviderCompatible:!!e}),p=(0,mn.useMutation)(i().auth().action("onError").get(l),o,{onSuccess:({logout:x,redirectTo:u})=>{if(x){d({redirectPath:u});return}if(u){t==="legacy"?a(u):r({to:u,type:"replace"});return}},meta:{...(0,pn.getXRay)("useOnError",l)}}),y=(0,mn.useMutation)([...i().auth().action("onError").get(l),"v3LegacyAuthProviderCompatible"],n,{onError:x=>{c({redirectPath:x})},meta:{...(0,pn.getXRay)("useOnError",l)}});return e?y:p}b(Se,"ae");s(Se,"useOnError");var cl=Se,bo=s(()=>{let{isProvided:e}=Ue(),{isProvided:t}=_e();return!!(t||e)},"useIsExistAuthentication"),ml=E("@tanstack/react-query"),pl=te(),Dr=E("react"),he=s(({isLoading:e,interval:t,onInterval:r})=>{let[a,n]=(0,Dr.useState)(void 0),{options:o}=Le(),{overtime:i}=o,l=t??i.interval,c=r??(i==null?void 0:i.onInterval);return(0,Dr.useEffect)(()=>{let d;return e&&(d=setInterval(()=>{n(p=>p===void 0?l:p+l)},l)),()=>{clearInterval(d),n(void 0)}},[e,l]),(0,Dr.useEffect)(()=>{c&&a&&c(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),ta=s(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:i,successNotification:l,errorNotification:c,meta:d,metaData:p,liveMode:y,onLiveEvent:x,liveParams:u,dataProviderName:f,overtimeOptions:P})=>{let{resources:m,resource:g,identifier:v}=Y(e),C=Ce(),N=oe(),R=ve(),{mutate:w}=Se({v3LegacyAuthProviderCompatible:!!(R!=null&&R.isLegacy)}),h=qe(),k=me(),{keys:L,preferLegacyKeys:D}=re(),M=Z(v,f,m),I=K(d,p),S=K(r,t==null?void 0:t.filters),q=K(o,t==null?void 0:t.sort),F=K(a,t==null?void 0:t.hasPagination),T=mo({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:F}),A=T.mode==="server",$=k({resource:g,meta:I}),H={meta:$,metaData:$,filters:S,hasPagination:A,pagination:T,sorters:q,config:{...t,sort:q}},O=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,{getList:B}=C(M);Qt({resource:v,types:["*"],params:{meta:$,metaData:$,pagination:T,hasPagination:A,sort:q,sorters:q,filters:S,subscriptionType:"useList",...u},channel:`resources/${g==null?void 0:g.name}`,enabled:O,liveMode:y,onLiveEvent:x});let U=(0,ml.useQuery)(L().data(M).resource(v??"").action("list").params({...I||{},filters:S,hasPagination:A,...A&&{pagination:T},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(D),({queryKey:z,pageParam:Q,signal:V})=>B({resource:(g==null?void 0:g.name)??"",pagination:T,hasPagination:A,filters:S,sort:q,sorters:q,meta:{...$,queryContext:{queryKey:z,pageParam:Q,signal:V}},metaData:{...$,queryContext:{queryKey:z,pageParam:Q,signal:V}}}),{...i,enabled:typeof(i==null?void 0:i.enabled)<"u"?i==null?void 0:i.enabled:!!(g!=null&&g.name),select:z=>{var Q;let V=z,{current:X,mode:G,pageSize:ee}=T;return G==="client"&&(V={...V,data:V.data.slice((X-1)*ee,X*ee),total:V.total}),i!=null&&i.select?(Q=i==null?void 0:i.select)==null?void 0:Q.call(i,V):V},onSuccess:z=>{var Q;(Q=i==null?void 0:i.onSuccess)==null||Q.call(i,z);let V=typeof l=="function"?l(z,H,v):l;h(V)},onError:z=>{var Q;w(z),(Q=i==null?void 0:i.onError)==null||Q.call(i,z);let V=typeof c=="function"?c(z,H,v):c;h(V,{key:`${v}-useList-notification`,message:N("notifications.error",{statusCode:z.statusCode},`Error (status code: ${z.statusCode})`),description:z.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,pl.getXRay)("useList",D)}}),{elapsedTime:_}=he({isLoading:U.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{...U,overtime:{elapsedTime:_}}},"useList"),fl=E("@tanstack/react-query"),vl=te(),ra=s(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:i,liveMode:l,onLiveEvent:c,liveParams:d,dataProviderName:p,overtimeOptions:y})=>{let{resources:x,resource:u,identifier:f}=Y(e),P=Ce(),m=oe(),g=ve(),{mutate:v}=Se({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),C=qe(),N=me(),{keys:R,preferLegacyKeys:w}=re(),h=K(o,i),k=Z(f,p,x),{getOne:L}=P(k),D=N({resource:u,meta:h});Qt({resource:f,types:["*"],channel:`resources/${u==null?void 0:u.name}`,params:{ids:t?[t]:[],id:t,meta:D,metaData:D,subscriptionType:"useOne",...d},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(u==null?void 0:u.name)<"u"&&typeof t<"u",liveMode:l,onLiveEvent:c});let M=(0,fl.useQuery)(R().data(k).resource(f??"").action("one").id(t??"").params({...h||{}}).get(w),({queryKey:S,pageParam:q,signal:F})=>L({resource:(u==null?void 0:u.name)??"",id:t,meta:{...D,queryContext:{queryKey:S,pageParam:q,signal:F}},metaData:{...D,queryContext:{queryKey:S,pageParam:q,signal:F}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:S=>{var q;(q=r==null?void 0:r.onSuccess)==null||q.call(r,S);let F=typeof a=="function"?a(S,{id:t,...D},f):a;C(F)},onError:S=>{var q;v(S),(q=r==null?void 0:r.onError)==null||q.call(r,S);let F=typeof n=="function"?n(S,{id:t,...D},f):n;C(F,{key:`${t}-${f}-getOne-notification`,message:m("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,vl.getXRay)("useOne",w)}}),{elapsedTime:I}=he({isLoading:M.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{...M,overtime:{elapsedTime:I}}},"useOne"),gl=E("@tanstack/react-query"),yl=te(),Po=s(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:i,liveMode:l,onLiveEvent:c,liveParams:d,dataProviderName:p,overtimeOptions:y})=>{let{resources:x,resource:u,identifier:f}=Y(e),P=Ce(),m=oe(),g=ve(),{mutate:v}=Se({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),C=qe(),N=me(),{keys:R,preferLegacyKeys:w}=re(),h=K(o,i),k=Z(f,p,x),L=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:D,getOne:M}=P(k),I=N({resource:u,meta:h});Qt({resource:f,types:["*"],params:{ids:t,meta:I,metaData:I,subscriptionType:"useMany",...d},channel:`resources/${u.name}`,enabled:L,liveMode:l,onLiveEvent:c});let S=(0,gl.useQuery)(R().data(k).resource(f).action("many").ids(...t).params({...h||{}}).get(w),({queryKey:F,pageParam:T,signal:A})=>D?D({resource:u==null?void 0:u.name,ids:t,meta:{...I,queryContext:{queryKey:F,pageParam:T,signal:A}},metaData:{...I,queryContext:{queryKey:F,pageParam:T,signal:A}}}):sr(t.map($=>M({resource:u==null?void 0:u.name,id:$,meta:{...I,queryContext:{queryKey:F,pageParam:T,signal:A}},metaData:{...I,queryContext:{queryKey:F,pageParam:T,signal:A}}}))),{...r,onSuccess:F=>{var T;(T=r==null?void 0:r.onSuccess)==null||T.call(r,F);let A=typeof a=="function"?a(F,t,f):a;C(A)},onError:F=>{var T;v(F),(T=r==null?void 0:r.onError)==null||T.call(r,F);let A=typeof n=="function"?n(F,t,f):n;C(A,{key:`${t[0]}-${f}-getMany-notification`,message:m("notifications.error",{statusCode:F.statusCode},`Error (status code: ${F.statusCode})`),description:F.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,yl.getXRay)("useMany",w)}}),{elapsedTime:q}=he({isLoading:S.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{...S,overtime:{elapsedTime:q}}},"useMany"),fn=E("@tanstack/react-query"),hl=te(),rr=W(E("react")),Fr=W(E("lodash/isEqual")),Co=rr.default.createContext({notifications:[],notificationDispatch:()=>!1}),bl=[],Pl=s((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Fr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Fr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Fr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),Cl=s(({children:e})=>{let[t,r]=(0,rr.useReducer)(Pl,bl),a={notifications:t,notificationDispatch:r};return rr.default.createElement(Co.Provider,{value:a},e,typeof window<"u"&&t.map(n=>rr.default.createElement(jo,{key:`${n.id}-${n.resource}-queue`,notification:n})))},"UndoableQueueContextProvider"),Qr=s(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=Y(),n=(0,fn.useQueryClient)(),o=Ce(),{mutationMode:i,undoableTimeout:l}=Nt(),c=oe(),d=ve(),{mutate:p}=Se({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),y=bt(),{log:x}=Ct(),{notificationDispatch:u}=Dt(),f=qe(),P=it(),m=me(),{options:{textTransformers:g}}=Le(),{keys:v,preferLegacyKeys:C}=re(),N=(0,fn.useMutation)(({id:w,values:h,resource:k,mutationMode:L,undoableTimeout:D,onCancel:M,meta:I,metaData:S,dataProviderName:q})=>{let{resource:F,identifier:T}=a(k),A=m({resource:F,meta:K(I,S)}),$=L??i,H=D??l;return $!=="undoable"?o(Z(T,q,r)).update({resource:F.name,id:w,variables:h,meta:A,metaData:A}):new Promise((O,B)=>{let U=s(()=>{o(Z(T,q,r)).update({resource:F.name,id:w,variables:h,meta:A,metaData:A}).then(z=>O(z)).catch(z=>B(z))},"doMutation"),_=s(()=>{B({message:"mutationCancelled"})},"cancelMutation");M&&M(_),u({type:"ADD",payload:{id:w,resource:T,cancelMutation:_,doMutation:U,seconds:H,isSilent:!!M}})})},{onMutate:async({resource:w,id:h,mutationMode:k,values:L,dataProviderName:D,meta:M,metaData:I,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:q}=a(w),F=K(M,I),T=ir(C)(q,Z(q,D,r),F),A=v().data(Z(q,D,r)).resource(q),$=n.getQueriesData(A.get(C)),H=k??i;return await n.cancelQueries(A.get(C),void 0,{silent:!0}),H!=="pessimistic"&&(S.list&&n.setQueriesData(A.action("list").params(F??{}).get(C),O=>{if(typeof S.list=="function")return S.list(O,L,h);if(!O)return null;let B=O.data.map(U=>{var _;return((_=U.id)==null?void 0:_.toString())===(h==null?void 0:h.toString())?{id:h,...U,...L}:U});return{...O,data:B}}),S.many&&n.setQueriesData(A.action("many").get(C),O=>{if(typeof S.many=="function")return S.many(O,L,h);if(!O)return null;let B=O.data.map(U=>{var _;return((_=U.id)==null?void 0:_.toString())===(h==null?void 0:h.toString())&&(U={id:h,...U,...L}),U});return{...O,data:B}}),S.detail&&n.setQueriesData(A.action("one").id(h).params(F??{}).get(C),O=>typeof S.detail=="function"?S.detail(O,L,h):O?{...O,data:{...O.data,...L}}:null)),{previousQueries:$,queryKey:T}},onSettled:(w,h,{id:k,resource:L,dataProviderName:D,invalidates:M=["list","many","detail"]})=>{let{identifier:I}=a(L);P({resource:I,dataProviderName:Z(I,D,r),invalidates:M,id:k}),u({type:"REMOVE",payload:{id:k,resource:I}})},onSuccess:(w,{id:h,resource:k,successNotification:L,dataProviderName:D,values:M,meta:I,metaData:S},q)=>{var F;let{resource:T,identifier:A}=a(k),$=g.singular(A),H=typeof L=="function"?L(w,{id:h,values:M},A):L;f(H,{key:`${h}-${A}-notification`,description:c("notifications.success","Successful"),message:c("notifications.editSuccess",{resource:c(`${A}.${A}`,$)},`Successfully updated ${$}`),type:"success"}),y==null||y({channel:`resources/${T.name}`,type:"updated",payload:{ids:(F=w.data)!=null&&F.id?[w.data.id]:void 0},date:new Date});let O;if(q){let Q=n.getQueryData(q.queryKey.detail(h));O=Object.keys(M||{}).reduce((V,X)=>{var G;return V[X]=(G=Q==null?void 0:Q.data)==null?void 0:G[X],V},{})}let{fields:B,operation:U,variables:_,...z}=K(I,S)||{};x==null||x.mutate({action:"update",resource:T.name,data:M,previousData:O,meta:{id:h,dataProviderName:Z(A,D,r),...z}})},onError:(w,{id:h,resource:k,errorNotification:L,values:D},M)=>{let{identifier:I}=a(k);if(M)for(let S of M.previousQueries)n.setQueryData(S[0],S[1]);if(w.message!=="mutationCancelled"){p==null||p(w);let S=g.singular(I),q=typeof L=="function"?L(w,{id:h,values:D},I):L;f(q,{key:`${h}-${I}-notification`,message:c("notifications.editError",{resource:c(`${I}.${I}`,S),statusCode:w.statusCode},`Error when updating ${S} (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:v().data().mutation("update").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,hl.getXRay)("useUpdate",C)}}),{elapsedTime:R}=he({isLoading:N.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...N,overtime:{elapsedTime:R}}},"useUpdate"),wl=E("@tanstack/react-query"),xl=te(),aa=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=Se({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Ce(),o=it(),{resources:i,select:l}=Y(),c=oe(),d=bt(),{log:p}=Ct(),y=qe(),x=me(),{options:{textTransformers:u}}=Le(),{keys:f,preferLegacyKeys:P}=re(),m=(0,wl.useMutation)(({resource:v,values:C,meta:N,metaData:R,dataProviderName:w})=>{let{resource:h,identifier:k}=l(v),L=x({resource:h,meta:K(N,R)});return n(Z(k,w,i)).create({resource:h.name,variables:C,meta:L,metaData:L})},{onSuccess:(v,{resource:C,successNotification:N,dataProviderName:R,invalidates:w=["list","many"],values:h,meta:k,metaData:L})=>{var D,M;let{resource:I,identifier:S}=l(C),q=u.singular(S),F=typeof N=="function"?N(v,h,S):N;y(F,{key:`create-${S}-notification`,message:c("notifications.createSuccess",{resource:c(`${S}.${S}`,q)},`Successfully created ${q}`),description:c("notifications.success","Success"),type:"success"}),o({resource:S,dataProviderName:Z(S,R,i),invalidates:w}),d==null||d({channel:`resources/${I.name}`,type:"created",payload:{ids:(D=v==null?void 0:v.data)!=null&&D.id?[v.data.id]:void 0},date:new Date});let T=x({resource:I,meta:K(k,L)}),{fields:A,operation:$,variables:H,...O}=T||{};p==null||p.mutate({action:"create",resource:I.name,data:h,meta:{dataProviderName:Z(S,R,i),id:((M=v==null?void 0:v.data)==null?void 0:M.id)??void 0,...O}})},onError:(v,{resource:C,errorNotification:N,values:R})=>{a(v);let{identifier:w}=l(C),h=u.singular(w),k=typeof N=="function"?N(v,R,w):N;y(k,{key:`create-${w}-notification`,description:v.message,message:c("notifications.createError",{resource:c(`${w}.${w}`,h),statusCode:v.statusCode},`There was an error creating ${h} (status code: ${v.statusCode})`),type:"error"})},mutationKey:f().data().mutation("create").get(P),...e,meta:{...e==null?void 0:e.meta,...(0,xl.getXRay)("useCreate",P)}}),{elapsedTime:g}=he({isLoading:m.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...m,overtime:{elapsedTime:g}}},"useCreate"),vn=E("@tanstack/react-query"),El=te(),Ll=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=Se({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Ce(),{resources:o,select:i}=Y(),l=(0,vn.useQueryClient)(),{mutationMode:c,undoableTimeout:d}=Nt(),{notificationDispatch:p}=Dt(),y=oe(),x=bt(),{log:u}=Ct(),f=qe(),P=it(),m=me(),{options:{textTransformers:g}}=Le(),{keys:v,preferLegacyKeys:C}=re(),N=(0,vn.useMutation)(({id:w,mutationMode:h,undoableTimeout:k,resource:L,onCancel:D,meta:M,metaData:I,dataProviderName:S,values:q})=>{let{resource:F,identifier:T}=i(L),A=m({resource:F,meta:K(M,I)}),$=h??c,H=k??d;return $!=="undoable"?n(Z(T,S,o)).deleteOne({resource:F.name,id:w,meta:A,metaData:A,variables:q}):new Promise((O,B)=>{let U=s(()=>{n(Z(T,S,o)).deleteOne({resource:F.name,id:w,meta:A,metaData:A,variables:q}).then(z=>O(z)).catch(z=>B(z))},"doMutation"),_=s(()=>{B({message:"mutationCancelled"})},"cancelMutation");D&&D(_),p({type:"ADD",payload:{id:w,resource:T,cancelMutation:_,doMutation:U,seconds:H,isSilent:!!D}})})},{onMutate:async({id:w,resource:h,mutationMode:k,dataProviderName:L,meta:D,metaData:M})=>{let{identifier:I}=i(h),S=K(D,M),q=ir(C)(I,Z(I,L,o),S),F=v().data(Z(I,L,o)).resource(I),T=k??c;await l.cancelQueries(F.get(C),void 0,{silent:!0});let A=l.getQueriesData(F.get(C));return T!=="pessimistic"&&(l.setQueriesData(F.action("list").params(S??{}).get(C),$=>$?{data:$.data.filter(H=>{var O;return((O=H.id)==null?void 0:O.toString())!==w.toString()}),total:$.total-1}:null),l.setQueriesData(F.action("many").get(C),$=>{if(!$)return null;let H=$.data.filter(O=>{var B;return((B=O.id)==null?void 0:B.toString())!==(w==null?void 0:w.toString())});return{...$,data:H}})),{previousQueries:A,queryKey:q}},onSettled:(w,h,{id:k,resource:L,dataProviderName:D,invalidates:M=["list","many"]})=>{let{identifier:I}=i(L);P({resource:I,dataProviderName:Z(I,D,o),invalidates:M}),p({type:"REMOVE",payload:{id:k,resource:I}})},onSuccess:(w,{id:h,resource:k,successNotification:L,dataProviderName:D,meta:M,metaData:I},S)=>{let{resource:q,identifier:F}=i(k),T=g.singular(F);l.removeQueries(S==null?void 0:S.queryKey.detail(h));let A=typeof L=="function"?L(w,h,F):L;f(A,{key:`${h}-${F}-notification`,description:y("notifications.success","Success"),message:y("notifications.deleteSuccess",{resource:y(`${F}.${F}`,T)},`Successfully deleted a ${T}`),type:"success"}),x==null||x({channel:`resources/${q.name}`,type:"deleted",payload:{ids:[h]},date:new Date});let $=m({resource:q,meta:K(M,I)}),{fields:H,operation:O,variables:B,...U}=$||{};u==null||u.mutate({action:"delete",resource:q.name,meta:{id:h,dataProviderName:Z(F,D,o),...U}}),l.removeQueries(S==null?void 0:S.queryKey.detail(h))},onError:(w,{id:h,resource:k,errorNotification:L},D)=>{let{identifier:M}=i(k);if(D)for(let I of D.previousQueries)l.setQueryData(I[0],I[1]);if(w.message!=="mutationCancelled"){a(w);let I=g.singular(M),S=typeof L=="function"?L(w,h,M):L;f(S,{key:`${h}-${M}-notification`,message:y("notifications.deleteError",{resource:I,statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:v().data().mutation("delete").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,El.getXRay)("useDelete",C)}}),{elapsedTime:R}=he({isLoading:N.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...N,overtime:{elapsedTime:R}}},"useDelete"),Sl=E("@tanstack/react-query"),Il=te(),wo=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Ce(),{resources:a,select:n}=Y(),o=oe(),i=bt(),l=qe(),c=it(),{log:d}=Ct(),p=me(),{options:{textTransformers:y}}=Le(),{keys:x,preferLegacyKeys:u}=re(),f=(0,Sl.useMutation)(({resource:m,values:g,meta:v,metaData:C,dataProviderName:N})=>{let{resource:R,identifier:w}=n(m),h=p({resource:R,meta:K(v,C)}),k=r(Z(w,N,a));return k.createMany?k.createMany({resource:R.name,variables:g,meta:h,metaData:h}):sr(g.map(L=>k.create({resource:R.name,variables:L,meta:h,metaData:h})))},{onSuccess:(m,{resource:g,successNotification:v,dataProviderName:C,invalidates:N=["list","many"],values:R,meta:w,metaData:h})=>{let{resource:k,identifier:L}=n(g),D=y.plural(L),M=typeof v=="function"?v(m,R,L):v;l(M,{key:`createMany-${L}-notification`,message:o("notifications.createSuccess",{resource:o(`${L}.${L}`,L)},`Successfully created ${D}`),description:o("notifications.success","Success"),type:"success"}),c({resource:L,dataProviderName:Z(L,C,a),invalidates:N});let I=m==null?void 0:m.data.filter($=>($==null?void 0:$.id)!==void 0).map($=>$.id);i==null||i({channel:`resources/${k.name}`,type:"created",payload:{ids:I},date:new Date});let S=p({resource:k,meta:K(w,h)}),{fields:q,operation:F,variables:T,...A}=S||{};d==null||d.mutate({action:"createMany",resource:k.name,data:R,meta:{dataProviderName:Z(L,C,a),ids:I,...A}})},onError:(m,{resource:g,errorNotification:v,values:C})=>{let{identifier:N}=n(g),R=typeof v=="function"?v(m,C,N):v;l(R,{key:`createMany-${N}-notification`,description:m.message,message:o("notifications.createError",{resource:o(`${N}.${N}`,N),statusCode:m.statusCode},`There was an error creating ${N} (status code: ${m.statusCode}`),type:"error"})},mutationKey:x().data().mutation("createMany").get(u),...e,meta:{...e==null?void 0:e.meta,...(0,Il.getXRay)("useCreateMany",u)}}),{elapsedTime:P}=he({isLoading:f.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...f,overtime:{elapsedTime:P}}},"useCreateMany"),gn=E("@tanstack/react-query"),kl=te(),Nl=s(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=Y(),n=(0,gn.useQueryClient)(),o=Ce(),i=oe(),{mutationMode:l,undoableTimeout:c}=Nt(),d=ve(),{mutate:p}=Se({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),{notificationDispatch:y}=Dt(),x=bt(),u=qe(),f=it(),{log:P}=Ct(),m=me(),{options:{textTransformers:g}}=Le(),{keys:v,preferLegacyKeys:C}=re(),N=(0,gn.useMutation)(({ids:w,values:h,resource:k,onCancel:L,mutationMode:D,undoableTimeout:M,meta:I,metaData:S,dataProviderName:q})=>{let{resource:F,identifier:T}=a(k),A=m({resource:F,meta:K(I,S)}),$=D??l,H=M??c,O=o(Z(T,q,r)),B=s(()=>O.updateMany?O.updateMany({resource:F.name,ids:w,variables:h,meta:A,metaData:A}):sr(w.map(U=>O.update({resource:F.name,id:U,variables:h,meta:A,metaData:A}))),"mutationFn");return $!=="undoable"?B():new Promise((U,_)=>{let z=s(()=>{B().then(V=>U(V)).catch(V=>_(V))},"doMutation"),Q=s(()=>{_({message:"mutationCancelled"})},"cancelMutation");L&&L(Q),y({type:"ADD",payload:{id:w,resource:T,cancelMutation:Q,doMutation:z,seconds:H,isSilent:!!L}})})},{onMutate:async({resource:w,ids:h,values:k,mutationMode:L,dataProviderName:D,meta:M,metaData:I,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:q}=a(w),F=K(M,I),T=ir(C)(q,Z(q,D,r),K(M,I)),A=v().data(Z(q,D,r)).resource(q),$=L??l;await n.cancelQueries(A.get(C),void 0,{silent:!0});let H=n.getQueriesData(A.get(C));if($!=="pessimistic"&&(S.list&&n.setQueriesData(A.action("list").params(F??{}).get(C),O=>{if(typeof S.list=="function")return S.list(O,k,h);if(!O)return null;let B=O.data.map(U=>U.id!==void 0&&h.filter(_=>_!==void 0).map(String).includes(U.id.toString())?{...U,...k}:U);return{...O,data:B}}),S.many&&n.setQueriesData(A.action("many").get(C),O=>{if(typeof S.many=="function")return S.many(O,k,h);if(!O)return null;let B=O.data.map(U=>U.id!==void 0&&h.filter(_=>_!==void 0).map(String).includes(U.id.toString())?{...U,...k}:U);return{...O,data:B}}),S.detail))for(let O of h)n.setQueriesData(A.action("one").id(O).params(F??{}).get(C),B=>{if(typeof S.detail=="function")return S.detail(B,k,O);if(!B)return null;let U={...B.data,...k};return{...B,data:U}});return{previousQueries:H,queryKey:T}},onSettled:(w,h,{ids:k,resource:L,dataProviderName:D})=>{let{identifier:M}=a(L);f({resource:M,invalidates:["list","many"],dataProviderName:Z(M,D,r)}),k.forEach(I=>f({resource:M,invalidates:["detail"],dataProviderName:Z(M,D,r),id:I})),y({type:"REMOVE",payload:{id:k,resource:M}})},onSuccess:(w,{ids:h,resource:k,meta:L,metaData:D,dataProviderName:M,successNotification:I,values:S},q)=>{let{resource:F,identifier:T}=a(k),A=g.singular(T),$=typeof I=="function"?I(w,{ids:h,values:S},T):I;u($,{key:`${h}-${T}-notification`,description:i("notifications.success","Successful"),message:i("notifications.editSuccess",{resource:i(`${T}.${T}`,T)},`Successfully updated ${A}`),type:"success"}),x==null||x({channel:`resources/${F.name}`,type:"updated",payload:{ids:h.map(String)},date:new Date});let H=[];q&&h.forEach(Q=>{let V=n.getQueryData(q.queryKey.detail(Q));H.push(Object.keys(S||{}).reduce((X,G)=>{var ee;return X[G]=(ee=V==null?void 0:V.data)==null?void 0:ee[G],X},{}))});let O=m({resource:F,meta:K(L,D)}),{fields:B,operation:U,variables:_,...z}=O||{};P==null||P.mutate({action:"updateMany",resource:F.name,data:S,previousData:H,meta:{ids:h,dataProviderName:Z(T,M,r),...z}})},onError:(w,{ids:h,resource:k,errorNotification:L,values:D},M)=>{let{identifier:I}=a(k);if(M)for(let S of M.previousQueries)n.setQueryData(S[0],S[1]);if(w.message!=="mutationCancelled"){p==null||p(w);let S=g.singular(I),q=typeof L=="function"?L(w,{ids:h,values:D},I):L;u(q,{key:`${h}-${I}-updateMany-error-notification`,message:i("notifications.editError",{resource:S,statusCode:w.statusCode},`Error when updating ${S} (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:v().data().mutation("updateMany").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,kl.getXRay)("useUpdateMany",C)}}),{elapsedTime:R}=he({isLoading:N.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...N,overtime:{elapsedTime:R}}},"useUpdateMany"),yn=E("@tanstack/react-query"),Dl=te(),Fl=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=Se({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:n,undoableTimeout:o}=Nt(),i=Ce(),{notificationDispatch:l}=Dt(),c=oe(),d=bt(),p=qe(),y=it(),{log:x}=Ct(),{resources:u,select:f}=Y(),P=(0,yn.useQueryClient)(),m=me(),{options:{textTransformers:g}}=Le(),{keys:v,preferLegacyKeys:C}=re(),N=(0,yn.useMutation)(({resource:w,ids:h,mutationMode:k,undoableTimeout:L,onCancel:D,meta:M,metaData:I,dataProviderName:S,values:q})=>{let{resource:F,identifier:T}=f(w),A=m({resource:F,meta:K(M,I)}),$=k??n,H=L??o,O=i(Z(T,S,u)),B=s(()=>O.deleteMany?O.deleteMany({resource:F.name,ids:h,meta:A,metaData:A,variables:q}):sr(h.map(U=>O.deleteOne({resource:F.name,id:U,meta:A,metaData:A,variables:q}))),"mutationFn");return $!=="undoable"?B():new Promise((U,_)=>{let z=s(()=>{B().then(V=>U(V)).catch(V=>_(V))},"doMutation"),Q=s(()=>{_({message:"mutationCancelled"})},"cancelMutation");D&&D(Q),l({type:"ADD",payload:{id:h,resource:T,cancelMutation:Q,doMutation:z,seconds:H,isSilent:!!D}})})},{onMutate:async({ids:w,resource:h,mutationMode:k,dataProviderName:L,meta:D,metaData:M})=>{let{identifier:I}=f(h),S=K(D,M),q=ir(C)(I,Z(I,L,u),S),F=v().data(Z(I,L,u)).resource(I),T=k??n;await P.cancelQueries(F.get(C),void 0,{silent:!0});let A=P.getQueriesData(F.get(C));if(T!=="pessimistic"){P.setQueriesData(F.action("list").params(S??{}).get(C),$=>$?{data:$.data.filter(H=>H.id&&!w.map(String).includes(H.id.toString())),total:$.total-1}:null),P.setQueriesData(F.action("many").get(C),$=>{if(!$)return null;let H=$.data.filter(O=>O.id?!w.map(String).includes(O.id.toString()):!1);return{...$,data:H}});for(let $ of w)P.setQueriesData(F.action("one").id($).params(S).get(C),H=>!H||H.data.id==$?null:{...H})}return{previousQueries:A,queryKey:q}},onSettled:(w,h,{resource:k,ids:L,dataProviderName:D,invalidates:M=["list","many"]})=>{let{identifier:I}=f(k);y({resource:I,dataProviderName:Z(I,D,u),invalidates:M}),l({type:"REMOVE",payload:{id:L,resource:I}})},onSuccess:(w,{ids:h,resource:k,meta:L,metaData:D,dataProviderName:M,successNotification:I},S)=>{let{resource:q,identifier:F}=f(k);h.forEach(U=>P.removeQueries(S==null?void 0:S.queryKey.detail(U)));let T=typeof I=="function"?I(w,h,F):I;p(T,{key:`${h}-${F}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${F}.${F}`,F)},`Successfully deleted ${F}`),type:"success"}),d==null||d({channel:`resources/${q.name}`,type:"deleted",payload:{ids:h},date:new Date});let A=m({resource:q,meta:K(L,D)}),{fields:$,operation:H,variables:O,...B}=A||{};x==null||x.mutate({action:"deleteMany",resource:q.name,meta:{ids:h,dataProviderName:Z(F,M,u),...B}}),h.forEach(U=>P.removeQueries(S==null?void 0:S.queryKey.detail(U)))},onError:(w,{ids:h,resource:k,errorNotification:L},D)=>{let{identifier:M}=f(k);if(D)for(let I of D.previousQueries)P.setQueryData(I[0],I[1]);if(w.message!=="mutationCancelled"){a(w);let I=g.singular(M),S=typeof L=="function"?L(w,h,M):L;p(S,{key:`${h}-${M}-notification`,message:c("notifications.deleteError",{resource:I,statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})}},mutationKey:v().data().mutation("deleteMany").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,Dl.getXRay)("useDeleteMany",C)}}),{elapsedTime:R}=he({isLoading:N.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...N,overtime:{elapsedTime:R}}},"useDeleteMany"),Al=s(e=>{var t;let r=Ce(),{resource:a}=Y(),{getApiUrl:n}=r(e??((t=K(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return n()},"useApiUrl"),Ml=E("@tanstack/react-query"),Tl=te(),ql=s(({url:e,method:t,config:r,queryOptions:a,successNotification:n,errorNotification:o,meta:i,metaData:l,dataProviderName:c,overtimeOptions:d})=>{let p=Ce(),y=ve(),{mutate:x}=Se({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),u=oe(),f=qe(),P=me(),{keys:m,preferLegacyKeys:g}=re(),v=K(i,l),{custom:C}=p(c),N=P({meta:v});if(C){let R=(0,Ml.useQuery)({queryKey:m().data(c).mutation("custom").params({method:t,url:e,...r,...v||{}}).get(g),queryFn:({queryKey:h,pageParam:k,signal:L})=>C({url:e,method:t,...r,meta:{...N,queryContext:{queryKey:h,pageParam:k,signal:L}},metaData:{...N,queryContext:{queryKey:h,pageParam:k,signal:L}}}),...a,onSuccess:h=>{var k;(k=a==null?void 0:a.onSuccess)==null||k.call(a,h);let L=typeof n=="function"?n(h,{...r,...N}):n;f(L)},onError:h=>{var k;x(h),(k=a==null?void 0:a.onError)==null||k.call(a,h);let L=typeof o=="function"?o(h,{...r,...N}):o;f(L,{key:`${t}-notification`,message:u("notifications.error",{statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Tl.getXRay)("useCustom",g)}}),{elapsedTime:w}=he({isLoading:R.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{...R,overtime:{elapsedTime:w}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),Rl=E("@tanstack/react-query"),Ol=te(),$l=s(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=Se({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=qe(),o=Ce(),i=oe(),l=me(),{keys:c,preferLegacyKeys:d}=re(),p=(0,Rl.useMutation)(({url:x,method:u,values:f,meta:P,metaData:m,dataProviderName:g,config:v})=>{let C=l({meta:K(P,m)}),{custom:N}=o(g);if(N)return N({url:x,method:u,payload:f,meta:C,metaData:C,headers:{...v==null?void 0:v.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(x,{successNotification:u,config:f,meta:P,metaData:m})=>{let g=typeof u=="function"?u(x,{...f,...K(P,m)||{}}):u;n(g)},onError:(x,{errorNotification:u,method:f,config:P,meta:m,metaData:g})=>{a(x);let v=typeof u=="function"?u(x,{...P,...K(m,g)||{}}):u;n(v,{key:`${f}-notification`,message:i("notifications.error",{statusCode:x.statusCode},`Error (status code: ${x.statusCode})`),description:x.message,type:"error"})},mutationKey:c().data().mutation("customMutation").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,Ol.getXRay)("useCustomMutation",d)}}),{elapsedTime:y}=he({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:y}}},"useCustomMutation"),hn=E("react"),xo=W(E("react")),Ul=s(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),na=xo.default.createContext(Ul()),Kl=s(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},xo.default.createElement(na.Provider,{value:r},e)},"DataContextProvider"),Ce=s(()=>{let e=(0,hn.useContext)(na);return(0,hn.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),zl=E("@tanstack/react-query"),Wl=te(),Ql=s(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:i,successNotification:l,errorNotification:c,meta:d,metaData:p,liveMode:y,onLiveEvent:x,liveParams:u,dataProviderName:f,overtimeOptions:P})=>{let{resources:m,resource:g,identifier:v}=Y(e),C=Ce(),N=oe(),R=ve(),{mutate:w}=Se({v3LegacyAuthProviderCompatible:!!(R!=null&&R.isLegacy)}),h=qe(),k=me(),{keys:L,preferLegacyKeys:D}=re(),M=Z(v,f,m),I=K(d,p),S=K(r,t==null?void 0:t.filters),q=K(o,t==null?void 0:t.sort),F=K(a,t==null?void 0:t.hasPagination),T=mo({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:F}),A=T.mode==="server",$={meta:I,metaData:I,filters:S,hasPagination:A,pagination:T,sorters:q,config:{...t,sort:q}},H=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,O=k({resource:g,meta:I}),{getList:B}=C(M);Qt({resource:v,types:["*"],params:{meta:O,metaData:O,pagination:T,hasPagination:A,sort:q,sorters:q,filters:S,subscriptionType:"useList",...u},channel:`resources/${g.name}`,enabled:H,liveMode:y,onLiveEvent:x});let U=(0,zl.useInfiniteQuery)(L().data(M).resource(v).action("infinite").params({...I||{},filters:S,hasPagination:A,...A&&{pagination:T},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(D),({queryKey:z,pageParam:Q,signal:V})=>{let X={...T,current:Q};return B({resource:g.name,pagination:X,hasPagination:A,filters:S,sort:q,sorters:q,meta:{...O,queryContext:{queryKey:z,pageParam:Q,signal:V}},metaData:{...O,queryContext:{queryKey:z,pageParam:Q,signal:V}}}).then(({data:G,total:ee,...ke})=>({data:G,total:ee,pagination:X,...ke}))},{getNextPageParam:z=>io(z),getPreviousPageParam:z=>so(z),...i,onSuccess:z=>{var Q;(Q=i==null?void 0:i.onSuccess)==null||Q.call(i,z);let V=typeof l=="function"?l(z,$,v):l;h(V)},onError:z=>{var Q;w(z),(Q=i==null?void 0:i.onError)==null||Q.call(i,z);let V=typeof c=="function"?c(z,$,v):c;h(V,{key:`${v}-useInfiniteList-notification`,message:N("notifications.error",{statusCode:z.statusCode},`Error (status code: ${z.statusCode})`),description:z.message,type:"error"})},meta:{...i==null?void 0:i.meta,...(0,Wl.getXRay)("useInfiniteList",D)}}),{elapsedTime:_}=he({isLoading:U.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{...U,overtime:{elapsedTime:_}}},"useInfiniteList"),Ar=E("react"),Eo=W(E("react")),Kt=Eo.default.createContext(void 0),Vl=s(({liveProvider:e,children:t})=>Eo.default.createElement(Kt.Provider,{value:e},t),"LiveContextProvider"),jl=E("react"),Lo=W(E("react")),_l=E("react"),Hl=E("react"),Bl=W(E("lodash/isEqual")),Xl=s(e=>{let t=(0,Hl.useRef)(e);return(0,Bl.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),So=s((e,t)=>{let r=Xl(t);return(0,_l.useMemo)(e,r)},"useDeepMemo"),zt=Lo.default.createContext({resources:[]}),Gl=s(({resources:e,children:t})=>{let r=So(()=>lo(e??[]),[e]);return Lo.default.createElement(zt.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),Io=W(E("react")),ko=Io.default.createContext("new"),Zl=ko.Provider,ge=s(()=>Io.default.useContext(ko),"useRouterType"),Yl=W(E("react")),No=W(E("react")),Do={},Wt=(0,No.createContext)(Do),Jl=s(({children:e,router:t})=>No.default.createElement(Wt.Provider,{value:t??Do},e),"RouterBindingsProvider"),bn=W(E("react")),Fo=s(()=>{let e=(0,bn.useContext)(Wt);return bn.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),He=s(()=>{let e=Fo();return Yl.default.useMemo(()=>e(),[e])},"useParsed");function Y(e){let{resources:t}=(0,jl.useContext)(zt),r=ge(),a=He(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},o=s((y,x=!0)=>{let u=Pe(y,t,r==="legacy");if(u)return{resource:u,identifier:u.identifier??u.name};if(x){let f={name:y,identifier:y},P=f.identifier??f.name;return{resource:f,identifier:P}}},"select"),i=Ao(),{useParams:l}=Re(),c=l();if(r==="legacy"){let y=n.resourceNameOrRouteName?n.resourceNameOrRouteName:c.resource,x=y?i(y):void 0,u=(n==null?void 0:n.recordItemId)??c.id,f=c.action,P=(n==null?void 0:n.resourceName)??(x==null?void 0:x.name),m=(x==null?void 0:x.identifier)??(x==null?void 0:x.name);return{resources:t,resource:x,resourceName:P,id:u,action:f,select:o,identifier:m}}let d,p=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(p){let y=Pe(p,t);y?d=y:d={name:p}}else a!=null&&a.resource&&(d=a.resource);return{resources:t,resource:d,resourceName:d==null?void 0:d.name,id:a.id,action:a.action,select:o,identifier:(d==null?void 0:d.identifier)??(d==null?void 0:d.name)}}b(Y,"K");s(Y,"useResource");var Pn=E("react"),Ao=s(()=>{let{resources:e}=(0,Pn.useContext)(zt);return(0,Pn.useCallback)(t=>Pe(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),eu=E("react"),tu=E("@tanstack/react-query"),it=s(()=>{let{resources:e}=Y(),t=(0,tu.useQueryClient)(),{keys:r,preferLegacyKeys:a}=re();return(0,eu.useCallback)(async({resource:n,dataProviderName:o,invalidates:i,id:l,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:d={cancelRefetch:!1}})=>{if(i===!1)return;let p=Z(n,o,e),y=r().data(p).resource(n??"");await Promise.all(i.map(x=>{switch(x){case"all":return t.invalidateQueries(r().data(p).get(a),c,d);case"list":return t.invalidateQueries(y.action("list").get(a),c,d);case"many":return t.invalidateQueries(y.action("many").get(a),c,d);case"resourceAll":return t.invalidateQueries(y.get(a),c,d);case"detail":return t.invalidateQueries(y.action("one").id(l||"").get(a),c,d);default:return}}))},[])},"useInvalidate"),Qt=s(({resource:e,params:t,channel:r,types:a,enabled:n=!0,liveMode:o,onLiveEvent:i})=>{let{resource:l,identifier:c}=Y(e),d=(0,Ar.useContext)(Kt),{liveMode:p,onLiveEvent:y}=(0,Ar.useContext)(ct),x=o??p,u=it();(0,Ar.useEffect)(()=>{let f,P=s(m=>{var g;x==="auto"&&u({resource:c,dataProviderName:(g=l==null?void 0:l.meta)==null?void 0:g.dataProviderName,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),i==null||i(m),y==null||y(m)},"callback");return x&&x!=="off"&&n&&(f=d==null?void 0:d.subscribe({channel:r,params:{resource:l==null?void 0:l.name,...t},types:a,callback:P})),()=>{f&&(d==null||d.unsubscribe(f))}},[n])},"useResourceSubscription"),ru=E("react"),Mo=s(e=>{let{liveMode:t}=(0,ru.useContext)(ct);return e??t},"useLiveMode"),Cn=E("react"),au=s(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:n})=>{let o=(0,Cn.useContext)(Kt);(0,Cn.useEffect)(()=>{let i;return a&&(i=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:n})),()=>{i&&(o==null||o.unsubscribe(i))}},[a])},"useSubscription"),nu=E("react"),bt=s(()=>{let e=(0,nu.useContext)(Kt);return e==null?void 0:e.publish},"usePublish"),ou=E("react"),Dt=s(()=>{let{notifications:e,notificationDispatch:t}=(0,ou.useContext)(Co);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),iu=E("react"),To=W(E("react")),oa=(0,To.createContext)({}),su=s(({open:e,close:t,children:r})=>To.default.createElement(oa.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),mt=s(()=>{let{open:e,close:t}=(0,iu.useContext)(oa);return{open:e,close:t}},"useNotification"),lu=E("react"),qe=s(()=>{let{open:e}=mt();return(0,lu.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),wn=E("react"),qo=W(E("react")),Pt=qo.default.createContext({}),uu=s(({children:e,i18nProvider:t})=>qo.default.createElement(Pt.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),du=s(()=>{let{i18nProvider:e}=(0,wn.useContext)(Pt);return(0,wn.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),xn=E("react"),oe=s(()=>{let{i18nProvider:e}=(0,xn.useContext)(Pt);return(0,xn.useMemo)(()=>{function t(r,a,n){return(e==null?void 0:e.translate(r,a,n))??n??(typeof a=="string"&&typeof n>"u"?a:r)}return b(t,"r"),s(t,"translate"),t},[e])},"useTranslate"),En=E("react"),cu=s(()=>{let{i18nProvider:e}=(0,En.useContext)(Pt);return(0,En.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),mu=E("react"),pu=E("export-to-csv-fix-source-map"),fu=s(({resourceName:e,resource:t,sorter:r,sorters:a,filters:n,maxItemCount:o,pageSize:i=20,mapData:l=s(u=>u,"mapData"),exportOptions:c,meta:d,metaData:p,dataProviderName:y,onError:x}={})=>{let[u,f]=(0,mu.useState)(!1),P=Ce(),m=me(),{resource:g,resources:v,identifier:C}=Y(K(t,e)),N=`${Br()(C,"plural")}-${new Date().toLocaleString()}`,{getList:R}=P(Z(C,y,v)),w=m({resource:g,meta:K(d,p)});return{isLoading:u,triggerExport:s(async()=>{f(!0);let h=[],k=1,L=!0;for(;L;)try{let{data:D,total:M}=await R({resource:(g==null?void 0:g.name)??"",filters:n,sort:K(a,r),sorters:K(a,r),pagination:{current:k,pageSize:i,mode:"server"},meta:w,metaData:w});k++,h.push(...D),o&&h.length>=o&&(h=h.slice(0,o),L=!1),M===h.length&&(L=!1)}catch(D){f(!1),L=!1,x==null||x(D);return}new pu.ExportToCsv({filename:N,useKeysAsHeaders:!0,...c}).generateCsv(h.map(l)),f(!1)},"triggerExport")}},"useExport"),Mr=W(E("react")),vu=W(E("warn-once")),gu=W(E("lodash/debounce")),yu=s(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:n,redirect:o,successNotification:i,errorNotification:l,meta:c,metaData:d,queryMeta:p,mutationMeta:y,mutationMode:x,liveMode:u,onLiveEvent:f,liveParams:P,undoableTimeout:m,dataProviderName:g,invalidates:v,queryOptions:C,createMutationOptions:N,updateMutationOptions:R,overtimeOptions:w,autoSave:h,optimisticUpdateMap:k}={})=>{let L=it(),{options:D}=Le(),M=me(),{resource:I,id:S,action:q,identifier:F}=Y(e),{identifier:T}=Y(),A=s(()=>e&&e!==T?r:r??S,"getDefaultId")(),[$,H]=Mr.default.useState(A);Mr.default.useEffect(()=>{H(A)},[A]);let O=s(()=>t||(q==="edit"||q==="clone"?q:"create"),"getAction")(),B=M({resource:I,meta:K(c,d)}),{mutationMode:U}=Nt(),_=x??U,z=O==="create",Q=O==="edit",V=O==="clone";(0,vu.default)((V||Q)&&!!e&&!r&&(C==null?void 0:C.enabled)!==!1,`[useForm]: action: "${O}", resource: "${F}", id: ${$} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let X=Vs({redirectFromProps:o,action:O,redirectOptions:D.redirect}),G=ra({resource:F,id:$??"",queryOptions:{enabled:$!==void 0&&(Q||V),...C},liveMode:u,onLiveEvent:f,liveParams:P,meta:{...B,...p},metaData:{...B,...p},dataProviderName:g}),{isFetching:ee}=G,ke=aa({mutationOptions:N}),{mutate:Ne,isLoading:we}=ke,be=Qr({mutationOptions:R}),{mutate:Be,isLoading:ye}=be,Xe=Qr({}),{setWarnWhen:st}=Hr(),Ge=Ro(),wt=s(async ie=>{st(!1);let Qe=s(ue=>{Ge({redirect:X,resource:I,id:ue,meta:K(c,d)})},"onSuccess");return _!=="pessimistic"&&setTimeout(()=>{Qe()}),new Promise((ue,tt)=>{if(_!=="pessimistic"&&ue(),!!I)return Ne({values:ie,resource:F??I.name,successNotification:i,errorNotification:l,meta:{...B,...y},metaData:{...B,...y},dataProviderName:g,invalidates:v},{onSuccess:(pe,Ve,je)=>{var rt;a&&a(pe,ie,je);let at=(rt=pe==null?void 0:pe.data)==null?void 0:rt.id;Qe(at),ue(pe)},onError:(pe,Ve,je)=>{if(n)return n(pe,ie,je);tt()}})})},"onFinishCreate");Mr.default.useEffect(()=>()=>{h!=null&&h.invalidateOnUnmount&&Xe.status==="success"&&L({id:$,invalidates:v||["list","many","detail"],dataProviderName:g,resource:F})},[h==null?void 0:h.invalidateOnUnmount,Xe.status]);let xt=s(ie=>{if(!I||!Q)return;let Qe={id:$??"",values:ie,resource:F??I.name,successNotification:!1,errorNotification:!1,meta:{...B,...y},metaData:{...B,...y},dataProviderName:g,invalidates:[],mutationMode:"pessimistic"};return Xe.mutate(Qe,{onSuccess:(ue,tt,pe)=>{a&&a(ue,ie,pe,!0)},onError:(ue,tt,pe)=>{if(n)return n(ue,ie,pe,!0)}})},"onFinishAutoSaveMutation"),_t=(0,gu.default)(ie=>xt(ie),(h==null?void 0:h.debounce)||1e3),Rt=z||V?{formLoading:ee||we,mutationResult:ke,onFinish:wt}:{formLoading:ee||ye,mutationResult:be,onFinish:s(async ie=>{if(st(!1),!I)return;let Qe={id:$??"",values:ie,resource:F??I.name,mutationMode:_,undoableTimeout:m,successNotification:i,errorNotification:l,meta:{...B,...y},metaData:{...B,...y},dataProviderName:g,invalidates:v,optimisticUpdateMap:k},ue=s(()=>{Ge({redirect:X,resource:I,id:$,meta:K(c,d)})},"onSuccess");return _!=="pessimistic"&&setTimeout(()=>{ue()}),new Promise((tt,pe)=>(_!=="pessimistic"&&tt(),setTimeout(()=>{Be(Qe,{onSuccess:(Ve,je,rt)=>{a&&a(Ve,ie,rt),_==="pessimistic"&&ue(),tt(Ve)},onError:(Ve,je,rt)=>{if(n)return n(Ve,ie,rt);pe()}})})))},"onFinishUpdate")},{elapsedTime:hr}=he({isLoading:Rt.mutationResult.isLoading||G.isFetching,interval:w==null?void 0:w.interval,onInterval:w==null?void 0:w.onInterval});return{...Rt,queryResult:G,onFinishAutoSave:_t,autoSaveProps:{status:Xe.status,data:Xe.data,error:Xe.error},id:$,setId:H,redirect:(ie,Qe)=>{Ge({redirect:ie!==void 0?ie:Q?"list":"edit",resource:I,id:Qe??$,meta:K(c,d)})},overtime:{elapsedTime:hr}}},"useForm"),hu=E("react"),Ro=s(()=>{let{show:e,edit:t,list:r,create:a}=ze();return(0,hu.useCallback)(({redirect:n,resource:o,id:i,meta:l={}})=>{if(n&&o)return o.show&&n==="show"&&i?e(o,i,void 0,l):o.edit&&n==="edit"&&i?t(o,i,void 0,l):o.create&&n==="create"?a(o,void 0,l):r(o,"push",l)},[])},"useRedirectionAfterSubmission"),Ln=W(E("react")),Ke=s(()=>{let e=(0,Ln.useContext)(Wt);return Ln.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])()},"useGo"),Sn=W(E("react")),Oo=s(()=>{let e=(0,Sn.useContext)(Wt);return Sn.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),ze=s(()=>{let{resources:e}=Y(),t=ge(),{useHistory:r}=Re(),a=r(),n=He(),o=Ke(),i=Oo(),l=s((u,f="push")=>{t==="legacy"?a[f](u):o({to:u,type:f})},"handleUrl"),c=s((u,f={})=>{var P;if(t==="legacy"){let m=typeof u=="string"?Pe(u,e,!0)??{name:u,route:u}:u,g=Ae(m,e,!0).find(v=>v.action==="create");return g?$e(g.route,m==null?void 0:m.meta,n,f):""}else{let m=typeof u=="string"?Pe(u,e)??{name:u}:u,g=(P=Ae(m,e).find(v=>v.action==="create"))==null?void 0:P.route;return g?o({to:$e(g,m==null?void 0:m.meta,n,f),type:"path"}):""}},"createUrl"),d=s((u,f,P={})=>{var m;let g=encodeURIComponent(f);if(t==="legacy"){let v=typeof u=="string"?Pe(u,e,!0)??{name:u,route:u}:u,C=Ae(v,e,!0).find(N=>N.action==="edit");return C?$e(C.route,v==null?void 0:v.meta,n,{...P,id:g}):""}else{let v=typeof u=="string"?Pe(u,e)??{name:u}:u,C=(m=Ae(v,e).find(N=>N.action==="edit"))==null?void 0:m.route;return C?o({to:$e(C,v==null?void 0:v.meta,n,{...P,id:g}),type:"path"}):""}},"editUrl"),p=s((u,f,P={})=>{var m;let g=encodeURIComponent(f);if(t==="legacy"){let v=typeof u=="string"?Pe(u,e,!0)??{name:u,route:u}:u,C=Ae(v,e,!0).find(N=>N.action==="clone");return C?$e(C.route,v==null?void 0:v.meta,n,{...P,id:g}):""}else{let v=typeof u=="string"?Pe(u,e)??{name:u}:u,C=(m=Ae(v,e).find(N=>N.action==="clone"))==null?void 0:m.route;return C?o({to:$e(C,v==null?void 0:v.meta,n,{...P,id:g}),type:"path"}):""}},"cloneUrl"),y=s((u,f,P={})=>{var m;let g=encodeURIComponent(f);if(t==="legacy"){let v=typeof u=="string"?Pe(u,e,!0)??{name:u,route:u}:u,C=Ae(v,e,!0).find(N=>N.action==="show");return C?$e(C.route,v==null?void 0:v.meta,n,{...P,id:g}):""}else{let v=typeof u=="string"?Pe(u,e)??{name:u}:u,C=(m=Ae(v,e).find(N=>N.action==="show"))==null?void 0:m.route;return C?o({to:$e(C,v==null?void 0:v.meta,n,{...P,id:g}),type:"path"}):""}},"showUrl"),x=s((u,f={})=>{var P;if(t==="legacy"){let m=typeof u=="string"?Pe(u,e,!0)??{name:u,route:u}:u,g=Ae(m,e,!0).find(v=>v.action==="list");return g?$e(g.route,m==null?void 0:m.meta,n,f):""}else{let m=typeof u=="string"?Pe(u,e)??{name:u}:u,g=(P=Ae(m,e).find(v=>v.action==="list"))==null?void 0:P.route;return g?o({to:$e(g,m==null?void 0:m.meta,n,f),type:"path"}):""}},"listUrl");return{create:s((u,f="push",P={})=>{l(c(u,P),f)},"create"),createUrl:c,edit:s((u,f,P="push",m={})=>{l(d(u,f,m),P)},"edit"),editUrl:d,clone:s((u,f,P="push",m={})=>{l(p(u,f,m),P)},"clone"),cloneUrl:p,show:s((u,f,P="push",m={})=>{l(y(u,f,m),P)},"show"),showUrl:y,list:s((u,f="push",P={})=>{l(x(u,P),f)},"list"),listUrl:x,push:s((u,...f)=>{t==="legacy"?a.push(u,...f):o({to:u,type:"push"})},"push"),replace:s((u,...f)=>{t==="legacy"?a.replace(u,...f):o({to:u,type:"replace"})},"replace"),goBack:s(()=>{t==="legacy"?a.goBack():i()},"goBack")}},"useNavigation"),In=W(E("react")),bu=W(E("warn-once")),Pu=s(({resource:e,id:t,successNotification:r,errorNotification:a,meta:n,metaData:o,liveMode:i,onLiveEvent:l,dataProviderName:c,queryOptions:d,overtimeOptions:p}={})=>{let{resource:y,id:x,identifier:u}=Y(e),{identifier:f}=Y(),P=me(),m=s(()=>e&&e!==f?t:t??x,"getDefaultId")(),[g,v]=(0,In.useState)(m);In.default.useEffect(()=>{v(m)},[m]);let C=P({resource:y,meta:K(n,o)});(0,bu.default)(!!e&&!t,`[useShow]: resource: "${u}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let N=ra({resource:u,id:g??"",queryOptions:{enabled:g!==void 0,...d},successNotification:r,errorNotification:a,meta:C,metaData:C,liveMode:i,onLiveEvent:l,dataProviderName:c}),{elapsedTime:R}=he({isLoading:N.isFetching,interval:p==null?void 0:p.interval,onInterval:p==null?void 0:p.onInterval});return{queryResult:N,showId:g,setShowId:v,overtime:{elapsedTime:R}}},"useShow"),Yt=E("react"),Cu=E("papaparse"),wu=W(E("lodash/chunk")),xu=s(({resourceName:e,resource:t,mapData:r=s(p=>p,"mapData"),paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:i,metaData:l,onProgress:c,dataProviderName:d}={})=>{let[p,y]=(0,Yt.useState)(0),[x,u]=(0,Yt.useState)(0),[f,P]=(0,Yt.useState)(!1),{resource:m,identifier:g}=Y(t??e),v=me(),C=wo(),N=aa(),R=v({resource:m,meta:K(i,l)}),w;n===1?w=N:w=C;let h=s(()=>{u(0),y(0),P(!1)},"handleCleanup"),k=s(D=>{let M={succeeded:D.filter(I=>I.type==="success"),errored:D.filter(I=>I.type==="error")};o==null||o(M),P(!1)},"handleFinish");(0,Yt.useEffect)(()=>{c==null||c({totalAmount:x,processedAmount:p})},[x,p]);let L=s(({file:D})=>(h(),new Promise(M=>{P(!0),(0,Cu.parse)(D,{complete:async({data:I})=>{let S=Qn(I,r);if(u(S.length),n===1){let q=S.map(T=>s(async()=>({response:await N.mutateAsync({resource:g??"",values:T,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:R,metaData:R}),value:T}),"fn")),F=await Ha(q,({response:T,value:A})=>(y($=>$+1),{response:[T.data],type:"success",request:[A]}),(T,A)=>({response:[T],type:"error",request:[S[A]]}));M(F)}else{let q=(0,wu.default)(S,n),F=q.map(A=>s(async()=>({response:await C.mutateAsync({resource:g??"",values:A,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:R,metaData:R}),value:A,currentBatchLength:A.length}),"fn")),T=await Ha(F,({response:A,currentBatchLength:$,value:H})=>(y(O=>O+$),{response:A.data,type:"success",request:H}),(A,$)=>({response:[A],type:"error",request:q[$]}));M(T)}},...a})}).then(M=>(k(M),M))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:D=>{D.target.files&&D.target.files.length>0&&L({file:D.target.files[0]})}},mutationResult:w,isLoading:f,handleChange:L}},"useImport"),Tr=E("react"),Eu=s(({defaultVisible:e=!1}={})=>{let[t,r]=(0,Tr.useState)(e),a=(0,Tr.useCallback)(()=>r(!0),[t]),n=(0,Tr.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:n}},"useModal"),Lu=W(E("react")),ia=s(()=>{let e=ge(),{resource:t,resources:r}=Y(),a=He();return Lu.default.useCallback(({resource:n,action:o,meta:i})=>{var l;let c=n||t;if(!c)return;let d=(l=Ae(c,r,e==="legacy").find(p=>p.action===o))==null?void 0:l.route;return d?$e(d,c==null?void 0:c.meta,a,i):void 0},[r,t,a])},"useGetToPath"),Su=s(({resource:e,action:t,meta:r,legacy:a})=>ia()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),kn=W(E("react")),dr=s(()=>{let e=(0,kn.useContext)(Wt);return e!=null&&e.Link?e.Link:s(({to:t,...r})=>kn.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),Iu=E("react"),$o=W(E("react")),ut={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},ku=$o.default.createContext(ut),sa=ku,Nu=s(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i})=>$o.default.createElement(sa.Provider,{value:{useHistory:t??ut.useHistory,useLocation:r??ut.useLocation,useParams:a??ut.useParams,Prompt:n??ut.Prompt,Link:o??ut.Link,routes:i??ut.routes}},e),"LegacyRouterContextProvider"),Re=s(()=>{let e=(0,Iu.useContext)(sa),{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i}=e??ut;return{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:i}},"useRouterContext"),Du=E("@tanstack/react-query"),Fu=E("react"),Uo=W(E("react")),Vt=Uo.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),Au=s(({can:e,children:t,options:r})=>Uo.default.createElement(Vt.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),la=s(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:n,show:o,clone:i,children:l,meta:c,options:d,...p}=e,{icon:y,...x}=c??{},{icon:u,...f}=d??{};return{...p,...c?{meta:x}:{},...d?{options:f}:{}}},"sanitizeResource"),Mu=te(),Ko=s(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:n}=(0,Fu.useContext)(Vt),{keys:o,preferLegacyKeys:i}=re(),{resource:l,...c}=r??{},d=la(l),p=(0,Du.useQuery)(o().access().resource(t).action(e).params({params:{...c,resource:d},enabled:a==null?void 0:a.enabled}).get(i),()=>(n==null?void 0:n({action:e,resource:t,params:{...c,resource:d}}))??Promise.resolve({can:!0}),{enabled:typeof n<"u",...a,meta:{...a==null?void 0:a.meta,...(0,Mu.getXRay)("useCan",i)},retry:!1});return typeof n>"u"?{data:{can:!0}}:p},"useCan"),Nn=W(E("react")),Tu=s(()=>{let{can:e}=Nn.default.useContext(Vt);return{can:Nn.default.useMemo(()=>e?s(async({params:t,...r})=>{let a=t!=null&&t.resource?la(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),Lt=E("react"),qu=W(E("lodash/uniqBy")),Ru=W(E("lodash/debounce")),Jt=W(E("lodash/get")),Ou=s(e=>{let[t,r]=(0,Lt.useState)([]),[a,n]=(0,Lt.useState)([]),[o,i]=(0,Lt.useState)([]),{resource:l,sort:c,sorters:d,filters:p=[],optionLabel:y="title",optionValue:x="id",debounce:u=300,successNotification:f,errorNotification:P,defaultValueQueryOptions:m,queryOptions:g,fetchSize:v,pagination:C,hasPagination:N=!1,liveMode:R,defaultValue:w=[],onLiveEvent:h,onSearch:k,liveParams:L,meta:D,metaData:M,dataProviderName:I,overtimeOptions:S}=e,{resource:q,identifier:F}=Y(l),T=me()({resource:q,meta:K(D,M)}),A=Array.isArray(w)?w:[w],$=(0,Lt.useCallback)(Q=>{i(Q.data.map(V=>({label:(0,Jt.default)(V,y),value:(0,Jt.default)(V,x)})))},[y,x]),H=m??g,O=Po({resource:F,ids:A,queryOptions:{...H,enabled:A.length>0&&((H==null?void 0:H.enabled)??!0),onSuccess:Q=>{var V;$(Q),(V=H==null?void 0:H.onSuccess)==null||V.call(H,Q)}},meta:T,metaData:T,liveMode:"off",dataProviderName:I}),B=(0,Lt.useCallback)(Q=>{n(Q.data.map(V=>({label:(0,Jt.default)(V,y),value:(0,Jt.default)(V,x)})))},[y,x]),U=ta({resource:F,sorters:K(d,c),filters:p.concat(t),pagination:{current:C==null?void 0:C.current,pageSize:(C==null?void 0:C.pageSize)??v,mode:C==null?void 0:C.mode},hasPagination:N,queryOptions:{...g,onSuccess:Q=>{var V;B(Q),(V=g==null?void 0:g.onSuccess)==null||V.call(g,Q)}},successNotification:f,errorNotification:P,meta:T,metaData:T,liveMode:R,liveParams:L,onLiveEvent:h,dataProviderName:I}),_=s(Q=>{if(k){r(k(Q));return}if(Q)r([{field:y,operator:"contains",value:Q}]);else{r([]);return}},"onSearch"),{elapsedTime:z}=he({isLoading:U.isFetching||O.isFetching,interval:S==null?void 0:S.interval,onInterval:S==null?void 0:S.onInterval});return{queryResult:U,defaultValueQueryResult:O,options:(0,Lt.useMemo)(()=>(0,qu.default)([...a,...o],"value"),[a,o]),onSearch:(0,Ru.default)(_,u),overtime:{elapsedTime:z}}},"useSelect"),vt=W(E("react")),Dn=W(E("qs")),er=W(E("lodash/differenceWith")),tr=W(E("lodash/isEqual")),$u=W(E("warn-once")),Fn=[],An=[];function zo({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:n,permanentSorter:o=An,defaultSetFilterBehavior:i,initialFilter:l,permanentFilter:c=Fn,filters:d,sorters:p,syncWithLocation:y,resource:x,successNotification:u,errorNotification:f,queryOptions:P,liveMode:m,onLiveEvent:g,liveParams:v,meta:C,metaData:N,dataProviderName:R,overtimeOptions:w}={}){var h,k,L,D,M;let{syncWithLocation:I}=vo(),S=y??I,q=Mo(m),F=ge(),{useLocation:T}=Re(),{search:A,pathname:$}=T(),H=me(),O=He(),B=((d==null?void 0:d.mode)||"server")==="server",U=((p==null?void 0:p.mode)||"server")==="server",_=r===!1?"off":"server",z=((a==null?void 0:a.mode)??_)!=="off",Q=K(a==null?void 0:a.current,e),V=K(a==null?void 0:a.pageSize,t),X=K(C,N),{parsedCurrent:G,parsedPageSize:ee,parsedSorter:ke,parsedFilters:Ne}=Xr(A??"?"),we=K(d==null?void 0:d.initial,l),be=K(d==null?void 0:d.permanent,c)??Fn,Be=K(p==null?void 0:p.initial,n),ye=K(p==null?void 0:p.permanent,o)??An,Xe=K(d==null?void 0:d.defaultBehavior,i)??"merge",st,Ge,wt,xt;S?(st=((h=O==null?void 0:O.params)==null?void 0:h.current)||G||Q||1,Ge=((k=O==null?void 0:O.params)==null?void 0:k.pageSize)||ee||V||10,wt=((L=O==null?void 0:O.params)==null?void 0:L.sorters)||(ke.length?ke:Be),xt=((D=O==null?void 0:O.params)==null?void 0:D.filters)||(Ne.length?Ne:we)):(st=Q||1,Ge=V||10,wt=Be,xt=we);let{replace:_t}=ze(),Rt=Ke(),{resource:hr,identifier:ie}=Y(x),Qe=H({resource:hr,meta:X});vt.default.useEffect(()=>{(0,$u.default)(typeof ie>"u","useTable: `resource` is not defined.")},[ie]);let[ue,tt]=(0,vt.useState)(Wr(ye,wt??[])),[pe,Ve]=(0,vt.useState)(zr(be,xt??[])),[je,rt]=(0,vt.useState)(st),[at,Sa]=(0,vt.useState)(Ge),$i=s(({pagination:{current:de,pageSize:Oe},sorter:Ht,filters:Bt})=>{if(F==="new")return Rt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...z?{current:de,pageSize:Oe}:{},sorters:Ht,filters:Bt,...Ia()}})??"";{let Ot=Dn.default.parse(A==null?void 0:A.substring(1)),Vi=Ur({pagination:{pageSize:Oe,current:de},sorters:ue??Ht,filters:Bt,...Ot});return`${$??""}?${Vi??""}`}},"createLinkForSyncWithLocation");(0,vt.useEffect)(()=>{A===""&&(rt(st),Sa(Ge),tt(Wr(ye,wt??[])),Ve(zr(be,xt??[])))},[A]);let Ia=s(()=>{if(F==="new"){let{sorters:de,filters:Oe,pageSize:Ht,current:Bt,...Ot}=(O==null?void 0:O.params)??{};return Ot}else{let{sorter:de,filters:Oe,pageSize:Ht,current:Bt,...Ot}=Dn.default.parse(A,{ignoreQueryPrefix:!0});return Ot}},"currentQueryParams");(0,vt.useEffect)(()=>{if(S){let de=Ia();if(F==="new")Rt({type:"replace",options:{keepQuery:!0},query:{...z?{pageSize:at,current:je}:{},sorters:(0,er.default)(ue,ye,tr.default),filters:(0,er.default)(pe,be,tr.default)}});else{let Oe=Ur({...z?{pagination:{pageSize:at,current:je}}:{},sorters:(0,er.default)(ue,ye,tr.default),filters:(0,er.default)(pe,be,tr.default),...de});return _t==null?void 0:_t(`${$}?${Oe}`,void 0,{shallow:!0})}}},[S,je,at,ue,pe]);let br=ta({resource:ie,hasPagination:r,pagination:{current:je,pageSize:at,mode:a==null?void 0:a.mode},filters:B?$t(be,pe):void 0,sorters:U?Kr(ye,ue):void 0,queryOptions:P,successNotification:u,errorNotification:f,meta:Qe,metaData:Qe,liveMode:q,liveParams:v,onLiveEvent:g,dataProviderName:R}),Ui=s(de=>{Ve(Oe=>$t(be,de,Oe))},"setFiltersAsMerge"),Ki=s(de=>{Ve($t(be,de))},"setFiltersAsReplace"),zi=s(de=>{Ve(Oe=>$t(be,de(Oe)))},"setFiltersWithSetter"),Wi=s((de,Oe=Xe)=>{typeof de=="function"?zi(de):Oe==="replace"?Ki(de):Ui(de)},"setFiltersFn"),ka=s(de=>{tt(()=>Kr(ye,de))},"setSortWithUnion"),{elapsedTime:Qi}=he({isLoading:br.isFetching,interval:w==null?void 0:w.interval,onInterval:w==null?void 0:w.onInterval});return{tableQueryResult:br,sorters:ue,setSorters:ka,sorter:ue,setSorter:ka,filters:pe,setFilters:Wi,current:je,setCurrent:rt,pageSize:at,setPageSize:Sa,pageCount:at?Math.ceil((((M=br.data)==null?void 0:M.total)??0)/at):1,createLinkForSyncWithLocation:$i,overtime:{elapsedTime:Qi}}}b(zo,"ki");s(zo,"useTable");var Mn=E("react"),qr=E("@tanstack/react-query"),Wo=W(E("react")),cr=Wo.default.createContext({}),Uu=s(({create:e,get:t,update:r,children:a})=>Wo.default.createElement(cr.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),Tn=te(),Ct=s(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,qr.useQueryClient)(),a=(0,Mn.useContext)(cr),{keys:n,preferLegacyKeys:o}=re(),i=ve(),{resources:l}=(0,Mn.useContext)(zt),{data:c,refetch:d,isLoading:p}=Gr({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy),queryOptions:{enabled:!!a}}),y=(0,qr.useMutation)(async u=>{var f,P,m,g,v;let C=Pe(u.resource,l),N=K((f=C==null?void 0:C.meta)==null?void 0:f.audit,(P=C==null?void 0:C.options)==null?void 0:P.audit,(g=(m=C==null?void 0:C.options)==null?void 0:m.auditLog)==null?void 0:g.permissions);if(N&&!Ts(N,u.action))return;let R;return p&&(R=await d()),await((v=a.create)==null?void 0:v.call(a,{...u,author:c??(R==null?void 0:R.data)}))},{mutationKey:n().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,Tn.getXRay)("useLog",o)}}),x=(0,qr.useMutation)(async u=>{var f;return await((f=a.update)==null?void 0:f.call(a,u))},{onSuccess:u=>{u!=null&&u.resource&&r.invalidateQueries(n().audit().resource((u==null?void 0:u.resource)??"").action("list").get(o))},mutationKey:n().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,Tn.getXRay)("useLog",o)}});return{log:y,rename:x}},"useLog"),Ku=E("react"),zu=E("@tanstack/react-query"),Wu=te(),Qu=s(({resource:e,action:t,meta:r,author:a,metaData:n,queryOptions:o})=>{let{get:i}=(0,Ku.useContext)(cr),{keys:l,preferLegacyKeys:c}=re();return(0,zu.useQuery)(l().audit().resource(e).action("list").params(r).get(c),()=>(i==null?void 0:i({resource:e,action:t,author:a,meta:r,metaData:n}))??Promise.resolve([]),{enabled:typeof i<"u",...o,retry:!1,meta:{...o==null?void 0:o.meta,...(0,Wu.getXRay)("useLogList",c)}})},"useLogList"),Vu=E("react"),ju=W(E("warn-once")),_u=s(({meta:e={}}={})=>{let t=ge(),{i18nProvider:r}=(0,Vu.useContext)(Pt),a=He(),n=oe(),{resources:o,resource:i,action:l}=Y(),{options:{textTransformers:c}}=Le(),d=[];if(!(i!=null&&i.name))return{breadcrumbs:d};let p=s(y=>{var x,u,f,P,m,g;let v=typeof y=="string"?Pe(y,o,t==="legacy")??{name:y}:y;if(v){let C=K((x=v==null?void 0:v.meta)==null?void 0:x.parent,v==null?void 0:v.parentName);C&&p(C);let N=Ae(v,o,t==="legacy").find(h=>h.action==="list"),R=(u=N==null?void 0:N.resource)!=null&&u.list?N==null?void 0:N.route:void 0,w=R?t==="legacy"?R:$e(R,v==null?void 0:v.meta,a,e):void 0;d.push({label:K((f=v.meta)==null?void 0:f.label,(P=v.options)==null?void 0:P.label)??n(`${v.name}.${v.name}`,c.humanize(v.name)),href:w,icon:K((m=v.meta)==null?void 0:m.icon,(g=v.options)==null?void 0:g.icon,v.icon)})}},"addBreadcrumb");if(p(i),l&&l!=="list"){let y=`actions.${l}`,x=n(y);typeof r<"u"&&x===y?((0,ju.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${l}" action. Please add "actions.${l}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),d.push({label:n(`buttons.${l}`,c.humanize(l))})):d.push({label:n(y,c.humanize(l))})}return{breadcrumbs:d}},"useBreadcrumb"),Rr=W(E("react")),ar=s((e,t,r=!1)=>{let a=[],n=dt(e,t);for(;n;)a.push(n),n=dt(n,t);return a.reverse(),`/${[...a,e].map(o=>nt((r?o.route:void 0)??o.identifier??o.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),Hu=s((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{let o=[],i=dt(n,e);for(;i;)o.push(i),i=dt(i,e);o.reverse();let l=r;o.forEach(d=>{let p=(t?d.route:void 0)??d.identifier??d.name;l.children[p]||(l.children[p]={item:d,children:{}}),l=l.children[p]});let c=(t?n.route:void 0)??n.identifier??n.name;l.children[c]||(l.children[c]={item:n,children:{}})});let a=s(n=>{let o=[];return Object.keys(n.children).forEach(i=>{let l=ar(n.children[i].item,e,t),c={...n.children[i].item,key:l,children:a(n.children[i])};o.push(c)}),o},"flatten");return a(r)},"createTree"),qn=s(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Bu=s(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=oe(),a=ia(),n=ge(),{resource:o,resources:i}=Y(),{pathname:l}=He(),{useLocation:c}=Re(),{pathname:d}=c(),p=Br(),y=`/${((n==="legacy"?qn(d):l?qn(l):void 0)??"").replace(/^\//,"")}`,x=o?ar(o,i,n==="legacy"):y??"",u=Rr.default.useMemo(()=>{if(!o)return[];let m=dt(o,i),g=[ar(o,i)];for(;m;)g.push(ar(m,i)),m=dt(m,i);return g},[]),f=Rr.default.useCallback(m=>{var g,v,C,N,R,w;if((((g=m==null?void 0:m.meta)==null?void 0:g.hide)??((v=m==null?void 0:m.options)==null?void 0:v.hide))||!(m!=null&&m.list)&&m.children.length===0)return;let h=m.list?a({resource:m,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&h&&h.match(/(\/|^):(.+?)(\/|$){1}/)))return{...m,route:h,icon:K((C=m.meta)==null?void 0:C.icon,(N=m.options)==null?void 0:N.icon,m.icon),label:K((R=m==null?void 0:m.meta)==null?void 0:R.label,(w=m==null?void 0:m.options)==null?void 0:w.label)??r(`${m.name}.${m.name}`,p(m.name,"plural"))}},[n,e,r,t]),P=Rr.default.useMemo(()=>{let m=Hu(i,n==="legacy"),g=s(v=>v.flatMap(C=>{let N=g(C.children),R=f({...C,children:N});return R?[R]:[]}),"prepare");return g(m)},[i,n,f]);return{defaultOpenKeys:u,selectedKey:x,menuItems:P}},"useMenu"),me=s(()=>{let{params:e}=He();return s(({resource:t,meta:r}={})=>{let{meta:a}=la(t)??{meta:{}},{filters:n,sorters:o,current:i,pageSize:l,...c}=e??{};return{...a,...c,...r}},"getMetaFn")},"useMeta"),Xu=s(()=>{let[e,t]=(0,ft.useState)(),r=oe(),{push:a}=ze(),n=Ke(),o=ge(),{resource:i,action:l}=Y();return(0,ft.useEffect)(()=>{i&&l&&t(r("pages.error.info",{action:l,resource:i.name},`You may have forgotten to add the "${l}" component to "${i.name}" resource.`))},[i,l]),ft.default.createElement(ft.default.Fragment,null,ft.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&ft.default.createElement("p",null,e),ft.default.createElement("button",{onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),fe=W(E("react")),Qo=s(()=>{let[e,t]=(0,fe.useState)(""),[r,a]=(0,fe.useState)(""),n=oe(),o=ve(),{mutate:i}=lr({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy)});return fe.default.createElement(fe.default.Fragment,null,fe.default.createElement("h1",null,n("pages.login.title","Sign in your account")),fe.default.createElement("form",{onSubmit:l=>{l.preventDefault(),i({username:e,password:r})}},fe.default.createElement("table",null,fe.default.createElement("tbody",null,fe.default.createElement("tr",null,fe.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),fe.default.createElement("td",null,fe.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:l=>t(l.target.value)}))),fe.default.createElement("tr",null,fe.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),fe.default.createElement("td",null,fe.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:l=>a(l.target.value)}))))),fe.default.createElement("br",null),fe.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),St=W(E("react")),ae=W(E("react")),Gu=s(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:i,formProps:l,title:c=void 0})=>{let d=ge(),p=dr(),{Link:y}=Re(),x=d==="legacy"?y:p,[u,f]=(0,ae.useState)(""),[P,m]=(0,ae.useState)(""),[g,v]=(0,ae.useState)(!1),C=oe(),N=ve(),{mutate:R}=lr({v3LegacyAuthProviderCompatible:!!(N!=null&&N.isLegacy)}),w=s((L,D)=>ae.default.createElement(x,{to:L},D),"renderLink"),h=s(()=>e?e.map(L=>ae.default.createElement("div",{key:L.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ae.default.createElement("button",{onClick:()=>R({providerName:L.name}),style:{display:"flex",alignItems:"center"}},L==null?void 0:L.icon,L.label??ae.default.createElement("label",null,L.label)))):null,"renderProviders"),k=ae.default.createElement("div",{...n},ae.default.createElement("h1",{style:{textAlign:"center"}},C("pages.login.title","Sign in to your account")),h(),ae.default.createElement("hr",null),ae.default.createElement("form",{onSubmit:L=>{L.preventDefault(),R({email:u,password:P,remember:g})},...l},ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ae.default.createElement("label",{htmlFor:"email-input"},C("pages.login.fields.email","Email")),ae.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:u,onChange:L=>f(L.target.value)}),ae.default.createElement("label",{htmlFor:"password-input"},C("pages.login.fields.password","Password")),ae.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:P,onChange:L=>m(L.target.value)}),a??ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("label",{htmlFor:"remember-me-input"},C("pages.login.buttons.rememberMe","Remember me"),ae.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:g,value:g.toString(),onChange:()=>{v(!g)}}))),ae.default.createElement("br",null),r??w("/forgot-password",C("pages.login.buttons.forgotPassword","Forgot password?")),ae.default.createElement("input",{type:"submit",value:C("pages.login.signin","Sign in")}),t??ae.default.createElement("span",null,C("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",w("/register",C("pages.login.register","Sign up"))))));return ae.default.createElement("div",{...o},i?i(k,c):k)},"LoginPage"),se=W(E("react")),Zu=s(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o,title:i=void 0})=>{let l=ge(),c=dr(),{Link:d}=Re(),p=l==="legacy"?d:c,[y,x]=(0,se.useState)(""),[u,f]=(0,se.useState)(""),P=oe(),m=ve(),{mutate:g,isLoading:v}=Yr({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),C=s((w,h)=>se.default.createElement(p,{to:w},h),"renderLink"),N=s(()=>e?e.map(w=>se.default.createElement("div",{key:w.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},se.default.createElement("button",{onClick:()=>g({providerName:w.name}),style:{display:"flex",alignItems:"center"}},w==null?void 0:w.icon,w.label??se.default.createElement("label",null,w.label)))):null,"renderProviders"),R=se.default.createElement("div",{...a},se.default.createElement("h1",{style:{textAlign:"center"}},P("pages.register.title","Sign up for your account")),N(),se.default.createElement("hr",null),se.default.createElement("form",{onSubmit:w=>{w.preventDefault(),g({email:y,password:u})},...o},se.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},se.default.createElement("label",{htmlFor:"email-input"},P("pages.register.fields.email","Email")),se.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:y,onChange:w=>x(w.target.value)}),se.default.createElement("label",{htmlFor:"password-input"},P("pages.register.fields.password","Password")),se.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:u,onChange:w=>f(w.target.value)}),se.default.createElement("input",{type:"submit",value:P("pages.register.buttons.submit","Sign up"),disabled:v}),t??se.default.createElement(se.default.Fragment,null,se.default.createElement("span",null,P("pages.login.buttons.haveAccount","Have an account?")," ",C("/login",P("pages.login.signin","Sign in")))))));return se.default.createElement("div",{...r},n?n(R,i):R)},"RegisterPage"),De=W(E("react")),Yu=s(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n,title:o=void 0})=>{let i=oe(),l=ge(),c=dr(),{Link:d}=Re(),p=l==="legacy"?d:c,[y,x]=(0,De.useState)(""),{mutate:u,isLoading:f}=Jr(),P=s((g,v)=>De.default.createElement(p,{to:g},v),"renderLink"),m=De.default.createElement("div",{...r},De.default.createElement("h1",{style:{textAlign:"center"}},i("pages.forgotPassword.title","Forgot your password?")),De.default.createElement("hr",null),De.default.createElement("form",{onSubmit:g=>{g.preventDefault(),u({email:y})},...n},De.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},De.default.createElement("label",{htmlFor:"email-input"},i("pages.forgotPassword.fields.email","Email")),De.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:y,onChange:g=>x(g.target.value)}),De.default.createElement("input",{type:"submit",disabled:f,value:i("pages.forgotPassword.buttons.submit","Send reset instructions")}),De.default.createElement("br",null),e??De.default.createElement("span",null,i("pages.register.buttons.haveAccount","Have an account? ")," ",P("/login",i("pages.login.signin","Sign in"))))));return De.default.createElement("div",{...t},a?a(m,o):m)},"ForgotPasswordPage"),Fe=W(E("react")),Ju=s(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:n=void 0})=>{let o=oe(),i=ve(),{mutate:l,isLoading:c}=ea({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)}),[d,p]=(0,Fe.useState)(""),[y,x]=(0,Fe.useState)(""),u=Fe.default.createElement("div",{...t},Fe.default.createElement("h1",{style:{textAlign:"center"}},o("pages.updatePassword.title","Update Password")),Fe.default.createElement("hr",null),Fe.default.createElement("form",{onSubmit:f=>{f.preventDefault(),l({password:d,confirmPassword:y})},...a},Fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Fe.default.createElement("label",{htmlFor:"password-input"},o("pages.updatePassword.fields.password","New Password")),Fe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:d,onChange:f=>p(f.target.value)}),Fe.default.createElement("label",{htmlFor:"confirm-password-input"},o("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Fe.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:y,onChange:f=>x(f.target.value)}),Fe.default.createElement("input",{type:"submit",disabled:c,value:o("pages.updatePassword.buttons.submit","Update")}))));return Fe.default.createElement("div",{...e},r?r(u,n):u)},"UpdatePasswordPage"),ed=s(e=>{let{type:t}=e;return St.default.createElement(St.default.Fragment,null,s(()=>{switch(t){case"register":return St.default.createElement(Zu,{...e});case"forgotPassword":return St.default.createElement(Yu,{...e});case"updatePassword":return St.default.createElement(Ju,{...e});default:return St.default.createElement(Gu,{...e})}},"renderView")())},"AuthPage"),xe=W(E("react")),Vo=s(()=>xe.default.createElement(xe.default.Fragment,null,xe.default.createElement("h1",null,"Welcome on board"),xe.default.createElement("p",null,"Your configuration is completed."),xe.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",xe.default.createElement("code",null,"`resources`")," property of ",xe.default.createElement("code",null,"`<Refine>`")),xe.default.createElement("div",{style:{display:"flex",gap:8}},xe.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},xe.default.createElement("button",null,"Documentation")),xe.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},xe.default.createElement("button",null,"Examples")),xe.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},xe.default.createElement("button",null,"Community")))),"ReadyPage"),J=W(E("react")),td=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:J.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:J.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),J.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:J.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),J.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:J.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],rd=s(()=>{let e=Xa("(max-width: 1010px)"),t=Xa("(max-width: 650px)"),r=s(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),a=s(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),n=s(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return J.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},J.default.createElement("div",{style:{height:"89px"}}),J.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},J.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),J.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),J.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},J.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),J.default.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),J.default.createElement("div",{style:{height:"64px"}}),J.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},td.map(o=>J.default.createElement(ad,{key:`welcome-page-${o.title}`,card:o}))),J.default.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),ad=s(({card:e})=>{let{title:t,description:r,icon:a,link:n}=e,[o,i]=(0,J.useState)(!1);return J.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},J.default.createElement("div",{style:{display:"flex",alignItems:"center"}},J.default.createElement("a",{onPointerEnter:()=>i(!0),onPointerLeave:()=>i(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},a,J.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),J.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...o&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},J.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),J.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),ne=W(E("react")),Or=E("@tanstack/react-query"),nd=te(),Rn=W(E("react")),gt=E("react"),od="4.42.4",id=s(()=>{var e;let t=bo(),r=(0,gt.useContext)(cr),a=(0,gt.useContext)(Kt),n=(0,gt.useContext)(sa),o=(0,gt.useContext)(na),{i18nProvider:i}=(0,gt.useContext)(Pt),l=(0,gt.useContext)(oa),c=(0,gt.useContext)(Vt),{resources:d}=Y(),p=Le(),y=!!r.create||!!r.get||!!r.update,x=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),u=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,f=!!o,P=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),m=!!l.close||!!l.open,g=!!c.can,v=(e=p==null?void 0:p.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:y,live:x,router:u,data:f,i18n:P,notification:m,accessControl:g},version:od,resourceCount:d.length,projectId:v}},"useTelemetryData"),sd=s(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),ld=s(e=>{let t=new Image;t.src=e},"throughImage"),ud=s(e=>{fetch(e)},"throughFetch"),dd=s(e=>{typeof Image<"u"?ld(e):typeof fetch<"u"&&ud(e)},"transport"),cd=s(()=>{let e=id(),t=Rn.default.useRef(!1);return Rn.default.useEffect(()=>{if(t.current)return;let r=sd(e);r&&(dd(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),md=s(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),On=W(E("react")),pd=s(e=>{let t=On.default.useRef(!1);On.default.useEffect(()=>{t.current===!1&&e&&md(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),fd=s(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:n,notificationProvider:o,accessControlProvider:i,auditLogProvider:l,resources:c,DashboardPage:d,ReadyPage:p,LoginPage:y,catchAll:x,children:u,liveProvider:f,i18nProvider:P,Title:m,Layout:g,Sider:v,Header:C,Footer:N,OffLayoutArea:R,onLiveEvent:w,options:h})=>{let{optionsWithDefaults:k,disableTelemetryWithDefault:L,reactQueryWithDefaults:D}=Qs({options:h}),M=So(()=>{var q;return D.clientConfig instanceof Or.QueryClient?D.clientConfig:new Or.QueryClient({...D.clientConfig,defaultOptions:{...D.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(q=D.clientConfig.defaultOptions)==null?void 0:q.queries}}})},[D.clientConfig]);(0,nd.useQuerySubscription)(M);let I=ne.default.useMemo(()=>typeof o=="function"?o:()=>o??{},[o])();if(pd(n),a&&!n&&(c??[]).length===0)return p?ne.default.createElement(p,null):ne.default.createElement(Vo,null);let{RouterComponent:S=ne.default.Fragment}=n?{}:a??{};return ne.default.createElement(Or.QueryClientProvider,{client:M},ne.default.createElement(su,{...I},ne.default.createElement(Hs,{...e??{},isProvided:!!e},ne.default.createElement(Bs,{...t??{},isProvided:!!t},ne.default.createElement(Kl,{...r},ne.default.createElement(Vl,{liveProvider:f},ne.default.createElement(Zl,{value:a&&!n?"legacy":"new"},ne.default.createElement(Jl,{router:n},ne.default.createElement(Nu,{...a},ne.default.createElement(Gl,{resources:c??[]},ne.default.createElement(uu,{i18nProvider:P},ne.default.createElement(Au,{...i??{}},ne.default.createElement(Uu,{...l??{}},ne.default.createElement(Cl,null,ne.default.createElement(Ws,{mutationMode:k.mutationMode,warnWhenUnsavedChanges:k.warnWhenUnsavedChanges,syncWithLocation:k.syncWithLocation,Title:m,undoableTimeout:k.undoableTimeout,catchAll:x,DashboardPage:d,LoginPage:y,Layout:g,Sider:v,Footer:N,Header:C,OffLayoutArea:R,hasDashboard:!!d,liveMode:k.liveMode,onLiveEvent:w,options:k},ne.default.createElement(Gs,null,ne.default.createElement(S,null,u,!L&&ne.default.createElement(cd,null),ne.default.createElement(Ho,null))))))))))))))))))},"Refine"),$n=E("react"),jo=s(({notification:e})=>{let t=oe(),{notificationDispatch:r}=Dt(),{open:a}=mt(),[n,o]=(0,$n.useState)(),i=s(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:xr(e.seconds)},`You have ${xr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:xr(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let l=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(l)}},"cancelNotification");return(0,$n.useEffect)(()=>{i()},[e]),null},"UndoableQueue"),or=W(E("react")),vd=s(({children:e,Layout:t,Sider:r,Header:a,Title:n,Footer:o,OffLayoutArea:i})=>{let{Layout:l,Footer:c,Header:d,Sider:p,Title:y,OffLayoutArea:x}=Le();return or.default.createElement(t??l,{Sider:r??p,Header:a??d,Footer:o??c,Title:n??y,OffLayoutArea:i??x},e,or.default.createElement(gd,null))},"LayoutWrapper"),gd=s(()=>{let{Prompt:e}=Re(),t=oe(),{warnWhen:r,setWarnWhen:a}=Hr(),n=s(o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue),"warnWhenListener");return(0,or.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),or.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),Me=W(E("react")),yd=s(()=>{let e=Ke(),[t,r]=Me.default.useState(void 0);return Me.default.useEffect(()=>{t&&e(t)},[t]),Me.default.useCallback(a=>{t||r(a)},[t])},"useDeferredGo");function _o({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:n}){var o;let i=ve(),l=ge(),c=!!(i!=null&&i.isProvided),d=!!(i!=null&&i.isLegacy),p=l==="legacy",y=He(),x=Ke(),u=yd(),{replace:f}=ze(),{useLocation:P}=Re(),m=P(),{isLoading:g,isFetching:v,isSuccess:C,data:{authenticated:N,redirectTo:R}={},refetch:w}=ur({v3LegacyAuthProviderCompatible:d});Me.default.useEffect(()=>{w()},[r,a]);let h=Me.default.useRef({status:g?"initial":"pending",content:n??null});v?h.current.status="pending":v||(h.current.status="settled");let k=c?d?C:N:!0;if(h.current.status==="settled")if(k)h.current.content=Me.default.createElement(Me.default.Fragment,null,r??null);else if(typeof a<"u")h.current.content=Me.default.createElement(Me.default.Fragment,null,a);else{let L=`${p?m==null?void 0:m.pathname:y.pathname}`.replace(/(\?.*|#.*)$/,""),D=d?typeof e=="string"?e:"/login":typeof e=="string"?e:R;if(D)if(p){let M=t?`?to=${encodeURIComponent(L)}`:"";f(`${D}${M}`)}else u({to:D,query:t?{to:(o=y.params)!=null&&o.to?y.params.to:x({to:L,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return c?Me.default.createElement(Me.default.Fragment,null,h.current.content):Me.default.createElement(Me.default.Fragment,null,r??null)}b(_o,"ui");s(_o,"Authenticated");var hd=E("react"),Ho=s(()=>{let{useLocation:e}=Re(),{checkAuth:t}=Ue(),r=e();return(0,hd.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),yt=W(E("react")),bd=s(({resource:e,action:t,params:r,fallback:a,onUnauthorized:n,children:o,...i})=>{let{resource:l,id:c,action:d}=Y(e),{identifier:p}=Y(),y=s(()=>{let m=(r==null?void 0:r.id)??c;return e&&e!==p?r==null?void 0:r.id:m},"getDefaultId")(),x=e??(l==null?void 0:l.name),u=t??d??"",f=r??{id:y,resource:l},{data:P}=Ko({resource:x,action:u,params:f});return(0,yt.useEffect)(()=>{n&&(P==null?void 0:P.can)===!1&&n({resource:x,action:u,reason:P==null?void 0:P.reason,params:f})},[P==null?void 0:P.can]),P!=null&&P.can?yt.default.isValidElement(o)?yt.default.cloneElement(o,i):yt.default.createElement(yt.default.Fragment,null,o):(P==null?void 0:P.can)===!1?yt.default.createElement(yt.default.Fragment,null,a??null):null},"CanAccess"),ht=W(E("react")),Pd=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],Cd=s(()=>((0,ht.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Pd.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),ht.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},ht.default.createElement("div",{style:{width:"200px"}}),ht.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},ht.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},ht.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),ht.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going."))))),"GitHubBanner")});var Ie=ce(E("react")),qt=ce(Ft());var wd=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,mr=b((e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];wd.test(e)&&r.unshift("url");let a=r.find(n=>n in t&&!!t[n]);if(a)return a==="firstName"&&"lastName"in t?["firstName","lastName"]:a},"getFieldableKeys");var Xo=ce(Ft());function ua(e,t,r){if(t)return t;let a=r==null?void 0:r.find(o=>o.name===e),n=(0,Xo.pickNotDeprecated)(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"}b(ua,"pickDataProvider");var At=b(e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName},"dataProviderFromResource");var da=b(e=>{let t=[...e].filter(Boolean).sort((r,a)=>(a.priority||0)-(r.priority||0))[0];return t||null},"pickInferredField");var Go=ce(E("prettier/standalone")),Zo=ce(E("prettier/parser-typescript"));var ca=b(e=>{try{return Go.default.format(e,{parser:"typescript",plugins:[Zo.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}},"prettierFormat");var Yo=b(e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`),"prettySpaces");var ma=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,Jo=b((e,t)=>{let r=ma.test(e),a=typeof t=="string"||typeof t=="number",n=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&a||r&&n?{key:e,relation:!0,multiple:!!n,type:"relation",priority:1}:!1},"relationInfer");var le=b(e=>e.replace(ma,""),"removeRelationSuffix");var Mt=b(e=>le(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "),"prettyString");var pa=ce(E("pluralize"));var Ye=b((e="")=>pa.default.isSingular(e)?e:pa.default.singular(e),"toSingular");var fa=ce(E("pluralize"));var Je=b((e="")=>fa.default.isPlural(e)?e:fa.default.plural(e),"toPlural");var va=b(e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(n=>!n.trim().startsWith("export default")).join(`
`),"replaceExports");var ei=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,xd=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,Ed=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,ga=b((e,t={})=>{let r=e.matchAll(ei),a=new Set;for(let n of r){let[,o,i,l,c]=n;if(c in t){let d=t[c];if(c==="react")continue;o&&a.add(`const { default: ${o} } = ${d};`),i&&a.add(`const${i.replace(Ed,"$1: $3$4")} = ${d};`),l&&a.add(`const ${l} = ${d};`)}}return Yo(`
    ${Array.from(a).join(`
`)}
    ${e.replace(ei,"").replace(xd,"")}
    `)},"replaceImports");var jt=ce(E("pluralize"));var ya=b((e,t)=>e?t.find(a=>{let n=le(e.key);return a.name===n||a.name===(jt.default.isPlural(n)?n:jt.default.plural(n))||a.name===(jt.default.isSingular(n)?n:jt.default.singular(n))}):void 0,"resourceFromInferred");var ti=ce(E("pluralize"));var pr=b((e,t,r="Inferred")=>{let a=e.replace(/[^a-zA-Z0-9]/g," "),n=ti.default.singular(a),i=Mt(n).replace(/ /g,"")||r,l=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(i)?`${i}${l}`:`${l}${i}`},"componentName");var Ld=b(e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"","handleExpression"),ri=b((e,...t)=>e.reduce((a,n,o)=>`${a}${n}${Ld(t[o])}`,"").trim(),"jsx");var ha=b((e,t)=>`
    ${e??""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `,"prepareLiveCode");var ba=b(e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,""),"removeHiddenCode");var Sd=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,fr=b(e=>Sd.test(e),"shouldDotAccess");function Pa(e,t,r){let a=`${e}`;return t&&(a+="?.",fr(t)?a+=t:a+=`['${t}']`),r&&(a+="?.",fr(r)?a+=r:a+=`['${r}']`),a}b(Pa,"accessorSingle");function Id(e,t,r){return(r??[]).map(n=>Pa(e,t,n))}b(Id,"accessorMultiple");var ai=b((e,t,r,a=' + " " + ')=>Array.isArray(r)?a?Id(e,t,r).join(a):Pa(e,t,r[0]):Pa(e,t,r),"accessor"),Ca=b((e,t,r)=>{let a=e;return t&&(a+=`.${t}`),r&&(Array.isArray(r)?a+=`.${r[0]}`:a+=`.${r}`),a},"dotAccessor"),ni=b(e=>Array.isArray(e.accessor)||e.multiple?`accessorKey: "${e.key}"`:e.accessor?`accessorKey: "${Ca(e.key,void 0,e.accessor)}"`:`accessorKey: "${e.key}"`,"getAccessorKey");var oi=b(e=>{let t=e.reduce((a,[n,o,i])=>(a[o]||(a[o]=[]),a[o].includes(n)||(i?a[o].push([n,!0]):a[o].push(n)),a),{});return Object.entries(t).map(([a,n])=>{let o=n.find(d=>Array.isArray(d)&&d[1]),i=n.filter(d=>typeof d=="string"),l=o?`${o[0]}`:"",c=i.length?`{ ${i.join(", ")} }`:"";return`import ${l}${l&&c?", ":""}${c} from "${a}";`})},"printImports");var kd=/^id$/i,ii=b(e=>kd.test(e),"isIDKey");var si=b(e=>e.relationInfer&&e.relationInfer.accessor?Array.isArray(e.relationInfer.accessor)?`optionLabel: "${e.relationInfer.accessor[0]}",`:e.relationInfer.accessor!=="title"?`optionLabel: "${e.relationInfer.accessor}",`:"":"","getOptionLabel");var li=b(e=>{},"noOp");var ui=b((e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let a=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),n=Mt(a).replace(/ /g,"");return`${n.charAt(0).toLowerCase()+n.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`},"getVariableName");var et=b((e,t,r)=>{if(t&&r&&e){let a=e?t[e]:{},o=[...r,"default"].reduce((i,l)=>i??(a==null?void 0:a[l]),void 0);if(o)return o}},"pickMeta");var di=b(e=>e===void 0?e:typeof e=="string"?`"${e}"`:e,"idQuoteWrapper");var ci=b(e=>{let t=b((r,a,n,o=t,i)=>{let l=e.map(d=>d(r,a,n,o,i));return da(l)},"fieldInferencer");return t},"composeInferencers");var mi=b(e=>b((r,a,n,o,i,l)=>e.reduce((c,d)=>d(c,a,n,o,i,l),r),"fieldTransformer"),"composeTransformers");var pi=b((e,t,r,a,n)=>{let o=Array.isArray(t),i=Array.isArray(t)&&t.every(l=>typeof l=="string"||typeof l=="number");if(o){if(!i){let c=a(e,t[0],r,a,n);return c?{...c,key:e,multiple:!0,priority:1}:!1}let l=a(e,t[0],r,a,n)||{type:"string"};return{key:e,multiple:!0,priority:1,type:l==null?void 0:l.type}}return!1},"arrayInfer");var fi=b((e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1,"booleanInfer");var wa=ce(E("dayjs"));var Nd=/(_at|_on|At|On|AT|ON)(\[\])?$/,Dd=["/",":","-","."],vi=b((e,t)=>{let r=Nd.test(e)&&(0,wa.default)(t).isValid(),a=typeof t=="string"&&(0,wa.default)(t).isValid();return typeof t=="string"&&Dd.some(o=>t.includes(o))&&(r||a)?{key:e,type:"date",priority:1}:!1},"dateInfer");var Fd=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,gi=b((e,t)=>typeof t=="string"&&Fd.test(t)?{key:e,type:"email",priority:1}:!1,"emailInfer");var Ad=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,yi=b((e,t)=>typeof t=="string"&&Ad.test(t)?{key:e,type:"image",priority:2}:!1,"imageInfer");var hi=b((e,t)=>typeof t>"u"||t===null?null:!1,"nullishInfer");var bi=b((e,t)=>{let r=typeof t=="string"&&t.length>0,a=!isNaN(t);return r&&a||typeof t=="number"?{key:e,type:"number"}:!1},"numberInfer");var Pi=/id$/i,Ci=b((e,t,r,a,n)=>{let o=t!==null,i=!Array.isArray(t);if(o&&i&&typeof t=="object"){let c=Object.keys(t).length===1&&Pi.test(Object.keys(t)[0]),d=Object.keys(t).some(x=>Pi.test(x));if(c)return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let p=mr(e,t);if((p?p.length>0:!1)&&p){let x=p&&Array.isArray(p)?p[0]:p,u=a(x,t[x],t,a,n);if(u){let f=Array.isArray(p)?p.map(P=>u.accessor?`${P}.${Array.isArray(u.accessor)?u.accessor[0]:u.accessor}`:P):u.accessor?Array.isArray(u.accessor)?`${p}.${u.accessor[0]}`:`${p}.${u.accessor}`:p;return(u==null?void 0:u.type)==="text"&&(n==="create"||n==="edit")&&d?{key:e,type:"relation",relation:!0,accessor:"id",priority:1}:{...u,fieldable:!0,key:e,accessor:f,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1},"objectInfer");var wi=b((e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1,"richtextInfer");var xi=b((e,t)=>typeof t=="string"?{key:e,type:"text"}:!1,"textInfer");var Md=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,Ei=b((e,t)=>typeof t=="string"&&Md.test(t)?{key:e,type:"url",priority:1}:!1,"urlInfer");var Li=[pi,fi,vi,gi,yi,hi,bi,Ci,Jo,wi,xi,Ei];var Si=b((e,t,r,a)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let i=/^[a-z0-9-]+$/,l=b(x=>i.test(`${x}`),"isValidUUID"),c=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!c?o:(o.multiple?a[o.key]:[a[o.key]]).every(x=>l(o.accessor?x[o.accessor]:x))?{...o,canRelation:!0}:o}return o}),"basicToRelation");var Td=/(image|photo|avatar|cover|thumbnail|icon)/i,Ii=b(e=>e.map(r=>r.type==="url"&&Td.test(r.key)?{...r,type:"image"}:r),"imageByKey");var ki=b((e,t)=>e.map(a=>{let n=ya(a,t);return n?{...a,relation:!0,type:"relation",resource:n}:a}),"relationByResource");var Ni=b((e,t,r,a,n,o)=>e.map(l=>{if(l.relation&&l.type==="relation"&&!l.resource){let c=l.accessor?a[l.key][l.accessor]:a[l.key],d=n(l.key,c,a,n,o);if(d&&d.type!=="relation")return{...l,fieldable:!0,relation:!1,type:d.type,canRelation:!0}}return l}),"relationToFieldable");var Di=[Ii,ki,Ni,Si];var We=ce(E("react")),qd=ce(Ft()),vr=E("@aliemir/react-live");var Fi=[["react","React",We.default],["@refinedev/core","RefineCore",qd]],xa=We.default.createContext({}),Ea=b(({fetchError:e,code:t,additionalScope:r,errorComponent:a})=>{let n=(t&&va(ga(t,[...Fi,...r??[]].reduce((l,[c,d,p,y])=>y?l:{...l,[c]:d},{}))))??"",o=We.default.useMemo(()=>({React:We.default,...We.default,...[...Fi,...r??[]].reduce((l,[c,d,p])=>({...l,[d]:p}),{})}),[r]),i=We.default.useMemo(()=>b(()=>{let{error:c}=We.default.useContext(xa);return a?We.default.createElement(a,{error:c?`<p>An error occured while rendering the generated component.You can check the generated code from the below "Show Code" button and fix the error manually.</p>
                                    <p>If you think this is a bug, please report the issue at <a target="_blank" rel="noopener noreferrer" href="https://github.com/refinedev/refine/issues">https://github.com/refinedev/refine/issues</a></p>
                                    <p>Exception:</p>
                                    <code>${c}</code>`:typeof e=="string"?e:e?`<p>Something went wrong while fetching the resource data.</p>
                                    <p>To learn more about the Inferencer, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`:void 0}):null},"LiveErrorComponent"),[a,e]);return We.default.createElement(vr.LiveProvider,{Context:xa,code:n,scope:o,noInline:!0},!e&&We.default.createElement(vr.LivePreview,{Context:xa}),We.default.createElement(i,null))},"LiveComponent");var j=ce(E("react")),gr=ce(E("prism-react-renderer")),Mi=ce(E("prism-react-renderer/themes/vsDark"));var Rd=b(({code:e,loading:t})=>{let r=j.default.useMemo(()=>ca(e??""),[e]),[a,n]=j.default.useState(!1),[o,i]=j.default.useState(!1),[l,c]=j.default.useState(!1),[d,p]=j.default.useState(!1),[y,x]=j.default.useState(!1);return j.default.useEffect(()=>{if(!t){let u=setTimeout(()=>{n(!0)},300);return()=>{clearTimeout(u)}}return()=>{}},[t]),j.default.useEffect(()=>{if(typeof window<"u"){let u=window.matchMedia("(max-width: 449px)");u.matches?c(!1):c(!0);let f=b(()=>{u.matches?c(!1):c(!0)},"handleResize");return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}}return()=>{}},[]),j.default.useEffect(()=>{if(typeof window<"u"){let u=window.matchMedia("(max-width: 1280px)");u.matches?p(!0):p(!1);let f=b(()=>{u.matches?p(!0):p(!1)},"handleResize");return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}}return()=>{}},[]),r&&!t?j.default.createElement(j.default.Fragment,null,l&&j.default.createElement("div",{className:"refine-inferencer--code-viewer",style:{position:"sticky",bottom:"24px",paddingTop:"24px",left:0,right:0,width:"100%",zIndex:10,display:"flex",justifyContent:"center",transition:"all 0.2s ease",opacity:a&&!o?1:0,transform:a&&!o?"translateY(0)":"translateY(100px)"}},j.default.createElement("div",{style:{width:"calc(100% - calc(64px * 2))",maxWidth:"1080px",padding:"20px",backgroundColor:"#1A1A1A",boxShadow:"0px 4px 16px -4px rgba(0, 0, 0, 0.5), 0px 8px 32px -8px rgba(0, 0, 0, 0.35)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:d?"column":"row",gap:"12px"}},j.default.createElement("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"}},j.default.createElement("div",null,j.default.createElement($d,null)),j.default.createElement("div",{style:{fontSize:"14px",lineHeight:"20px",color:"#ffffff"}},j.default.createElement("p",{style:{padding:0,margin:0}},"Most of the page code is auto-generated by the"," ",j.default.createElement("span",{style:{textDecoration:"underline"}},"Inferencer")," ","feature, based on your backend data structure."),j.default.createElement("p",{style:{padding:0,margin:0}},"While this is an excellent way to experiment with refine,"," ",j.default.createElement("span",{style:{fontWeight:600}},"it's not intended to be used on production.")))),j.default.createElement("div",null,j.default.createElement("button",{onPointerEnter:()=>x(!0),onPointerLeave:()=>x(!1),onClick:()=>i(!0),style:{appearance:"none",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",color:"#ffffff",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",transition:"all 0.2s ease",transform:y?"scale(1.025)":void 0,filter:y?"brightness(1.1)":void 0}},j.default.createElement(Ti,{style:{flexShrink:0}}),j.default.createElement("span",null,"Show the auto-generated code"))))),j.default.createElement(Od,{visible:o,onClose:()=>i(!1),code:r})):null},"SharedCodeViewer"),Od=b(({visible:e,onClose:t,code:r=""})=>{let a=j.default.useRef(null),[n,o]=j.default.useState(!1),[i,l]=j.default.useState(!1),[c,d]=j.default.useState(!1),[p,y]=j.default.useState(!1);j.default.useEffect(()=>{if(typeof document<"u"){let m=b(g=>{a.current&&!a.current.contains(g.target)&&t()},"onOutsideClick");return document.addEventListener("pointerdown",m),()=>{document.removeEventListener("pointerdown",m)}}return()=>{}},[t]);let x=b(()=>{typeof navigator<"u"&&(navigator.clipboard.writeText(r),o(!0),setTimeout(()=>{o(!1)},1e3))},"onCopy"),u=j.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},j.default.createElement("div",{style:{fontWeight:700,fontSize:"20px",lineHeight:"32px",color:"#0D0D0D"}},"Auto-generated code by Inferencer"),j.default.createElement("button",{onClick:t,onPointerEnter:()=>d(!0),onPointerLeave:()=>d(!1),style:{flexShrink:0,appearance:"none",border:"none",background:"none",padding:0,margin:0,outline:"none",borderRadius:"50px",width:"32px",height:"32px",cursor:"pointer",transition:"all 0.15s ease",transform:c?"scale(1.05)":void 0,filter:c?"brightness(0.8)":void 0}},j.default.createElement(Ud,null))),f=j.default.createElement("div",{style:{fontSize:"13px",borderRadius:"8px",flex:"1",overflow:"scroll",background:"#1E1E1E"}},j.default.createElement(gr.default,{...gr.defaultProps,theme:Mi.default,code:r,language:"tsx"},({className:m,style:g,tokens:v,getLineProps:C,getTokenProps:N})=>j.default.createElement("pre",{className:m,style:{...g,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},v.map((R,w)=>j.default.createElement("div",{key:w,...C({line:R,key:w})},R.map((h,k)=>j.default.createElement("span",{key:k,...N({token:h,key:k})})))))));return j.default.createElement("div",{className:"refine-inferencer--code-viewer-modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,backgroundColor:"rgba(0, 0, 0, 0.5)",transition:"all 0.2s ease",opacity:e?1:0,pointerEvents:e?"all":"none",display:"flex",justifyContent:"center",alignItems:"center"}},j.default.createElement("div",{ref:a,style:{transform:e?"scale(1) translateY(0px)":"scale(0) translateY(-200px)",transition:"all 0.25s cubic-bezier(.35,1.29,.81,1.08)",transitionDelay:"0.25",width:"calc(100% - calc(32px * 2))",height:"calc(100% - calc(32px * 2))",backgroundColor:"#fff",maxWidth:"640px",maxHeight:"720px",borderRadius:"8px",padding:"16px"}},j.default.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",gap:"16px"}},u,f,j.default.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-end",gap:"16px"}},j.default.createElement("button",{onPointerEnter:()=>l(!0),onPointerLeave:()=>l(!1),onClick:x,style:{appearance:"none",height:"40px",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",color:"#ffffff",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",position:"relative",overflow:"hidden",transition:"filter 0.2s ease",transform:i?"scale(1.025)":"scale(1)",filter:i?"brightness(1.1)":void 0}},j.default.createElement(Ai,{style:{flexShrink:0,marginTop:"-2px",marginBottom:"-2px"}}),j.default.createElement("span",null,"Copy Generated Code"),j.default.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",transition:"all 0.2s ease",transform:n?"translateY(0)":"translateY(40px)"}},j.default.createElement(Ai,{style:{flexShrink:0,marginTop:"-2px",marginBottom:"-2px"}}),j.default.createElement("span",null,"Copied!"))),j.default.createElement("a",{onPointerEnter:()=>y(!0),onPointerLeave:()=>y(!1),href:"https://refine.dev/docs/packages/documentation/inferencer",target:"_blank",rel:"noreferrer",style:{appearance:"none",textDecoration:"none",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 128, 255, 0.1)",color:"#0080FF",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",transition:"all 0.2s ease",transform:p?"scale(1.025)":void 0,filter:p?"brightness(1.1)":void 0}},j.default.createElement(Ti,{style:{flexShrink:0}}),j.default.createElement("span",null,"Learn more about inferencer"))))))},"CodeModal"),$d=b(e=>j.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",...e},j.default.createElement("path",{fill:"#0080FF",fillRule:"evenodd",d:"M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10Zm0-15a1.25 1.25 0 1 0 0 2.5A1.25 1.25 0 0 0 10 5Zm0 10c.69 0 1.25-.56 1.25-1.25V10a1.25 1.25 0 1 0-2.5 0v3.75c0 .69.56 1.25 1.25 1.25Z",clipRule:"evenodd"})),"InfoIcon"),Ti=b(e=>j.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},j.default.createElement("path",{fill:"currentColor",d:"M5 2a1 1 0 0 1 0 2H4v8h8v-1a1 1 0 1 1 2 0v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h1Z"}),j.default.createElement("path",{fill:"currentColor",d:"M9 2a1 1 0 0 0 0 2h1.586L6.293 8.293a1 1 0 0 0 1.414 1.414L12 5.414V7a1 1 0 1 0 2 0V3a1 1 0 0 0-1-1H9Z"})),"OpenIcon"),Ud=b(e=>j.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",...e},j.default.createElement("path",{fill:"#A6A6A6",fillRule:"evenodd",d:"M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16Zm-2.586-21.414a2 2 0 1 0-2.828 2.828L13.172 16l-2.586 2.586a2 2 0 1 0 2.828 2.828L16 18.828l2.586 2.586a2 2 0 1 0 2.828-2.828L18.828 16l2.586-2.586a2 2 0 1 0-2.828-2.828L16 13.172l-2.586-2.586Z",clipRule:"evenodd"})),"CloseIcon"),Ai=b(e=>j.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",fill:"none",...e},j.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 5a3 3 0 0 0 3 3h2a3 3 0 0 0 3-3h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h1Zm0 7a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm1 3a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2H9Z",clipRule:"evenodd"}),j.default.createElement("path",{fill:"currentColor",d:"M13 4a1 1 0 1 1 0 2h-2a1 1 0 1 1 0-2h2Z"})),"ClipboardIcon");var pt=ce(E("react")),yr=ce(Ft());var qi=b((e,t,r,a)=>{let{resource:n,id:o,resources:i}=(0,yr.useResource)(t),l=r??o,c=(0,yr.useDataProvider)(),[d,p]=pt.default.useState(void 0),[y,x]=pt.default.useState(void 0),[u,f]=pt.default.useState(void 0),[P,m]=pt.default.useState(!0),[g,v]=pt.default.useState(!1),C=pt.default.useCallback(async N=>{var h;let R=At(n)??ua(n==null?void 0:n.name,void 0,i),w=c(R);v(!0),p(void 0);try{if((e==="list"||e==="create")&&n){let k=await w.getList({resource:n==null?void 0:n.name,meta:et((n==null?void 0:n.identifier)??(n==null?void 0:n.name),a,["getList"])}),L=(h=k.data)==null?void 0:h[0];L||p(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),x(L),f(k.data),setTimeout(()=>{v(!1)},500)}if((e==="edit"||e==="show")&&N&&n){let L=(await w.getOne({resource:n==null?void 0:n.name,id:N,meta:et((n==null?void 0:n.identifier)??(n==null?void 0:n.name),a,["getOne"])})).data;L||p(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),x(L),setTimeout(()=>{v(!1)},500)}}catch(k){console.warn("An error occured while fetching the resource data. Please check the error message below:",k),p(`<p>Something went wrong while fetching the resource data.</p>
                    <p>Please check your data provider and API for resource "${n==null?void 0:n.name}".</p>
                    <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),setTimeout(()=>{v(!1)},500)}},[e,c,n,i]);return pt.default.useEffect(()=>{m(!1),!g&&!y&&C(l)},[C,l]),{data:y,datas:u,loading:g,initial:P,error:d}},"useInferFetch");var Tt=ce(E("react")),Ri=ce(Ft());var La=E("lodash-es");var Oi=b(({record:e,fields:t,infer:r,meta:a})=>{let n=(0,Ri.useDataProvider)(),[o,i]=Tt.default.useState([]),[l,c]=Tt.default.useState(!0),[d,p]=Tt.default.useState(!1),y=Tt.default.useCallback(async x=>{console.groupCollapsed("@refinedev/inferencer is trying to detect relations");let u=[];p(!0);try{let f=x.map(async m=>{var g,v,C,N,R;if(m&&(m.relation||m.canRelation)&&e){if(m.relationInfer)return m;let w=At(m.resource),h=n(w),k=m.multiple,L=Array.isArray(m.accessor)?void 0:m.multiple?e[m.key].map(D=>m.accessor?(0,La.get)(D,m.accessor):D)[0]:m.accessor?(0,La.get)(e[m.key],m.accessor):e[m.key];if(L&&m.resource)try{let D={};if(k&&h.getMany){let{data:I}=await h.getMany({resource:m.resource.name,ids:[L],meta:et(((g=m.resource)==null?void 0:g.identifier)??((v=m.resource)==null?void 0:v.name),a,["getMany"])});D=I==null?void 0:I[0]}else{let{data:I}=await h.getOne({resource:m.resource.name,id:L,meta:et(((C=m.resource)==null?void 0:C.identifier)??((N=m.resource)==null?void 0:N.name),a,k?["getMany","getOne"]:["getOne"])});D=I}u.push({status:"success",resource:m.resource.name,field:m.key});let M=r("__",D,{},r);return{...m,relationInfer:M}}catch{return u.push({status:"error",resource:m.resource.name,field:m.key}),{...m,relationInfer:null}}if(L){let D,M;try{let q={};if(k&&h.getMany){let{data:F}=await((R=h.getMany)==null?void 0:R.call(h,{resource:Je(le(m.key)),ids:[L],meta:et(Je(le(m.key)),a,["getMany"])}));q=F==null?void 0:F[0]}else{let{data:F}=await h.getOne({resource:Je(le(m.key)),id:L,meta:et(Je(le(m.key)),a,k?["getMany","getOne"]:["getOne"])});q=F}u.push({status:"success",resource:Je(le(m.key)),field:m.key}),D=q,M=!0}catch{u.push({status:"error",resource:Je(le(m.key)),field:m.key});let F={};try{if(k&&h.getMany){let{data:T}=await h.getMany({resource:Ye(le(m.key)),meta:et(Ye(le(m.key)),a,["getMany"]),ids:[L]});F=T==null?void 0:T[0]}else{let{data:T}=await h.getOne({resource:Ye(le(m.key)),meta:et(Ye(le(m.key)),a,k?["getMany","getOne"]:["getOne"]),id:L});F=T}u.push({status:"success",resource:Ye(le(m.key)),field:m.key}),D=F,M=!1}catch{return u.push({status:"error",resource:Ye(le(m.key)),field:m.key}),{...m,relationInfer:null}}}let I=r("__",D,{},r),S=le(m.key);return{...m,relation:!0,type:"relation",resource:{name:M?Je(S):Ye(S)},fieldable:!1,canRelation:void 0,relationInfer:I}}return{...m,relationInfer:null}}return m}),P=await Promise.all(f);i(P.filter(m=>m)),setTimeout(()=>{p(!1)},500)}catch{setTimeout(()=>{p(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${u.length} attempts and succeeded with ${u.filter(f=>f.status==="success").length} attempts.`),console.groupEnd(),console.info("@refinedev/inferencer may send multiple requests to your API for nonexistent resources when trying to detect relations. To learn more about how the inferencer works, visit https://s.refine.dev/how-inferencer-works")},500)},[n,e]);return Tt.default.useEffect(()=>{c(!1),!d&&t&&t.length>0&&o.length===0&&y(t)},[y,d,t,y]),{fields:o,loading:d,initial:l}},"useRelationFetch");var Kd=b(({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:a=[],renderer:n,loadingComponent:o,errorComponent:i,codeViewerComponent:l})=>{let c=ci([...Li,...r]),d=mi([...Di,...a]),p=b(({resourceName:x,fieldTransformer:u,hideCodeViewerInProduction:f,meta:P,id:m})=>{var O,B;let{resource:g,resources:v}=(0,qt.useResource)(x),{i18nProvider:C}=(0,Ie.useContext)(qt.TranslationContext),{resource:N}=(0,qt.useResource)(),{data:R,datas:w,loading:h,initial:k,error:L}=qi(e,x??(g==null?void 0:g.name),m,P),D=b((U,_,z)=>{let Q=c(U,_,z,c,e);if(Q&&g){let V=d([Q],v,g,z,c,e),X=u?V.flatMap(G=>{let ee=u(G);return ee?[ee]:[]}):V;return X==null?void 0:X[0]}},"inferSingleField"),M=b(U=>Object.keys(U).map(z=>{let Q=U[z];return D(z,Q,U)}).filter(Boolean),"inferSingleRecord"),I=b(U=>{let _=U.map(G=>M(G)),z=U.flatMap(G=>Object.keys(G)).filter((G,ee,ke)=>ke.indexOf(G)===ee),Q={},V=z.map(G=>{let ee=_.map(Ne=>Ne.find(we=>we.key===G));return ee.reduce((Ne,we,be)=>{if(!we)return Ne;let Be=ee.filter(ye=>(ye==null?void 0:ye.key)===we.key&&(ye==null?void 0:ye.type)===we.type).length;return Be>Ne.count?(Q[G]=U[be][G],{count:Be,field:we}):Ne},{count:0,field:void 0}).field});return{commonRecord:Q,inferredFields:V}},"inferMultipleRecords"),[S,q]=Ie.default.useMemo(()=>{if(w&&(e==="list"||e==="create")){let U=I(w);return[U.inferredFields,U.commonRecord]}if(R){let U=Object.keys(R).map(_=>{let z=R[_];return c(_,z,R,c,e)}).filter(Boolean);if(g){let _=d(U,v,g,R,c,e);return[u?_.flatMap(Q=>{let V=u(Q);return V?[V]:[]}):_,R]}return[[],R]}return[[],void 0]},[R,w,v,g,u]),{fields:F,loading:T}=Oi({record:q,fields:S,infer:c,meta:P}),A=Ie.default.useMemo(()=>{let U=[];return F.forEach((_,z,Q)=>{if(_.resource){if(U.findIndex(X=>{var G,ee;return((G=X.resource)==null?void 0:G.name)===((ee=_.resource)==null?void 0:ee.name)})>-1)return;let V=Q.filter((X,G)=>{var ee,ke,Ne,we,be,Be;if(G!==z){let ye=_.resource,Xe=X.resource,Ge=((ee=X.resource)==null?void 0:ee.identifier)||((ke=_.resource)==null?void 0:ke.identifier)?((Ne=X.resource)==null?void 0:Ne.identifier)===((we=_.resource)==null?void 0:we.identifier):((be=X.resource)==null?void 0:be.name)===((Be=_.resource)==null?void 0:Be.name);return ye&&Xe&&Ge}else return!1});if(V.length>0)if(e==="create"||e==="edit"){let X;[_,...V].find(G=>{G.fieldable!==!0&&X===void 0&&(X=G)}),X?U.push(X):U.push(_)}else{let X;[_,...V].find(G=>{G.fieldable!==!1&&X===void 0&&(X=G)}),X?U.push(X):U.push(_)}else U.push(_)}else U.push(_)}),U},[F,e]),$=Ie.default.useMemo(()=>!h&&!T&&!k&&g?n({resource:g,resources:v,fields:A,infer:c,meta:P,isCustomPage:g.name!==(N==null?void 0:N.name),id:m,i18n:!!C}):"",[g,v,A,h,T]),H=f;return Ie.default.createElement(Ie.default.Fragment,null,o&&(h||T)&&Ie.default.createElement(o,null),!h&&!T&&Ie.default.createElement(Ie.default.Fragment,null,Ie.default.createElement(Ea,{fetchError:!h&&L?L:!h&&!k&&!R,code:ha($,pr(((O=g==null?void 0:g.meta)==null?void 0:O.label)??((B=g==null?void 0:g.options)==null?void 0:B.label)??(g==null?void 0:g.label)??(g==null?void 0:g.name)??"Resource",e)),errorComponent:i,additionalScope:t}),typeof l<"u"&&!H?Ie.default.createElement(l,{code:ba($),loading:h||T}):null))},"Inferencer");return b(({name:x,resource:u,fieldTransformer:f,meta:P,hideCodeViewerInProduction:m,id:g})=>{let{resource:v}=(0,qt.useResource)(u??x),C=`${(v==null?void 0:v.identifier)??(v==null?void 0:v.name)}-${e}-${g}`;return Ie.default.createElement(p,{hideCodeViewerInProduction:m,fieldTransformer:f,resourceName:u??x,meta:P??{},key:C,id:g})},"InferencerComponent")},"createInferencer");})();
//# sourceMappingURL=index.js.map