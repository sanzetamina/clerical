(()=>{var Ec=Object.create;var Pn=Object.defineProperty;var wc=Object.getOwnPropertyDescriptor;var Pc=Object.getOwnPropertyNames;var kc=Object.getPrototypeOf,Sc=Object.prototype.hasOwnProperty;var S=(e,t)=>Pn(e,"name",{value:t,configurable:!0}),i=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var $r=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qc=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Pc(t))!Sc.call(e,n)&&n!==r&&Pn(e,n,{get:()=>t[n],enumerable:!(a=wc(t,n))||a.enumerable});return e};var ae=(e,t,r)=>(r=e!=null?Ec(kc(e)):{},qc(t||!e||!e.__esModule?Pn(r,"default",{value:e,enumerable:!0}):r,e));var Ma=$r((Cb,Ei)=>{var Ic=Object.create,Na=Object.defineProperty,Lc=Object.getOwnPropertyDescriptor,Fc=Object.getOwnPropertyNames,Tc=Object.getPrototypeOf,$c=Object.prototype.hasOwnProperty,Ac=S((e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},"N"),vi=S((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Fc(t))!$c.call(e,n)&&n!==r&&Na(e,n,{get:()=>t[n],enumerable:!(a=Lc(t,n))||a.enumerable});return e},"E"),Nc=S((e,t,r)=>(r=e!=null?Ic(Tc(e)):{},vi(t||!e||!e.__esModule?Na(r,"default",{value:e,enumerable:!0}):r,e)),"A"),Mc=S(e=>vi(Na({},"__esModule",{value:!0}),e),"V"),gi={};Ac(gi,{DevToolsContext:()=>Ci,DevToolsContextProvider:()=>Dc,DevtoolsEvent:()=>yi,hooksByScope:()=>Rc,receive:()=>xi,scopes:()=>hi,send:()=>bi});Ei.exports=Mc(gi);var yi=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(yi||{}),hi={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},Rc=Object.entries(hi).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),Ar=Nc(i("react"));async function bi(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let n=S(()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",n)},"a");e.addEventListener("open",n)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}S(bi,"d");function xi(e,t,r){let a=S(n=>{let{event:o,payload:l}=JSON.parse(n.data);t===o&&r(l)},"s");return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}S(xi,"c");var Ci=Ar.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),Dc=S(({__devtools:e,port:t,children:r})=>{let[a,n]=Ar.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[o,l]=Ar.default.useState(null);Ar.default.useEffect(()=>{let m=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),g=xi(m,"devtools:handshake",y=>{n(E=>({...E,devtoolsUrl:y.url})),g()});return m.addEventListener("open",()=>{a.__devtools||bi(m,"devtools:init",{url:window.location.origin})}),l(m),()=>{g(),m.close(1e3,window.location.origin)}},[]);let s=Ar.default.useMemo(()=>({...a,ws:o}),[a,o]);return Ar.default.createElement(Ci.Provider,{value:s},r)},"S")});var ve=$r((Sb,Ii)=>{var Oc=Object.create,Ra=Object.defineProperty,Bc=Object.getOwnPropertyDescriptor,Wc=Object.getOwnPropertyNames,zc=Object.getPrototypeOf,jc=Object.prototype.hasOwnProperty,Uc=S((e,t)=>{for(var r in t)Ra(e,r,{get:t[r],enumerable:!0})},"L"),wi=S((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wc(t))!jc.call(e,n)&&n!==r&&Ra(e,n,{get:()=>t[n],enumerable:!(a=Bc(t,n))||a.enumerable});return e},"d"),Pi=S((e,t,r)=>(r=e!=null?Oc(zc(e)):{},wi(t||!e||!e.__esModule?Ra(r,"default",{value:e,enumerable:!0}):r,e)),"E"),Vc=S(e=>wi(Ra({},"__esModule",{value:!0}),e),"M"),ki={};Uc(ki,{getTrace:()=>qi,getXRay:()=>Zc,useQuerySubscription:()=>Yc});Ii.exports=Vc(ki);var Hc=Pi(i("error-stack-parser")),Kc="renderWithHooks",Qc=S(e=>{let t=e.findIndex(r=>r.functionName===Kc);return t!==-1?e.slice(0,t):e},"T"),Si=/node_modules\/refinedev\/(?<name>.*?)\//,_c=S(e=>e?!!e.match(Si):!1,"_"),Gc=S(e=>{var t;if(!e)return;let r=e.match(Si),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`},"R");function qi(){return[];try{let e=new Error,t=Hc.default.parse(e);return Qc(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:_c(r.fileName),packageName:Gc(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}S(qi,"l");var kn=Ma(),Xc=S((e,t)=>{if(kn.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(kn.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(kn.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function Zc(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}S(Zc,"I");var wb=Ma(),Pb=Pi(i("react")),kb=Ma(),Yc=()=>({})});var re=$r((Ib,$s)=>{var Jc=Object.create,ta=Object.defineProperty,em=Object.getOwnPropertyDescriptor,tm=Object.getOwnPropertyNames,rm=Object.getPrototypeOf,am=Object.prototype.hasOwnProperty,b=S((e,t)=>ta(e,"name",{value:t,configurable:!0}),"o"),nm=S((e,t)=>{for(var r in t)ta(e,r,{get:t[r],enumerable:!0})},"Pi"),Pl=S((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of tm(t))!am.call(e,n)&&n!==r&&ta(e,n,{get:()=>t[n],enumerable:!(a=em(t,n))||a.enumerable});return e},"Bs"),X=S((e,t,r)=>(r=e!=null?Jc(rm(e)):{},Pl(t||!e||!e.__esModule?ta(r,"default",{value:e,enumerable:!0}):r,e)),"B"),om=S(e=>Pl(ta({},"__esModule",{value:!0}),e),"xi"),kl={};nm(kl,{AccessControlContext:()=>ia,AuthPage:()=>$f,Authenticated:()=>Fs,CanAccess:()=>Zf,ErrorComponent:()=>qf,GitHubBanner:()=>Jf,KeyBuilder:()=>_n,LayoutWrapper:()=>Qf,LoginPage:()=>qs,ReadyPage:()=>Is,Refine:()=>Kf,ResourceContext:()=>aa,RouteChangeHandler:()=>Ts,TranslationContext:()=>Pr,UndoableQueue:()=>Ls,WelcomePage:()=>Nf,createTreeView:()=>ym,file2Base64:()=>Mm,generateDefaultDocumentTitle:()=>Zl,getDefaultFilter:()=>Nm,getDefaultSortOrder:()=>Am,getNextPageParam:()=>Hl,getPreviousPageParam:()=>Kl,handleUseParams:()=>um,importCSVMapper:()=>Il,keys:()=>Gt,legacyResourceTransform:()=>Ql,matchResourceFromRoute:()=>gm,parseTableParams:()=>Yn,parseTableParamsFromQuery:()=>$m,pickDataProvider:()=>se,pickNotDeprecated:()=>G,queryKeys:()=>dm,routeGenerator:()=>zl,setInitialFilters:()=>Vn,setInitialSorters:()=>Hn,stringifyTableParams:()=>jn,unionFilters:()=>ea,unionSorters:()=>Un,useActiveAuthProvider:()=>De,useApiUrl:()=>up,useAuthenticated:()=>zm,useBack:()=>Cs,useBreadcrumb:()=>Pf,useCan:()=>Ps,useCanWithoutCache:()=>mf,useCancelNotification:()=>Br,useCheckError:()=>jm,useCreate:()=>io,useCreateMany:()=>is,useCustom:()=>mp,useCustomMutation:()=>vp,useDataProvider:()=>Xe,useDelete:()=>rp,useDeleteMany:()=>sp,useExport:()=>Hp,useForgotPassword:()=>ro,useForm:()=>_p,useGetIdentity:()=>Jn,useGetLocale:()=>jp,useGetToPath:()=>uo,useGo:()=>yt,useHandleNotification:()=>dt,useImport:()=>ef,useInfiniteList:()=>xp,useInvalidate:()=>Bt,useIsAuthenticated:()=>_a,useIsExistAuthentication:()=>as,useLink:()=>Ga,useList:()=>no,useLiveMode:()=>ys,useLoadingOvertime:()=>je,useLog:()=>kr,useLogList:()=>Cf,useLogin:()=>Qa,useLogout:()=>Ua,useMany:()=>ns,useMenu:()=>Sf,useMeta:()=>Te,useModal:()=>tf,useMutationMode:()=>Or,useNavigation:()=>ht,useNotification:()=>Jt,useOnError:()=>rt,useOne:()=>oo,useParse:()=>vs,useParsed:()=>Pt,usePermissions:()=>rs,usePublish:()=>wr,useRedirectionAfterSubmission:()=>xs,useRefineContext:()=>tt,useRegister:()=>to,useResource:()=>ce,useResourceSubscription:()=>oa,useResourceWithRoute:()=>gs,useRouterContext:()=>ct,useRouterType:()=>Oe,useSelect:()=>vf,useSetLocale:()=>zp,useShow:()=>Zp,useSubscription:()=>Np,useSyncWithLocation:()=>Jl,useTable:()=>ks,useTitle:()=>Fm,useToPath:()=>af,useTranslate:()=>xe,useUpdate:()=>Kn,useUpdateMany:()=>ip,useUpdatePassword:()=>ao,useUserFriendlyName:()=>Zn,useWarnAboutChange:()=>Xn,userFriendlyResourceName:()=>Ll});$s.exports=om(kl);var hr=X(i("react")),Li=i("@tanstack/react-query"),Fi=ve(),Qn=X(i("qs")),Sl=X(i("lodash/unionWith")),ql=X(i("lodash/differenceWith")),im=X(i("warn-once")),Sn=b(e=>e/1e3,"userFriendlySecond"),lm=X(i("lodash/zip")),sm=X(i("lodash/fromPairs")),Il=b((e,t=r=>r)=>{let[r,...a]=e;return a.map(n=>(0,sm.default)((0,lm.default)(r,n))).map((n,o,l)=>t.call(void 0,n,o,l))},"importCSVMapper"),Ti=X(i("pluralize")),Ll=b((e="",t)=>{let r=jl(e);return t==="singular"?Ti.default.singular(r):Ti.default.plural(r)},"userFriendlyResourceName"),um=b((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),G=b((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function Lt(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((n,o)=>e[a+o]===n))}S(Lt,"Ye");b(Lt,"arrayFindIndex");function Fl(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(Lt(e,["auth","login"])!==-1)return["useLogin"];if(Lt(e,["auth","logout"])!==-1)return["useLogout"];if(Lt(e,["auth","identity"])!==-1)return["getUserIdentity"];if(Lt(e,["auth","register"])!==-1)return["useRegister"];if(Lt(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(Lt(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(Lt(e,["auth","onError"])!==-1)return["useCheckError"];if(Lt(e,["auth","permissions"])!==-1)return["usePermissions"];if(Lt(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}S(Fl,"Ci");b(Fl,"convertToLegacy");var ut=S(class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return Fl(this.segments)}get(e){return e?this.legacy():this.segments}},"ve");b(ut,"BaseKeyBuilder");var Ot=S(class extends ut{constructor(e){super(e)}params(e){return new ut([...this.segments,e])}},"We");b(Ot,"ParamsKeyBuilder");var Tl=S(class extends ut{constructor(e){super(e)}id(e){return new Ot([...this.segments,e?String(e):void 0])}},"Mr");b(Tl,"DataIdRequiringKeyBuilder");var $l=S(class extends ut{constructor(e){super(e)}ids(...e){return new Ot([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}},"Ir");b($l,"DataIdsRequiringKeyBuilder");var Al=S(class extends ut{constructor(e){super(e)}action(e){if(e==="one")return new Tl([...this.segments,e]);if(e==="many")return new $l([...this.segments,e]);if(["list","infinite"].includes(e))return new Ot([...this.segments,e]);throw new Error("Invalid action type")}},"wr");b(Al,"DataResourceKeyBuilder");var Nl=S(class extends ut{constructor(e){super(e)}resource(e){return new Al([...this.segments,e])}mutation(e){return new Ot([...e==="custom"?this.segments:[this.segments[0]],e])}},"Sr");b(Nl,"DataKeyBuilder");var Ml=S(class extends ut{constructor(e){super(e)}action(e){return new Ot([...this.segments,e])}},"Ar");b(Ml,"AuthKeyBuilder");var Rl=S(class extends ut{constructor(e){super(e)}action(e){return new Ot([...this.segments,e])}},"kr");b(Rl,"AccessResourceKeyBuilder");var Dl=S(class extends ut{constructor(e){super(e)}resource(e){return new Rl([...this.segments,e])}},"Qr");b(Dl,"AccessKeyBuilder");var Ol=S(class extends ut{constructor(e){super(e)}action(e){return new Ot([...this.segments,e])}},"Fr");b(Ol,"AuditActionKeyBuilder");var Bl=S(class extends ut{constructor(e){super(e)}resource(e){return new Ol([...this.segments,e])}action(e){return new Ot([...this.segments,e])}},"Vr");b(Bl,"AuditKeyBuilder");var _n=S(class extends ut{constructor(e){super(e)}data(e){return new Nl(["data",e||"default"])}auth(){return new Ml(["auth"])}access(){return new Dl(["access"])}audit(){return new Bl(["audit"])}},"Pt");b(_n,"KeyBuilder");var Gt=b(()=>new _n([]),"keys"),dm=b((e,t,r,a)=>{let n=t||"default",o={all:[n],resourceAll:[n,e||""],list:l=>[...o.resourceAll,"list",{...l,...G(r,a)||{}}],many:l=>[...o.resourceAll,"getMany",l&&l.map(String),{...G(r,a)||{}}].filter(s=>s!==void 0),detail:l=>[...o.resourceAll,"detail",l==null?void 0:l.toString(),{...G(r,a)||{}}],logList:l=>["logList",e,l,a].filter(s=>s!==void 0)};return o},"queryKeys"),Ha=b(e=>(t,r,a,n)=>{let o=r||"default";return{all:Gt().data(o).get(e),resourceAll:Gt().data(r).resource(t??"").get(e),list:l=>Gt().data(r).resource(t??"").action("list").params({...l,...G(a,n)||{}}).get(e),many:l=>Gt().data(r).resource(t??"").action("many").ids(...l??[]).params({...G(a,n)||{}}).get(e),detail:l=>Gt().data(r).resource(t??"").action("one").id(l??"").params({...G(a,n)||{}}).get(e),logList:l=>[...Gt().audit().resource(t).action("list").params(l).get(e),n].filter(s=>s!==void 0)}},"queryKeysReplacement"),cm=b((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),Gn=b(e=>e.startsWith(":"),"isParameter"),Rr=b(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),mm=b((e,t)=>{let r=Rr(e),a=Rr(t);return r.length===a.length},"isSegmentCountsSame"),Dt=b(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),pm=b((e,t)=>{let r=Dt(e),a=Dt(t);if(!mm(r,a))return!1;let n=Rr(r);return Rr(a).every((o,l)=>Gn(o)||o===n[l])},"checkBySegments"),fm=b((e,t,r)=>{let a=Dt(r||""),n=`${a}${a?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},"getDefaultActionPath"),Zt=b((e,t)=>{var r,a;let n=G((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return n?t.find(o=>(o.identifier??o.name)===n)??{name:n}:void 0},"getParentResource"),Wl=b((e,t,r)=>{let a=[],n=Zt(e,t);for(;n;)a.push(n),n=Zt(n,t);if(a.length!==0)return`/${a.reverse().map(o=>{var l;let s=r?((l=o.options)==null?void 0:l.route)??o.name:o.name;return Dt(s)}).join("/")}`},"getParentPrefixForResource"),lt=b((e,t,r)=>{let a=[],n=["list","show","edit","create","clone"],o=Wl(e,t,r);return n.forEach(l=>{var s,m;let g=r&&l==="clone"?e.create:e[l],y;typeof g=="function"||r?y=fm(r?((s=e.meta)==null?void 0:s.route)??((m=e.options)==null?void 0:m.route)??e.name:e.name,l,r?o:void 0):typeof g=="string"?y=g:typeof g=="object"&&(y=g.path),y&&a.push({action:l,resource:e,route:`/${y.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),vm=b(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(o=>({...o,splitted:Rr(Dt(o.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,n=[...r];for(let o=0;o<a;o++){let l=n.filter(s=>!Gn(s.splitted[o]));if(l.length!==0){if(l.length===1){n=l;break}n=l}}return n[0]},"pickMatchedRoute"),gm=b((e,t)=>{let r=t.flatMap(n=>lt(n,t)).filter(n=>pm(e,n.route)),a=vm(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),zl=b((e,t)=>{var r;let a,n=Wl(e,t,!0);if(n){let o=G(e.meta,e.options);a=`${n}/${(o==null?void 0:o.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),ym=b(e=>{var t;let r=[],a={},n={},o,l;for(let s=0;s<e.length;s++){o=e[s];let m=o.route??((t=G(o==null?void 0:o.meta,o.options))==null?void 0:t.route)??"";a[m]=o,a[m].children=[],n[o.name]=o,n[o.name].children=[]}for(let s in a)a.hasOwnProperty(s)&&(l=a[s],l.parentName&&n[l.parentName]?n[l.parentName].children.push(l):r.push(l));return r},"createTreeView"),jl=b(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),Ul=X(i("react")),$i=X(i("pluralize")),hm=X(i("react")),Vl=b(({children:e})=>hm.default.createElement("div",null,e),"DefaultLayout"),et={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:jl,plural:$i.default.plural,singular:$i.default.singular},disableServerSideValidation:!1},Yt=Ul.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Vl,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:et}),bm=b(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:n,children:o,DashboardPage:l,Title:s,Layout:m=Vl,Header:g,Sider:y,Footer:E,OffLayoutArea:k,LoginPage:p=qs,catchAll:w,liveMode:f="off",onLiveEvent:v,options:u})=>Ul.default.createElement(Yt.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:s,undoableTimeout:n,Layout:m,Header:g,Sider:y,Footer:E,OffLayoutArea:k,DashboardPage:l,LoginPage:p,catchAll:w,liveMode:f,onLiveEvent:v,options:u}},o),"RefineContextProvider"),xm=b(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:n,reactQueryDevtoolConfig:o,syncWithLocation:l,undoableTimeout:s,warnWhenUnsavedChanges:m}={})=>{var g,y,E,k,p,w,f,v;let u={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??et.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??s??et.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??l??et.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??m??et.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??et.liveMode,redirect:{afterCreate:((g=e==null?void 0:e.redirect)==null?void 0:g.afterCreate)??et.redirect.afterCreate,afterClone:((y=e==null?void 0:e.redirect)==null?void 0:y.afterClone)??et.redirect.afterClone,afterEdit:((E=e==null?void 0:e.redirect)==null?void 0:E.afterEdit)??et.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??et.overtime,textTransformers:{humanize:((k=e==null?void 0:e.textTransformers)==null?void 0:k.humanize)??et.textTransformers.humanize,plural:((p=e==null?void 0:e.textTransformers)==null?void 0:p.plural)??et.textTransformers.plural,singular:((w=e==null?void 0:e.textTransformers)==null?void 0:w.singular)??et.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??et.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},C=(e==null?void 0:e.disableTelemetry)??t??!1,P={clientConfig:((f=e==null?void 0:e.reactQuery)==null?void 0:f.clientConfig)??n??{},devtoolConfig:((v=e==null?void 0:e.reactQuery)==null?void 0:v.devtoolConfig)??o??{}};return{optionsWithDefaults:u,disableTelemetryWithDefault:C,reactQueryWithDefaults:P}},"handleRefineOptions"),Cm=b(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),Ai=b(async(e,t,r)=>{let a=[];for(let[n,o]of e.entries())try{let l=await o();a.push(t(l,n))}catch(l){a.push(r(l,n))}return a},"sequentialPromises"),Ke=b((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(o=>Dt(o.route??"")===Dt(e))||t.find(o=>o.name===e);let a=t.find(n=>n.identifier===e);return a||(a=t.find(n=>n.name===e)),a},"pickResource"),se=b((e,t,r)=>{if(t)return t;let a=Ke(e,r),n=G(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},"pickDataProvider"),Ka=b(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),Hl=b(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/n);return a<o?Number(a)+1:void 0},"getNextPageParam"),Kl=b(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),Ql=b(e=>{let t=[];return e.forEach(r=>{var a,n;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((n=r.options)==null?void 0:n.label),route:zl(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),Em=b(e=>Rr(Dt(e)).flatMap(t=>Gn(t)?[t.slice(1)]:[]),"pickRouteParams"),wm=b((e,t={})=>e.reduce((r,a)=>{let n=t[a];return typeof n<"u"&&(r[a]=n),r},{}),"prepareRouteParams"),vt=b((e,t={},r={},a={})=>{let n=Em(e),o=wm(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(l,s)=>{let m=o[s];return typeof m<"u"?`${m}`:l})},"composeRoute"),Dr=X(i("react")),_l=Dr.default.createContext({}),Pm=b(({children:e,isProvided:t,...r})=>{let{replace:a}=ht(),n=b(async m=>{var g;try{return await((g=r.login)==null?void 0:g.call(r,m))}catch(y){return Promise.reject(y)}},"loginFunc"),o=b(async m=>{var g;try{return await((g=r.register)==null?void 0:g.call(r,m))}catch(y){return Promise.reject(y)}},"registerFunc"),l=b(async m=>{var g;try{return await((g=r.logout)==null?void 0:g.call(r,m))}catch(y){return Promise.reject(y)}},"logoutFunc"),s=b(async m=>{var g;try{return await((g=r.checkAuth)==null?void 0:g.call(r,m)),Promise.resolve()}catch(y){return y!=null&&y.redirectPath&&a(y.redirectPath),Promise.reject(y)}},"checkAuthFunc");return Dr.default.createElement(_l.Provider,{value:{...r,login:n,logout:l,checkAuth:s,register:o,isProvided:t}},e)},"LegacyAuthContextProvider"),Gl=Dr.default.createContext({}),km=b(({children:e,isProvided:t,...r})=>{let a=b(async g=>{var y;try{return await((y=r.login)==null?void 0:y.call(r,g))}catch(E){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",E),Promise.reject(E)}},"handleLogin"),n=b(async g=>{var y;try{return await((y=r.register)==null?void 0:y.call(r,g))}catch(E){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",E),Promise.reject(E)}},"handleRegister"),o=b(async g=>{var y;try{return await((y=r.logout)==null?void 0:y.call(r,g))}catch(E){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",E),Promise.reject(E)}},"handleLogout"),l=b(async g=>{var y;try{let E=await((y=r.check)==null?void 0:y.call(r,g));return Promise.resolve(E)}catch(E){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",E),Promise.reject(E)}},"handleCheck"),s=b(async g=>{var y;try{let E=await((y=r.forgotPassword)==null?void 0:y.call(r,g));return Promise.resolve(E)}catch(E){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",E),Promise.reject(E)}},"handleForgotPassword"),m=b(async g=>{var y;try{let E=await((y=r.updatePassword)==null?void 0:y.call(r,g));return Promise.resolve(E)}catch(E){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",E),Promise.reject(E)}},"handleUpdatePassword");return Dr.default.createElement(Gl.Provider,{value:{...r,login:a,logout:o,check:l,register:n,forgotPassword:s,updatePassword:m,isProvided:t}},e)},"AuthBindingsContextProvider"),gt=b(()=>Dr.default.useContext(_l),"useLegacyAuthContext"),wt=b(()=>Dr.default.useContext(Gl),"useAuthBindingsContext"),De=b(()=>{let e=gt(),t=wt();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),Xl=b(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",n=(t==null?void 0:t.mode)??a,o=G(t==null?void 0:t.current,r==null?void 0:r.current)??1,l=G(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:o,pageSize:l,mode:n}},"handlePaginationParams"),Ni=i("react"),Mi=b(e=>{let[t,r]=(0,Ni.useState)(!1);return(0,Ni.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let n=b(()=>r(a.matches),"listener");return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t},"useMediaQuery"),qn=b((e,t,r,a)=>{let n=a?e(t,a,r):e(t,r);return n===t||typeof n>"u"?r??t:n},"safeTranslate");function Zl(e,t,r,a,n){var o;let l={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},s=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),m=(t==null?void 0:t.label)??((o=t==null?void 0:t.meta)==null?void 0:o.label)??Ll(s,r==="list"?"plural":"singular"),g=n??m,y=qn(e,"documentTitle.default","refine"),E=qn(e,"documentTitle.suffix"," | refine"),k=y;return r&&s&&(k=qn(e,`documentTitle.${s}.${r}`,`${l[r]??""}${g}${E}`,{id:a})),k}S(Zl,"Ko");b(Zl,"generateDefaultDocumentTitle");var Sm=i("react"),Or=b(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Sm.useContext)(Yt);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Ri=i("react"),zn=X(i("react")),Yl=zn.default.createContext({}),qm=b(({children:e})=>{let[t,r]=(0,zn.useState)(!1);return zn.default.createElement(Yl.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),Xn=b(()=>{let{warnWhenUnsavedChanges:e}=(0,Ri.useContext)(Yt),{warnWhen:t,setWarnWhen:r}=(0,Ri.useContext)(Yl);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),Im=i("react"),Jl=b(()=>{let{syncWithLocation:e}=(0,Im.useContext)(Yt);return{syncWithLocation:e}},"useSyncWithLocation"),Lm=i("react"),Fm=b(()=>{let{Title:e}=(0,Lm.useContext)(Yt);return e},"useTitle"),Tm=i("react"),tt=b(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:s,syncWithLocation:m,undoableTimeout:g,warnWhenUnsavedChanges:y,DashboardPage:E,LoginPage:k,catchAll:p,options:w}=(0,Tm.useContext)(Yt);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:s,syncWithLocation:m,undoableTimeout:g,warnWhenUnsavedChanges:y,DashboardPage:E,LoginPage:k,catchAll:p,options:w}},"useRefineContext"),Zn=b(()=>{let{options:{textTransformers:e}}=tt();return b((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),Yn=b(e=>{let{current:t,pageSize:r,sorter:a,sorters:n,filters:o}=Qn.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:G(n,a)??[],parsedFilters:o??[]}},"parseTableParams"),$m=b(e=>{let t=Qn.default.stringify(e);return Yn(`/${t}`)},"parseTableParamsFromQuery"),jn=b(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:n,filters:o,...l}=e;return Qn.default.stringify({...l,...r||{},sorters:G(n,a),filters:o},t)},"stringifyTableParams"),es=b((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),ts=b((e,t)=>e.field==t.field,"compareSorters"),ea=b((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,im.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Sl.default)(e,t,r,es).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),Un=b((e,t)=>(0,Sl.default)(e,t,ts).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Vn=b((e,t)=>[...(0,ql.default)(t,e,es),...e],"setInitialFilters"),Hn=b((e,t)=>[...(0,ql.default)(t,e,ts),...e],"setInitialSorters"),Am=b((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),Nm=b((e,t,r="eq")=>{let a=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:o,field:l}=n;return l===e&&o===r}});if(a)return a.value||[]},"getDefaultFilter"),Mm=b(e=>new Promise((t,r)=>{let a=new FileReader,n=b(()=>{a.result&&(a.removeEventListener("load",n,!1),t(a.result))},"resultHandler");a.addEventListener("load",n,!1),a.readAsDataURL(e.originFileObj),a.onerror=o=>(a.removeEventListener("load",n,!1),r(o))}),"file2Base64"),ge=b(()=>{let{options:{useNewQueryKeys:e}}=tt();return{keys:Gt,preferLegacyKeys:!e}},"useKeys");function rs({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=gt(),{getPermissions:a}=wt(),{keys:n,preferLegacyKeys:o}=ge(),l=(0,Li.useQuery)(n().auth().action("permissions").get(o),a??(()=>Promise.resolve(void 0)),{enabled:!e&&!!a,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,Fi.getXRay)("usePermissions",o)}}),s=(0,Li.useQuery)([...n().auth().action("permissions").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Fi.getXRay)("usePermissions",o)}});return e?s:l}S(rs,"mn");b(rs,"usePermissions");var Di=i("@tanstack/react-query"),Oi=ve();function Jn({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=gt(),{getIdentity:a}=wt(),{keys:n,preferLegacyKeys:o}=ge(),l=(0,Di.useQuery)(n().auth().action("identity").get(o),a??(()=>Promise.resolve({})),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Oi.getXRay)("useGetIdentity",o)}}),s=(0,Di.useQuery)([...n().auth().action("identity").get(o),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Oi.getXRay)("useGetIdentity",o)}});return e?s:l}S(Jn,"zr");b(Jn,"useGetIdentity");var Bi=i("@tanstack/react-query"),Wi=ve(),Rm=i("@tanstack/react-query"),eo=b(()=>{let e=(0,Rm.useQueryClient)(),{keys:t,preferLegacyKeys:r}=ge();return b(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function Ua({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=eo(),a=Oe(),n=yt(),{push:o}=ht(),{open:l,close:s}=Jt(),{logout:m}=gt(),{logout:g}=wt(),{keys:y,preferLegacyKeys:E}=ge(),k=(0,Bi.useMutation)(y().auth().action("logout").get(E),g,{onSuccess:async(w,f)=>{let{success:v,error:u,redirectTo:C}=w,{redirectPath:P}=f??{},q=P??C;v&&(s==null||s("useLogout-error")),(u||!v)&&(l==null||l(In(u))),await r(),q!==!1&&(a==="legacy"?o(q??"/login"):q&&n({to:q}))},onError:w=>{l==null||l(In(w))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Wi.getXRay)("useLogout",E)}}),p=(0,Bi.useMutation)([...y().auth().action("logout").get(E),"v3LegacyAuthProviderCompatible"],m,{onSuccess:async(w,f)=>{let v=(f==null?void 0:f.redirectPath)??w;if(await r(),v!==!1){if(v){a==="legacy"?o(v):n({to:v});return}a==="legacy"?o("/login"):n({to:"/login"})}},onError:w=>{l==null||l(In(w))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Wi.getXRay)("useLogout",E)}});return e?p:k}S(Ua,"pr");b(Ua,"useLogout");var In=b(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),Dm=X(i("react")),zi=i("@tanstack/react-query"),ji=ve(),Om=X(i("qs"));function Qa({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=eo(),a=Oe(),n=yt(),{replace:o}=ht(),l=Pt(),{useLocation:s}=ct(),{search:m}=s(),{close:g,open:y}=Jt(),{login:E}=gt(),{login:k}=wt(),{keys:p,preferLegacyKeys:w}=ge(),f=Dm.default.useMemo(()=>{var C;return a==="legacy"?Om.default.parse(m,{ignoreQueryPrefix:!0}).to:(C=l.params)==null?void 0:C.to},[a,l.params,m]),v=(0,zi.useMutation)(p().auth().action("login").get(w),k,{onSuccess:async({success:C,redirectTo:P,error:q})=>{C&&(g==null||g("login-error")),(q||!C)&&(y==null||y(Ln(q))),await r(),f&&C?a==="legacy"?o(f):n({to:f,type:"replace"}):P?a==="legacy"?o(P):n({to:P,type:"replace"}):a==="legacy"&&o("/")},onError:C=>{y==null||y(Ln(C))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ji.getXRay)("useLogin",w)}}),u=(0,zi.useMutation)([...p().auth().action("login").get(w),"v3LegacyAuthProviderCompatible"],E,{onSuccess:async C=>{await r(),f&&o(f),C!==!1&&!f&&(typeof C=="string"?a==="legacy"?o(C):n({to:C,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"})),g==null||g("login-error")},onError:C=>{y==null||y(Ln(C))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ji.getXRay)("useLogin",w)}});return e?u:v}S(Qa,"At");b(Qa,"useLogin");var Ln=b(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),Ui=i("@tanstack/react-query"),Vi=ve();function to({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=eo(),a=Oe(),n=yt(),{replace:o}=ht(),{register:l}=gt(),{register:s}=wt(),{close:m,open:g}=Jt(),{keys:y,preferLegacyKeys:E}=ge(),k=(0,Ui.useMutation)(y().auth().action("register").get(E),s,{onSuccess:async({success:w,redirectTo:f,error:v})=>{w&&(m==null||m("register-error")),(v||!w)&&(g==null||g(Fn(v))),await r(),f?a==="legacy"?o(f):n({to:f,type:"replace"}):a==="legacy"&&o("/")},onError:w=>{g==null||g(Fn(w))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Vi.getXRay)("useRegister",E)}}),p=(0,Ui.useMutation)([...y().auth().action("register").get(E),"v3LegacyAuthProviderCompatible"],l,{onSuccess:async w=>{await r(),w!==!1&&(w?a==="legacy"?o(w):n({to:w,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"}),m==null||m("register-error"))},onError:w=>{g==null||g(Fn(w))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Vi.getXRay)("useRegister",E)}});return e?p:k}S(to,"jr");b(to,"useRegister");var Fn=b(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),Hi=i("@tanstack/react-query"),Ki=ve();function ro({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Oe(),a=yt(),{replace:n}=ht(),{forgotPassword:o}=gt(),{forgotPassword:l}=wt(),{close:s,open:m}=Jt(),{keys:g,preferLegacyKeys:y}=ge(),E=(0,Hi.useMutation)(g().auth().action("forgotPassword").get(y),l,{onSuccess:({success:p,redirectTo:w,error:f})=>{p&&(s==null||s("forgot-password-error")),(f||!p)&&(m==null||m(Tn(f))),w&&(r==="legacy"?n(w):a({to:w,type:"replace"}))},onError:p=>{m==null||m(Tn(p))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ki.getXRay)("useForgotPassword",y)}}),k=(0,Hi.useMutation)([...g().auth().action("forgotPassword").get(y),"v3LegacyAuthProviderCompatible"],o,{onSuccess:p=>{p!==!1&&p&&(r==="legacy"?n(p):a({to:p,type:"replace"})),s==null||s("forgot-password-error")},onError:p=>{m==null||m(Tn(p))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ki.getXRay)("useForgotPassword",y)}});return e?k:E}S(ro,"_r");b(ro,"useForgotPassword");var Tn=b(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),Bm=X(i("react")),Qi=i("@tanstack/react-query"),_i=ve(),Wm=X(i("qs"));function ao({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Oe(),a=yt(),{replace:n}=ht(),{updatePassword:o}=gt(),{updatePassword:l}=wt(),{close:s,open:m}=Jt(),{keys:g,preferLegacyKeys:y}=ge(),E=Pt(),{useLocation:k}=ct(),{search:p}=k(),w=Bm.default.useMemo(()=>r==="legacy"?Wm.default.parse(p,{ignoreQueryPrefix:!0})??{}:E.params??{},[p,E,r]),f=(0,Qi.useMutation)(g().auth().action("updatePassword").get(y),async u=>l==null?void 0:l({...w,...u}),{onSuccess:({success:u,redirectTo:C,error:P})=>{u&&(s==null||s("update-password-error")),(P||!u)&&(m==null||m($n(P))),C&&(r==="legacy"?n(C):a({to:C,type:"replace"}))},onError:u=>{m==null||m($n(u))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,_i.getXRay)("useUpdatePassword",y)}}),v=(0,Qi.useMutation)([...g().auth().action("updatePassword").get(y),"v3LegacyAuthProviderCompatible"],async u=>o==null?void 0:o({...w,...u}),{onSuccess:u=>{u!==!1&&u&&(r==="legacy"?n(u):a({to:u,type:"replace"})),s==null||s("update-password-error")},onError:u=>{m==null||m($n(u))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,_i.getXRay)("useUpdatePassword",y)}});return e?v:f}S(ao,"Or");b(ao,"useUpdatePassword");var $n=b(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),Gi=i("@tanstack/react-query"),Xi=ve();function _a({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=gt(),{check:a}=wt(),{keys:n,preferLegacyKeys:o}=ge(),l=(0,Gi.useQuery)(n().auth().action("check").params(t).get(o),async()=>await(a==null?void 0:a(t))??{},{retry:!1,enabled:!e,meta:{...(0,Xi.getXRay)("useIsAuthenticated",o)}}),s=(0,Gi.useQuery)([...n().auth().action("check").params(t).get(o),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,Xi.getXRay)("useIsAuthenticated",o)}});return e?s:l}S(_a,"lr");b(_a,"useIsAuthenticated");var zm=_a,Zi=i("@tanstack/react-query"),Yi=ve();function rt({v3LegacyAuthProviderCompatible:e=!1}={}){let t=Oe(),r=yt(),{replace:a}=ht(),{checkError:n}=gt(),{onError:o}=wt(),{keys:l,preferLegacyKeys:s}=ge(),{mutate:m}=Ua({v3LegacyAuthProviderCompatible:!!e}),{mutate:g}=Ua({v3LegacyAuthProviderCompatible:!!e}),y=(0,Zi.useMutation)(l().auth().action("onError").get(s),o,{onSuccess:({logout:k,redirectTo:p})=>{if(k){g({redirectPath:p});return}if(p){t==="legacy"?a(p):r({to:p,type:"replace"});return}},meta:{...(0,Yi.getXRay)("useOnError",s)}}),E=(0,Zi.useMutation)([...l().auth().action("onError").get(s),"v3LegacyAuthProviderCompatible"],n,{onError:k=>{m({redirectPath:k})},meta:{...(0,Yi.getXRay)("useOnError",s)}});return e?E:y}S(rt,"ae");b(rt,"useOnError");var jm=rt,as=b(()=>{let{isProvided:e}=gt(),{isProvided:t}=wt();return!!(t||e)},"useIsExistAuthentication"),Um=i("@tanstack/react-query"),Vm=ve(),An=i("react"),je=b(({isLoading:e,interval:t,onInterval:r})=>{let[a,n]=(0,An.useState)(void 0),{options:o}=tt(),{overtime:l}=o,s=t??l.interval,m=r??(l==null?void 0:l.onInterval);return(0,An.useEffect)(()=>{let g;return e&&(g=setInterval(()=>{n(y=>y===void 0?s:y+s)},s)),()=>{clearInterval(g),n(void 0)}},[e,s]),(0,An.useEffect)(()=>{m&&a&&m(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),no=b(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:l,successNotification:s,errorNotification:m,meta:g,metaData:y,liveMode:E,onLiveEvent:k,liveParams:p,dataProviderName:w,overtimeOptions:f})=>{let{resources:v,resource:u,identifier:C}=ce(e),P=Xe(),q=xe(),T=De(),{mutate:d}=rt({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),h=dt(),L=Te(),{keys:I,preferLegacyKeys:A}=ge(),M=se(C,w,v),c=G(g,y),$=G(r,t==null?void 0:t.filters),R=G(o,t==null?void 0:t.sort),F=G(a,t==null?void 0:t.hasPagination),O=Xl({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:F}),N=O.mode==="server",B=L({resource:u,meta:c}),H={meta:B,metaData:B,filters:$,hasPagination:N,pagination:O,sorters:R,config:{...t,sort:R}},D=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,{getList:U}=P(M);oa({resource:C,types:["*"],params:{meta:B,metaData:B,pagination:O,hasPagination:N,sort:R,sorters:R,filters:$,subscriptionType:"useList",...p},channel:`resources/${u==null?void 0:u.name}`,enabled:D,liveMode:E,onLiveEvent:k});let W=(0,Um.useQuery)(I().data(M).resource(C??"").action("list").params({...c||{},filters:$,hasPagination:N,...N&&{pagination:O},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(A),({queryKey:V,pageParam:z,signal:Q})=>U({resource:(u==null?void 0:u.name)??"",pagination:O,hasPagination:N,filters:$,sort:R,sorters:R,meta:{...B,queryContext:{queryKey:V,pageParam:z,signal:Q}},metaData:{...B,queryContext:{queryKey:V,pageParam:z,signal:Q}}}),{...l,enabled:typeof(l==null?void 0:l.enabled)<"u"?l==null?void 0:l.enabled:!!(u!=null&&u.name),select:V=>{var z;let Q=V,{current:Y,mode:J,pageSize:oe}=O;return J==="client"&&(Q={...Q,data:Q.data.slice((Y-1)*oe,Y*oe),total:Q.total}),l!=null&&l.select?(z=l==null?void 0:l.select)==null?void 0:z.call(l,Q):Q},onSuccess:V=>{var z;(z=l==null?void 0:l.onSuccess)==null||z.call(l,V);let Q=typeof s=="function"?s(V,H,C):s;h(Q)},onError:V=>{var z;d(V),(z=l==null?void 0:l.onError)==null||z.call(l,V);let Q=typeof m=="function"?m(V,H,C):m;h(Q,{key:`${C}-useList-notification`,message:q("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...l==null?void 0:l.meta,...(0,Vm.getXRay)("useList",A)}}),{elapsedTime:K}=je({isLoading:W.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...W,overtime:{elapsedTime:K}}},"useList"),Hm=i("@tanstack/react-query"),Km=ve(),oo=b(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:l,liveMode:s,onLiveEvent:m,liveParams:g,dataProviderName:y,overtimeOptions:E})=>{let{resources:k,resource:p,identifier:w}=ce(e),f=Xe(),v=xe(),u=De(),{mutate:C}=rt({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),P=dt(),q=Te(),{keys:T,preferLegacyKeys:d}=ge(),h=G(o,l),L=se(w,y,k),{getOne:I}=f(L),A=q({resource:p,meta:h});oa({resource:w,types:["*"],channel:`resources/${p==null?void 0:p.name}`,params:{ids:t?[t]:[],id:t,meta:A,metaData:A,subscriptionType:"useOne",...g},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(p==null?void 0:p.name)<"u"&&typeof t<"u",liveMode:s,onLiveEvent:m});let M=(0,Hm.useQuery)(T().data(L).resource(w??"").action("one").id(t??"").params({...h||{}}).get(d),({queryKey:$,pageParam:R,signal:F})=>I({resource:(p==null?void 0:p.name)??"",id:t,meta:{...A,queryContext:{queryKey:$,pageParam:R,signal:F}},metaData:{...A,queryContext:{queryKey:$,pageParam:R,signal:F}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:$=>{var R;(R=r==null?void 0:r.onSuccess)==null||R.call(r,$);let F=typeof a=="function"?a($,{id:t,...A},w):a;P(F)},onError:$=>{var R;C($),(R=r==null?void 0:r.onError)==null||R.call(r,$);let F=typeof n=="function"?n($,{id:t,...A},w):n;P(F,{key:`${t}-${w}-getOne-notification`,message:v("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Km.getXRay)("useOne",d)}}),{elapsedTime:c}=je({isLoading:M.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...M,overtime:{elapsedTime:c}}},"useOne"),Qm=i("@tanstack/react-query"),_m=ve(),ns=b(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:l,liveMode:s,onLiveEvent:m,liveParams:g,dataProviderName:y,overtimeOptions:E})=>{let{resources:k,resource:p,identifier:w}=ce(e),f=Xe(),v=xe(),u=De(),{mutate:C}=rt({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),P=dt(),q=Te(),{keys:T,preferLegacyKeys:d}=ge(),h=G(o,l),L=se(w,y,k),I=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:A,getOne:M}=f(L),c=q({resource:p,meta:h});oa({resource:w,types:["*"],params:{ids:t,meta:c,metaData:c,subscriptionType:"useMany",...g},channel:`resources/${p.name}`,enabled:I,liveMode:s,onLiveEvent:m});let $=(0,Qm.useQuery)(T().data(L).resource(w).action("many").ids(...t).params({...h||{}}).get(d),({queryKey:F,pageParam:O,signal:N})=>A?A({resource:p==null?void 0:p.name,ids:t,meta:{...c,queryContext:{queryKey:F,pageParam:O,signal:N}},metaData:{...c,queryContext:{queryKey:F,pageParam:O,signal:N}}}):Ka(t.map(B=>M({resource:p==null?void 0:p.name,id:B,meta:{...c,queryContext:{queryKey:F,pageParam:O,signal:N}},metaData:{...c,queryContext:{queryKey:F,pageParam:O,signal:N}}}))),{...r,onSuccess:F=>{var O;(O=r==null?void 0:r.onSuccess)==null||O.call(r,F);let N=typeof a=="function"?a(F,t,w):a;P(N)},onError:F=>{var O;C(F),(O=r==null?void 0:r.onError)==null||O.call(r,F);let N=typeof n=="function"?n(F,t,w):n;P(N,{key:`${t[0]}-${w}-getMany-notification`,message:v("notifications.error",{statusCode:F.statusCode},`Error (status code: ${F.statusCode})`),description:F.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,_m.getXRay)("useMany",d)}}),{elapsedTime:R}=je({isLoading:$.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...$,overtime:{elapsedTime:R}}},"useMany"),Ji=i("@tanstack/react-query"),Gm=ve(),za=X(i("react")),Nn=X(i("lodash/isEqual")),os=za.default.createContext({notifications:[],notificationDispatch:()=>!1}),Xm=[],Zm=b((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Nn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Nn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Nn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),Ym=b(({children:e})=>{let[t,r]=(0,za.useReducer)(Zm,Xm),a={notifications:t,notificationDispatch:r};return za.default.createElement(os.Provider,{value:a},e,typeof window<"u"&&t.map(n=>za.default.createElement(Ls,{key:`${n.id}-${n.resource}-queue`,notification:n})))},"UndoableQueueContextProvider"),Kn=b(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=ce(),n=(0,Ji.useQueryClient)(),o=Xe(),{mutationMode:l,undoableTimeout:s}=Or(),m=xe(),g=De(),{mutate:y}=rt({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),E=wr(),{log:k}=kr(),{notificationDispatch:p}=Br(),w=dt(),f=Bt(),v=Te(),{options:{textTransformers:u}}=tt(),{keys:C,preferLegacyKeys:P}=ge(),q=(0,Ji.useMutation)(({id:d,values:h,resource:L,mutationMode:I,undoableTimeout:A,onCancel:M,meta:c,metaData:$,dataProviderName:R})=>{let{resource:F,identifier:O}=a(L),N=v({resource:F,meta:G(c,$)}),B=I??l,H=A??s;return B!=="undoable"?o(se(O,R,r)).update({resource:F.name,id:d,variables:h,meta:N,metaData:N}):new Promise((D,U)=>{let W=b(()=>{o(se(O,R,r)).update({resource:F.name,id:d,variables:h,meta:N,metaData:N}).then(V=>D(V)).catch(V=>U(V))},"doMutation"),K=b(()=>{U({message:"mutationCancelled"})},"cancelMutation");M&&M(K),p({type:"ADD",payload:{id:d,resource:O,cancelMutation:K,doMutation:W,seconds:H,isSilent:!!M}})})},{onMutate:async({resource:d,id:h,mutationMode:L,values:I,dataProviderName:A,meta:M,metaData:c,optimisticUpdateMap:$={list:!0,many:!0,detail:!0}})=>{let{identifier:R}=a(d),F=G(M,c),O=Ha(P)(R,se(R,A,r),F),N=C().data(se(R,A,r)).resource(R),B=n.getQueriesData(N.get(P)),H=L??l;return await n.cancelQueries(N.get(P),void 0,{silent:!0}),H!=="pessimistic"&&($.list&&n.setQueriesData(N.action("list").params(F??{}).get(P),D=>{if(typeof $.list=="function")return $.list(D,I,h);if(!D)return null;let U=D.data.map(W=>{var K;return((K=W.id)==null?void 0:K.toString())===(h==null?void 0:h.toString())?{id:h,...W,...I}:W});return{...D,data:U}}),$.many&&n.setQueriesData(N.action("many").get(P),D=>{if(typeof $.many=="function")return $.many(D,I,h);if(!D)return null;let U=D.data.map(W=>{var K;return((K=W.id)==null?void 0:K.toString())===(h==null?void 0:h.toString())&&(W={id:h,...W,...I}),W});return{...D,data:U}}),$.detail&&n.setQueriesData(N.action("one").id(h).params(F??{}).get(P),D=>typeof $.detail=="function"?$.detail(D,I,h):D?{...D,data:{...D.data,...I}}:null)),{previousQueries:B,queryKey:O}},onSettled:(d,h,{id:L,resource:I,dataProviderName:A,invalidates:M=["list","many","detail"]})=>{let{identifier:c}=a(I);f({resource:c,dataProviderName:se(c,A,r),invalidates:M,id:L}),p({type:"REMOVE",payload:{id:L,resource:c}})},onSuccess:(d,{id:h,resource:L,successNotification:I,dataProviderName:A,values:M,meta:c,metaData:$},R)=>{var F;let{resource:O,identifier:N}=a(L),B=u.singular(N),H=typeof I=="function"?I(d,{id:h,values:M},N):I;w(H,{key:`${h}-${N}-notification`,description:m("notifications.success","Successful"),message:m("notifications.editSuccess",{resource:m(`${N}.${N}`,B)},`Successfully updated ${B}`),type:"success"}),E==null||E({channel:`resources/${O.name}`,type:"updated",payload:{ids:(F=d.data)!=null&&F.id?[d.data.id]:void 0},date:new Date});let D;if(R){let z=n.getQueryData(R.queryKey.detail(h));D=Object.keys(M||{}).reduce((Q,Y)=>{var J;return Q[Y]=(J=z==null?void 0:z.data)==null?void 0:J[Y],Q},{})}let{fields:U,operation:W,variables:K,...V}=G(c,$)||{};k==null||k.mutate({action:"update",resource:O.name,data:M,previousData:D,meta:{id:h,dataProviderName:se(N,A,r),...V}})},onError:(d,{id:h,resource:L,errorNotification:I,values:A},M)=>{let{identifier:c}=a(L);if(M)for(let $ of M.previousQueries)n.setQueryData($[0],$[1]);if(d.message!=="mutationCancelled"){y==null||y(d);let $=u.singular(c),R=typeof I=="function"?I(d,{id:h,values:A},c):I;w(R,{key:`${h}-${c}-notification`,message:m("notifications.editError",{resource:m(`${c}.${c}`,$),statusCode:d.statusCode},`Error when updating ${$} (status code: ${d.statusCode})`),description:d.message,type:"error"})}},mutationKey:C().data().mutation("update").get(P),...e,meta:{...e==null?void 0:e.meta,...(0,Gm.getXRay)("useUpdate",P)}}),{elapsedTime:T}=je({isLoading:q.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...q,overtime:{elapsedTime:T}}},"useUpdate"),Jm=i("@tanstack/react-query"),ep=ve(),io=b(({mutationOptions:e,overtimeOptions:t}={})=>{let r=De(),{mutate:a}=rt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Xe(),o=Bt(),{resources:l,select:s}=ce(),m=xe(),g=wr(),{log:y}=kr(),E=dt(),k=Te(),{options:{textTransformers:p}}=tt(),{keys:w,preferLegacyKeys:f}=ge(),v=(0,Jm.useMutation)(({resource:C,values:P,meta:q,metaData:T,dataProviderName:d})=>{let{resource:h,identifier:L}=s(C),I=k({resource:h,meta:G(q,T)});return n(se(L,d,l)).create({resource:h.name,variables:P,meta:I,metaData:I})},{onSuccess:(C,{resource:P,successNotification:q,dataProviderName:T,invalidates:d=["list","many"],values:h,meta:L,metaData:I})=>{var A,M;let{resource:c,identifier:$}=s(P),R=p.singular($),F=typeof q=="function"?q(C,h,$):q;E(F,{key:`create-${$}-notification`,message:m("notifications.createSuccess",{resource:m(`${$}.${$}`,R)},`Successfully created ${R}`),description:m("notifications.success","Success"),type:"success"}),o({resource:$,dataProviderName:se($,T,l),invalidates:d}),g==null||g({channel:`resources/${c.name}`,type:"created",payload:{ids:(A=C==null?void 0:C.data)!=null&&A.id?[C.data.id]:void 0},date:new Date});let O=k({resource:c,meta:G(L,I)}),{fields:N,operation:B,variables:H,...D}=O||{};y==null||y.mutate({action:"create",resource:c.name,data:h,meta:{dataProviderName:se($,T,l),id:((M=C==null?void 0:C.data)==null?void 0:M.id)??void 0,...D}})},onError:(C,{resource:P,errorNotification:q,values:T})=>{a(C);let{identifier:d}=s(P),h=p.singular(d),L=typeof q=="function"?q(C,T,d):q;E(L,{key:`create-${d}-notification`,description:C.message,message:m("notifications.createError",{resource:m(`${d}.${d}`,h),statusCode:C.statusCode},`There was an error creating ${h} (status code: ${C.statusCode})`),type:"error"})},mutationKey:w().data().mutation("create").get(f),...e,meta:{...e==null?void 0:e.meta,...(0,ep.getXRay)("useCreate",f)}}),{elapsedTime:u}=je({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:u}}},"useCreate"),el=i("@tanstack/react-query"),tp=ve(),rp=b(({mutationOptions:e,overtimeOptions:t}={})=>{let r=De(),{mutate:a}=rt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=Xe(),{resources:o,select:l}=ce(),s=(0,el.useQueryClient)(),{mutationMode:m,undoableTimeout:g}=Or(),{notificationDispatch:y}=Br(),E=xe(),k=wr(),{log:p}=kr(),w=dt(),f=Bt(),v=Te(),{options:{textTransformers:u}}=tt(),{keys:C,preferLegacyKeys:P}=ge(),q=(0,el.useMutation)(({id:d,mutationMode:h,undoableTimeout:L,resource:I,onCancel:A,meta:M,metaData:c,dataProviderName:$,values:R})=>{let{resource:F,identifier:O}=l(I),N=v({resource:F,meta:G(M,c)}),B=h??m,H=L??g;return B!=="undoable"?n(se(O,$,o)).deleteOne({resource:F.name,id:d,meta:N,metaData:N,variables:R}):new Promise((D,U)=>{let W=b(()=>{n(se(O,$,o)).deleteOne({resource:F.name,id:d,meta:N,metaData:N,variables:R}).then(V=>D(V)).catch(V=>U(V))},"doMutation"),K=b(()=>{U({message:"mutationCancelled"})},"cancelMutation");A&&A(K),y({type:"ADD",payload:{id:d,resource:O,cancelMutation:K,doMutation:W,seconds:H,isSilent:!!A}})})},{onMutate:async({id:d,resource:h,mutationMode:L,dataProviderName:I,meta:A,metaData:M})=>{let{identifier:c}=l(h),$=G(A,M),R=Ha(P)(c,se(c,I,o),$),F=C().data(se(c,I,o)).resource(c),O=L??m;await s.cancelQueries(F.get(P),void 0,{silent:!0});let N=s.getQueriesData(F.get(P));return O!=="pessimistic"&&(s.setQueriesData(F.action("list").params($??{}).get(P),B=>B?{data:B.data.filter(H=>{var D;return((D=H.id)==null?void 0:D.toString())!==d.toString()}),total:B.total-1}:null),s.setQueriesData(F.action("many").get(P),B=>{if(!B)return null;let H=B.data.filter(D=>{var U;return((U=D.id)==null?void 0:U.toString())!==(d==null?void 0:d.toString())});return{...B,data:H}})),{previousQueries:N,queryKey:R}},onSettled:(d,h,{id:L,resource:I,dataProviderName:A,invalidates:M=["list","many"]})=>{let{identifier:c}=l(I);f({resource:c,dataProviderName:se(c,A,o),invalidates:M}),y({type:"REMOVE",payload:{id:L,resource:c}})},onSuccess:(d,{id:h,resource:L,successNotification:I,dataProviderName:A,meta:M,metaData:c},$)=>{let{resource:R,identifier:F}=l(L),O=u.singular(F);s.removeQueries($==null?void 0:$.queryKey.detail(h));let N=typeof I=="function"?I(d,h,F):I;w(N,{key:`${h}-${F}-notification`,description:E("notifications.success","Success"),message:E("notifications.deleteSuccess",{resource:E(`${F}.${F}`,O)},`Successfully deleted a ${O}`),type:"success"}),k==null||k({channel:`resources/${R.name}`,type:"deleted",payload:{ids:[h]},date:new Date});let B=v({resource:R,meta:G(M,c)}),{fields:H,operation:D,variables:U,...W}=B||{};p==null||p.mutate({action:"delete",resource:R.name,meta:{id:h,dataProviderName:se(F,A,o),...W}}),s.removeQueries($==null?void 0:$.queryKey.detail(h))},onError:(d,{id:h,resource:L,errorNotification:I},A)=>{let{identifier:M}=l(L);if(A)for(let c of A.previousQueries)s.setQueryData(c[0],c[1]);if(d.message!=="mutationCancelled"){a(d);let c=u.singular(M),$=typeof I=="function"?I(d,h,M):I;w($,{key:`${h}-${M}-notification`,message:E("notifications.deleteError",{resource:c,statusCode:d.statusCode},`Error (status code: ${d.statusCode})`),description:d.message,type:"error"})}},mutationKey:C().data().mutation("delete").get(P),...e,meta:{...e==null?void 0:e.meta,...(0,tp.getXRay)("useDelete",P)}}),{elapsedTime:T}=je({isLoading:q.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...q,overtime:{elapsedTime:T}}},"useDelete"),ap=i("@tanstack/react-query"),np=ve(),is=b(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Xe(),{resources:a,select:n}=ce(),o=xe(),l=wr(),s=dt(),m=Bt(),{log:g}=kr(),y=Te(),{options:{textTransformers:E}}=tt(),{keys:k,preferLegacyKeys:p}=ge(),w=(0,ap.useMutation)(({resource:v,values:u,meta:C,metaData:P,dataProviderName:q})=>{let{resource:T,identifier:d}=n(v),h=y({resource:T,meta:G(C,P)}),L=r(se(d,q,a));return L.createMany?L.createMany({resource:T.name,variables:u,meta:h,metaData:h}):Ka(u.map(I=>L.create({resource:T.name,variables:I,meta:h,metaData:h})))},{onSuccess:(v,{resource:u,successNotification:C,dataProviderName:P,invalidates:q=["list","many"],values:T,meta:d,metaData:h})=>{let{resource:L,identifier:I}=n(u),A=E.plural(I),M=typeof C=="function"?C(v,T,I):C;s(M,{key:`createMany-${I}-notification`,message:o("notifications.createSuccess",{resource:o(`${I}.${I}`,I)},`Successfully created ${A}`),description:o("notifications.success","Success"),type:"success"}),m({resource:I,dataProviderName:se(I,P,a),invalidates:q});let c=v==null?void 0:v.data.filter(B=>(B==null?void 0:B.id)!==void 0).map(B=>B.id);l==null||l({channel:`resources/${L.name}`,type:"created",payload:{ids:c},date:new Date});let $=y({resource:L,meta:G(d,h)}),{fields:R,operation:F,variables:O,...N}=$||{};g==null||g.mutate({action:"createMany",resource:L.name,data:T,meta:{dataProviderName:se(I,P,a),ids:c,...N}})},onError:(v,{resource:u,errorNotification:C,values:P})=>{let{identifier:q}=n(u),T=typeof C=="function"?C(v,P,q):C;s(T,{key:`createMany-${q}-notification`,description:v.message,message:o("notifications.createError",{resource:o(`${q}.${q}`,q),statusCode:v.statusCode},`There was an error creating ${q} (status code: ${v.statusCode}`),type:"error"})},mutationKey:k().data().mutation("createMany").get(p),...e,meta:{...e==null?void 0:e.meta,...(0,np.getXRay)("useCreateMany",p)}}),{elapsedTime:f}=je({isLoading:w.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...w,overtime:{elapsedTime:f}}},"useCreateMany"),tl=i("@tanstack/react-query"),op=ve(),ip=b(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=ce(),n=(0,tl.useQueryClient)(),o=Xe(),l=xe(),{mutationMode:s,undoableTimeout:m}=Or(),g=De(),{mutate:y}=rt({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),{notificationDispatch:E}=Br(),k=wr(),p=dt(),w=Bt(),{log:f}=kr(),v=Te(),{options:{textTransformers:u}}=tt(),{keys:C,preferLegacyKeys:P}=ge(),q=(0,tl.useMutation)(({ids:d,values:h,resource:L,onCancel:I,mutationMode:A,undoableTimeout:M,meta:c,metaData:$,dataProviderName:R})=>{let{resource:F,identifier:O}=a(L),N=v({resource:F,meta:G(c,$)}),B=A??s,H=M??m,D=o(se(O,R,r)),U=b(()=>D.updateMany?D.updateMany({resource:F.name,ids:d,variables:h,meta:N,metaData:N}):Ka(d.map(W=>D.update({resource:F.name,id:W,variables:h,meta:N,metaData:N}))),"mutationFn");return B!=="undoable"?U():new Promise((W,K)=>{let V=b(()=>{U().then(Q=>W(Q)).catch(Q=>K(Q))},"doMutation"),z=b(()=>{K({message:"mutationCancelled"})},"cancelMutation");I&&I(z),E({type:"ADD",payload:{id:d,resource:O,cancelMutation:z,doMutation:V,seconds:H,isSilent:!!I}})})},{onMutate:async({resource:d,ids:h,values:L,mutationMode:I,dataProviderName:A,meta:M,metaData:c,optimisticUpdateMap:$={list:!0,many:!0,detail:!0}})=>{let{identifier:R}=a(d),F=G(M,c),O=Ha(P)(R,se(R,A,r),G(M,c)),N=C().data(se(R,A,r)).resource(R),B=I??s;await n.cancelQueries(N.get(P),void 0,{silent:!0});let H=n.getQueriesData(N.get(P));if(B!=="pessimistic"&&($.list&&n.setQueriesData(N.action("list").params(F??{}).get(P),D=>{if(typeof $.list=="function")return $.list(D,L,h);if(!D)return null;let U=D.data.map(W=>W.id!==void 0&&h.filter(K=>K!==void 0).map(String).includes(W.id.toString())?{...W,...L}:W);return{...D,data:U}}),$.many&&n.setQueriesData(N.action("many").get(P),D=>{if(typeof $.many=="function")return $.many(D,L,h);if(!D)return null;let U=D.data.map(W=>W.id!==void 0&&h.filter(K=>K!==void 0).map(String).includes(W.id.toString())?{...W,...L}:W);return{...D,data:U}}),$.detail))for(let D of h)n.setQueriesData(N.action("one").id(D).params(F??{}).get(P),U=>{if(typeof $.detail=="function")return $.detail(U,L,D);if(!U)return null;let W={...U.data,...L};return{...U,data:W}});return{previousQueries:H,queryKey:O}},onSettled:(d,h,{ids:L,resource:I,dataProviderName:A})=>{let{identifier:M}=a(I);w({resource:M,invalidates:["list","many"],dataProviderName:se(M,A,r)}),L.forEach(c=>w({resource:M,invalidates:["detail"],dataProviderName:se(M,A,r),id:c})),E({type:"REMOVE",payload:{id:L,resource:M}})},onSuccess:(d,{ids:h,resource:L,meta:I,metaData:A,dataProviderName:M,successNotification:c,values:$},R)=>{let{resource:F,identifier:O}=a(L),N=u.singular(O),B=typeof c=="function"?c(d,{ids:h,values:$},O):c;p(B,{key:`${h}-${O}-notification`,description:l("notifications.success","Successful"),message:l("notifications.editSuccess",{resource:l(`${O}.${O}`,O)},`Successfully updated ${N}`),type:"success"}),k==null||k({channel:`resources/${F.name}`,type:"updated",payload:{ids:h.map(String)},date:new Date});let H=[];R&&h.forEach(z=>{let Q=n.getQueryData(R.queryKey.detail(z));H.push(Object.keys($||{}).reduce((Y,J)=>{var oe;return Y[J]=(oe=Q==null?void 0:Q.data)==null?void 0:oe[J],Y},{}))});let D=v({resource:F,meta:G(I,A)}),{fields:U,operation:W,variables:K,...V}=D||{};f==null||f.mutate({action:"updateMany",resource:F.name,data:$,previousData:H,meta:{ids:h,dataProviderName:se(O,M,r),...V}})},onError:(d,{ids:h,resource:L,errorNotification:I,values:A},M)=>{let{identifier:c}=a(L);if(M)for(let $ of M.previousQueries)n.setQueryData($[0],$[1]);if(d.message!=="mutationCancelled"){y==null||y(d);let $=u.singular(c),R=typeof I=="function"?I(d,{ids:h,values:A},c):I;p(R,{key:`${h}-${c}-updateMany-error-notification`,message:l("notifications.editError",{resource:$,statusCode:d.statusCode},`Error when updating ${$} (status code: ${d.statusCode})`),description:d.message,type:"error"})}},mutationKey:C().data().mutation("updateMany").get(P),...e,meta:{...e==null?void 0:e.meta,...(0,op.getXRay)("useUpdateMany",P)}}),{elapsedTime:T}=je({isLoading:q.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...q,overtime:{elapsedTime:T}}},"useUpdateMany"),rl=i("@tanstack/react-query"),lp=ve(),sp=b(({mutationOptions:e,overtimeOptions:t}={})=>{let r=De(),{mutate:a}=rt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:n,undoableTimeout:o}=Or(),l=Xe(),{notificationDispatch:s}=Br(),m=xe(),g=wr(),y=dt(),E=Bt(),{log:k}=kr(),{resources:p,select:w}=ce(),f=(0,rl.useQueryClient)(),v=Te(),{options:{textTransformers:u}}=tt(),{keys:C,preferLegacyKeys:P}=ge(),q=(0,rl.useMutation)(({resource:d,ids:h,mutationMode:L,undoableTimeout:I,onCancel:A,meta:M,metaData:c,dataProviderName:$,values:R})=>{let{resource:F,identifier:O}=w(d),N=v({resource:F,meta:G(M,c)}),B=L??n,H=I??o,D=l(se(O,$,p)),U=b(()=>D.deleteMany?D.deleteMany({resource:F.name,ids:h,meta:N,metaData:N,variables:R}):Ka(h.map(W=>D.deleteOne({resource:F.name,id:W,meta:N,metaData:N,variables:R}))),"mutationFn");return B!=="undoable"?U():new Promise((W,K)=>{let V=b(()=>{U().then(Q=>W(Q)).catch(Q=>K(Q))},"doMutation"),z=b(()=>{K({message:"mutationCancelled"})},"cancelMutation");A&&A(z),s({type:"ADD",payload:{id:h,resource:O,cancelMutation:z,doMutation:V,seconds:H,isSilent:!!A}})})},{onMutate:async({ids:d,resource:h,mutationMode:L,dataProviderName:I,meta:A,metaData:M})=>{let{identifier:c}=w(h),$=G(A,M),R=Ha(P)(c,se(c,I,p),$),F=C().data(se(c,I,p)).resource(c),O=L??n;await f.cancelQueries(F.get(P),void 0,{silent:!0});let N=f.getQueriesData(F.get(P));if(O!=="pessimistic"){f.setQueriesData(F.action("list").params($??{}).get(P),B=>B?{data:B.data.filter(H=>H.id&&!d.map(String).includes(H.id.toString())),total:B.total-1}:null),f.setQueriesData(F.action("many").get(P),B=>{if(!B)return null;let H=B.data.filter(D=>D.id?!d.map(String).includes(D.id.toString()):!1);return{...B,data:H}});for(let B of d)f.setQueriesData(F.action("one").id(B).params($).get(P),H=>!H||H.data.id==B?null:{...H})}return{previousQueries:N,queryKey:R}},onSettled:(d,h,{resource:L,ids:I,dataProviderName:A,invalidates:M=["list","many"]})=>{let{identifier:c}=w(L);E({resource:c,dataProviderName:se(c,A,p),invalidates:M}),s({type:"REMOVE",payload:{id:I,resource:c}})},onSuccess:(d,{ids:h,resource:L,meta:I,metaData:A,dataProviderName:M,successNotification:c},$)=>{let{resource:R,identifier:F}=w(L);h.forEach(W=>f.removeQueries($==null?void 0:$.queryKey.detail(W)));let O=typeof c=="function"?c(d,h,F):c;y(O,{key:`${h}-${F}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${F}.${F}`,F)},`Successfully deleted ${F}`),type:"success"}),g==null||g({channel:`resources/${R.name}`,type:"deleted",payload:{ids:h},date:new Date});let N=v({resource:R,meta:G(I,A)}),{fields:B,operation:H,variables:D,...U}=N||{};k==null||k.mutate({action:"deleteMany",resource:R.name,meta:{ids:h,dataProviderName:se(F,M,p),...U}}),h.forEach(W=>f.removeQueries($==null?void 0:$.queryKey.detail(W)))},onError:(d,{ids:h,resource:L,errorNotification:I},A)=>{let{identifier:M}=w(L);if(A)for(let c of A.previousQueries)f.setQueryData(c[0],c[1]);if(d.message!=="mutationCancelled"){a(d);let c=u.singular(M),$=typeof I=="function"?I(d,h,M):I;y($,{key:`${h}-${M}-notification`,message:m("notifications.deleteError",{resource:c,statusCode:d.statusCode},`Error (status code: ${d.statusCode})`),description:d.message,type:"error"})}},mutationKey:C().data().mutation("deleteMany").get(P),...e,meta:{...e==null?void 0:e.meta,...(0,lp.getXRay)("useDeleteMany",P)}}),{elapsedTime:T}=je({isLoading:q.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...q,overtime:{elapsedTime:T}}},"useDeleteMany"),up=b(e=>{var t;let r=Xe(),{resource:a}=ce(),{getApiUrl:n}=r(e??((t=G(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return n()},"useApiUrl"),dp=i("@tanstack/react-query"),cp=ve(),mp=b(({url:e,method:t,config:r,queryOptions:a,successNotification:n,errorNotification:o,meta:l,metaData:s,dataProviderName:m,overtimeOptions:g})=>{let y=Xe(),E=De(),{mutate:k}=rt({v3LegacyAuthProviderCompatible:!!(E!=null&&E.isLegacy)}),p=xe(),w=dt(),f=Te(),{keys:v,preferLegacyKeys:u}=ge(),C=G(l,s),{custom:P}=y(m),q=f({meta:C});if(P){let T=(0,dp.useQuery)({queryKey:v().data(m).mutation("custom").params({method:t,url:e,...r,...C||{}}).get(u),queryFn:({queryKey:h,pageParam:L,signal:I})=>P({url:e,method:t,...r,meta:{...q,queryContext:{queryKey:h,pageParam:L,signal:I}},metaData:{...q,queryContext:{queryKey:h,pageParam:L,signal:I}}}),...a,onSuccess:h=>{var L;(L=a==null?void 0:a.onSuccess)==null||L.call(a,h);let I=typeof n=="function"?n(h,{...r,...q}):n;w(I)},onError:h=>{var L;k(h),(L=a==null?void 0:a.onError)==null||L.call(a,h);let I=typeof o=="function"?o(h,{...r,...q}):o;w(I,{key:`${t}-notification`,message:p("notifications.error",{statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,cp.getXRay)("useCustom",u)}}),{elapsedTime:d}=je({isLoading:T.isFetching,interval:g==null?void 0:g.interval,onInterval:g==null?void 0:g.onInterval});return{...T,overtime:{elapsedTime:d}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),pp=i("@tanstack/react-query"),fp=ve(),vp=b(({mutationOptions:e,overtimeOptions:t}={})=>{let r=De(),{mutate:a}=rt({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=dt(),o=Xe(),l=xe(),s=Te(),{keys:m,preferLegacyKeys:g}=ge(),y=(0,pp.useMutation)(({url:k,method:p,values:w,meta:f,metaData:v,dataProviderName:u,config:C})=>{let P=s({meta:G(f,v)}),{custom:q}=o(u);if(q)return q({url:k,method:p,payload:w,meta:P,metaData:P,headers:{...C==null?void 0:C.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(k,{successNotification:p,config:w,meta:f,metaData:v})=>{let u=typeof p=="function"?p(k,{...w,...G(f,v)||{}}):p;n(u)},onError:(k,{errorNotification:p,method:w,config:f,meta:v,metaData:u})=>{a(k);let C=typeof p=="function"?p(k,{...f,...G(v,u)||{}}):p;n(C,{key:`${w}-notification`,message:l("notifications.error",{statusCode:k.statusCode},`Error (status code: ${k.statusCode})`),description:k.message,type:"error"})},mutationKey:m().data().mutation("customMutation").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,fp.getXRay)("useCustomMutation",g)}}),{elapsedTime:E}=je({isLoading:y.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...y,overtime:{elapsedTime:E}}},"useCustomMutation"),al=i("react"),ls=X(i("react")),gp=b(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),lo=ls.default.createContext(gp()),yp=b(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},ls.default.createElement(lo.Provider,{value:r},e)},"DataContextProvider"),Xe=b(()=>{let e=(0,al.useContext)(lo);return(0,al.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),hp=i("@tanstack/react-query"),bp=ve(),xp=b(({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:l,successNotification:s,errorNotification:m,meta:g,metaData:y,liveMode:E,onLiveEvent:k,liveParams:p,dataProviderName:w,overtimeOptions:f})=>{let{resources:v,resource:u,identifier:C}=ce(e),P=Xe(),q=xe(),T=De(),{mutate:d}=rt({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),h=dt(),L=Te(),{keys:I,preferLegacyKeys:A}=ge(),M=se(C,w,v),c=G(g,y),$=G(r,t==null?void 0:t.filters),R=G(o,t==null?void 0:t.sort),F=G(a,t==null?void 0:t.hasPagination),O=Xl({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:F}),N=O.mode==="server",B={meta:c,metaData:c,filters:$,hasPagination:N,pagination:O,sorters:R,config:{...t,sort:R}},H=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,D=L({resource:u,meta:c}),{getList:U}=P(M);oa({resource:C,types:["*"],params:{meta:D,metaData:D,pagination:O,hasPagination:N,sort:R,sorters:R,filters:$,subscriptionType:"useList",...p},channel:`resources/${u.name}`,enabled:H,liveMode:E,onLiveEvent:k});let W=(0,hp.useInfiniteQuery)(I().data(M).resource(C).action("infinite").params({...c||{},filters:$,hasPagination:N,...N&&{pagination:O},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(A),({queryKey:V,pageParam:z,signal:Q})=>{let Y={...O,current:z};return U({resource:u.name,pagination:Y,hasPagination:N,filters:$,sort:R,sorters:R,meta:{...D,queryContext:{queryKey:V,pageParam:z,signal:Q}},metaData:{...D,queryContext:{queryKey:V,pageParam:z,signal:Q}}}).then(({data:J,total:oe,...de})=>({data:J,total:oe,pagination:Y,...de}))},{getNextPageParam:V=>Hl(V),getPreviousPageParam:V=>Kl(V),...l,onSuccess:V=>{var z;(z=l==null?void 0:l.onSuccess)==null||z.call(l,V);let Q=typeof s=="function"?s(V,B,C):s;h(Q)},onError:V=>{var z;d(V),(z=l==null?void 0:l.onError)==null||z.call(l,V);let Q=typeof m=="function"?m(V,B,C):m;h(Q,{key:`${C}-useInfiniteList-notification`,message:q("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...l==null?void 0:l.meta,...(0,bp.getXRay)("useInfiniteList",A)}}),{elapsedTime:K}=je({isLoading:W.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...W,overtime:{elapsedTime:K}}},"useInfiniteList"),Mn=i("react"),ss=X(i("react")),ra=ss.default.createContext(void 0),Cp=b(({liveProvider:e,children:t})=>ss.default.createElement(ra.Provider,{value:e},t),"LiveContextProvider"),Ep=i("react"),us=X(i("react")),wp=i("react"),Pp=i("react"),kp=X(i("lodash/isEqual")),Sp=b(e=>{let t=(0,Pp.useRef)(e);return(0,kp.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),ds=b((e,t)=>{let r=Sp(t);return(0,wp.useMemo)(e,r)},"useDeepMemo"),aa=us.default.createContext({resources:[]}),qp=b(({resources:e,children:t})=>{let r=ds(()=>Ql(e??[]),[e]);return us.default.createElement(aa.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),cs=X(i("react")),ms=cs.default.createContext("new"),Ip=ms.Provider,Oe=b(()=>cs.default.useContext(ms),"useRouterType"),Lp=X(i("react")),ps=X(i("react")),fs={},na=(0,ps.createContext)(fs),Fp=b(({children:e,router:t})=>ps.default.createElement(na.Provider,{value:t??fs},e),"RouterBindingsProvider"),nl=X(i("react")),vs=b(()=>{let e=(0,nl.useContext)(na);return nl.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),Pt=b(()=>{let e=vs();return Lp.default.useMemo(()=>e(),[e])},"useParsed");function ce(e){let{resources:t}=(0,Ep.useContext)(aa),r=Oe(),a=Pt(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},o=b((E,k=!0)=>{let p=Ke(E,t,r==="legacy");if(p)return{resource:p,identifier:p.identifier??p.name};if(k){let w={name:E,identifier:E},f=w.identifier??w.name;return{resource:w,identifier:f}}},"select"),l=gs(),{useParams:s}=ct(),m=s();if(r==="legacy"){let E=n.resourceNameOrRouteName?n.resourceNameOrRouteName:m.resource,k=E?l(E):void 0,p=(n==null?void 0:n.recordItemId)??m.id,w=m.action,f=(n==null?void 0:n.resourceName)??(k==null?void 0:k.name),v=(k==null?void 0:k.identifier)??(k==null?void 0:k.name);return{resources:t,resource:k,resourceName:f,id:p,action:w,select:o,identifier:v}}let g,y=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(y){let E=Ke(y,t);E?g=E:g={name:y}}else a!=null&&a.resource&&(g=a.resource);return{resources:t,resource:g,resourceName:g==null?void 0:g.name,id:a.id,action:a.action,select:o,identifier:(g==null?void 0:g.identifier)??(g==null?void 0:g.name)}}S(ce,"K");b(ce,"useResource");var ol=i("react"),gs=b(()=>{let{resources:e}=(0,ol.useContext)(aa);return(0,ol.useCallback)(t=>Ke(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),Tp=i("react"),$p=i("@tanstack/react-query"),Bt=b(()=>{let{resources:e}=ce(),t=(0,$p.useQueryClient)(),{keys:r,preferLegacyKeys:a}=ge();return(0,Tp.useCallback)(async({resource:n,dataProviderName:o,invalidates:l,id:s,invalidationFilters:m={type:"all",refetchType:"active"},invalidationOptions:g={cancelRefetch:!1}})=>{if(l===!1)return;let y=se(n,o,e),E=r().data(y).resource(n??"");await Promise.all(l.map(k=>{switch(k){case"all":return t.invalidateQueries(r().data(y).get(a),m,g);case"list":return t.invalidateQueries(E.action("list").get(a),m,g);case"many":return t.invalidateQueries(E.action("many").get(a),m,g);case"resourceAll":return t.invalidateQueries(E.get(a),m,g);case"detail":return t.invalidateQueries(E.action("one").id(s||"").get(a),m,g);default:return}}))},[])},"useInvalidate"),oa=b(({resource:e,params:t,channel:r,types:a,enabled:n=!0,liveMode:o,onLiveEvent:l})=>{let{resource:s,identifier:m}=ce(e),g=(0,Mn.useContext)(ra),{liveMode:y,onLiveEvent:E}=(0,Mn.useContext)(Yt),k=o??y,p=Bt();(0,Mn.useEffect)(()=>{let w,f=b(v=>{var u;k==="auto"&&p({resource:m,dataProviderName:(u=s==null?void 0:s.meta)==null?void 0:u.dataProviderName,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),l==null||l(v),E==null||E(v)},"callback");return k&&k!=="off"&&n&&(w=g==null?void 0:g.subscribe({channel:r,params:{resource:s==null?void 0:s.name,...t},types:a,callback:f})),()=>{w&&(g==null||g.unsubscribe(w))}},[n])},"useResourceSubscription"),Ap=i("react"),ys=b(e=>{let{liveMode:t}=(0,Ap.useContext)(Yt);return e??t},"useLiveMode"),il=i("react"),Np=b(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:n})=>{let o=(0,il.useContext)(ra);(0,il.useEffect)(()=>{let l;return a&&(l=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:n})),()=>{l&&(o==null||o.unsubscribe(l))}},[a])},"useSubscription"),Mp=i("react"),wr=b(()=>{let e=(0,Mp.useContext)(ra);return e==null?void 0:e.publish},"usePublish"),Rp=i("react"),Br=b(()=>{let{notifications:e,notificationDispatch:t}=(0,Rp.useContext)(os);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),Dp=i("react"),hs=X(i("react")),so=(0,hs.createContext)({}),Op=b(({open:e,close:t,children:r})=>hs.default.createElement(so.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),Jt=b(()=>{let{open:e,close:t}=(0,Dp.useContext)(so);return{open:e,close:t}},"useNotification"),Bp=i("react"),dt=b(()=>{let{open:e}=Jt();return(0,Bp.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),ll=i("react"),bs=X(i("react")),Pr=bs.default.createContext({}),Wp=b(({children:e,i18nProvider:t})=>bs.default.createElement(Pr.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),zp=b(()=>{let{i18nProvider:e}=(0,ll.useContext)(Pr);return(0,ll.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),sl=i("react"),xe=b(()=>{let{i18nProvider:e}=(0,sl.useContext)(Pr);return(0,sl.useMemo)(()=>{function t(r,a,n){return(e==null?void 0:e.translate(r,a,n))??n??(typeof a=="string"&&typeof n>"u"?a:r)}return S(t,"r"),b(t,"translate"),t},[e])},"useTranslate"),ul=i("react"),jp=b(()=>{let{i18nProvider:e}=(0,ul.useContext)(Pr);return(0,ul.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),Up=i("react"),Vp=i("export-to-csv-fix-source-map"),Hp=b(({resourceName:e,resource:t,sorter:r,sorters:a,filters:n,maxItemCount:o,pageSize:l=20,mapData:s=b(p=>p,"mapData"),exportOptions:m,meta:g,metaData:y,dataProviderName:E,onError:k}={})=>{let[p,w]=(0,Up.useState)(!1),f=Xe(),v=Te(),{resource:u,resources:C,identifier:P}=ce(G(t,e)),q=`${Zn()(P,"plural")}-${new Date().toLocaleString()}`,{getList:T}=f(se(P,E,C)),d=v({resource:u,meta:G(g,y)});return{isLoading:p,triggerExport:b(async()=>{w(!0);let h=[],L=1,I=!0;for(;I;)try{let{data:A,total:M}=await T({resource:(u==null?void 0:u.name)??"",filters:n,sort:G(a,r),sorters:G(a,r),pagination:{current:L,pageSize:l,mode:"server"},meta:d,metaData:d});L++,h.push(...A),o&&h.length>=o&&(h=h.slice(0,o),I=!1),M===h.length&&(I=!1)}catch(A){w(!1),I=!1,k==null||k(A);return}new Vp.ExportToCsv({filename:q,useKeysAsHeaders:!0,...m}).generateCsv(h.map(s)),w(!1)},"triggerExport")}},"useExport"),Rn=X(i("react")),Kp=X(i("warn-once")),Qp=X(i("lodash/debounce")),_p=b(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:n,redirect:o,successNotification:l,errorNotification:s,meta:m,metaData:g,queryMeta:y,mutationMeta:E,mutationMode:k,liveMode:p,onLiveEvent:w,liveParams:f,undoableTimeout:v,dataProviderName:u,invalidates:C,queryOptions:P,createMutationOptions:q,updateMutationOptions:T,overtimeOptions:d,autoSave:h,optimisticUpdateMap:L}={})=>{let I=Bt(),{options:A}=tt(),M=Te(),{resource:c,id:$,action:R,identifier:F}=ce(e),{identifier:O}=ce(),N=b(()=>e&&e!==O?r:r??$,"getDefaultId")(),[B,H]=Rn.default.useState(N);Rn.default.useEffect(()=>{H(N)},[N]);let D=b(()=>t||(R==="edit"||R==="clone"?R:"create"),"getAction")(),U=M({resource:c,meta:G(m,g)}),{mutationMode:W}=Or(),K=k??W,V=D==="create",z=D==="edit",Q=D==="clone";(0,Kp.default)((Q||z)&&!!e&&!r&&(P==null?void 0:P.enabled)!==!1,`[useForm]: action: "${D}", resource: "${F}", id: ${B} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let Y=Cm({redirectFromProps:o,action:D,redirectOptions:A.redirect}),J=oo({resource:F,id:B??"",queryOptions:{enabled:B!==void 0&&(z||Q),...P},liveMode:p,onLiveEvent:w,liveParams:f,meta:{...U,...y},metaData:{...U,...y},dataProviderName:u}),{isFetching:oe}=J,de=io({mutationOptions:q}),{mutate:me,isLoading:he}=de,qe=Kn({mutationOptions:T}),{mutate:He,isLoading:Le}=qe,mt=Kn({}),{setWarnWhen:It}=Xn(),pt=xs(),Qt=b(async ue=>{It(!1);let ze=b(ke=>{pt({redirect:Y,resource:c,id:ke,meta:G(m,g)})},"onSuccess");return K!=="pessimistic"&&setTimeout(()=>{ze()}),new Promise((ke,Nt)=>{if(K!=="pessimistic"&&ke(),!!c)return me({values:ue,resource:F??c.name,successNotification:l,errorNotification:s,meta:{...U,...E},metaData:{...U,...E},dataProviderName:u,invalidates:C},{onSuccess:(Me,Ct,Et)=>{var Mt;a&&a(Me,ue,Et);let Rt=(Mt=Me==null?void 0:Me.data)==null?void 0:Mt.id;ze(Rt),ke(Me)},onError:(Me,Ct,Et)=>{if(n)return n(Me,ue,Et);Nt()}})})},"onFinishCreate");Rn.default.useEffect(()=>()=>{h!=null&&h.invalidateOnUnmount&&mt.status==="success"&&I({id:B,invalidates:C||["list","many","detail"],dataProviderName:u,resource:F})},[h==null?void 0:h.invalidateOnUnmount,mt.status]);let _t=b(ue=>{if(!c||!z)return;let ze={id:B??"",values:ue,resource:F??c.name,successNotification:!1,errorNotification:!1,meta:{...U,...E},metaData:{...U,...E},dataProviderName:u,invalidates:[],mutationMode:"pessimistic"};return mt.mutate(ze,{onSuccess:(ke,Nt,Me)=>{a&&a(ke,ue,Me,!0)},onError:(ke,Nt,Me)=>{if(n)return n(ke,ue,Me,!0)}})},"onFinishAutoSaveMutation"),Tr=(0,Qp.default)(ue=>_t(ue),(h==null?void 0:h.debounce)||1e3),yr=V||Q?{formLoading:oe||he,mutationResult:de,onFinish:Qt}:{formLoading:oe||Le,mutationResult:qe,onFinish:b(async ue=>{if(It(!1),!c)return;let ze={id:B??"",values:ue,resource:F??c.name,mutationMode:K,undoableTimeout:v,successNotification:l,errorNotification:s,meta:{...U,...E},metaData:{...U,...E},dataProviderName:u,invalidates:C,optimisticUpdateMap:L},ke=b(()=>{pt({redirect:Y,resource:c,id:B,meta:G(m,g)})},"onSuccess");return K!=="pessimistic"&&setTimeout(()=>{ke()}),new Promise((Nt,Me)=>(K!=="pessimistic"&&Nt(),setTimeout(()=>{He(ze,{onSuccess:(Ct,Et,Mt)=>{a&&a(Ct,ue,Mt),K==="pessimistic"&&ke(),Nt(Ct)},onError:(Ct,Et,Mt)=>{if(n)return n(Ct,ue,Mt);Me()}})})))},"onFinishUpdate")},{elapsedTime:Ne}=je({isLoading:yr.mutationResult.isLoading||J.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{...yr,queryResult:J,onFinishAutoSave:Tr,autoSaveProps:{status:mt.status,data:mt.data,error:mt.error},id:B,setId:H,redirect:(ue,ze)=>{pt({redirect:ue!==void 0?ue:z?"list":"edit",resource:c,id:ze??B,meta:G(m,g)})},overtime:{elapsedTime:Ne}}},"useForm"),Gp=i("react"),xs=b(()=>{let{show:e,edit:t,list:r,create:a}=ht();return(0,Gp.useCallback)(({redirect:n,resource:o,id:l,meta:s={}})=>{if(n&&o)return o.show&&n==="show"&&l?e(o,l,void 0,s):o.edit&&n==="edit"&&l?t(o,l,void 0,s):o.create&&n==="create"?a(o,void 0,s):r(o,"push",s)},[])},"useRedirectionAfterSubmission"),dl=X(i("react")),yt=b(()=>{let e=(0,dl.useContext)(na);return dl.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])()},"useGo"),cl=X(i("react")),Cs=b(()=>{let e=(0,cl.useContext)(na);return cl.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),ht=b(()=>{let{resources:e}=ce(),t=Oe(),{useHistory:r}=ct(),a=r(),n=Pt(),o=yt(),l=Cs(),s=b((p,w="push")=>{t==="legacy"?a[w](p):o({to:p,type:w})},"handleUrl"),m=b((p,w={})=>{var f;if(t==="legacy"){let v=typeof p=="string"?Ke(p,e,!0)??{name:p,route:p}:p,u=lt(v,e,!0).find(C=>C.action==="create");return u?vt(u.route,v==null?void 0:v.meta,n,w):""}else{let v=typeof p=="string"?Ke(p,e)??{name:p}:p,u=(f=lt(v,e).find(C=>C.action==="create"))==null?void 0:f.route;return u?o({to:vt(u,v==null?void 0:v.meta,n,w),type:"path"}):""}},"createUrl"),g=b((p,w,f={})=>{var v;let u=encodeURIComponent(w);if(t==="legacy"){let C=typeof p=="string"?Ke(p,e,!0)??{name:p,route:p}:p,P=lt(C,e,!0).find(q=>q.action==="edit");return P?vt(P.route,C==null?void 0:C.meta,n,{...f,id:u}):""}else{let C=typeof p=="string"?Ke(p,e)??{name:p}:p,P=(v=lt(C,e).find(q=>q.action==="edit"))==null?void 0:v.route;return P?o({to:vt(P,C==null?void 0:C.meta,n,{...f,id:u}),type:"path"}):""}},"editUrl"),y=b((p,w,f={})=>{var v;let u=encodeURIComponent(w);if(t==="legacy"){let C=typeof p=="string"?Ke(p,e,!0)??{name:p,route:p}:p,P=lt(C,e,!0).find(q=>q.action==="clone");return P?vt(P.route,C==null?void 0:C.meta,n,{...f,id:u}):""}else{let C=typeof p=="string"?Ke(p,e)??{name:p}:p,P=(v=lt(C,e).find(q=>q.action==="clone"))==null?void 0:v.route;return P?o({to:vt(P,C==null?void 0:C.meta,n,{...f,id:u}),type:"path"}):""}},"cloneUrl"),E=b((p,w,f={})=>{var v;let u=encodeURIComponent(w);if(t==="legacy"){let C=typeof p=="string"?Ke(p,e,!0)??{name:p,route:p}:p,P=lt(C,e,!0).find(q=>q.action==="show");return P?vt(P.route,C==null?void 0:C.meta,n,{...f,id:u}):""}else{let C=typeof p=="string"?Ke(p,e)??{name:p}:p,P=(v=lt(C,e).find(q=>q.action==="show"))==null?void 0:v.route;return P?o({to:vt(P,C==null?void 0:C.meta,n,{...f,id:u}),type:"path"}):""}},"showUrl"),k=b((p,w={})=>{var f;if(t==="legacy"){let v=typeof p=="string"?Ke(p,e,!0)??{name:p,route:p}:p,u=lt(v,e,!0).find(C=>C.action==="list");return u?vt(u.route,v==null?void 0:v.meta,n,w):""}else{let v=typeof p=="string"?Ke(p,e)??{name:p}:p,u=(f=lt(v,e).find(C=>C.action==="list"))==null?void 0:f.route;return u?o({to:vt(u,v==null?void 0:v.meta,n,w),type:"path"}):""}},"listUrl");return{create:b((p,w="push",f={})=>{s(m(p,f),w)},"create"),createUrl:m,edit:b((p,w,f="push",v={})=>{s(g(p,w,v),f)},"edit"),editUrl:g,clone:b((p,w,f="push",v={})=>{s(y(p,w,v),f)},"clone"),cloneUrl:y,show:b((p,w,f="push",v={})=>{s(E(p,w,v),f)},"show"),showUrl:E,list:b((p,w="push",f={})=>{s(k(p,f),w)},"list"),listUrl:k,push:b((p,...w)=>{t==="legacy"?a.push(p,...w):o({to:p,type:"push"})},"push"),replace:b((p,...w)=>{t==="legacy"?a.replace(p,...w):o({to:p,type:"replace"})},"replace"),goBack:b(()=>{t==="legacy"?a.goBack():l()},"goBack")}},"useNavigation"),ml=X(i("react")),Xp=X(i("warn-once")),Zp=b(({resource:e,id:t,successNotification:r,errorNotification:a,meta:n,metaData:o,liveMode:l,onLiveEvent:s,dataProviderName:m,queryOptions:g,overtimeOptions:y}={})=>{let{resource:E,id:k,identifier:p}=ce(e),{identifier:w}=ce(),f=Te(),v=b(()=>e&&e!==w?t:t??k,"getDefaultId")(),[u,C]=(0,ml.useState)(v);ml.default.useEffect(()=>{C(v)},[v]);let P=f({resource:E,meta:G(n,o)});(0,Xp.default)(!!e&&!t,`[useShow]: resource: "${p}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let q=oo({resource:p,id:u??"",queryOptions:{enabled:u!==void 0,...g},successNotification:r,errorNotification:a,meta:P,metaData:P,liveMode:l,onLiveEvent:s,dataProviderName:m}),{elapsedTime:T}=je({isLoading:q.isFetching,interval:y==null?void 0:y.interval,onInterval:y==null?void 0:y.onInterval});return{queryResult:q,showId:u,setShowId:C,overtime:{elapsedTime:T}}},"useShow"),Da=i("react"),Yp=i("papaparse"),Jp=X(i("lodash/chunk")),ef=b(({resourceName:e,resource:t,mapData:r=b(y=>y,"mapData"),paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:l,metaData:s,onProgress:m,dataProviderName:g}={})=>{let[y,E]=(0,Da.useState)(0),[k,p]=(0,Da.useState)(0),[w,f]=(0,Da.useState)(!1),{resource:v,identifier:u}=ce(t??e),C=Te(),P=is(),q=io(),T=C({resource:v,meta:G(l,s)}),d;n===1?d=q:d=P;let h=b(()=>{p(0),E(0),f(!1)},"handleCleanup"),L=b(A=>{let M={succeeded:A.filter(c=>c.type==="success"),errored:A.filter(c=>c.type==="error")};o==null||o(M),f(!1)},"handleFinish");(0,Da.useEffect)(()=>{m==null||m({totalAmount:k,processedAmount:y})},[k,y]);let I=b(({file:A})=>(h(),new Promise(M=>{f(!0),(0,Yp.parse)(A,{complete:async({data:c})=>{let $=Il(c,r);if(p($.length),n===1){let R=$.map(O=>b(async()=>({response:await q.mutateAsync({resource:u??"",values:O,successNotification:!1,errorNotification:!1,dataProviderName:g,meta:T,metaData:T}),value:O}),"fn")),F=await Ai(R,({response:O,value:N})=>(E(B=>B+1),{response:[O.data],type:"success",request:[N]}),(O,N)=>({response:[O],type:"error",request:[$[N]]}));M(F)}else{let R=(0,Jp.default)($,n),F=R.map(N=>b(async()=>({response:await P.mutateAsync({resource:u??"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:g,meta:T,metaData:T}),value:N,currentBatchLength:N.length}),"fn")),O=await Ai(F,({response:N,currentBatchLength:B,value:H})=>(E(D=>D+B),{response:N.data,type:"success",request:H}),(N,B)=>({response:[N],type:"error",request:R[B]}));M(O)}},...a})}).then(M=>(L(M),M))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:A=>{A.target.files&&A.target.files.length>0&&I({file:A.target.files[0]})}},mutationResult:d,isLoading:w,handleChange:I}},"useImport"),Dn=i("react"),tf=b(({defaultVisible:e=!1}={})=>{let[t,r]=(0,Dn.useState)(e),a=(0,Dn.useCallback)(()=>r(!0),[t]),n=(0,Dn.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:n}},"useModal"),rf=X(i("react")),uo=b(()=>{let e=Oe(),{resource:t,resources:r}=ce(),a=Pt();return rf.default.useCallback(({resource:n,action:o,meta:l})=>{var s;let m=n||t;if(!m)return;let g=(s=lt(m,r,e==="legacy").find(y=>y.action===o))==null?void 0:s.route;return g?vt(g,m==null?void 0:m.meta,a,l):void 0},[r,t,a])},"useGetToPath"),af=b(({resource:e,action:t,meta:r,legacy:a})=>uo()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),pl=X(i("react")),Ga=b(()=>{let e=(0,pl.useContext)(na);return e!=null&&e.Link?e.Link:b(({to:t,...r})=>pl.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),nf=i("react"),Es=X(i("react")),Xt={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},of=Es.default.createContext(Xt),co=of,lf=b(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l})=>Es.default.createElement(co.Provider,{value:{useHistory:t??Xt.useHistory,useLocation:r??Xt.useLocation,useParams:a??Xt.useParams,Prompt:n??Xt.Prompt,Link:o??Xt.Link,routes:l??Xt.routes}},e),"LegacyRouterContextProvider"),ct=b(()=>{let e=(0,nf.useContext)(co),{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l}=e??Xt;return{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l}},"useRouterContext"),sf=i("@tanstack/react-query"),uf=i("react"),ws=X(i("react")),ia=ws.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),df=b(({can:e,children:t,options:r})=>ws.default.createElement(ia.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),mo=b(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:n,show:o,clone:l,children:s,meta:m,options:g,...y}=e,{icon:E,...k}=m??{},{icon:p,...w}=g??{};return{...y,...m?{meta:k}:{},...g?{options:w}:{}}},"sanitizeResource"),cf=ve(),Ps=b(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:n}=(0,uf.useContext)(ia),{keys:o,preferLegacyKeys:l}=ge(),{resource:s,...m}=r??{},g=mo(s),y=(0,sf.useQuery)(o().access().resource(t).action(e).params({params:{...m,resource:g},enabled:a==null?void 0:a.enabled}).get(l),()=>(n==null?void 0:n({action:e,resource:t,params:{...m,resource:g}}))??Promise.resolve({can:!0}),{enabled:typeof n<"u",...a,meta:{...a==null?void 0:a.meta,...(0,cf.getXRay)("useCan",l)},retry:!1});return typeof n>"u"?{data:{can:!0}}:y},"useCan"),fl=X(i("react")),mf=b(()=>{let{can:e}=fl.default.useContext(ia);return{can:fl.default.useMemo(()=>e?b(async({params:t,...r})=>{let a=t!=null&&t.resource?mo(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),Nr=i("react"),pf=X(i("lodash/uniqBy")),ff=X(i("lodash/debounce")),Oa=X(i("lodash/get")),vf=b(e=>{let[t,r]=(0,Nr.useState)([]),[a,n]=(0,Nr.useState)([]),[o,l]=(0,Nr.useState)([]),{resource:s,sort:m,sorters:g,filters:y=[],optionLabel:E="title",optionValue:k="id",debounce:p=300,successNotification:w,errorNotification:f,defaultValueQueryOptions:v,queryOptions:u,fetchSize:C,pagination:P,hasPagination:q=!1,liveMode:T,defaultValue:d=[],onLiveEvent:h,onSearch:L,liveParams:I,meta:A,metaData:M,dataProviderName:c,overtimeOptions:$}=e,{resource:R,identifier:F}=ce(s),O=Te()({resource:R,meta:G(A,M)}),N=Array.isArray(d)?d:[d],B=(0,Nr.useCallback)(z=>{l(z.data.map(Q=>({label:(0,Oa.default)(Q,E),value:(0,Oa.default)(Q,k)})))},[E,k]),H=v??u,D=ns({resource:F,ids:N,queryOptions:{...H,enabled:N.length>0&&((H==null?void 0:H.enabled)??!0),onSuccess:z=>{var Q;B(z),(Q=H==null?void 0:H.onSuccess)==null||Q.call(H,z)}},meta:O,metaData:O,liveMode:"off",dataProviderName:c}),U=(0,Nr.useCallback)(z=>{n(z.data.map(Q=>({label:(0,Oa.default)(Q,E),value:(0,Oa.default)(Q,k)})))},[E,k]),W=no({resource:F,sorters:G(g,m),filters:y.concat(t),pagination:{current:P==null?void 0:P.current,pageSize:(P==null?void 0:P.pageSize)??C,mode:P==null?void 0:P.mode},hasPagination:q,queryOptions:{...u,onSuccess:z=>{var Q;U(z),(Q=u==null?void 0:u.onSuccess)==null||Q.call(u,z)}},successNotification:w,errorNotification:f,meta:O,metaData:O,liveMode:T,liveParams:I,onLiveEvent:h,dataProviderName:c}),K=b(z=>{if(L){r(L(z));return}if(z)r([{field:E,operator:"contains",value:z}]);else{r([]);return}},"onSearch"),{elapsedTime:V}=je({isLoading:W.isFetching||D.isFetching,interval:$==null?void 0:$.interval,onInterval:$==null?void 0:$.onInterval});return{queryResult:W,defaultValueQueryResult:D,options:(0,Nr.useMemo)(()=>(0,pf.default)([...a,...o],"value"),[a,o]),onSearch:(0,ff.default)(K,p),overtime:{elapsedTime:V}}},"useSelect"),br=X(i("react")),vl=X(i("qs")),Ba=X(i("lodash/differenceWith")),Wa=X(i("lodash/isEqual")),gf=X(i("warn-once")),gl=[],yl=[];function ks({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:n,permanentSorter:o=yl,defaultSetFilterBehavior:l,initialFilter:s,permanentFilter:m=gl,filters:g,sorters:y,syncWithLocation:E,resource:k,successNotification:p,errorNotification:w,queryOptions:f,liveMode:v,onLiveEvent:u,liveParams:C,meta:P,metaData:q,dataProviderName:T,overtimeOptions:d}={}){var h,L,I,A,M;let{syncWithLocation:c}=Jl(),$=E??c,R=ys(v),F=Oe(),{useLocation:O}=ct(),{search:N,pathname:B}=O(),H=Te(),D=Pt(),U=((g==null?void 0:g.mode)||"server")==="server",W=((y==null?void 0:y.mode)||"server")==="server",K=r===!1?"off":"server",V=((a==null?void 0:a.mode)??K)!=="off",z=G(a==null?void 0:a.current,e),Q=G(a==null?void 0:a.pageSize,t),Y=G(P,q),{parsedCurrent:J,parsedPageSize:oe,parsedSorter:de,parsedFilters:me}=Yn(N??"?"),he=G(g==null?void 0:g.initial,s),qe=G(g==null?void 0:g.permanent,m)??gl,He=G(y==null?void 0:y.initial,n),Le=G(y==null?void 0:y.permanent,o)??yl,mt=G(g==null?void 0:g.defaultBehavior,l)??"merge",It,pt,Qt,_t;$?(It=((h=D==null?void 0:D.params)==null?void 0:h.current)||J||z||1,pt=((L=D==null?void 0:D.params)==null?void 0:L.pageSize)||oe||Q||10,Qt=((I=D==null?void 0:D.params)==null?void 0:I.sorters)||(de.length?de:He),_t=((A=D==null?void 0:D.params)==null?void 0:A.filters)||(me.length?me:he)):(It=z||1,pt=Q||10,Qt=He,_t=he);let{replace:Tr}=ht(),yr=yt(),{resource:Ne,identifier:ue}=ce(k),ze=H({resource:Ne,meta:Y});br.default.useEffect(()=>{(0,gf.default)(typeof ue>"u","useTable: `resource` is not defined.")},[ue]);let[ke,Nt]=(0,br.useState)(Hn(Le,Qt??[])),[Me,Ct]=(0,br.useState)(Vn(qe,_t??[])),[Et,Mt]=(0,br.useState)(It),[Rt,mi]=(0,br.useState)(pt),vc=b(({pagination:{current:Fe,pageSize:ft},sorter:$a,filters:Aa})=>{if(F==="new")return yr({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...V?{current:Fe,pageSize:ft}:{},sorters:$a,filters:Aa,...pi()}})??"";{let Jr=vl.default.parse(N==null?void 0:N.substring(1)),Cc=jn({pagination:{pageSize:ft,current:Fe},sorters:ke??$a,filters:Aa,...Jr});return`${B??""}?${Cc??""}`}},"createLinkForSyncWithLocation");(0,br.useEffect)(()=>{N===""&&(Mt(It),mi(pt),Nt(Hn(Le,Qt??[])),Ct(Vn(qe,_t??[])))},[N]);let pi=b(()=>{if(F==="new"){let{sorters:Fe,filters:ft,pageSize:$a,current:Aa,...Jr}=(D==null?void 0:D.params)??{};return Jr}else{let{sorter:Fe,filters:ft,pageSize:$a,current:Aa,...Jr}=vl.default.parse(N,{ignoreQueryPrefix:!0});return Jr}},"currentQueryParams");(0,br.useEffect)(()=>{if($){let Fe=pi();if(F==="new")yr({type:"replace",options:{keepQuery:!0},query:{...V?{pageSize:Rt,current:Et}:{},sorters:(0,Ba.default)(ke,Le,Wa.default),filters:(0,Ba.default)(Me,qe,Wa.default)}});else{let ft=jn({...V?{pagination:{pageSize:Rt,current:Et}}:{},sorters:(0,Ba.default)(ke,Le,Wa.default),filters:(0,Ba.default)(Me,qe,Wa.default),...Fe});return Tr==null?void 0:Tr(`${B}?${ft}`,void 0,{shallow:!0})}}},[$,Et,Rt,ke,Me]);let wn=no({resource:ue,hasPagination:r,pagination:{current:Et,pageSize:Rt,mode:a==null?void 0:a.mode},filters:U?ea(qe,Me):void 0,sorters:W?Un(Le,ke):void 0,queryOptions:f,successNotification:p,errorNotification:w,meta:ze,metaData:ze,liveMode:R,liveParams:C,onLiveEvent:u,dataProviderName:T}),gc=b(Fe=>{Ct(ft=>ea(qe,Fe,ft))},"setFiltersAsMerge"),yc=b(Fe=>{Ct(ea(qe,Fe))},"setFiltersAsReplace"),hc=b(Fe=>{Ct(ft=>ea(qe,Fe(ft)))},"setFiltersWithSetter"),bc=b((Fe,ft=mt)=>{typeof Fe=="function"?hc(Fe):ft==="replace"?yc(Fe):gc(Fe)},"setFiltersFn"),fi=b(Fe=>{Nt(()=>Un(Le,Fe))},"setSortWithUnion"),{elapsedTime:xc}=je({isLoading:wn.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{tableQueryResult:wn,sorters:ke,setSorters:fi,sorter:ke,setSorter:fi,filters:Me,setFilters:bc,current:Et,setCurrent:Mt,pageSize:Rt,setPageSize:mi,pageCount:Rt?Math.ceil((((M=wn.data)==null?void 0:M.total)??0)/Rt):1,createLinkForSyncWithLocation:vc,overtime:{elapsedTime:xc}}}S(ks,"ki");b(ks,"useTable");var hl=i("react"),On=i("@tanstack/react-query"),Ss=X(i("react")),Xa=Ss.default.createContext({}),yf=b(({create:e,get:t,update:r,children:a})=>Ss.default.createElement(Xa.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),bl=ve(),kr=b(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,On.useQueryClient)(),a=(0,hl.useContext)(Xa),{keys:n,preferLegacyKeys:o}=ge(),l=De(),{resources:s}=(0,hl.useContext)(aa),{data:m,refetch:g,isLoading:y}=Jn({v3LegacyAuthProviderCompatible:!!(l!=null&&l.isLegacy),queryOptions:{enabled:!!a}}),E=(0,On.useMutation)(async p=>{var w,f,v,u,C;let P=Ke(p.resource,s),q=G((w=P==null?void 0:P.meta)==null?void 0:w.audit,(f=P==null?void 0:P.options)==null?void 0:f.audit,(u=(v=P==null?void 0:P.options)==null?void 0:v.auditLog)==null?void 0:u.permissions);if(q&&!cm(q,p.action))return;let T;return y&&(T=await g()),await((C=a.create)==null?void 0:C.call(a,{...p,author:m??(T==null?void 0:T.data)}))},{mutationKey:n().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,bl.getXRay)("useLog",o)}}),k=(0,On.useMutation)(async p=>{var w;return await((w=a.update)==null?void 0:w.call(a,p))},{onSuccess:p=>{p!=null&&p.resource&&r.invalidateQueries(n().audit().resource((p==null?void 0:p.resource)??"").action("list").get(o))},mutationKey:n().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,bl.getXRay)("useLog",o)}});return{log:E,rename:k}},"useLog"),hf=i("react"),bf=i("@tanstack/react-query"),xf=ve(),Cf=b(({resource:e,action:t,meta:r,author:a,metaData:n,queryOptions:o})=>{let{get:l}=(0,hf.useContext)(Xa),{keys:s,preferLegacyKeys:m}=ge();return(0,bf.useQuery)(s().audit().resource(e).action("list").params(r).get(m),()=>(l==null?void 0:l({resource:e,action:t,author:a,meta:r,metaData:n}))??Promise.resolve([]),{enabled:typeof l<"u",...o,retry:!1,meta:{...o==null?void 0:o.meta,...(0,xf.getXRay)("useLogList",m)}})},"useLogList"),Ef=i("react"),wf=X(i("warn-once")),Pf=b(({meta:e={}}={})=>{let t=Oe(),{i18nProvider:r}=(0,Ef.useContext)(Pr),a=Pt(),n=xe(),{resources:o,resource:l,action:s}=ce(),{options:{textTransformers:m}}=tt(),g=[];if(!(l!=null&&l.name))return{breadcrumbs:g};let y=b(E=>{var k,p,w,f,v,u;let C=typeof E=="string"?Ke(E,o,t==="legacy")??{name:E}:E;if(C){let P=G((k=C==null?void 0:C.meta)==null?void 0:k.parent,C==null?void 0:C.parentName);P&&y(P);let q=lt(C,o,t==="legacy").find(h=>h.action==="list"),T=(p=q==null?void 0:q.resource)!=null&&p.list?q==null?void 0:q.route:void 0,d=T?t==="legacy"?T:vt(T,C==null?void 0:C.meta,a,e):void 0;g.push({label:G((w=C.meta)==null?void 0:w.label,(f=C.options)==null?void 0:f.label)??n(`${C.name}.${C.name}`,m.humanize(C.name)),href:d,icon:G((v=C.meta)==null?void 0:v.icon,(u=C.options)==null?void 0:u.icon,C.icon)})}},"addBreadcrumb");if(y(l),s&&s!=="list"){let E=`actions.${s}`,k=n(E);typeof r<"u"&&k===E?((0,wf.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${s}" action. Please add "actions.${s}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),g.push({label:n(`buttons.${s}`,m.humanize(s))})):g.push({label:n(E,m.humanize(s))})}return{breadcrumbs:g}},"useBreadcrumb"),Bn=X(i("react")),ja=b((e,t,r=!1)=>{let a=[],n=Zt(e,t);for(;n;)a.push(n),n=Zt(n,t);return a.reverse(),`/${[...a,e].map(o=>Dt((r?o.route:void 0)??o.identifier??o.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),kf=b((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{let o=[],l=Zt(n,e);for(;l;)o.push(l),l=Zt(l,e);o.reverse();let s=r;o.forEach(g=>{let y=(t?g.route:void 0)??g.identifier??g.name;s.children[y]||(s.children[y]={item:g,children:{}}),s=s.children[y]});let m=(t?n.route:void 0)??n.identifier??n.name;s.children[m]||(s.children[m]={item:n,children:{}})});let a=b(n=>{let o=[];return Object.keys(n.children).forEach(l=>{let s=ja(n.children[l].item,e,t),m={...n.children[l].item,key:s,children:a(n.children[l])};o.push(m)}),o},"flatten");return a(r)},"createTree"),xl=b(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Sf=b(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=xe(),a=uo(),n=Oe(),{resource:o,resources:l}=ce(),{pathname:s}=Pt(),{useLocation:m}=ct(),{pathname:g}=m(),y=Zn(),E=`/${((n==="legacy"?xl(g):s?xl(s):void 0)??"").replace(/^\//,"")}`,k=o?ja(o,l,n==="legacy"):E??"",p=Bn.default.useMemo(()=>{if(!o)return[];let v=Zt(o,l),u=[ja(o,l)];for(;v;)u.push(ja(v,l)),v=Zt(v,l);return u},[]),w=Bn.default.useCallback(v=>{var u,C,P,q,T,d;if((((u=v==null?void 0:v.meta)==null?void 0:u.hide)??((C=v==null?void 0:v.options)==null?void 0:C.hide))||!(v!=null&&v.list)&&v.children.length===0)return;let h=v.list?a({resource:v,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&h&&h.match(/(\/|^):(.+?)(\/|$){1}/)))return{...v,route:h,icon:G((P=v.meta)==null?void 0:P.icon,(q=v.options)==null?void 0:q.icon,v.icon),label:G((T=v==null?void 0:v.meta)==null?void 0:T.label,(d=v==null?void 0:v.options)==null?void 0:d.label)??r(`${v.name}.${v.name}`,y(v.name,"plural"))}},[n,e,r,t]),f=Bn.default.useMemo(()=>{let v=kf(l,n==="legacy"),u=b(C=>C.flatMap(P=>{let q=u(P.children),T=w({...P,children:q});return T?[T]:[]}),"prepare");return u(v)},[l,n,w]);return{defaultOpenKeys:p,selectedKey:k,menuItems:f}},"useMenu"),Te=b(()=>{let{params:e}=Pt();return b(({resource:t,meta:r}={})=>{let{meta:a}=mo(t)??{meta:{}},{filters:n,sorters:o,current:l,pageSize:s,...m}=e??{};return{...a,...m,...r}},"getMetaFn")},"useMeta"),qf=b(()=>{let[e,t]=(0,hr.useState)(),r=xe(),{push:a}=ht(),n=yt(),o=Oe(),{resource:l,action:s}=ce();return(0,hr.useEffect)(()=>{l&&s&&t(r("pages.error.info",{action:s,resource:l.name},`You may have forgotten to add the "${s}" component to "${l.name}" resource.`))},[l,s]),hr.default.createElement(hr.default.Fragment,null,hr.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&hr.default.createElement("p",null,e),hr.default.createElement("button",{onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),Re=X(i("react")),qs=b(()=>{let[e,t]=(0,Re.useState)(""),[r,a]=(0,Re.useState)(""),n=xe(),o=De(),{mutate:l}=Qa({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy)});return Re.default.createElement(Re.default.Fragment,null,Re.default.createElement("h1",null,n("pages.login.title","Sign in your account")),Re.default.createElement("form",{onSubmit:s=>{s.preventDefault(),l({username:e,password:r})}},Re.default.createElement("table",null,Re.default.createElement("tbody",null,Re.default.createElement("tr",null,Re.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),Re.default.createElement("td",null,Re.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:s=>t(s.target.value)}))),Re.default.createElement("tr",null,Re.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),Re.default.createElement("td",null,Re.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:s=>a(s.target.value)}))))),Re.default.createElement("br",null),Re.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),Mr=X(i("react")),ye=X(i("react")),If=b(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:s,title:m=void 0})=>{let g=Oe(),y=Ga(),{Link:E}=ct(),k=g==="legacy"?E:y,[p,w]=(0,ye.useState)(""),[f,v]=(0,ye.useState)(""),[u,C]=(0,ye.useState)(!1),P=xe(),q=De(),{mutate:T}=Qa({v3LegacyAuthProviderCompatible:!!(q!=null&&q.isLegacy)}),d=b((I,A)=>ye.default.createElement(k,{to:I},A),"renderLink"),h=b(()=>e?e.map(I=>ye.default.createElement("div",{key:I.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ye.default.createElement("button",{onClick:()=>T({providerName:I.name}),style:{display:"flex",alignItems:"center"}},I==null?void 0:I.icon,I.label??ye.default.createElement("label",null,I.label)))):null,"renderProviders"),L=ye.default.createElement("div",{...n},ye.default.createElement("h1",{style:{textAlign:"center"}},P("pages.login.title","Sign in to your account")),h(),ye.default.createElement("hr",null),ye.default.createElement("form",{onSubmit:I=>{I.preventDefault(),T({email:p,password:f,remember:u})},...s},ye.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ye.default.createElement("label",{htmlFor:"email-input"},P("pages.login.fields.email","Email")),ye.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:p,onChange:I=>w(I.target.value)}),ye.default.createElement("label",{htmlFor:"password-input"},P("pages.login.fields.password","Password")),ye.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:f,onChange:I=>v(I.target.value)}),a??ye.default.createElement(ye.default.Fragment,null,ye.default.createElement("label",{htmlFor:"remember-me-input"},P("pages.login.buttons.rememberMe","Remember me"),ye.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:u,value:u.toString(),onChange:()=>{C(!u)}}))),ye.default.createElement("br",null),r??d("/forgot-password",P("pages.login.buttons.forgotPassword","Forgot password?")),ye.default.createElement("input",{type:"submit",value:P("pages.login.signin","Sign in")}),t??ye.default.createElement("span",null,P("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",d("/register",P("pages.login.register","Sign up"))))));return ye.default.createElement("div",{...o},l?l(L,m):L)},"LoginPage"),Ie=X(i("react")),Lf=b(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o,title:l=void 0})=>{let s=Oe(),m=Ga(),{Link:g}=ct(),y=s==="legacy"?g:m,[E,k]=(0,Ie.useState)(""),[p,w]=(0,Ie.useState)(""),f=xe(),v=De(),{mutate:u,isLoading:C}=to({v3LegacyAuthProviderCompatible:!!(v!=null&&v.isLegacy)}),P=b((d,h)=>Ie.default.createElement(y,{to:d},h),"renderLink"),q=b(()=>e?e.map(d=>Ie.default.createElement("div",{key:d.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Ie.default.createElement("button",{onClick:()=>u({providerName:d.name}),style:{display:"flex",alignItems:"center"}},d==null?void 0:d.icon,d.label??Ie.default.createElement("label",null,d.label)))):null,"renderProviders"),T=Ie.default.createElement("div",{...a},Ie.default.createElement("h1",{style:{textAlign:"center"}},f("pages.register.title","Sign up for your account")),q(),Ie.default.createElement("hr",null),Ie.default.createElement("form",{onSubmit:d=>{d.preventDefault(),u({email:E,password:p})},...o},Ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ie.default.createElement("label",{htmlFor:"email-input"},f("pages.register.fields.email","Email")),Ie.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:E,onChange:d=>k(d.target.value)}),Ie.default.createElement("label",{htmlFor:"password-input"},f("pages.register.fields.password","Password")),Ie.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:p,onChange:d=>w(d.target.value)}),Ie.default.createElement("input",{type:"submit",value:f("pages.register.buttons.submit","Sign up"),disabled:C}),t??Ie.default.createElement(Ie.default.Fragment,null,Ie.default.createElement("span",null,f("pages.login.buttons.haveAccount","Have an account?")," ",P("/login",f("pages.login.signin","Sign in")))))));return Ie.default.createElement("div",{...r},n?n(T,l):T)},"RegisterPage"),ot=X(i("react")),Ff=b(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n,title:o=void 0})=>{let l=xe(),s=Oe(),m=Ga(),{Link:g}=ct(),y=s==="legacy"?g:m,[E,k]=(0,ot.useState)(""),{mutate:p,isLoading:w}=ro(),f=b((u,C)=>ot.default.createElement(y,{to:u},C),"renderLink"),v=ot.default.createElement("div",{...r},ot.default.createElement("h1",{style:{textAlign:"center"}},l("pages.forgotPassword.title","Forgot your password?")),ot.default.createElement("hr",null),ot.default.createElement("form",{onSubmit:u=>{u.preventDefault(),p({email:E})},...n},ot.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ot.default.createElement("label",{htmlFor:"email-input"},l("pages.forgotPassword.fields.email","Email")),ot.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:E,onChange:u=>k(u.target.value)}),ot.default.createElement("input",{type:"submit",disabled:w,value:l("pages.forgotPassword.buttons.submit","Send reset instructions")}),ot.default.createElement("br",null),e??ot.default.createElement("span",null,l("pages.register.buttons.haveAccount","Have an account? ")," ",f("/login",l("pages.login.signin","Sign in"))))));return ot.default.createElement("div",{...t},a?a(v,o):v)},"ForgotPasswordPage"),it=X(i("react")),Tf=b(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:n=void 0})=>{let o=xe(),l=De(),{mutate:s,isLoading:m}=ao({v3LegacyAuthProviderCompatible:!!(l!=null&&l.isLegacy)}),[g,y]=(0,it.useState)(""),[E,k]=(0,it.useState)(""),p=it.default.createElement("div",{...t},it.default.createElement("h1",{style:{textAlign:"center"}},o("pages.updatePassword.title","Update Password")),it.default.createElement("hr",null),it.default.createElement("form",{onSubmit:w=>{w.preventDefault(),s({password:g,confirmPassword:E})},...a},it.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},it.default.createElement("label",{htmlFor:"password-input"},o("pages.updatePassword.fields.password","New Password")),it.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:g,onChange:w=>y(w.target.value)}),it.default.createElement("label",{htmlFor:"confirm-password-input"},o("pages.updatePassword.fields.confirmPassword","Confirm New Password")),it.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:E,onChange:w=>k(w.target.value)}),it.default.createElement("input",{type:"submit",disabled:m,value:o("pages.updatePassword.buttons.submit","Update")}))));return it.default.createElement("div",{...e},r?r(p,n):p)},"UpdatePasswordPage"),$f=b(e=>{let{type:t}=e;return Mr.default.createElement(Mr.default.Fragment,null,b(()=>{switch(t){case"register":return Mr.default.createElement(Lf,{...e});case"forgotPassword":return Mr.default.createElement(Ff,{...e});case"updatePassword":return Mr.default.createElement(Tf,{...e});default:return Mr.default.createElement(If,{...e})}},"renderView")())},"AuthPage"),Je=X(i("react")),Is=b(()=>Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("h1",null,"Welcome on board"),Je.default.createElement("p",null,"Your configuration is completed."),Je.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Je.default.createElement("code",null,"`resources`")," property of ",Je.default.createElement("code",null,"`<Refine>`")),Je.default.createElement("div",{style:{display:"flex",gap:8}},Je.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Je.default.createElement("button",null,"Documentation")),Je.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Je.default.createElement("button",null,"Examples")),Je.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Je.default.createElement("button",null,"Community")))),"ReadyPage"),pe=X(i("react")),Af=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:pe.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pe.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:pe.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pe.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),pe.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:pe.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pe.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),pe.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:pe.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pe.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Nf=b(()=>{let e=Mi("(max-width: 1010px)"),t=Mi("(max-width: 650px)"),r=b(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),a=b(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),n=b(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return pe.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},pe.default.createElement("div",{style:{height:"89px"}}),pe.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},pe.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),pe.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),pe.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},pe.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),pe.default.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),pe.default.createElement("div",{style:{height:"64px"}}),pe.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},Af.map(o=>pe.default.createElement(Mf,{key:`welcome-page-${o.title}`,card:o}))),pe.default.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),Mf=b(({card:e})=>{let{title:t,description:r,icon:a,link:n}=e,[o,l]=(0,pe.useState)(!1);return pe.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},pe.default.createElement("div",{style:{display:"flex",alignItems:"center"}},pe.default.createElement("a",{onPointerEnter:()=>l(!0),onPointerLeave:()=>l(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},a,pe.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),pe.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...o&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},pe.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),pe.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),be=X(i("react")),Wn=i("@tanstack/react-query"),Rf=ve(),Cl=X(i("react")),xr=i("react"),Df="4.42.4",Of=b(()=>{var e;let t=as(),r=(0,xr.useContext)(Xa),a=(0,xr.useContext)(ra),n=(0,xr.useContext)(co),o=(0,xr.useContext)(lo),{i18nProvider:l}=(0,xr.useContext)(Pr),s=(0,xr.useContext)(so),m=(0,xr.useContext)(ia),{resources:g}=ce(),y=tt(),E=!!r.create||!!r.get||!!r.update,k=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),p=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,w=!!o,f=!!(l!=null&&l.changeLocale)||!!(l!=null&&l.getLocale)||!!(l!=null&&l.translate),v=!!s.close||!!s.open,u=!!m.can,C=(e=y==null?void 0:y.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:E,live:k,router:p,data:w,i18n:f,notification:v,accessControl:u},version:Df,resourceCount:g.length,projectId:C}},"useTelemetryData"),Bf=b(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Wf=b(e=>{let t=new Image;t.src=e},"throughImage"),zf=b(e=>{fetch(e)},"throughFetch"),jf=b(e=>{typeof Image<"u"?Wf(e):typeof fetch<"u"&&zf(e)},"transport"),Uf=b(()=>{let e=Of(),t=Cl.default.useRef(!1);return Cl.default.useEffect(()=>{if(t.current)return;let r=Bf(e);r&&(jf(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),Vf=b(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),El=X(i("react")),Hf=b(e=>{let t=El.default.useRef(!1);El.default.useEffect(()=>{t.current===!1&&e&&Vf(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),Kf=b(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:n,notificationProvider:o,accessControlProvider:l,auditLogProvider:s,resources:m,DashboardPage:g,ReadyPage:y,LoginPage:E,catchAll:k,children:p,liveProvider:w,i18nProvider:f,Title:v,Layout:u,Sider:C,Header:P,Footer:q,OffLayoutArea:T,onLiveEvent:d,options:h})=>{let{optionsWithDefaults:L,disableTelemetryWithDefault:I,reactQueryWithDefaults:A}=xm({options:h}),M=ds(()=>{var R;return A.clientConfig instanceof Wn.QueryClient?A.clientConfig:new Wn.QueryClient({...A.clientConfig,defaultOptions:{...A.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(R=A.clientConfig.defaultOptions)==null?void 0:R.queries}}})},[A.clientConfig]);(0,Rf.useQuerySubscription)(M);let c=be.default.useMemo(()=>typeof o=="function"?o:()=>o??{},[o])();if(Hf(n),a&&!n&&(m??[]).length===0)return y?be.default.createElement(y,null):be.default.createElement(Is,null);let{RouterComponent:$=be.default.Fragment}=n?{}:a??{};return be.default.createElement(Wn.QueryClientProvider,{client:M},be.default.createElement(Op,{...c},be.default.createElement(Pm,{...e??{},isProvided:!!e},be.default.createElement(km,{...t??{},isProvided:!!t},be.default.createElement(yp,{...r},be.default.createElement(Cp,{liveProvider:w},be.default.createElement(Ip,{value:a&&!n?"legacy":"new"},be.default.createElement(Fp,{router:n},be.default.createElement(lf,{...a},be.default.createElement(qp,{resources:m??[]},be.default.createElement(Wp,{i18nProvider:f},be.default.createElement(df,{...l??{}},be.default.createElement(yf,{...s??{}},be.default.createElement(Ym,null,be.default.createElement(bm,{mutationMode:L.mutationMode,warnWhenUnsavedChanges:L.warnWhenUnsavedChanges,syncWithLocation:L.syncWithLocation,Title:v,undoableTimeout:L.undoableTimeout,catchAll:k,DashboardPage:g,LoginPage:E,Layout:u,Sider:C,Footer:q,Header:P,OffLayoutArea:T,hasDashboard:!!g,liveMode:L.liveMode,onLiveEvent:d,options:L},be.default.createElement(qm,null,be.default.createElement($,null,p,!I&&be.default.createElement(Uf,null),be.default.createElement(Ts,null))))))))))))))))))},"Refine"),wl=i("react"),Ls=b(({notification:e})=>{let t=xe(),{notificationDispatch:r}=Br(),{open:a}=Jt(),[n,o]=(0,wl.useState)(),l=b(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Sn(e.seconds)},`You have ${Sn(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Sn(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let s=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(s)}},"cancelNotification");return(0,wl.useEffect)(()=>{l()},[e]),null},"UndoableQueue"),Va=X(i("react")),Qf=b(({children:e,Layout:t,Sider:r,Header:a,Title:n,Footer:o,OffLayoutArea:l})=>{let{Layout:s,Footer:m,Header:g,Sider:y,Title:E,OffLayoutArea:k}=tt();return Va.default.createElement(t??s,{Sider:r??y,Header:a??g,Footer:o??m,Title:n??E,OffLayoutArea:l??k},e,Va.default.createElement(_f,null))},"LayoutWrapper"),_f=b(()=>{let{Prompt:e}=ct(),t=xe(),{warnWhen:r,setWarnWhen:a}=Xn(),n=b(o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue),"warnWhenListener");return(0,Va.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),Va.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),st=X(i("react")),Gf=b(()=>{let e=yt(),[t,r]=st.default.useState(void 0);return st.default.useEffect(()=>{t&&e(t)},[t]),st.default.useCallback(a=>{t||r(a)},[t])},"useDeferredGo");function Fs({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:n}){var o;let l=De(),s=Oe(),m=!!(l!=null&&l.isProvided),g=!!(l!=null&&l.isLegacy),y=s==="legacy",E=Pt(),k=yt(),p=Gf(),{replace:w}=ht(),{useLocation:f}=ct(),v=f(),{isLoading:u,isFetching:C,isSuccess:P,data:{authenticated:q,redirectTo:T}={},refetch:d}=_a({v3LegacyAuthProviderCompatible:g});st.default.useEffect(()=>{d()},[r,a]);let h=st.default.useRef({status:u?"initial":"pending",content:n??null});C?h.current.status="pending":C||(h.current.status="settled");let L=m?g?P:q:!0;if(h.current.status==="settled")if(L)h.current.content=st.default.createElement(st.default.Fragment,null,r??null);else if(typeof a<"u")h.current.content=st.default.createElement(st.default.Fragment,null,a);else{let I=`${y?v==null?void 0:v.pathname:E.pathname}`.replace(/(\?.*|#.*)$/,""),A=g?typeof e=="string"?e:"/login":typeof e=="string"?e:T;if(A)if(y){let M=t?`?to=${encodeURIComponent(I)}`:"";w(`${A}${M}`)}else p({to:A,query:t?{to:(o=E.params)!=null&&o.to?E.params.to:k({to:I,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return m?st.default.createElement(st.default.Fragment,null,h.current.content):st.default.createElement(st.default.Fragment,null,r??null)}S(Fs,"ui");b(Fs,"Authenticated");var Xf=i("react"),Ts=b(()=>{let{useLocation:e}=ct(),{checkAuth:t}=gt(),r=e();return(0,Xf.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),Cr=X(i("react")),Zf=b(({resource:e,action:t,params:r,fallback:a,onUnauthorized:n,children:o,...l})=>{let{resource:s,id:m,action:g}=ce(e),{identifier:y}=ce(),E=b(()=>{let v=(r==null?void 0:r.id)??m;return e&&e!==y?r==null?void 0:r.id:v},"getDefaultId")(),k=e??(s==null?void 0:s.name),p=t??g??"",w=r??{id:E,resource:s},{data:f}=Ps({resource:k,action:p,params:w});return(0,Cr.useEffect)(()=>{n&&(f==null?void 0:f.can)===!1&&n({resource:k,action:p,reason:f==null?void 0:f.reason,params:w})},[f==null?void 0:f.can]),f!=null&&f.can?Cr.default.isValidElement(o)?Cr.default.cloneElement(o,l):Cr.default.createElement(Cr.default.Fragment,null,o):(f==null?void 0:f.can)===!1?Cr.default.createElement(Cr.default.Fragment,null,a??null):null},"CanAccess"),Er=X(i("react")),Yf=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],Jf=b(()=>((0,Er.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Yf.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Er.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},Er.default.createElement("div",{style:{width:"200px"}}),Er.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},Er.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Er.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),Er.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going."))))),"GitHubBanner")});var rr=$r((jb,Os)=>{var ev=Object.create,la=Object.defineProperty,tv=Object.getOwnPropertyDescriptor,rv=Object.getOwnPropertyNames,av=Object.getPrototypeOf,nv=Object.prototype.hasOwnProperty,tr=S((e,t)=>la(e,"name",{value:t,configurable:!0}),"R"),ov=S((e,t)=>{for(var r in t)la(e,r,{get:t[r],enumerable:!0})},"ue"),Rs=S((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of rv(t))!nv.call(e,n)&&n!==r&&la(e,n,{get:()=>t[n],enumerable:!(a=tv(t,n))||a.enumerable});return e},"q"),iv=S((e,t,r)=>(r=e!=null?ev(av(e)):{},Rs(t||!e||!e.__esModule?la(r,"default",{value:e,enumerable:!0}):r,e)),"pe"),lv=S(e=>Rs(la({},"__esModule",{value:!0}),e),"ce"),Ds={};ov(Ds,{useForm:()=>fo,useModalForm:()=>dv,useStepsForm:()=>uv});Os.exports=lv(Ds);var As=i("react"),sv=i("react-hook-form"),Za=re(),fo=tr(({refineCoreProps:e,warnWhenUnsavedChanges:t,disableServerSideValidation:r=!1,...a}={})=>{let{options:n}=(0,Za.useRefineContext)(),o=(n==null?void 0:n.disableServerSideValidation)||r,l=(0,Za.useTranslate)(),{warnWhenUnsavedChanges:s,setWarnWhen:m}=(0,Za.useWarnAboutChange)(),g=t??s,y=(0,sv.useForm)({...a}),{watch:E,setValue:k,getValues:p,handleSubmit:w,setError:f}=y,v=(0,Za.useForm)({...e,onMutationError:(h,L,I)=>{var A,M;if(o){(A=e==null?void 0:e.onMutationError)==null||A.call(e,h,L,I);return}let c=h==null?void 0:h.errors;for(let $ in c){if(!Object.keys(L).includes($.split(".")[0]))continue;let R=c[$],F="";Array.isArray(R)&&(F=R.join(" ")),typeof R=="string"&&(F=R),typeof R=="boolean"&&R&&(F="Field is not valid."),typeof R=="object"&&"key"in R&&(F=l(R.key,R.message)),f($,{message:F})}(M=e==null?void 0:e.onMutationError)==null||M.call(e,h,L,I)}}),{queryResult:u,onFinish:C,formLoading:P,onFinishAutoSave:q}=v;(0,As.useEffect)(()=>{var h;let L=(h=u==null?void 0:u.data)==null?void 0:h.data;if(!L)return;let I=Object.keys(p());Object.entries(L).forEach(([A,M])=>{let c=A;I.includes(c)&&k(c,M)})},[u==null?void 0:u.data,k,p]),(0,As.useEffect)(()=>{let h=E((L,{type:I})=>{I==="change"&&T(L)});return()=>h.unsubscribe()},[E]);let T=tr(h=>{var L;if(g&&m(!0),e!=null&&e.autoSave){m(!1);let I=(L=e.autoSave)==null?void 0:L.onFinish;return q(I?I(h):h)}return h},"onValuesChange"),d=tr((h,L)=>async I=>(m(!1),w(h,L)(I)),"handleSubmit");return{...y,handleSubmit:d,refineCore:v,saveButtonProps:{disabled:P,onClick:h=>{d(C,()=>!1)(h)}}}},"useForm"),Ns=i("react"),uv=tr(({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:a=!1}=e??{},[n,o]=(0,Ns.useState)(r),l=fo({...t}),{trigger:s,getValues:m,setValue:g,formState:{dirtyFields:y},refineCore:{queryResult:E}}=l;(0,Ns.useEffect)(()=>{var p;let w=(p=E==null?void 0:E.data)==null?void 0:p.data;if(!w)return;let f=Object.keys(m());Object.entries(w).forEach(([v,u])=>{let C=v;f.includes(C)&&(y[C]||g(C,u))})},[E==null?void 0:E.data,n,g,m]);let k=tr(p=>{let w=p;p<0&&(w=0),o(w)},"go");return{...l,steps:{currentStep:n,gotoStep:tr(async p=>{if(p!==n){if(p<n&&!a){k(p);return}await s()&&k(p)}},"gotoStep")}}},"useStepsForm"),Ms=i("react"),er=re(),po=iv(i("react")),dv=tr(({modalProps:e,refineCoreProps:t,syncWithLocation:r,...a}={})=>{var n,o;let l=(0,er.useInvalidate)(),[s,m]=po.default.useState(!1),g=(0,er.useTranslate)(),{resource:y,action:E}=t??{},{resource:k,action:p,identifier:w}=(0,er.useResource)(y),f=(0,er.useParsed)(),v=(0,er.useGo)(),u=(0,er.useUserFriendlyName)(),C=E??p??"",P=!(typeof r=="object"&&(r==null?void 0:r.syncId)===!1),q=typeof r=="object"&&"key"in r?r.key:k&&C&&r?`modal-${w}-${C}`:void 0,{defaultVisible:T=!1,autoSubmitClose:d=!0,autoResetForm:h=!0}=e??{},L=fo({refineCoreProps:{...t,meta:{...q?{[q]:void 0}:{},...t==null?void 0:t.meta}},...a}),{reset:I,refineCore:{onFinish:A,id:M,setId:c,autoSaveProps:$},saveButtonProps:R,handleSubmit:F}=L,{visible:O,show:N,close:B}=(0,er.useModal)({defaultVisible:T});po.default.useEffect(()=>{var z,Q,Y,J;if(s===!1&&q){let oe=(Q=(z=f==null?void 0:f.params)==null?void 0:z[q])==null?void 0:Q.open;if(typeof oe=="boolean"?oe&&N():typeof oe=="string"&&oe==="true"&&N(),P){let de=(J=(Y=f==null?void 0:f.params)==null?void 0:Y[q])==null?void 0:J.id;de&&(c==null||c(de))}m(!0)}},[q,f,P,c]),po.default.useEffect(()=>{var z;s===!0&&(O&&q?v({query:{[q]:{...(z=f==null?void 0:f.params)==null?void 0:z[q],open:!0,...P&&M&&{id:M}}},options:{keepQuery:!0},type:"replace"}):q&&!O&&v({query:{[q]:void 0},options:{keepQuery:!0},type:"replace"}))},[M,O,N,q,P]);let H=tr(async z=>{await A(z),d&&B(),h&&I()},"submit"),{warnWhen:D,setWarnWhen:U}=(0,er.useWarnAboutChange)(),W=(0,Ms.useCallback)(()=>{var z;if($.status==="success"&&(z=t==null?void 0:t.autoSave)!=null&&z.invalidateOnClose&&l({id:M,invalidates:t.invalidates||["list","many","detail"],dataProviderName:t.dataProviderName,resource:w}),D)if(window.confirm(g("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))U(!1);else return;c==null||c(void 0),B()},[D,$.status]),K=(0,Ms.useCallback)(z=>{typeof z<"u"&&(c==null||c(z)),(!(C==="edit"||C==="clone")||typeof z<"u"||typeof M<"u")&&N()},[M]),V=g(`${w}.titles.${E}`,void 0,`${u(`${E} ${((n=k==null?void 0:k.meta)==null?void 0:n.label)??((o=k==null?void 0:k.options)==null?void 0:o.label)??(k==null?void 0:k.label)??w}`,"singular")}`);return{modal:{submit:H,close:W,show:K,visible:O,title:V},...L,saveButtonProps:{...R,onClick:z=>F(H)(z)}}},"useModalForm")});var Ze=$r((Vb,Ws)=>{var vo=Object.defineProperty,cv=Object.getOwnPropertyDescriptor,mv=Object.getOwnPropertyNames,pv=Object.prototype.hasOwnProperty,fv=S((e,t)=>{for(var r in t)vo(e,r,{get:t[r],enumerable:!0})},"R"),vv=S((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of mv(t))!pv.call(e,n)&&n!==r&&vo(e,n,{get:()=>t[n],enumerable:!(a=cv(t,n))||a.enumerable});return e},"a"),gv=S(e=>vv(vo({},"__esModule",{value:!0}),e),"P"),Bs={};fv(Bs,{RefineButtonClassNames:()=>bv,RefineButtonTestIds:()=>yv,RefinePageHeaderClassNames:()=>hv});Ws.exports=gv(Bs);var yv={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"},hv={Title:"refine-pageHeader-title",SubTitle:"refine-pageHeader-subTitle"},bv={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var Sa=$r((Kb,id)=>{var xv=Object.create,Pa=Object.defineProperty,Cv=Object.getOwnPropertyDescriptor,Ev=Object.getOwnPropertyNames,wv=Object.getPrototypeOf,Pv=Object.prototype.hasOwnProperty,j=S((e,t)=>Pa(e,"name",{value:t,configurable:!0}),"n"),kv=S((e,t)=>{for(var r in t)Pa(e,r,{get:t[r],enumerable:!0})},"op"),Wu=S((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ev(t))!Pv.call(e,n)&&n!==r&&Pa(e,n,{get:()=>t[n],enumerable:!(a=Cv(t,n))||a.enumerable});return e},"Dr"),x=S((e,t,r)=>(r=e!=null?xv(wv(e)):{},Wu(t||!e||!e.__esModule?Pa(r,"default",{value:e,enumerable:!0}):r,e)),"e"),Sv=S(e=>Wu(Pa({},"__esModule",{value:!0}),e),"rp"),zu={};kv(zu,{AuthPage:()=>jy,AutoSaveIndicator:()=>nd,BooleanField:()=>vh,Breadcrumb:()=>ka,CircularDeterminate:()=>td,CloneButton:()=>Z0,Create:()=>Yy,CreateButton:()=>Ju,DarkTheme:()=>Qh,DateField:()=>xh,DeleteButton:()=>Do,Edit:()=>l0,EditButton:()=>ed,EmailField:()=>ch,ErrorComponent:()=>oy,ExportButton:()=>H0,FileField:()=>Eh,HamburgerMenu:()=>Xu,Header:()=>Uu,ImportButton:()=>th,Layout:()=>zv,LightTheme:()=>Kh,List:()=>f0,ListButton:()=>Bo,LoginPage:()=>Gg,MarkdownField:()=>Th,NotistackSnackbarContent:()=>Ya.SnackbarContent,NumberField:()=>qh,ReadyPage:()=>Zg,RefineSnackbarProvider:()=>rb,RefineThemes:()=>_h,RefreshButton:()=>Oo,SaveButton:()=>Wo,Show:()=>P0,ShowButton:()=>B0,Sider:()=>ju,SnackbarProvider:()=>Ya.SnackbarProvider,TagField:()=>sh,TextFieldComponent:()=>oh,ThemedHeader:()=>Ku,ThemedHeaderV2:()=>Zu,ThemedLayout:()=>ag,ThemedLayoutContext:()=>vn,ThemedLayoutContextProvider:()=>Qu,ThemedLayoutV2:()=>Mg,ThemedSider:()=>Hu,ThemedSiderV2:()=>Gu,ThemedTitle:()=>Gr,ThemedTitleV2:()=>Yu,Title:()=>Vu,UrlField:()=>rd,WelcomePage:()=>ey,notificationProvider:()=>Jh,useAutocomplete:()=>xg,useDataGrid:()=>_u,useSiderVisible:()=>qg,useSnackbar:()=>Ya.useSnackbar,useThemedLayoutContext:()=>Ro,withSnackbar:()=>Ya.withSnackbar});id.exports=Sv(zu);var Ya=i("notistack"),Sr=x(i("react")),go=x(i("@mui/material/Box")),ee=x(i("react")),Wr=x(i("@mui/material/Box")),zs=x(i("@mui/material/Drawer")),js=x(i("@mui/material/List")),Ja=x(i("@mui/material/ListItemButton")),en=x(i("@mui/material/ListItemIcon")),tn=x(i("@mui/material/ListItemText")),qv=x(i("@mui/material/Collapse")),rn=x(i("@mui/material/Tooltip")),Iv=x(i("@mui/material/Button")),Lv=x(i("@mui/material/IconButton")),Us=x(i("@mui/icons-material/ListOutlined")),Fv=x(i("@mui/icons-material/Logout")),Tv=x(i("@mui/icons-material/ExpandLess")),$v=x(i("@mui/icons-material/ExpandMore")),Av=x(i("@mui/icons-material/ChevronLeft")),Nv=x(i("@mui/icons-material/ChevronRight")),Mv=x(i("@mui/icons-material/MenuRounded")),Rv=x(i("@mui/icons-material/Dashboard")),Qe=re(),ju=j(({Title:e,render:t,meta:r})=>{let[a,n]=(0,ee.useState)(!1),[o,l]=(0,ee.useState)(!1),s=j(()=>a?64:200,"drawerWidth"),m=(0,Qe.useTranslate)(),g=(0,Qe.useRouterType)(),y=(0,Qe.useLink)(),{Link:E}=(0,Qe.useRouterContext)(),k=g==="legacy"?E:y,{hasDashboard:p}=(0,Qe.useRefineContext)(),w=(0,Qe.useTranslate)(),{warnWhen:f,setWarnWhen:v}=(0,Qe.useWarnAboutChange)(),{menuItems:u,selectedKey:C,defaultOpenKeys:P}=(0,Qe.useMenu)({meta:r}),q=(0,Qe.useIsExistAuthentication)(),T=(0,Qe.useTitle)(),d=(0,Qe.useActiveAuthProvider)(),{mutate:h}=(0,Qe.useLogout)({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),[L,I]=(0,ee.useState)({});ee.default.useEffect(()=>{I(B=>{let H=Object.keys(B).filter(U=>B[U]),D=new Set([...H,...P]);return Object.fromEntries(Array.from(D.values()).map(U=>[U,!0]))})},[P]);let A=e??T??Vu,M=j(B=>{I({...L,[B]:!L[B]})},"handleClick"),c=j((B,H)=>B.map(D=>{let{icon:U,label:W,route:K,name:V,children:z,parentName:Q,meta:Y,options:J}=D,oe=L[D.key||""]||!1,de=D.key===H,me=(0,Qe.pickNotDeprecated)(Y==null?void 0:Y.parent,J==null?void 0:J.parent,Q)!==void 0;return z.length>0?ee.default.createElement(Qe.CanAccess,{key:D.key,resource:V.toLowerCase(),action:"list",params:{resource:D}},ee.default.createElement("div",{key:D.key},ee.default.createElement(rn.default,{title:W??V,placement:"right",disableHoverListener:!a,arrow:!0},ee.default.createElement(Ja.default,{onClick:()=>{a?(n(!1),oe||M(D.key||"")):M(D.key||"")},sx:{pl:me?4:2,justifyContent:"center","&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"}}},ee.default.createElement(en.default,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},U??ee.default.createElement(Us.default,null)),ee.default.createElement(tn.default,{primary:W,primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:de?"bold":"normal"}}),!a&&(oe?ee.default.createElement(Tv.default,null):ee.default.createElement($v.default,null)))),!a&&ee.default.createElement(qv.default,{in:L[D.key||""],timeout:"auto",unmountOnExit:!0},ee.default.createElement(js.default,{component:"div",disablePadding:!0},c(z,H))))):ee.default.createElement(Qe.CanAccess,{key:D.key,resource:V.toLowerCase(),action:"list",params:{resource:D}},ee.default.createElement(rn.default,{title:W??V,placement:"right",disableHoverListener:!a,arrow:!0},ee.default.createElement(Ja.default,{component:k,to:K,selected:de,onClick:()=>{l(!1)},sx:{pl:me?4:2,py:me?1.25:1,"&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"},justifyContent:"center"}},ee.default.createElement(en.default,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},U??ee.default.createElement(Us.default,null)),ee.default.createElement(tn.default,{primary:W,primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:de?"bold":"normal"}}))))}),"renderTreeView"),$=p?ee.default.createElement(Qe.CanAccess,{resource:"dashboard",action:"list"},ee.default.createElement(rn.default,{title:w("dashboard.title","Dashboard"),placement:"right",disableHoverListener:!a,arrow:!0},ee.default.createElement(Ja.default,{component:k,to:"/",selected:C==="/",onClick:()=>{l(!1)},sx:{pl:2,py:1,"&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"},justifyContent:"center"}},ee.default.createElement(en.default,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},ee.default.createElement(Rv.default,null)),ee.default.createElement(tn.default,{primary:w("dashboard.title","Dashboard"),primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:C==="/"?"bold":"normal"}})))):null,R=j(()=>{f?window.confirm(w("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(v(!1),h()):h()},"handleLogout"),F=q&&ee.default.createElement(rn.default,{title:m("buttons.logout","Logout"),placement:"right",disableHoverListener:!a,arrow:!0},ee.default.createElement(Ja.default,{key:"logout",onClick:R,sx:{justifyContent:"center"}},ee.default.createElement(en.default,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},ee.default.createElement(Fv.default,null)),ee.default.createElement(tn.default,{primary:m("buttons.logout","Logout"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))),O=c(u,C),N=ee.default.createElement(js.default,{disablePadding:!0,sx:{mt:1,color:"secondary.contrastText"}},j(()=>t?t({dashboard:$,logout:F,items:O,collapsed:a}):ee.default.createElement(ee.default.Fragment,null,$,O,F),"renderSider")());return ee.default.createElement(ee.default.Fragment,null,ee.default.createElement(Wr.default,{sx:{width:{xs:s()},display:{xs:"none",md:"block"},transition:"width 0.3s ease"}}),ee.default.createElement(Wr.default,{component:"nav",sx:{position:"fixed",zIndex:1101,width:{sm:s()},display:"flex"}},ee.default.createElement(zs.default,{variant:"temporary",open:o,onClose:()=>l(!1),ModalProps:{keepMounted:!0},sx:{display:{sm:"block",md:"none"},"& .MuiDrawer-paper":{width:256,bgcolor:"secondary.main"}}},ee.default.createElement(Wr.default,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center"}},ee.default.createElement(A,{collapsed:!1})),N),ee.default.createElement(zs.default,{variant:"permanent",PaperProps:{elevation:1},sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{width:s,bgcolor:"secondary.main",overflow:"hidden",transition:"width 200ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},open:!0},ee.default.createElement(Wr.default,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center"}},ee.default.createElement(A,{collapsed:a})),ee.default.createElement(Wr.default,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto"}},N),ee.default.createElement(Iv.default,{sx:{background:"rgba(0,0,0,.5)",color:"secondary.contrastText",textAlign:"center",borderRadius:0,borderTop:"1px solid #ffffff1a"},fullWidth:!0,size:"large",onClick:()=>n(B=>!B)},a?ee.default.createElement(Nv.default,null):ee.default.createElement(Av.default,null))),ee.default.createElement(Wr.default,{sx:{display:{xs:"block",md:"none"},position:"fixed",top:"64px",left:"0px",borderRadius:"0 6px 6px 0",bgcolor:"secondary.main",zIndex:1199,width:"36px"}},ee.default.createElement(Lv.default,{sx:{color:"#fff",width:"36px"},onClick:()=>l(B=>!B)},ee.default.createElement(Mv.default,null)))))},"Sider"),zr=x(i("react")),Vs=re(),Dv=x(i("@mui/material/AppBar")),Hs=x(i("@mui/material/Stack")),Ov=x(i("@mui/material/Toolbar")),Bv=x(i("@mui/material/Typography")),Wv=x(i("@mui/material/Avatar")),Uu=j(()=>{let e=(0,Vs.useActiveAuthProvider)(),{data:t}=(0,Vs.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(e!=null&&e.isLegacy)});return t&&(t.name||t.avatar)?zr.default.createElement(Dv.default,{color:"default",position:"sticky",elevation:1},zr.default.createElement(Ov.default,null,zr.default.createElement(Hs.default,{direction:"row",width:"100%",justifyContent:"flex-end",alignItems:"center"},zr.default.createElement(Hs.default,{direction:"row",gap:"16px",alignItems:"center",justifyContent:"center"},zr.default.createElement(Bv.default,{variant:"subtitle2"},t==null?void 0:t.name),zr.default.createElement(Wv.default,{src:t==null?void 0:t.avatar,alt:t==null?void 0:t.name}))))):null},"Header"),zv=j(({Sider:e,Header:t,Title:r,Footer:a,OffLayoutArea:n,children:o})=>Sr.default.createElement(go.default,{display:"flex",flexDirection:"row"},Sr.default.createElement(e??ju,{Title:r}),Sr.default.createElement(go.default,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:"100vh"}},Sr.default.createElement(t??Uu,null),Sr.default.createElement(go.default,{component:"main",sx:{p:{xs:1,md:2,lg:3},flexGrow:1,bgcolor:l=>l.palette.background.default}},o),a&&Sr.default.createElement(a,null)),n&&Sr.default.createElement(n,null)),"Layout"),an=x(i("react")),yo=re(),jv=x(i("@mui/material/Button")),Vu=j(({collapsed:e})=>{let t=(0,yo.useRouterType)(),r=(0,yo.useLink)(),{Link:a}=(0,yo.useRouterContext)();return an.default.createElement(jv.default,{fullWidth:!0,variant:"text",disableRipple:!0},an.default.createElement(t==="legacy"?a:r,{to:"/"},e?an.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",width:"28px",style:{maxHeight:"38px"}}):an.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",width:"140px"})))},"Title"),ar=x(i("react")),ho=x(i("@mui/material/Box")),te=x(i("react")),sa=x(i("@mui/material/Box")),Ks=x(i("@mui/material/Drawer")),Qs=x(i("@mui/material/List")),nn=x(i("@mui/material/ListItemButton")),on=x(i("@mui/material/ListItemIcon")),ln=x(i("@mui/material/ListItemText")),Uv=x(i("@mui/material/Collapse")),sn=x(i("@mui/material/Tooltip")),_s=x(i("@mui/material/IconButton")),Vv=x(i("@mui/material/Paper")),Gs=x(i("@mui/icons-material/ListOutlined")),Hv=x(i("@mui/icons-material/Logout")),Kv=x(i("@mui/icons-material/ExpandLess")),Qv=x(i("@mui/icons-material/ExpandMore")),_v=x(i("@mui/icons-material/ChevronLeft")),Gv=x(i("@mui/icons-material/MenuRounded")),Xv=x(i("@mui/icons-material/Dashboard")),_e=re(),Hu=j(({Title:e,render:t,meta:r,isSiderOpen:a,onToggleSiderClick:n})=>{let[o,l]=(0,te.useState)(!1),s=j(()=>a?240:56,"drawerWidth"),m=(0,_e.useTranslate)(),g=(0,_e.useRouterType)(),y=(0,_e.useLink)(),{Link:E}=(0,_e.useRouterContext)(),k=g==="legacy"?E:y,{hasDashboard:p}=(0,_e.useRefineContext)(),w=(0,_e.useTranslate)(),{menuItems:f,selectedKey:v,defaultOpenKeys:u}=(0,_e.useMenu)({meta:r}),C=(0,_e.useIsExistAuthentication)(),P=(0,_e.useTitle)(),q=(0,_e.useActiveAuthProvider)(),{warnWhen:T,setWarnWhen:d}=(0,_e.useWarnAboutChange)(),{mutate:h}=(0,_e.useLogout)({v3LegacyAuthProviderCompatible:!!(q!=null&&q.isLegacy)}),[L,I]=(0,te.useState)({});te.default.useEffect(()=>{I(B=>{let H=Object.keys(B).filter(U=>B[U]),D=new Set([...H,...u]);return Object.fromEntries(Array.from(D.values()).map(U=>[U,!0]))})},[u]);let A=e??P??Gr,M=j(B=>{I({...L,[B]:!L[B]})},"handleClick"),c=j((B,H)=>B.map(D=>{let{icon:U,label:W,route:K,name:V,children:z,parentName:Q,meta:Y,options:J}=D,oe=L[D.key||""]||!1,de=D.key===H,me=(0,_e.pickNotDeprecated)(Y==null?void 0:Y.parent,J==null?void 0:J.parent,Q)!==void 0;return z.length>0?te.default.createElement(_e.CanAccess,{key:D.key,resource:V.toLowerCase(),action:"list",params:{resource:D}},te.default.createElement("div",{key:D.key},te.default.createElement(sn.default,{title:W??V,placement:"right",disableHoverListener:a,arrow:!0},te.default.createElement(nn.default,{onClick:()=>{a?M(D.key||""):(n==null||n(!0),oe||M(D.key||""))},sx:{pl:me?4:2,justifyContent:"center",marginTop:"8px"}},te.default.createElement(on.default,{sx:{justifyContent:"center",minWidth:"24px",transition:"margin-right 0.3s",marginRight:a?"12px":"0px",color:"currentColor"}},U??te.default.createElement(Gs.default,null)),te.default.createElement(ln.default,{primary:W,primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}),oe?te.default.createElement(Kv.default,{sx:{color:"text.icon"}}):te.default.createElement(Qv.default,{sx:{color:"text.icon"}}))),a&&te.default.createElement(Uv.default,{in:L[D.key||""],timeout:"auto",unmountOnExit:!0},te.default.createElement(Qs.default,{component:"div",disablePadding:!0},c(z,H))))):te.default.createElement(_e.CanAccess,{key:D.key,resource:V.toLowerCase(),action:"list",params:{resource:D}},te.default.createElement(sn.default,{title:W??V,placement:"right",disableHoverListener:a,arrow:!0},te.default.createElement(nn.default,{component:k,to:K,selected:de,onClick:()=>{l(!1)},sx:{pl:me?4:2,py:me?1.25:1,justifyContent:"center",color:de?"primary.main":"text.primary"}},te.default.createElement(on.default,{sx:{justifyContent:"center",transition:"margin-right 0.3s",marginRight:a?"12px":"0px",minWidth:"24px",color:"currentColor"}},U??te.default.createElement(Gs.default,null)),te.default.createElement(ln.default,{primary:W,primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))))}),"renderTreeView"),$=p?te.default.createElement(_e.CanAccess,{resource:"dashboard",action:"list"},te.default.createElement(sn.default,{title:w("dashboard.title","Dashboard"),placement:"right",disableHoverListener:a,arrow:!0},te.default.createElement(nn.default,{component:k,to:"/",selected:v==="/",onClick:()=>{l(!1)},sx:{pl:2,py:1,justifyContent:"center",color:v==="/"?"primary.main":"text.primary"}},te.default.createElement(on.default,{sx:{justifyContent:"center",minWidth:"24px",transition:"margin-right 0.3s",marginRight:a?"12px":"0px",color:"currentColor",fontSize:"14px"}},te.default.createElement(Xv.default,null)),te.default.createElement(ln.default,{primary:w("dashboard.title","Dashboard"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}})))):null,R=j(()=>{T?window.confirm(m("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(d(!1),h()):h()},"handleLogout"),F=C&&te.default.createElement(sn.default,{title:m("buttons.logout","Logout"),placement:"right",disableHoverListener:a,arrow:!0},te.default.createElement(nn.default,{key:"logout",onClick:()=>R(),sx:{justifyContent:"center"}},te.default.createElement(on.default,{sx:{justifyContent:"center",minWidth:"24px",transition:"margin-right 0.3s",marginRight:a?"12px":"0px",marginLeft:"2px",color:"currentColor"}},te.default.createElement(Hv.default,null)),te.default.createElement(ln.default,{primary:m("buttons.logout","Logout"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))),O=c(f,v),N=te.default.createElement(Qs.default,{disablePadding:!0,sx:{flexGrow:1,paddingTop:"16px"}},j(()=>t?t({dashboard:$,logout:F,items:O,collapsed:!a}):te.default.createElement(te.default.Fragment,null,$,O,F),"renderSider")());return te.default.createElement(te.default.Fragment,null,te.default.createElement(sa.default,{sx:{width:{xs:s()},display:{xs:"none",md:"block"},transition:"width 0.3s ease"}}),te.default.createElement(sa.default,{component:"nav",sx:{position:"fixed",zIndex:1101,width:{sm:s()},display:"flex"}},te.default.createElement(Ks.default,{variant:"temporary",elevation:2,open:o,onClose:()=>l(!1),ModalProps:{keepMounted:!0},sx:{display:{sm:"block",md:"none"}}},te.default.createElement(sa.default,{sx:{width:s()}},te.default.createElement(sa.default,{sx:{height:64,display:"flex",alignItems:"center",paddingLeft:"16px",fontSize:"14px"}},te.default.createElement(A,{collapsed:!1})),N)),te.default.createElement(Ks.default,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{width:s,overflow:"hidden",transition:"width 200ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},open:!0},te.default.createElement(Vv.default,{elevation:0,sx:{fontSize:"14px",width:"100%",height:64,display:"flex",alignItems:"center",justifyContent:a?"space-between":"center",paddingLeft:a?"16px":0,paddingRight:a?"8px":0,variant:"outlined",borderRadius:0,borderBottom:B=>`1px solid ${B.palette.action.focus}`}},te.default.createElement(A,{collapsed:!a}),a&&te.default.createElement(_s.default,{size:"small",onClick:()=>n==null?void 0:n(!1)},te.default.createElement(_v.default,null))),te.default.createElement(sa.default,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto"}},N)),te.default.createElement(_s.default,{sx:B=>{let{palette:H}=B,{mode:D,getContrastText:U,primary:W,background:K}=H;return{color:U(D==="light"?W.main:K.paper),display:{xs:"flex",md:"none"},justifyContent:"center",alignItems:"center",position:"fixed",top:"12px",left:"16px",zIndex:1199,height:"36px",width:"36px"}},onClick:()=>l(B=>!B)},te.default.createElement(Gv.default,null))))},"ThemedSider"),nr=x(i("react")),Xs=re(),Zv=x(i("@mui/material/AppBar")),Zs=x(i("@mui/material/Stack")),Yv=x(i("@mui/material/Toolbar")),Jv=x(i("@mui/material/Typography")),eg=x(i("@mui/material/Avatar")),tg=x(i("@mui/material/IconButton")),rg=x(i("@mui/icons-material/Menu")),Ku=j(({isSiderOpen:e,onToggleSiderClick:t,toggleSiderIcon:r})=>{let a=(0,Xs.useActiveAuthProvider)(),{data:n}=(0,Xs.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)});return nr.default.createElement(Zv.default,{position:"sticky"},nr.default.createElement(Yv.default,null,!!t&&nr.default.createElement(tg.default,{color:"inherit","aria-label":"open drawer",onClick:()=>t==null?void 0:t(),edge:"start",sx:{mr:2,display:{xs:"none",md:"flex"},...e&&{display:"none"}}},(r==null?void 0:r(!!e))??nr.default.createElement(rg.default,null)),nr.default.createElement(Zs.default,{direction:"row",width:"100%",justifyContent:"flex-end",alignItems:"center"},nr.default.createElement(Zs.default,{direction:"row",gap:"16px",alignItems:"center",justifyContent:"center"},nr.default.createElement(Jv.default,{sx:{display:{xs:"none",md:"block"}},variant:"subtitle2"},n==null?void 0:n.name),nr.default.createElement(eg.default,{src:n==null?void 0:n.avatar,alt:n==null?void 0:n.name})))))},"ThemedHeader"),ag=j(({Sider:e,Header:t,Title:r,Footer:a,OffLayoutArea:n,children:o})=>{let[l,s]=(0,ar.useState)(!0);return ar.default.createElement(ho.default,{display:"flex",flexDirection:"row"},ar.default.createElement(e??Hu,{Title:r,isSiderOpen:l,onToggleSiderClick:m=>s(!!m)}),ar.default.createElement(ho.default,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:"100vh"}},ar.default.createElement(t??Ku,{isSiderOpen:l,onToggleSiderClick:()=>s(m=>!m)}),ar.default.createElement(ho.default,{component:"main",sx:{p:{xs:1,md:2,lg:3},flexGrow:1,bgcolor:m=>m.palette.background.default}},o),a&&ar.default.createElement(a,null)),n&&ar.default.createElement(n,null))},"ThemedLayout"),Qr=x(i("react")),bo=re(),ng=x(i("@mui/material/Link")),og=x(i("@mui/material/SvgIcon")),ig=x(i("@mui/material/Typography")),lg="refine Project",sg=Qr.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Qr.default.createElement("path",{d:"M12 9C13.6569 9 15 7.65685 15 6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6C9 7.65685 10.3431 9 12 9Z",fill:"currentColor"}),Qr.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6V18C16 20.2091 14.2091 22 12 22C9.79086 22 8 20.2091 8 18V6Z",fill:"currentColor"})),Gr=j(({collapsed:e,wrapperStyles:t,icon:r=sg,text:a=lg})=>{let n=(0,bo.useRouterType)(),o=(0,bo.useLink)(),{Link:l}=(0,bo.useRouterContext)();return Qr.default.createElement(ng.default,{to:"/",component:n==="legacy"?l:o,underline:"none",sx:{display:"flex",alignItems:"center",gap:"12px",...t}},Qr.default.createElement(og.default,{height:"24px",width:"24px",color:"primary"},r),!e&&Qr.default.createElement(ig.default,{variant:"h6",fontWeight:700,color:"text.primary",fontSize:"inherit",textOverflow:"ellipsis",overflow:"hidden"},a))},"ThemedTitle"),or=x(i("react")),xo=x(i("@mui/material/Box")),fn=x(i("react")),vn=fn.default.createContext({siderCollapsed:!1,mobileSiderOpen:!1,setSiderCollapsed:()=>{},setMobileSiderOpen:()=>{}}),Qu=j(({children:e,initialSiderCollapsed:t})=>{let[r,a]=(0,fn.useState)(t??!1),[n,o]=(0,fn.useState)(!1);return fn.default.createElement(vn.Provider,{value:{siderCollapsed:r,mobileSiderOpen:n,setSiderCollapsed:a,setMobileSiderOpen:o}},e)},"ThemedLayoutContextProvider"),ne=x(i("react")),ua=x(i("@mui/material/Box")),Ys=x(i("@mui/material/Drawer")),Js=x(i("@mui/material/List")),un=x(i("@mui/material/ListItemButton")),dn=x(i("@mui/material/ListItemIcon")),cn=x(i("@mui/material/ListItemText")),ug=x(i("@mui/material/Collapse")),mn=x(i("@mui/material/Tooltip")),dg=x(i("@mui/material/IconButton")),cg=x(i("@mui/material/Paper")),eu=x(i("@mui/icons-material/ListOutlined")),mg=x(i("@mui/icons-material/Logout")),pg=x(i("@mui/icons-material/ExpandLess")),fg=x(i("@mui/icons-material/ExpandMore")),vg=x(i("@mui/icons-material/ChevronLeft")),gg=x(i("@mui/icons-material/Dashboard")),Ge=re(),yg=re(),hg=x(i("lodash/isEqual")),bg=x(i("lodash/unionWith")),xg=j(e=>{var t,r;let{queryResult:a,defaultValueQueryResult:n,onSearch:o,overtime:l}=(0,yg.useSelect)(e);return{autocompleteProps:{options:(0,bg.default)(((t=a.data)==null?void 0:t.data)||[],((r=n.data)==null?void 0:r.data)||[],hg.default),loading:a.isFetching||n.isFetching,onInputChange:(s,m)=>{(s==null?void 0:s.type)==="change"?o(m):(s==null?void 0:s.type)==="click"&&o("")},filterOptions:s=>s},onSearch:o,queryResult:a,defaultValueQueryResult:n,overtime:l}},"useAutocomplete"),jr=re(),tu=i("react"),pn=i("@mui/material/styles"),ru=x(i("lodash/differenceWith")),Co=x(i("lodash/isEqual")),Mo=i("@mui/x-data-grid"),Cg=j(e=>e.map(({field:t,sort:r})=>({field:t,order:r||"asc"})),"transformSortModelToCrudSorting"),Eg=j(e=>e.map(({field:t,order:r})=>({field:t,sort:r})),"transformCrudSortingToSortModel"),wg=j(e=>{if(!e)return"eq";switch(e){case"equals":case"is":case"=":return"eq";case"!=":case"not":return"ne";case">":case"after":return"gt";case">=":case"onOrAfter":return"gte";case"<":case"before":return"lt";case"<=":case"onOrBefore":return"lte";case"isEmpty":return"null";case"isNotEmpty":return"nnull";default:return e}},"transformMuiOperatorToCrudOperator"),Pg=j(({items:e,logicOperator:t})=>{let r=e.map(({field:a,value:n,operator:o})=>({field:a,value:n??"",operator:wg(o)}));return t===Mo.GridLogicOperator.Or?[{operator:"or",value:r}]:r},"transformFilterModelToCrudFilters"),au=j((e,t)=>{switch(t){case"number":switch(e){case"eq":return"=";case"ne":return"!=";case"gt":return">";case"gte":return">=";case"lt":return"<";case"lte":return"<=";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return e}case"singleSelect":case"boolean":switch(e){case"eq":return"is";default:return e}case void 0:case"string":switch(e){case"eq":return"equals";case"contains":return"contains";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return e}case"date":case"dateTime":switch(e){case"eq":return"is";case"ne":return"not";case"gt":return"after";case"gte":return"onOrAfter";case"lt":return"before";case"lte":return"onOrBefore";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return e}default:return e}},"transformCrudOperatorToMuiOperator"),kg=j((e,t)=>{var r;let a=[],n=e.some(o=>o.operator==="or");return t&&(n?((r=e.find(o=>o.operator==="or"))==null?void 0:r.value).map(({field:o,value:l,operator:s})=>{let m=t[o];a.push({field:o,operator:au(s,m),value:l===""?void 0:l,id:o+s})}):e.map(({field:o,value:l,operator:s})=>{let m=t[o];a.push({field:o,operator:au(s,m),value:l===""?void 0:l,id:o+s})})),{items:a,logicOperator:n?Mo.GridLogicOperator.Or:Mo.GridLogicOperator.And}},"transformCrudFiltersToFilterModel");function _u({onSearch:e,initialCurrent:t,initialPageSize:r=25,pagination:a,hasPagination:n=!0,initialSorter:o,permanentSorter:l,defaultSetFilterBehavior:s="replace",initialFilter:m,permanentFilter:g,filters:y,sorters:E,syncWithLocation:k,resource:p,successNotification:w,errorNotification:f,queryOptions:v,liveMode:u,onLiveEvent:C,liveParams:P,meta:q,metaData:T,dataProviderName:d,overtimeOptions:h}={}){let L=(0,pn.useTheme)(),I=(0,jr.useLiveMode)(u),[A,M]=(0,tu.useState)(),{tableQueryResult:c,current:$,setCurrent:R,pageSize:F,setPageSize:O,filters:N,setFilters:B,sorters:H,setSorters:D,sorter:U,setSorter:W,pageCount:K,createLinkForSyncWithLocation:V,overtime:z}=(0,jr.useTable)({permanentSorter:l,permanentFilter:g,initialCurrent:t,initialPageSize:r,pagination:a,hasPagination:n,initialSorter:o,initialFilter:m,filters:y,sorters:E,syncWithLocation:k,defaultSetFilterBehavior:s,resource:p,successNotification:w,errorNotification:f,queryOptions:v,liveMode:u,onLiveEvent:C,liveParams:P,meta:(0,jr.pickNotDeprecated)(q,T),metaData:(0,jr.pickNotDeprecated)(q,T),dataProviderName:d,overtimeOptions:h}),[Q,Y]=(0,tu.useState)(N),{data:J,isFetched:oe,isLoading:de}=c,me=((y==null?void 0:y.mode)||"server")==="server",he=((E==null?void 0:E.mode)||"server")==="server",qe=n===!1?"off":"server",He=((a==null?void 0:a.mode)??qe)!=="off",Le=(0,jr.pickNotDeprecated)(E==null?void 0:E.permanent,l)??[],mt=(0,jr.pickNotDeprecated)(y==null?void 0:y.permanent,g)??[],It=j(Ne=>{He&&R(Ne+1)},"handlePageChange"),pt=j(Ne=>{He&&O(Ne)},"handlePageSizeChange"),Qt=j(Ne=>{let ue=Cg(Ne);D(ue)},"handleSortModelChange"),_t=j(Ne=>{let ue=Pg(Ne);Y(ue),B(ue.filter(ze=>ze.value!=="")),He&&R(1)},"handleFilterModelChange"),Tr=j(async Ne=>{if(e){let ue=await e(Ne);Y(ue),B(ue.filter(ze=>ze.value!=="")),He&&R(1)}},"search"),yr=j(()=>He?{paginationMode:"server",paginationModel:{page:$-1,pageSize:F},onPaginationModelChange:Ne=>{It(Ne.page),pt(Ne.pageSize)}}:{paginationMode:"client"},"dataGridPaginationValues");return{tableQueryResult:c,dataGridProps:{disableRowSelectionOnClick:!0,rows:(J==null?void 0:J.data)||[],loading:I==="auto"?de:!oe,rowCount:(J==null?void 0:J.total)||0,...yr(),sortingMode:he?"server":"client",sortModel:Eg((0,ru.default)(H,Le,Co.default)),onSortModelChange:Qt,filterMode:me?"server":"client",filterModel:kg((0,ru.default)(Q,mt,Co.default),A),onFilterModelChange:_t,onStateChange:Ne=>{let ue=Object.fromEntries(Object.entries(Ne.columns.lookup).map(([ze,ke])=>[ze,ke.type]));!(0,Co.default)(ue,A)&&M(ue)},sx:{border:"none","& .MuiDataGrid-columnHeaders":{background:(0,pn.darken)(L.palette.background.paper,.05),borderBottom:`1px solid ${(0,pn.darken)(L.palette.background.paper,.1)}`},"& .MuiDataGrid-cell":{borderBottom:`1px solid ${(0,pn.darken)(L.palette.background.paper,.05)}`}}},current:$,setCurrent:R,pageSize:F,setPageSize:O,pageCount:K,sorters:H,setSorters:D,sorter:U,setSorter:W,filters:N,setFilters:B,search:Tr,createLinkForSyncWithLocation:V,overtime:z}}S(_u,"Tn");j(_u,"useDataGrid");var Sg=i("react"),qg=j(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:a}=(0,Sg.useContext)(vn);return{siderVisible:e,setSiderVisible:r,drawerSiderVisible:!t,setDrawerSiderVisible:n=>a(!n)}},"useSiderVisible"),Ig=i("react"),Ro=j(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:a}=(0,Ig.useContext)(vn);return{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:r,setSiderCollapsed:a}},"useThemedLayoutContext"),Gu=j(({Title:e,render:t,meta:r,activeItemDisabled:a=!1})=>{let{siderCollapsed:n,setSiderCollapsed:o,mobileSiderOpen:l,setMobileSiderOpen:s}=Ro(),m=j(()=>n?56:240,"drawerWidth"),g=(0,Ge.useTranslate)(),y=(0,Ge.useRouterType)(),E=(0,Ge.useLink)(),{Link:k}=(0,Ge.useRouterContext)(),p=y==="legacy"?k:E,{hasDashboard:w}=(0,Ge.useRefineContext)(),f=(0,Ge.useTranslate)(),{menuItems:v,selectedKey:u,defaultOpenKeys:C}=(0,Ge.useMenu)({meta:r}),P=(0,Ge.useIsExistAuthentication)(),q=(0,Ge.useTitle)(),T=(0,Ge.useActiveAuthProvider)(),{warnWhen:d,setWarnWhen:h}=(0,Ge.useWarnAboutChange)(),{mutate:L}=(0,Ge.useLogout)({v3LegacyAuthProviderCompatible:!!(T!=null&&T.isLegacy)}),[I,A]=(0,ne.useState)({});ne.default.useEffect(()=>{A(H=>{let D=Object.keys(H).filter(W=>H[W]),U=new Set([...D,...C]);return Object.fromEntries(Array.from(U.values()).map(W=>[W,!0]))})},[C]);let M=e??q??Yu,c=j(H=>{A({...I,[H]:!I[H]})},"handleClick"),$=j((H,D)=>H.map(U=>{let{icon:W,label:K,route:V,name:z,children:Q,parentName:Y,meta:J,options:oe}=U,de=I[U.key||""]||!1,me=U.key===D,he=(0,Ge.pickNotDeprecated)(J==null?void 0:J.parent,oe==null?void 0:oe.parent,Y)!==void 0;if(Q.length>0)return ne.default.createElement(Ge.CanAccess,{key:U.key,resource:z.toLowerCase(),action:"list",params:{resource:U}},ne.default.createElement("div",{key:U.key},ne.default.createElement(mn.default,{title:K??z,placement:"right",disableHoverListener:!n,arrow:!0},ne.default.createElement(un.default,{onClick:()=>{n?(o(!1),de||c(U.key||"")):c(U.key||"")},sx:{pl:he?4:2,justifyContent:"center",marginTop:"8px"}},ne.default.createElement(dn.default,{sx:{justifyContent:"center",minWidth:"24px",transition:"margin-right 0.3s",marginRight:n?"0px":"12px",color:"currentColor"}},W??ne.default.createElement(eu.default,null)),ne.default.createElement(cn.default,{primary:K,primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}),de?ne.default.createElement(pg.default,{sx:{color:"text.icon"}}):ne.default.createElement(fg.default,{sx:{color:"text.icon"}}))),!n&&ne.default.createElement(ug.default,{in:I[U.key||""],timeout:"auto",unmountOnExit:!0},ne.default.createElement(Js.default,{component:"div",disablePadding:!0},$(Q,D)))));let qe=a&&me?{pointerEvents:"none"}:{};return ne.default.createElement(Ge.CanAccess,{key:U.key,resource:z.toLowerCase(),action:"list",params:{resource:U}},ne.default.createElement(mn.default,{title:K??z,placement:"right",disableHoverListener:!n,arrow:!0},ne.default.createElement(un.default,{component:p,to:V,selected:me,style:qe,onClick:()=>{s(!1)},sx:{pl:he?4:2,py:he?1.25:1,justifyContent:"center",color:me?"primary.main":"text.primary"}},ne.default.createElement(dn.default,{sx:{justifyContent:"center",transition:"margin-right 0.3s",marginRight:n?"0px":"12px",minWidth:"24px",color:"currentColor"}},W??ne.default.createElement(eu.default,null)),ne.default.createElement(cn.default,{primary:K,primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))))}),"renderTreeView"),R=w?ne.default.createElement(Ge.CanAccess,{resource:"dashboard",action:"list"},ne.default.createElement(mn.default,{title:f("dashboard.title","Dashboard"),placement:"right",disableHoverListener:!n,arrow:!0},ne.default.createElement(un.default,{component:p,to:"/",selected:u==="/",onClick:()=>{s(!1)},sx:{pl:2,py:1,justifyContent:"center",color:u==="/"?"primary.main":"text.primary"}},ne.default.createElement(dn.default,{sx:{justifyContent:"center",minWidth:"24px",transition:"margin-right 0.3s",marginRight:n?"0px":"12px",color:"currentColor",fontSize:"14px"}},ne.default.createElement(gg.default,null)),ne.default.createElement(cn.default,{primary:f("dashboard.title","Dashboard"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}})))):null,F=j(()=>{d?window.confirm(g("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(h(!1),L()):L()},"handleLogout"),O=P&&ne.default.createElement(mn.default,{title:g("buttons.logout","Logout"),placement:"right",disableHoverListener:!n,arrow:!0},ne.default.createElement(un.default,{key:"logout",onClick:()=>F(),sx:{justifyContent:"center"}},ne.default.createElement(dn.default,{sx:{justifyContent:"center",minWidth:"24px",transition:"margin-right 0.3s",marginRight:n?"0px":"12px",color:"currentColor"}},ne.default.createElement(mg.default,null)),ne.default.createElement(cn.default,{primary:g("buttons.logout","Logout"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))),N=$(v,u),B=ne.default.createElement(Js.default,{disablePadding:!0,sx:{flexGrow:1,paddingTop:"16px"}},j(()=>t?t({dashboard:R,logout:O,items:N,collapsed:n}):ne.default.createElement(ne.default.Fragment,null,R,N,O),"renderSider")());return ne.default.createElement(ne.default.Fragment,null,ne.default.createElement(ua.default,{sx:{width:{xs:m()},display:{xs:"none",md:"block"},transition:"width 0.3s ease"}}),ne.default.createElement(ua.default,{component:"nav",sx:{position:"fixed",zIndex:1101,width:{sm:m()},display:"flex"}},ne.default.createElement(Ys.default,{variant:"temporary",elevation:2,open:l,onClose:()=>s(!1),ModalProps:{keepMounted:!0},sx:{display:{sm:"block",md:"none"}}},ne.default.createElement(ua.default,{sx:{width:m()}},ne.default.createElement(ua.default,{sx:{height:64,display:"flex",alignItems:"center",paddingLeft:"16px",fontSize:"14px"}},ne.default.createElement(M,{collapsed:!1})),B)),ne.default.createElement(Ys.default,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{width:m(),overflow:"hidden",transition:"width 200ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},open:!0},ne.default.createElement(cg.default,{elevation:0,sx:{fontSize:"14px",width:"100%",height:64,display:"flex",flexShrink:0,alignItems:"center",justifyContent:n?"center":"space-between",paddingLeft:n?0:"16px",paddingRight:n?0:"8px",variant:"outlined",borderRadius:0,borderBottom:H=>`1px solid ${H.palette.action.focus}`}},ne.default.createElement(M,{collapsed:n}),!n&&ne.default.createElement(dg.default,{size:"small",onClick:()=>o(!0)},ne.default.createElement(vg.default,null))),ne.default.createElement(ua.default,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto"}},B))))},"ThemedSiderV2"),qr=x(i("react")),Eo=re(),Lg=x(i("@mui/material/AppBar")),nu=x(i("@mui/material/Stack")),Fg=x(i("@mui/material/Toolbar")),Tg=x(i("@mui/material/Typography")),$g=x(i("@mui/material/Avatar")),Kr=x(i("react")),Ag=x(i("@mui/material/IconButton")),Ng=x(i("@mui/icons-material/Menu")),ou=j(e=>Kr.default.createElement(Ag.default,{color:"inherit","aria-label":"open drawer",edge:"start",...e},Kr.default.createElement(Ng.default,null)),"HamburgerIcon"),Xu=j(()=>{let{siderCollapsed:e,setSiderCollapsed:t,mobileSiderOpen:r,setMobileSiderOpen:a}=Ro();return Kr.default.createElement(Kr.default.Fragment,null,Kr.default.createElement(ou,{onClick:()=>t(!e),sx:{mr:2,display:{xs:"none",md:"flex"},...!e&&{display:"none"}}}),Kr.default.createElement(ou,{onClick:()=>a(!r),sx:{mr:2,display:{xs:"flex",md:"none"},...r&&{display:"none"}}}))},"HamburgerMenu"),Zu=j(({isSticky:e,sticky:t})=>{let r=(0,Eo.useActiveAuthProvider)(),{data:a}=(0,Eo.useGetIdentity)({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=(0,Eo.pickNotDeprecated)(t,e)??!0;return qr.default.createElement(Lg.default,{position:n?"sticky":"relative"},qr.default.createElement(Fg.default,null,qr.default.createElement(Xu,null),qr.default.createElement(nu.default,{direction:"row",width:"100%",justifyContent:"flex-end",alignItems:"center"},qr.default.createElement(nu.default,{direction:"row",gap:"16px",alignItems:"center",justifyContent:"center"},(a==null?void 0:a.name)&&qr.default.createElement(Tg.default,{variant:"subtitle2"},a==null?void 0:a.name),(a==null?void 0:a.avatar)&&qr.default.createElement($g.default,{src:a==null?void 0:a.avatar,alt:a==null?void 0:a.name})))))},"ThemedHeaderV2"),Mg=j(({Sider:e,Header:t,Title:r,Footer:a,OffLayoutArea:n,children:o,initialSiderCollapsed:l})=>or.default.createElement(Qu,{initialSiderCollapsed:l},or.default.createElement(xo.default,{display:"flex",flexDirection:"row"},or.default.createElement(e??Gu,{Title:r}),or.default.createElement(xo.default,{sx:[{display:"flex",flexDirection:"column",flex:1,minHeight:"100vh"},{overflow:"auto"},{overflow:"clip"}]},or.default.createElement(t??Zu,null),or.default.createElement(xo.default,{component:"main",sx:{p:{xs:1,md:2,lg:3},flexGrow:1,bgcolor:s=>s.palette.background.default}},o),a&&or.default.createElement(a,null)),n&&or.default.createElement(n,null))),"ThemedLayoutV2"),_r=x(i("react")),wo=re(),Rg=x(i("@mui/material/Link")),Dg=x(i("@mui/material/SvgIcon")),Og=x(i("@mui/material/Typography")),Bg="refine Project",Wg=_r.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_r.default.createElement("path",{d:"M12 9C13.6569 9 15 7.65685 15 6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6C9 7.65685 10.3431 9 12 9Z",fill:"currentColor"}),_r.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM8 6C8 3.79086 9.79086 2 12 2C14.2091 2 16 3.79086 16 6V18C16 20.2091 14.2091 22 12 22C9.79086 22 8 20.2091 8 18V6Z",fill:"currentColor"})),Yu=j(({collapsed:e,wrapperStyles:t,icon:r=Wg,text:a=Bg})=>{let n=(0,wo.useRouterType)(),o=(0,wo.useLink)(),{Link:l}=(0,wo.useRouterContext)();return _r.default.createElement(Rg.default,{to:"/",component:n==="legacy"?l:o,underline:"none",sx:{display:"flex",alignItems:"center",gap:"12px",...t}},_r.default.createElement(Dg.default,{height:"24px",width:"24px",color:"primary"},r),!e&&_r.default.createElement(Og.default,{variant:"h6",fontWeight:700,color:"text.primary",fontSize:"inherit",textOverflow:"ellipsis",overflow:"hidden"},a))},"ThemedTitleV2"),Ce=x(i("react")),zg=re(),jg=rr(),Ug=x(i("@mui/material/Button")),iu=x(i("@mui/material/TextField")),Vg=x(i("@mui/material/FormControlLabel")),Hg=x(i("@mui/material/Checkbox")),lu=x(i("@mui/material/Link")),Ur=x(i("@mui/material/Box")),Po=x(i("@mui/material/Typography")),Kg=x(i("@mui/material/Container")),Qg=x(i("@mui/material/Card")),_g=x(i("@mui/material/CardContent")),su=re(),Gg=j(()=>{var e;let{register:t,handleSubmit:r,formState:{errors:a}}=(0,jg.useForm)(),n=(0,zg.useActiveAuthProvider)(),{mutate:o,isLoading:l}=(0,su.useLogin)({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)}),s=(0,su.useTranslate)();return Ce.createElement(Ce.Fragment,null,Ce.createElement(Ur.default,{component:"div",sx:{background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"}},Ce.createElement(Kg.default,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},Ce.createElement(Ur.default,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},Ce.createElement("div",null,Ce.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo",style:{maxWidth:200}})),Ce.createElement(Ur.default,{mt:4},Ce.createElement(Qg.default,null,Ce.createElement(_g.default,{sx:{paddingX:"32px"}},Ce.createElement(Po.default,{component:"h1",variant:"h5",align:"center",sx:{fontWeight:"700",margin:"12px 0"}},s("pages.login.title","Sign in your account")),Ce.createElement(Ur.default,{component:"form",onSubmit:r(m=>{o(m)}),gap:"16px"},Ce.createElement(iu.default,{...t("username",{required:!0}),id:"username",margin:"normal",size:"small",fullWidth:!0,label:s("pages.login.username","Username"),name:"username",autoComplete:"username",autoFocus:!0}),Ce.createElement(iu.default,{...t("password",{required:!0}),id:"password",size:"small",margin:"normal",fullWidth:!0,name:"password",label:s("pages.login.password","Password"),helperText:(e=a==null?void 0:a.password)==null?void 0:e.message,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),Ce.createElement(Ur.default,{component:"div",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},Ce.createElement(Vg.default,{sx:{span:{fontSize:"12px",color:"text.secondary"}},color:"secondary",control:Ce.createElement(Hg.default,{size:"small",id:"remember",...t("remember")}),label:s("pages.login.remember","Remember me")}),Ce.createElement(lu.default,{href:"#",sx:{fontSize:"12px",textDecoration:"none"}},Ce.createElement(Po.default,{sx:{fontSize:"12px"}},s("pages.login.forgotPassword","Forgot password?")))),Ce.createElement(Ug.default,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:"8px",color:"white"},disabled:l},s("pages.login.signin","Sign in")),Ce.createElement(Ur.default,{style:{marginTop:8}},Ce.createElement(Po.default,{variant:"subtitle2"},s("pages.login.noAccount","Don\u2019t have an account?")," ",Ce.createElement(lu.default,{underline:"none",href:"#",style:{fontWeight:"bold"}},s("pages.login.signup","Sign up"))))))))))))},"LoginPage"),Be=x(i("react")),Xg=x(i("@mui/material/Stack")),ko=x(i("@mui/material/Grid")),da=x(i("@mui/material/Typography")),So=x(i("@mui/material/Button")),qo=x(i("@mui/material/Link")),Zg=j(()=>{let e=j(t=>Be.createElement(da.default,{sx:{backgroundColor:r=>r.palette.secondary.contrastText,color:r=>r.palette.secondary.main,display:"inline-block",fontFamily:"monospace"}},t),"renderCode");return Be.createElement(Be.Fragment,null,Be.createElement(ko.default,{container:!0,sx:{backgroundColor:t=>t.palette.secondary.main,display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover"},p:3},Be.createElement(ko.default,{display:"flex",flexDirection:"column",flex:1,alignItems:"center",color:t=>t.palette.primary.contrastText},Be.createElement(da.default,{display:"flex",justifyContent:"center"},Be.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),Be.createElement(da.default,{variant:"h2",fontWeight:"bold",display:"flex",justifyContent:"center"},"Welcome on board"),Be.createElement(da.default,{variant:"h5",mt:2},"Your configuration is completed."),Be.createElement(da.default,{variant:"h6",mt:2},"Now you can get started by adding your resources to the"," ",e("resources")," property of"," ",e("Refine")),Be.createElement(ko.default,{item:!0,sm:12,mt:12,display:"flex",justifyContent:"center"},Be.createElement(Xg.default,{spacing:2,direction:{xs:"column",sm:"row"}},Be.createElement(qo.default,{href:"https://refine.dev",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Be.createElement(So.default,{variant:"outlined",fullWidth:!0},"Documentation")),Be.createElement(qo.default,{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Be.createElement(So.default,{variant:"outlined",fullWidth:!0},"Examples")),Be.createElement(qo.default,{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Be.createElement(So.default,{variant:"outlined",fullWidth:!0},"Community")))))))},"ReadyPage"),Yg=x(i("react")),Jg=re(),ey=j(()=>Yg.default.createElement(Jg.WelcomePage,null),"WelcomePage"),Ft=x(i("react")),Io=re(),uu=re(),ty=x(i("@mui/material/Stack")),ry=x(i("@mui/material/Button")),ay=x(i("@mui/material/Tooltip")),du=x(i("@mui/material/Typography")),cu=x(i("@mui/material/Grid")),ny=x(i("@mui/icons-material/Info")),oy=j(()=>{let[e,t]=(0,Ft.useState)(),{push:r}=(0,uu.useNavigation)(),a=(0,Io.useGo)(),n=(0,Io.useRouterType)(),{resource:o,action:l}=(0,Io.useResource)(),s=(0,uu.useTranslate)();return(0,Ft.useEffect)(()=>{o&&l&&t(s("pages.error.info",{action:l,resource:o==null?void 0:o.name},`You may have forgotten to add the "${l}" component to "${o==null?void 0:o.name}" resource.`))},[l,o]),Ft.default.createElement(cu.default,{display:"flex",justifyContent:"center",alignItems:"center",mt:20},Ft.default.createElement(cu.default,{container:!0,direction:"column",display:"flex",alignItems:"center"},Ft.default.createElement(du.default,{variant:"h1"},"404"),Ft.default.createElement(ty.default,{direction:"row",spacing:"2"},Ft.default.createElement(du.default,null,s("pages.error.404","Sorry, the page you visited does not exist.")),e&&Ft.default.createElement(ay.default,{title:e},Ft.default.createElement(ny.default,{}))),Ft.default.createElement(ry.default,{onClick:()=>{n==="legacy"?r("/"):a({to:"/"})}},s("pages.error.backHome","Back Home"))))},"ErrorComponent"),Vr=x(i("react")),fe=x(i("react")),iy=re(),ly=rr(),sy=i("react-hook-form"),mu=x(i("@mui/material/Button")),pu=x(i("@mui/material/TextField")),ca=x(i("@mui/material/Box")),fu=x(i("@mui/material/Typography")),uy=x(i("@mui/material/Container")),dy=x(i("@mui/material/Card")),cy=x(i("@mui/material/CardContent")),my=x(i("@mui/material/Checkbox")),py=x(i("@mui/material/FormControlLabel")),fy=x(i("@mui/material/Divider")),vu=x(i("@mui/material/Link")),vy=x(i("@mui/material/Stack")),ma=re(),gn={},yn={textAlign:"center",fontSize:"24px",marginBottom:"24px",overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"},gy=j(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:s,title:m})=>{var g;let{onSubmit:y,...E}=s||{},k=(0,ly.useForm)({...E}),{register:p,handleSubmit:w,formState:{errors:f}}=k,v=(0,iy.useActiveAuthProvider)(),{mutate:u,isLoading:C}=(0,ma.useLogin)({v3LegacyAuthProviderCompatible:!!(v!=null&&v.isLegacy)}),P=(0,ma.useTranslate)(),q=(0,ma.useRouterType)(),T=(0,ma.useLink)(),{Link:d}=(0,ma.useRouterContext)(),h=q==="legacy"?d:T,L=m===!1?null:fe.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},m??fe.createElement(Gr,{collapsed:!1,wrapperStyles:{gap:"8px"}})),I=j(()=>e&&e.length>0?fe.createElement(fe.Fragment,null,fe.createElement(vy.default,{spacing:1},e.map(M=>fe.createElement(mu.default,{key:M.name,variant:"outlined",fullWidth:!0,sx:{color:"primary.light",borderColor:"primary.light",textTransform:"none"},onClick:()=>u({providerName:M.name}),startIcon:M.icon},M.label))),fe.createElement(fy.default,{sx:{fontSize:"12px",marginY:"16px"}},P("pages.login.divider","or"))):null,"renderProviders"),A=fe.createElement(dy.default,{...n??{}},fe.createElement(cy.default,{sx:{p:"32px","&:last-child":{pb:"32px"}}},fe.createElement(fu.default,{component:"h1",variant:"h5",align:"center",style:yn,color:"primary",fontWeight:700},P("pages.login.title","Sign in to your account")),fe.createElement(ca.default,{component:"form",onSubmit:w(M=>y?y(M):u(M))},I(),fe.createElement(pu.default,{...p("email",{required:!0}),id:"email",margin:"normal",fullWidth:!0,label:P("pages.login.fields.email","Email"),error:!!f.email,name:"email",type:"email",autoComplete:"email",sx:{mt:0}}),fe.createElement(pu.default,{...p("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:P("pages.login.fields.password","Password"),helperText:(g=f==null?void 0:f.password)==null?void 0:g.message,error:!!f.password,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password",sx:{mb:0}}),fe.createElement(ca.default,{component:"div",sx:{mt:"24px",display:"flex",justifyContent:"space-between",alignItems:"center"}},a??fe.createElement(py.default,{sx:{span:{fontSize:"14px",color:"text.secondary"}},color:"secondary",control:fe.createElement(my.default,{size:"small",id:"remember",...p("remember")}),label:P("pages.login.buttons.rememberMe","Remember me")}),r??fe.createElement(vu.default,{variant:"body2",color:"primary",fontSize:"12px",component:h,underline:"none",to:"/forgot-password"},P("pages.login.buttons.forgotPassword","Forgot password?"))),fe.createElement(mu.default,{type:"submit",fullWidth:!0,variant:"contained",disabled:C,sx:{mt:"24px"}},P("pages.login.signin","Sign in")),t??fe.createElement(ca.default,{sx:{mt:"24px",display:"flex",justifyContent:"center",alignItems:"center"}},fe.createElement(fu.default,{textAlign:"center",variant:"body2",component:"span",fontSize:"12px"},P("pages.login.buttons.noAccount","Don\u2019t have an account?")),fe.createElement(vu.default,{ml:"4px",fontSize:"12px",variant:"body2",color:"primary",component:h,underline:"none",to:"/register",fontWeight:"bold"},P("pages.login.signup","Sign up"))))));return fe.createElement(sy.FormProvider,{...k},fe.createElement(ca.default,{component:"div",style:gn,...o??{}},fe.createElement(uy.default,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},fe.createElement(ca.default,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},l?l(A,L):fe.createElement(fe.Fragment,null,L,A)))))},"LoginPage"),Se=x(i("react")),yy=re(),hy=rr(),gu=x(i("@mui/material/Button")),yu=x(i("@mui/material/TextField")),Lo=x(i("@mui/material/Box")),hu=x(i("@mui/material/Typography")),by=x(i("@mui/material/Container")),xy=x(i("@mui/material/Card")),Cy=x(i("@mui/material/CardContent")),Ey=x(i("@mui/material/Divider")),wy=x(i("@mui/material/Stack")),Py=x(i("@mui/material/Link")),pa=re(),ky=j(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,providers:n,formProps:o,title:l})=>{let{onSubmit:s,...m}=o||{},{register:g,handleSubmit:y,formState:{errors:E}}=(0,hy.useForm)({...m}),k=(0,yy.useActiveAuthProvider)(),{mutate:p,isLoading:w}=(0,pa.useRegister)({v3LegacyAuthProviderCompatible:!!(k!=null&&k.isLegacy)}),f=(0,pa.useTranslate)(),v=(0,pa.useRouterType)(),u=(0,pa.useLink)(),{Link:C}=(0,pa.useRouterContext)(),P=v==="legacy"?C:u,q=l===!1?null:Se.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},l??Se.createElement(Gr,{collapsed:!1,wrapperStyles:{gap:"8px"}})),T=j(()=>n&&n.length>0?Se.createElement(Se.Fragment,null,Se.createElement(wy.default,{spacing:1},n.map(h=>Se.createElement(gu.default,{key:h.name,color:"secondary",fullWidth:!0,variant:"outlined",sx:{color:"primary.light",borderColor:"primary.light",textTransform:"none"},onClick:()=>p({providerName:h.name}),startIcon:h.icon},h.label))),Se.createElement(Ey.default,{sx:{fontSize:12,marginY:"16px"}},f("pages.login.divider","or"))):null,"renderProviders"),d=Se.createElement(xy.default,{...r??{}},Se.createElement(Cy.default,{sx:{p:"32px","&:last-child":{pb:"32px"}}},Se.createElement(hu.default,{component:"h1",variant:"h5",align:"center",style:yn,color:"primary",fontWeight:700},f("pages.register.title","Sign up for your account")),T(),Se.createElement(Lo.default,{component:"form",onSubmit:y(h=>s?s(h):p(h))},Se.createElement(yu.default,{...g("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:f("pages.register.errors.validEmail","Invalid email address")}}),id:"email",margin:"normal",fullWidth:!0,label:f("pages.register.email","Email"),error:!!E.email,helperText:E.email?E.email.message:"",name:"email",autoComplete:"email",sx:{mt:0}}),Se.createElement(yu.default,{...g("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:f("pages.register.fields.password","Password"),helperText:E.password?E.password.message:"",error:!!E.password,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password",sx:{mb:0}}),Se.createElement(gu.default,{type:"submit",fullWidth:!0,variant:"contained",disabled:w,sx:{mt:"24px"}},f("pages.register.signup","Sign up")),e??Se.createElement(Lo.default,{display:"flex",justifyContent:"flex-end",alignItems:"center",sx:{mt:"24px",display:"flex",justifyContent:"center",alignItems:"center"}},Se.createElement(hu.default,{variant:"body2",component:"span",fontSize:"12px"},f("pages.login.buttons.haveAccount","Have an account?")),Se.createElement(Py.default,{ml:"4px",variant:"body2",color:"primary",component:P,underline:"none",to:"/login",fontSize:"12px",fontWeight:"bold"},f("pages.login.signin","Sign in"))))));return Se.createElement(Lo.default,{component:"div",style:gn,...t??{}},Se.createElement(by.default,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},a?a(d,q):Se.createElement(Se.Fragment,null,q,d)))},"RegisterPage"),Sy=x(i("@mui/material/Button")),qy=x(i("@mui/material/TextField")),Fo=x(i("@mui/material/Box")),bu=x(i("@mui/material/Typography")),Iy=x(i("@mui/material/Container")),Ly=x(i("@mui/material/Card")),Fy=x(i("@mui/material/CardContent")),Ty=x(i("@mui/material/Link")),$y=rr(),Ue=x(i("react")),fa=re(),Ay=j(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n,title:o})=>{let{onSubmit:l,...s}=n||{},{register:m,handleSubmit:g,formState:{errors:y}}=(0,$y.useForm)({...s}),{mutate:E,isLoading:k}=(0,fa.useForgotPassword)(),p=(0,fa.useTranslate)(),w=(0,fa.useRouterType)(),f=(0,fa.useLink)(),{Link:v}=(0,fa.useRouterContext)(),u=w==="legacy"?v:f,C=o===!1?null:Ue.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},o??Ue.createElement(Gr,{collapsed:!1,wrapperStyles:{gap:"8px"}})),P=Ue.createElement(Ly.default,{...r??{}},Ue.createElement(Fy.default,{sx:{p:"32px","&:last-child":{pb:"32px"}}},Ue.createElement(bu.default,{component:"h1",variant:"h5",align:"center",style:yn,color:"primary",fontWeight:700},p("pages.forgotPassword.title","Forgot your password?")),Ue.createElement(Fo.default,{component:"form",onSubmit:g(q=>l?l(q):E(q))},Ue.createElement(qy.default,{...m("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:p("pages.register.errors.validEmail","Invalid email address")}}),id:"email",margin:"normal",fullWidth:!0,label:p("pages.forgotPassword.fields.email","Email"),name:"email",type:"email",error:!!y.email,autoComplete:"email",sx:{m:0}}),e??Ue.createElement(Fo.default,{textAlign:"right",sx:{mt:"24px"}},Ue.createElement(bu.default,{variant:"body2",component:"span",fontSize:"12px"},p("pages.register.buttons.haveAccount","Have an account?"))," ",Ue.createElement(Ty.default,{variant:"body2",component:u,underline:"none",to:"/login",fontWeight:"bold",fontSize:"12px",color:"primary.light"},p("pages.login.signin","Sign in"))),Ue.createElement(Sy.default,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"24px"},disabled:k},p("pages.forgotPassword.buttons.submit","Send reset instructions")))));return Ue.createElement(Ue.Fragment,null,Ue.createElement(Fo.default,{component:"div",style:gn,...t??{}},Ue.createElement(Iy.default,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},a?a(P,C):Ue.createElement(Ue.Fragment,null,C,P))))},"ForgotPasswordPage"),Ye=x(i("react")),Ny=re(),My=rr(),Ry=x(i("@mui/material/Button")),xu=x(i("@mui/material/TextField")),Cu=x(i("@mui/material/Box")),Dy=x(i("@mui/material/Typography")),Oy=x(i("@mui/material/Container")),By=x(i("@mui/material/Card")),Wy=x(i("@mui/material/CardContent")),Eu=re(),zy=j(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:n=void 0})=>{var o,l;let{onSubmit:s,...m}=a||{},{register:g,watch:y,handleSubmit:E,formState:{errors:k}}=(0,My.useForm)({...m}),p=(0,Ny.useActiveAuthProvider)(),{mutate:w,isLoading:f}=(0,Eu.useUpdatePassword)({v3LegacyAuthProviderCompatible:!!(p!=null&&p.isLegacy)}),v=(0,Eu.useTranslate)(),u=n===!1?null:Ye.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},n??Ye.createElement(Gr,{collapsed:!1,wrapperStyles:{gap:"8px"}})),C=Ye.createElement(By.default,{...t??{}},Ye.createElement(Wy.default,{sx:{p:"32px","&:last-child":{pb:"32px"}}},Ye.createElement(Dy.default,{component:"h1",variant:"h5",align:"center",style:yn,color:"primary",fontWeight:700},v("pages.updatePassword.title","Set New Password")),Ye.createElement(Cu.default,{component:"form",onSubmit:E(P=>s?s(P):w(P))},Ye.createElement(xu.default,{...g("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:v("pages.updatePassword.fields.password","New Password"),helperText:(o=k==null?void 0:k.password)==null?void 0:o.message,error:!!(k!=null&&k.password),type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password",sx:{m:0}}),Ye.createElement(xu.default,{...g("confirmPassword",{required:!0,validate:P=>y("password")!==P?v("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match"):!0}),id:"confirmPassword",margin:"normal",fullWidth:!0,name:"confirmPassword",label:v("pages.updatePassword.fields.confirmPassword","Confirm New Password"),helperText:(l=k==null?void 0:k.confirmPassword)==null?void 0:l.message,error:!!(k!=null&&k.confirmPassword),type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-confirm-password",sx:{mb:0}}),Ye.createElement(Ry.default,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"24px"},disabled:f},v("pages.updatePassword.buttons.submit","Update")))));return Ye.createElement(Ye.Fragment,null,Ye.createElement(Cu.default,{component:"div",style:gn,...e??{}},Ye.createElement(Oy.default,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},r?r(C,u):Ye.createElement(Ye.Fragment,null,u,C))))},"UpdatePasswordPage"),jy=j(e=>{let{type:t}=e;return Vr.default.createElement(Vr.default.Fragment,null,j(()=>{switch(t){case"register":return Vr.default.createElement(ky,{...e});case"forgotPassword":return Vr.default.createElement(Ay,{...e});case"updatePassword":return Vr.default.createElement(zy,{...e});default:return Vr.default.createElement(gy,{...e})}},"renderView")())},"AuthPage"),bt=x(i("react")),Ir=re(),Uy=x(i("@mui/material/Card")),Vy=x(i("@mui/material/CardHeader")),Hy=x(i("@mui/material/CardActions")),Ky=x(i("@mui/material/CardContent")),Qy=x(i("@mui/material/IconButton")),_y=x(i("@mui/material/Typography")),Gy=x(i("@mui/material/Box")),Xy=x(i("@mui/icons-material/ArrowBack")),Zy=Ze(),Yy=j(({title:e,children:t,saveButtonProps:r,resource:a,isLoading:n=!1,breadcrumb:o,wrapperProps:l,headerProps:s,contentProps:m,headerButtonProps:g,headerButtons:y,footerButtonProps:E,footerButtons:k,goBack:p})=>{var w,f;let v=(0,Ir.useTranslate)(),{options:{breadcrumb:u}={}}=(0,Ir.useRefineContext)(),C=(0,Ir.useRouterType)(),P=(0,Ir.useBack)(),{goBack:q}=(0,Ir.useNavigation)(),T=(0,Ir.useUserFriendlyName)(),{resource:d,action:h,identifier:L}=(0,Ir.useResource)(a),I=typeof o>"u"?u:o,A=typeof I<"u"?bt.default.createElement(bt.default.Fragment,null,I)??void 0:bt.default.createElement(ka,null),M={...n?{disabled:!0}:{},...r},c=bt.default.createElement(Wo,{...M});return bt.default.createElement(Uy.default,{...l??{}},A,bt.default.createElement(Vy.default,{sx:{display:"flex",flexWrap:"wrap",".MuiCardHeader-action":{margin:0,alignSelf:"center"}},title:e??bt.default.createElement(_y.default,{variant:"h5",className:Zy.RefinePageHeaderClassNames.Title},v(`${L}.titles.create`,`Create ${T(((w=d==null?void 0:d.meta)==null?void 0:w.label)??((f=d==null?void 0:d.options)==null?void 0:f.label)??(d==null?void 0:d.label)??L,"singular")}`)),avatar:typeof p<"u"?p:bt.default.createElement(Qy.default,{onClick:h!=="list"||typeof h<"u"?C==="legacy"?q:P:void 0},bt.default.createElement(Xy.default,null)),action:y?bt.default.createElement(Gy.default,{display:"flex",gap:"16px",...g??{}},y?typeof y=="function"?y({defaultButtons:null}):y:null):void 0,...s??{}}),bt.default.createElement(Ky.default,{...m??{}},t),bt.default.createElement(Hy.default,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...E??{}},k?typeof k=="function"?k({defaultButtons:c,saveButtonProps:M}):k:c))},"Create"),$e=x(i("react")),Tt=re(),Jy=x(i("@mui/material/Card")),e0=x(i("@mui/material/CardHeader")),t0=x(i("@mui/material/IconButton")),r0=x(i("@mui/material/CardContent")),a0=x(i("@mui/material/CardActions")),n0=x(i("@mui/material/Typography")),wu=x(i("@mui/material/Box")),o0=x(i("@mui/icons-material/ArrowBack")),i0=Ze(),l0=j(({title:e,saveButtonProps:t,mutationMode:r,recordItemId:a,children:n,deleteButtonProps:o,canDelete:l,resource:s,isLoading:m=!1,breadcrumb:g,dataProviderName:y,wrapperProps:E,headerProps:k,contentProps:p,headerButtonProps:w,headerButtons:f,footerButtonProps:v,footerButtons:u,goBack:C,autoSaveProps:P})=>{var q,T,d;let h=(0,Tt.useTranslate)(),{options:{breadcrumb:L}={}}=(0,Tt.useRefineContext)(),{mutationMode:I}=(0,Tt.useMutationMode)(),A=r??I,M=(0,Tt.useRouterType)(),c=(0,Tt.useBack)(),$=(0,Tt.useGo)(),{goBack:R,list:F}=(0,Tt.useNavigation)(),O=(0,Tt.useUserFriendlyName)(),{resource:N,action:B,id:H,identifier:D}=(0,Tt.useResource)(s),U=(0,Tt.useToPath)({resource:N,action:"list"}),W=a??H,K=typeof g>"u"?L:g,V=(N==null?void 0:N.list)&&!a,z=l??((((q=N==null?void 0:N.meta)==null?void 0:q.canDelete)??(N==null?void 0:N.canDelete))||o),Q=typeof K<"u"?$e.default.createElement($e.default.Fragment,null,K)??void 0:$e.default.createElement(ka,null),Y=V?{...m?{disabled:!0}:{},resource:M==="legacy"?N==null?void 0:N.route:D}:void 0,J={...m?{disabled:!0}:{},resource:M==="legacy"?N==null?void 0:N.route:D,recordItemId:W,dataProviderName:y},oe=$e.default.createElement(wu.default,{display:"flex",flexDirection:"row",alignItems:"center"},P&&$e.default.createElement(nd,{...P}),V&&$e.default.createElement(Bo,{...Y}),$e.default.createElement(Oo,{...J})),de=z?{...m?{disabled:!0}:{},resource:M==="legacy"?N==null?void 0:N.route:D,mutationMode:A,variant:"outlined",onSuccess:()=>{M==="legacy"?F((N==null?void 0:N.route)??(N==null?void 0:N.name)??""):$({to:U})},recordItemId:W,dataProviderName:y,...o}:void 0,me={...m?{disabled:!0}:{},...t},he=$e.default.createElement($e.default.Fragment,null,z&&$e.default.createElement(Do,{...de}),$e.default.createElement(Wo,{...me}));return $e.default.createElement(Jy.default,{...E??{}},Q,$e.default.createElement(e0.default,{sx:{display:"flex",flexWrap:"wrap",".MuiCardHeader-action":{margin:0,alignSelf:"center"}},title:e??$e.default.createElement(n0.default,{variant:"h5",className:i0.RefinePageHeaderClassNames.Title},h(`${D}.titles.edit`,`Edit ${O(((T=N==null?void 0:N.meta)==null?void 0:T.label)??((d=N==null?void 0:N.options)==null?void 0:d.label)??(N==null?void 0:N.label)??D,"singular")}`)),avatar:typeof C<"u"?C:$e.default.createElement(t0.default,{onClick:B!=="list"&&typeof B<"u"?M==="legacy"?R:c:void 0},$e.default.createElement(o0.default,null)),action:$e.default.createElement(wu.default,{display:"flex",gap:"16px",...w??{}},f?typeof f=="function"?f({defaultButtons:oe,listButtonProps:Y,refreshButtonProps:J}):f:oe),...k??{}}),$e.default.createElement(r0.default,{...p??{}},n),$e.default.createElement(a0.default,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...v??{}},u?typeof u=="function"?u({defaultButtons:he,deleteButtonProps:de,saveButtonProps:me}):u:he))},"Edit"),Wt=x(i("react")),va=re(),s0=x(i("@mui/material/Card")),u0=x(i("@mui/material/CardHeader")),d0=x(i("@mui/material/CardContent")),c0=x(i("@mui/material/Typography")),m0=x(i("@mui/material/Box")),p0=Ze(),f0=j(({title:e,canCreate:t,children:r,createButtonProps:a,resource:n,breadcrumb:o,wrapperProps:l,headerProps:s,contentProps:m,headerButtonProps:g,headerButtons:y})=>{var E,k;let p=(0,va.useTranslate)(),{options:{breadcrumb:w}={}}=(0,va.useRefineContext)(),f=(0,va.useUserFriendlyName)(),v=(0,va.useRouterType)(),{resource:u,identifier:C}=(0,va.useResource)(n),P=t??(((u==null?void 0:u.canCreate)??!!(u!=null&&u.create))||a),q=typeof o>"u"?w:o,T=typeof q<"u"?Wt.default.createElement(Wt.default.Fragment,null,q)??void 0:Wt.default.createElement(ka,null),d=P?{resource:v==="legacy"?u==null?void 0:u.route:C,...a}:void 0,h=P?Wt.default.createElement(Ju,{...d}):null;return Wt.default.createElement(s0.default,{...l??{}},T,Wt.default.createElement(u0.default,{sx:{display:"flex",flexWrap:"wrap",".MuiCardHeader-action":{margin:0,alignSelf:"center"}},title:e??Wt.default.createElement(c0.default,{variant:"h5",className:p0.RefinePageHeaderClassNames.Title},p(`${C}.titles.list`,f(((E=u==null?void 0:u.meta)==null?void 0:E.label)??((k=u==null?void 0:u.options)==null?void 0:k.label)??(u==null?void 0:u.label)??C,"plural"))),action:Wt.default.createElement(m0.default,{display:"flex",gap:"16px",...g},y?typeof y=="function"?y({defaultButtons:h,createButtonProps:d}):y:h),...s??{}}),Wt.default.createElement(d0.default,{...m??{}},r))},"List"),Ve=x(i("react")),zt=re(),v0=x(i("@mui/material/Card")),g0=x(i("@mui/material/CardActions")),y0=x(i("@mui/material/CardContent")),h0=x(i("@mui/material/CardHeader")),b0=x(i("@mui/material/IconButton")),x0=x(i("@mui/material/Box")),C0=x(i("@mui/material/Typography")),E0=x(i("@mui/icons-material/ArrowBack")),w0=Ze(),P0=j(({title:e,canEdit:t,canDelete:r,isLoading:a=!1,children:n,resource:o,recordItemId:l,breadcrumb:s,dataProviderName:m,wrapperProps:g,headerProps:y,contentProps:E,headerButtonProps:k,headerButtons:p,footerButtonProps:w,footerButtons:f,goBack:v})=>{var u,C,P;let q=(0,zt.useTranslate)(),{options:{breadcrumb:T}={}}=(0,zt.useRefineContext)(),d=(0,zt.useRouterType)(),h=(0,zt.useBack)(),L=(0,zt.useGo)(),{goBack:I,list:A}=(0,zt.useNavigation)(),M=(0,zt.useUserFriendlyName)(),{resource:c,action:$,id:R,identifier:F}=(0,zt.useResource)(o),O=(0,zt.useToPath)({resource:c,action:"list"}),N=l??R,B=typeof s>"u"?T:s,H=(c==null?void 0:c.list)&&!l,D=(r??((u=c==null?void 0:c.meta)==null?void 0:u.canDelete)??(c==null?void 0:c.canDelete))&&typeof N<"u",U=t??(c==null?void 0:c.canEdit)??!!(c!=null&&c.edit),W=typeof B<"u"?Ve.default.createElement(Ve.default.Fragment,null,B)??void 0:Ve.default.createElement(ka,null),K=H?{...a?{disabled:!0}:{},resource:d==="legacy"?c==null?void 0:c.route:F}:void 0,V=U?{...a?{disabled:!0}:{},resource:d==="legacy"?c==null?void 0:c.route:F,recordItemId:N}:void 0,z=D?{...a?{disabled:!0}:{},resource:d==="legacy"?c==null?void 0:c.route:F,recordItemId:N,onSuccess:()=>{d==="legacy"?A((c==null?void 0:c.route)??(c==null?void 0:c.name)??""):L({to:O})},dataProviderName:m}:void 0,Q={...a?{disabled:!0}:{},resource:d==="legacy"?c==null?void 0:c.route:F,recordItemId:N,dataProviderName:m},Y=Ve.default.createElement(Ve.default.Fragment,null,H&&Ve.default.createElement(Bo,{...K}),U&&Ve.default.createElement(ed,{...V}),D&&Ve.default.createElement(Do,{...z}),Ve.default.createElement(Oo,{...Q}));return Ve.default.createElement(v0.default,{...g??{}},W,Ve.default.createElement(h0.default,{sx:{display:"flex",flexWrap:"wrap",".MuiCardHeader-action":{margin:0,alignSelf:"center"}},title:e??Ve.default.createElement(C0.default,{variant:"h5",className:w0.RefinePageHeaderClassNames.Title},q(`${F}.titles.show`,`Show ${M(((C=c==null?void 0:c.meta)==null?void 0:C.label)??((P=c==null?void 0:c.options)==null?void 0:P.label)??(c==null?void 0:c.label)??F,"singular")}`)),avatar:typeof v<"u"?v:Ve.default.createElement(b0.default,{onClick:$!=="list"&&typeof $<"u"?d==="legacy"?I:h:void 0},Ve.default.createElement(E0.default,null)),action:Ve.default.createElement(x0.default,{display:"flex",gap:"16px",...k??{}},p?typeof p=="function"?p({defaultButtons:Y,deleteButtonProps:z,editButtonProps:V,listButtonProps:K,refreshButtonProps:Q}):p:Y),...y??{}}),Ve.default.createElement(y0.default,{...E??{}},n),Ve.default.createElement(g0.default,{sx:{padding:"16px"},...w??{}},f?typeof f=="function"?f({defaultButtons:null}):f:null))},"Show"),ga=x(i("react")),ir=re(),k0=Ze(),S0=x(i("@mui/material/Button")),Pu=x(i("@mui/icons-material/AddBoxOutlined")),Ju=j(({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,svgIconProps:n,meta:o,children:l,onClick:s,...m})=>{let g=(0,ga.useContext)(ir.AccessControlContext),y=(a==null?void 0:a.enabled)??g.options.buttons.enableAccessControl,E=(a==null?void 0:a.hideIfUnauthorized)??g.options.buttons.hideIfUnauthorized,k=(0,ir.useTranslate)(),p=(0,ir.useRouterType)(),w=(0,ir.useLink)(),{Link:f}=(0,ir.useRouterContext)(),v=p==="legacy"?f:w,{createUrl:u}=(0,ir.useNavigation)(),{resource:C}=(0,ir.useResource)(e??t),{data:P}=(0,ir.useCan)({resource:C==null?void 0:C.name,action:"create",queryOptions:{enabled:y},params:{resource:C}}),q=j(()=>P!=null&&P.can?"":P!=null&&P.reason?P.reason:k("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),T=C?u(C,o):"",{sx:d,...h}=m;return y&&E&&!(P!=null&&P.can)?null:ga.default.createElement(v,{to:T,replace:!1,onClick:L=>{if((P==null?void 0:P.can)===!1){L.preventDefault();return}s&&(L.preventDefault(),s(L))},style:{textDecoration:"none"}},ga.default.createElement(S0.default,{disabled:(P==null?void 0:P.can)===!1,startIcon:!r&&ga.default.createElement(Pu.default,{...n}),title:q(),variant:"contained",sx:{minWidth:0,...d},className:k0.RefineButtonClassNames.CreateButton,...h},r?ga.default.createElement(Pu.default,{fontSize:"small",...n}):l??k("buttons.create","Create")))},"CreateButton"),ya=x(i("react")),lr=re(),q0=Ze(),I0=x(i("@mui/material/Button")),ku=x(i("@mui/icons-material/EditOutlined")),ed=j(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,svgIconProps:o,meta:l,children:s,onClick:m,...g})=>{let y=(0,ya.useContext)(lr.AccessControlContext),E=(n==null?void 0:n.enabled)??y.options.buttons.enableAccessControl,k=(n==null?void 0:n.hideIfUnauthorized)??y.options.buttons.hideIfUnauthorized,p=(0,lr.useTranslate)(),w=(0,lr.useRouterType)(),f=(0,lr.useLink)(),{Link:v}=(0,lr.useRouterContext)(),u=w==="legacy"?v:f,{editUrl:C}=(0,lr.useNavigation)(),{id:P,resource:q}=(0,lr.useResource)(e??t),{data:T}=(0,lr.useCan)({resource:q==null?void 0:q.name,action:"edit",params:{id:r??P,resource:q},queryOptions:{enabled:E}}),d=j(()=>T!=null&&T.can?"":T!=null&&T.reason?T.reason:p("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),h=q&&(r??P)?C(q,r??P,l):"",{sx:L,...I}=g;return E&&k&&!(T!=null&&T.can)?null:ya.default.createElement(u,{to:h,replace:!1,onClick:A=>{if((T==null?void 0:T.can)===!1){A.preventDefault();return}m&&(A.preventDefault(),m(A))},style:{textDecoration:"none"}},ya.default.createElement(I0.default,{disabled:(T==null?void 0:T.can)===!1,startIcon:!a&&ya.default.createElement(ku.default,{sx:{selfAlign:"center"},...o}),title:d(),sx:{minWidth:0,...L},className:q0.RefineButtonClassNames.EditButton,...I},a?ya.default.createElement(ku.default,{fontSize:"small",...o}):s??p("buttons.edit","Edit")))},"EditButton"),kt=x(i("react")),jt=re(),L0=Ze(),Su=x(i("@mui/material/Button")),F0=x(i("@mui/material/Dialog")),T0=x(i("@mui/material/DialogActions")),$0=x(i("@mui/material/DialogTitle")),A0=x(i("@mui/lab/LoadingButton")),qu=x(i("@mui/icons-material/DeleteOutline")),Do=j(({resource:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:a,mutationMode:n,children:o,successNotification:l,errorNotification:s,hideText:m=!1,accessControl:g,meta:y,metaData:E,dataProviderName:k,confirmTitle:p,confirmOkText:w,confirmCancelText:f,svgIconProps:v,invalidates:u,...C})=>{let P=(0,kt.useContext)(jt.AccessControlContext),q=(g==null?void 0:g.enabled)??P.options.buttons.enableAccessControl,T=(g==null?void 0:g.hideIfUnauthorized)??P.options.buttons.hideIfUnauthorized,d=(0,jt.useTranslate)(),{id:h,resource:L,identifier:I}=(0,jt.useResource)(e??t),{mutationMode:A}=(0,jt.useMutationMode)(),M=n??A,{mutate:c,isLoading:$,variables:R}=(0,jt.useDelete)(),{data:F}=(0,jt.useCan)({resource:L==null?void 0:L.name,action:"delete",params:{id:r??h,resource:L},queryOptions:{enabled:q}}),O=j(()=>F!=null&&F.can?"":F!=null&&F.reason?F.reason:d("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),[N,B]=kt.default.useState(!1),H=j(()=>{B(!0)},"handleClickOpen"),D=j(()=>{B(!1)},"handleClose"),U=j(()=>{(r??h)&&I&&(V(!1),B(!1),c({id:r??h??"",resource:I,mutationMode:M,successNotification:l,errorNotification:s,meta:(0,jt.pickNotDeprecated)(y,E),metaData:(0,jt.pickNotDeprecated)(y,E),dataProviderName:k,invalidates:u},{onSuccess:z=>{a&&a(z)}}))},"handleCloseOnConfirm"),{sx:W,...K}=C,{setWarnWhen:V}=(0,jt.useWarnAboutChange)();return q&&T&&!(F!=null&&F.can)?null:kt.default.createElement("div",null,kt.default.createElement(A0.default,{color:"error",onClick:H,disabled:(F==null?void 0:F.can)===!1,loading:(r??h)===(R==null?void 0:R.id)&&$,startIcon:!m&&kt.default.createElement(qu.default,{...v}),title:O(),sx:{minWidth:0,...W},loadingPosition:m?"center":"start",className:L0.RefineButtonClassNames.DeleteButton,...K},m?kt.default.createElement(qu.default,{fontSize:"small",...v}):o??d("buttons.delete","Delete")),kt.default.createElement(F0.default,{open:N,onClose:D,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},kt.default.createElement($0.default,{id:"alert-dialog-title"},p??d("buttons.confirm","Are you sure?")),kt.default.createElement(T0.default,{sx:{justifyContent:"center"}},kt.default.createElement(Su.default,{onClick:D},f??d("buttons.cancel","Cancel")),kt.default.createElement(Su.default,{color:"error",onClick:U,autoFocus:!0},w??d("buttons.delete","Delete")))))},"DeleteButton"),To=x(i("react")),ha=re(),N0=Ze(),M0=x(i("@mui/lab/LoadingButton")),Iu=x(i("@mui/icons-material/RefreshOutlined")),R0=i("@tanstack/react-query"),Oo=j(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,dataProviderName:n,svgIconProps:o,children:l,onClick:s,meta:m,metaData:g,...y})=>{let E=(0,ha.useTranslate)(),k=(0,R0.useQueryClient)(),p=(0,ha.useInvalidate)(),{resources:w,identifier:f,id:v}=(0,ha.useResource)(e??t),u=!!k.isFetching({queryKey:(0,ha.queryKeys)(f,(0,ha.pickDataProvider)(f,n,w)).detail(r??v)}),C=j(()=>{p({id:r??v,invalidates:["detail"],dataProviderName:n,resource:f})},"handleInvalidate"),{sx:P,...q}=y;return To.default.createElement(M0.default,{startIcon:!a&&To.default.createElement(Iu.default,{...o}),loading:u,loadingPosition:a?"center":"start",onClick:T=>{s?s(T):C()},sx:{minWidth:0,...P},className:N0.RefineButtonClassNames.RefreshButton,...q},a?To.default.createElement(Iu.default,{fontSize:"small",...o}):l??E("buttons.refresh","Refresh"))},"RefreshButton"),ba=x(i("react")),sr=re(),D0=Ze(),O0=x(i("@mui/material/Button")),Lu=x(i("@mui/icons-material/VisibilityOutlined")),B0=j(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,svgIconProps:o,meta:l,children:s,onClick:m,...g})=>{let y=(0,ba.useContext)(sr.AccessControlContext),E=(n==null?void 0:n.enabled)??y.options.buttons.enableAccessControl,k=(n==null?void 0:n.hideIfUnauthorized)??y.options.buttons.hideIfUnauthorized,{showUrl:p}=(0,sr.useNavigation)(),w=(0,sr.useRouterType)(),f=(0,sr.useLink)(),{Link:v}=(0,sr.useRouterContext)(),u=w==="legacy"?v:f,C=(0,sr.useTranslate)(),{id:P,resource:q}=(0,sr.useResource)(e??t),{data:T}=(0,sr.useCan)({resource:q==null?void 0:q.name,action:"show",params:{id:r??P,resource:q},queryOptions:{enabled:E}}),d=j(()=>T!=null&&T.can?"":T!=null&&T.reason?T.reason:C("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),h=q&&(r||P)?p(q,r??P,l):"",{sx:L,...I}=g;return E&&k&&!(T!=null&&T.can)?null:ba.default.createElement(u,{to:h,replace:!1,onClick:A=>{if((T==null?void 0:T.can)===!1){A.preventDefault();return}m&&(A.preventDefault(),m(A))},style:{textDecoration:"none"}},ba.default.createElement(O0.default,{disabled:(T==null?void 0:T.can)===!1,startIcon:!a&&ba.default.createElement(Lu.default,{...o}),title:d(),sx:{minWidth:0,...L},className:D0.RefineButtonClassNames.ShowButton,...I},a?ba.default.createElement(Lu.default,{fontSize:"small",...o}):s??C("buttons.show","Show")))},"ShowButton"),xa=x(i("react")),$t=re(),W0=Ze(),z0=x(i("@mui/material/Button")),Fu=x(i("@mui/icons-material/ListOutlined")),Bo=j(({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,svgIconProps:n,meta:o,children:l,onClick:s,...m})=>{var g;let y=(0,xa.useContext)($t.AccessControlContext),E=(a==null?void 0:a.enabled)??y.options.buttons.enableAccessControl,k=(a==null?void 0:a.hideIfUnauthorized)??y.options.buttons.hideIfUnauthorized,{listUrl:p}=(0,$t.useNavigation)(),w=(0,$t.useRouterType)(),f=(0,$t.useLink)(),{Link:v}=(0,$t.useRouterContext)(),u=(0,$t.useUserFriendlyName)(),C=w==="legacy"?v:f,P=(0,$t.useTranslate)(),{resource:q,identifier:T}=(0,$t.useResource)(e??t),{data:d}=(0,$t.useCan)({resource:q==null?void 0:q.name,action:"list",queryOptions:{enabled:E},params:{resource:q}}),h=j(()=>d!=null&&d.can?"":d!=null&&d.reason?d.reason:P("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),L=q?p(q,o):"",{sx:I,...A}=m;return E&&k&&!(d!=null&&d.can)?null:xa.default.createElement(C,{to:L,replace:!1,onClick:M=>{if((d==null?void 0:d.can)===!1){M.preventDefault();return}s&&(M.preventDefault(),s(M))},style:{textDecoration:"none"}},xa.default.createElement(z0.default,{disabled:(d==null?void 0:d.can)===!1,startIcon:!r&&xa.default.createElement(Fu.default,{...n}),title:h(),sx:{minWidth:0,...I},className:W0.RefineButtonClassNames.ListButton,...A},r?xa.default.createElement(Fu.default,{fontSize:"small",...n}):l??P(`${T??e??t}.titles.list`,u(((g=q==null?void 0:q.meta)==null?void 0:g.label)??(q==null?void 0:q.label)??T??(0,$t.pickNotDeprecated)(e,t),"plural"))))},"ListButton"),$o=x(i("react")),j0=re(),U0=Ze(),V0=x(i("@mui/lab/LoadingButton")),Tu=x(i("@mui/icons-material/ImportExportOutlined")),H0=j(({hideText:e=!1,children:t,loading:r=!1,svgIconProps:a,...n})=>{let o=(0,j0.useTranslate)(),{sx:l,...s}=n;return $o.default.createElement(V0.default,{...n,loading:r,startIcon:!e&&$o.default.createElement(Tu.default,{...a}),loadingPosition:e?"center":"start",sx:{minWidth:0,...l},className:U0.RefineButtonClassNames.ExportButton,...s},e?$o.default.createElement(Tu.default,{fontSize:"small",...a}):t??o("buttons.export","Export"))},"ExportButton"),Ao=x(i("react")),K0=re(),Q0=Ze(),_0=x(i("@mui/lab/LoadingButton")),$u=x(i("@mui/icons-material/SaveOutlined")),Wo=j(({hideText:e=!1,svgIconProps:t,children:r,...a})=>{let n=(0,K0.useTranslate)(),{sx:o,...l}=a;return Ao.default.createElement(_0.default,{startIcon:!e&&Ao.default.createElement($u.default,{...t}),sx:{minWidth:0,...o},variant:"contained",className:Q0.RefineButtonClassNames.SaveButton,...l},e?Ao.default.createElement($u.default,{fontSize:"small",...t}):r??n("buttons.save","Save"))},"SaveButton"),Ca=x(i("react")),ur=re(),G0=Ze(),X0=x(i("@mui/material/Button")),Au=x(i("@mui/icons-material/AddBoxOutlined")),Z0=j(({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,svgIconProps:o,meta:l,children:s,onClick:m,...g})=>{let y=(0,Ca.useContext)(ur.AccessControlContext),E=(n==null?void 0:n.enabled)??y.options.buttons.enableAccessControl,k=(n==null?void 0:n.hideIfUnauthorized)??y.options.buttons.hideIfUnauthorized,{cloneUrl:p}=(0,ur.useNavigation)(),w=(0,ur.useRouterType)(),f=(0,ur.useLink)(),{Link:v}=(0,ur.useRouterContext)(),u=w==="legacy"?v:f,C=(0,ur.useTranslate)(),{id:P,resource:q}=(0,ur.useResource)(e??t),{data:T}=(0,ur.useCan)({resource:q==null?void 0:q.name,action:"create",params:{id:r??P,resource:q},queryOptions:{enabled:E}}),d=j(()=>T!=null&&T.can?"":T!=null&&T.reason?T.reason:C("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),h=q&&(r||P)?p(q,r??P,l):"",{sx:L,...I}=g;return E&&k&&!(T!=null&&T.can)?null:Ca.default.createElement(u,{to:h,replace:!1,onClick:A=>{if((T==null?void 0:T.can)===!1){A.preventDefault();return}m&&(A.preventDefault(),m(A))},style:{textDecoration:"none"}},Ca.default.createElement(X0.default,{disabled:(T==null?void 0:T.can)===!1,startIcon:!a&&Ca.default.createElement(Au.default,{...o}),title:d(),sx:{minWidth:0,...L},className:G0.RefineButtonClassNames.CloneButton,...I},a?Ca.default.createElement(Au.default,{fontSize:"small",...o}):s??C("buttons.clone","Clone")))},"CloneButton"),Ea=x(i("react")),Y0=re(),J0=Ze(),eh=x(i("@mui/lab/LoadingButton")),Nu=x(i("@mui/icons-material/ImportExportOutlined")),th=j(({inputProps:e,hideText:t=!1,loading:r=!1,svgIconProps:a,children:n,...o})=>{let l=(0,Y0.useTranslate)(),{sx:s,...m}=o;return Ea.default.createElement("label",{htmlFor:"contained-button-file"},Ea.default.createElement("input",{...e,id:"contained-button-file",multiple:!0,hidden:!0}),Ea.default.createElement(eh.default,{component:"span",startIcon:!t&&Ea.default.createElement(Nu.default,{...a}),loadingPosition:t?"center":"start",loading:r,sx:{minWidth:0,...s},className:J0.RefineButtonClassNames.ImportButton,...m},t?Ea.default.createElement(Nu.default,{fontSize:"small",...a}):n??l("buttons.import","Import")))},"ImportButton"),St=x(i("react")),No=x(i("@mui/material/Box")),rh=x(i("@mui/material/CircularProgress")),Mu=x(i("@mui/material/Typography")),td=j(({undoableTimeout:e,message:t})=>{let[r,a]=(0,St.useState)(100),[n,o]=(0,St.useState)(e);return(0,St.useEffect)(()=>{let l=100/e,s=setInterval(()=>{o(m=>m-1),a(m=>m-l)},1e3);return n===0&&clearInterval(s),()=>{clearInterval(s)}},[n]),St.default.createElement(St.default.Fragment,null,St.default.createElement(No.default,{sx:{position:"relative",display:"inline-flex"}},St.default.createElement(rh.default,{color:"inherit",variant:"determinate",value:r}),St.default.createElement(No.default,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},St.default.createElement(Mu.default,{component:"div"},n))),St.default.createElement(No.default,{sx:{marginLeft:"10px",maxWidth:{xs:"150px",md:"100%"}}},St.default.createElement(Mu.default,{variant:"subtitle2"},t)))},"CircularDeterminate"),ah=x(i("react")),nh=x(i("@mui/material/Typography")),oh=j(({value:e,...t})=>ah.default.createElement(nh.default,{variant:"body2",...t},e),"TextField"),ih=x(i("react")),lh=x(i("@mui/material/Chip")),sh=j(({value:e,...t})=>ih.default.createElement(lh.default,{label:e==null?void 0:e.toString(),...t}),"TagField"),Ru=x(i("react")),uh=x(i("@mui/material/Typography")),dh=x(i("@mui/material/Link")),ch=j(({value:e,...t})=>Ru.default.createElement(uh.default,{variant:"body2"},Ru.default.createElement(dh.default,{href:`mailto:${e}`,...t},e)),"EmailField"),wa=x(i("react")),mh=x(i("@mui/material/Tooltip")),ph=x(i("@mui/icons-material/CheckOutlined")),fh=x(i("@mui/icons-material/CloseOutlined")),vh=j(({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:a,falseIcon:n,svgIconProps:o,...l})=>wa.default.createElement(mh.default,{title:e?t:r,...l},e?wa.default.createElement("span",null,a??wa.default.createElement(ph.default,{...o})):wa.default.createElement("span",null,n??wa.default.createElement(fh.default,{...o}))),"BooleanField"),gh=x(i("react")),zo=x(i("dayjs")),yh=x(i("dayjs/plugin/localizedFormat")),hh=x(i("@mui/material/Typography"));zo.default.extend(yh.default);var bh=zo.default.locale(),xh=j(({value:e,locales:t,format:r="L",...a})=>gh.default.createElement(hh.default,{variant:"body2",...a},(0,zo.default)(e).locale(t||bh).format(r)),"DateField"),Ch=x(i("react")),Eh=j(({title:e,src:t,...r})=>Ch.default.createElement(rd,{value:t,title:e,...r},e??t),"FileField"),Du=x(i("react")),wh=x(i("@mui/material/Link")),Ph=x(i("@mui/material/Typography")),rd=j(({children:e,value:t,...r})=>Du.default.createElement(Ph.default,{variant:"body2"},Du.default.createElement(wh.default,{href:t,...r},e??t)),"UrlField"),kh=x(i("react")),Sh=x(i("@mui/material/Typography"));function ad(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}S(ad,"dp");j(ad,"toLocaleStringSupportsOptions");var qh=j(({value:e,locale:t,options:r,...a})=>{let n=Number(e);return kh.default.createElement(Sh.default,{variant:"body2",...a},ad()?n.toLocaleString(t,r):n)},"NumberField"),Ih=x(i("react")),Lh=x(i("react-markdown")),Fh=x(i("remark-gfm")),Th=j(({value:e=""})=>Ih.default.createElement(Lh.default,{plugins:[Fh.default]},e),"MarkdownField"),Lr=x(i("react")),Fr=re(),$h=x(i("@mui/material/Breadcrumbs")),Ah=x(i("@mui/material/Typography")),Nh=x(i("@mui/material/Link")),Mh=x(i("@mui/material/Grid")),Rh=x(i("@mui/icons-material/HomeOutlined")),ka=j(({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1,meta:a})=>{var n,o;let{breadcrumbs:l}=(0,Fr.useBreadcrumb)({meta:a}),s=(0,Fr.useRouterType)(),m=(0,Fr.useLink)(),{Link:g}=(0,Fr.useRouterContext)(),y=s==="legacy"?g:m,{hasDashboard:E}=(0,Fr.useRefineContext)(),{resources:k}=(0,Fr.useResource)(),p=(0,Fr.matchResourceFromRoute)("/",k);if(l.length===1)return null;let w=j(f=>Lr.default.createElement(Nh.default,{...f,component:y}),"LinkRouter");return Lr.default.createElement($h.default,{"aria-label":"breadcrumb",sx:{paddingY:2,paddingX:2,...(e==null?void 0:e.sx)??{}},...e},t&&(E||p.found)&&Lr.default.createElement(w,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",to:"/"},((o=(n=p==null?void 0:p.resource)==null?void 0:n.meta)==null?void 0:o.icon)??Lr.default.createElement(Rh.default,{sx:{fontSize:"18px"}})),l.map(({label:f,icon:v,href:u})=>Lr.default.createElement(Mh.default,{key:f,sx:{display:"flex",alignItems:"center","& .MuiSvgIcon-root":{fontSize:"16px"}}},!r&&v,u?Lr.default.createElement(w,{underline:"hover",sx:{display:"flex",alignItems:"center",fontSize:"14px"},color:"inherit",to:u,variant:"subtitle1",marginLeft:.5},f):Lr.default.createElement(Ah.default,{fontSize:"14px"},f))))},"Breadcrumb"),Hr=x(i("react")),Dh=re(),Oh=x(i("@mui/material/Typography")),Bh=x(i("@mui/icons-material/MoreHorizOutlined")),Wh=x(i("@mui/icons-material/SyncOutlined")),zh=x(i("@mui/icons-material/TaskAltOutlined")),jh=x(i("@mui/icons-material/ErrorOutlineOutlined")),nd=j(({status:e})=>{let t=(0,Dh.useTranslate)(),r=null,a=Hr.default.createElement(Bh.default,{fontSize:"small"});switch(e){case"success":r=t("autoSave.success","saved"),a=Hr.default.createElement(zh.default,{fontSize:"small"});break;case"error":r=t("autoSave.error","auto save failure"),a=Hr.default.createElement(jh.default,{fontSize:"small"});break;case"loading":r=t("autoSave.loading","saving..."),a=Hr.default.createElement(Wh.default,{fontSize:"small"});break;default:r=t("autoSave.idle","waiting for changes");break}return Hr.default.createElement(Oh.default,{color:"gray",fontSize:"0.8rem",position:"relative",display:"flex",alignItems:"center",flexWrap:"wrap",marginRight:".3rem"},r,Hr.default.createElement("span",{style:{position:"relative",top:"3px",marginLeft:"3px"}},a))},"AutoSaveIndicator"),jo=i("@mui/material/styles"),Uh={mode:"light",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#f0f0f0",paper:"#ffffff"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#fa541c",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#0b82f0",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#626262",secondary:"#9f9f9f",disabled:"#c1c1c1"}},Vh={mode:"dark",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#212121",paper:"#242424"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#ee2a1e",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#1890ff",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#fff",secondary:"rgba(255,255,255,0.7)",disabled:"#d1d1d1"}},Hh={fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},Ou={Blue:{mode:"light",primary:{main:"#1976D2",light:"#4791db",dark:"#115293"}},BlueDark:{mode:"dark",primary:{main:"#67b7f7",light:"#85c5f8",dark:"#4880ac"}},Purple:{mode:"light",primary:{main:"#7B1FA2",light:"#954bb4",dark:"#561571"}},PurpleDark:{mode:"dark",primary:{main:"#AB47BC",light:"#bb6bc9",dark:"#773183"}},Magenta:{mode:"light",primary:{main:"#C2185B",light:"#ce467b",dark:"#87103f"}},MagentaDark:{mode:"dark",primary:{main:"#EC407A",light:"#ef6694",dark:"#a52c55"}},Red:{mode:"light",primary:{main:"#D32F2F",light:"#db5858",dark:"#932020"}},RedDark:{mode:"dark",primary:{main:"#EF5350",light:"#f27573",dark:"#a73a38"}},Orange:{mode:"light",primary:{main:"#F57C00",light:"#f79633",dark:"#ab5600"}},OrangeDark:{mode:"dark",primary:{main:"#FFA726",light:"#ffb851",dark:"#b2741a"}},Yellow:{mode:"light",primary:{main:"#FFA000",light:"#ffb333",dark:"#b27000"}},YellowDark:{mode:"dark",primary:{main:"#FFCA28",light:"#ffd453",dark:"#E87040"}},Green:{mode:"light",primary:{main:"#689F38",light:"#86b25f",dark:"#486f27"}},GreenDark:{mode:"dark",primary:{main:"#9CCC65",light:"#afd683",dark:"#6d8e46"}}},od={shape:{borderRadius:6},typography:{...Hh}},Kh=(0,jo.createTheme)({...od,palette:Uh,components:{MuiAppBar:{styleOverrides:{colorDefault:{backgroundColor:"#fff"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.01))"}}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}}),Qh=(0,jo.createTheme)({...od,palette:Vh,components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.025), rgba(255, 255, 255, 0.025))"}}},MuiAppBar:{defaultProps:{color:"transparent"}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}}),_h=Object.keys(Ou).reduce((e,t)=>{let r=t;return{...e,[t]:(0,jo.createTheme)({palette:{...Ou[r]},components:{MuiButton:{styleOverrides:{root:({ownerState:a})=>({...a.variant==="contained"&&a.color==="primary"&&{color:"#fff"}})}}}})}},{}),dr=x(i("react")),Gh=i("notistack"),Xh=x(i("@mui/material/Box")),Zh=x(i("@mui/material/IconButton")),Bu=x(i("@mui/material/Typography")),Yh=x(i("@mui/icons-material/UndoOutlined")),Jh=j(()=>{let{closeSnackbar:e,enqueueSnackbar:t}=(0,Gh.useSnackbar)();return{open:({message:r,type:a,undoableTimeout:n,key:o,cancelMutation:l,description:s})=>{a==="progress"?t(dr.default.createElement(dr.default.Fragment,null,dr.default.createElement(td,{undoableTimeout:n??0,message:r})),{action:j(m=>dr.default.createElement(Zh.default,{onClick:()=>{l==null||l(),e(m)},color:"inherit"},dr.default.createElement(Yh.default,null)),"action"),anchorOrigin:{vertical:"top",horizontal:"right"},preventDuplicate:!0,key:o,autoHideDuration:(n??0)*1e3,disableWindowBlurListener:!0}):t(dr.default.createElement(Xh.default,null,dr.default.createElement(Bu.default,{variant:"subtitle2",component:"h6"},s),dr.default.createElement(Bu.default,{variant:"caption",component:"p"},r)),{variant:a,anchorOrigin:{vertical:"top",horizontal:"right"},disableWindowBlurListener:!0})},close:r=>{e(r)}}},"notificationProvider"),eb=i("@mui/material/styles"),tb=i("notistack"),rb=(0,eb.styled)(tb.SnackbarProvider)`
    &.SnackbarItem-contentRoot {
        background-color: ${e=>e.theme.palette.background.default};
        color: ${e=>e.theme.palette.primary.main};
    }
    &.SnackbarItem-variantSuccess {
        background-color: ${e=>e.theme.palette.success.main};
        color: ${e=>e.theme.palette.success.contrastText};
    }
    &.SnackbarItem-variantError {
        background-color: ${e=>e.theme.palette.error.main};
        color: ${e=>e.theme.palette.error.contrastText};
    }
    &.SnackbarItem-variantInfo {
        background-color: ${e=>e.theme.palette.info.main};
        color: ${e=>e.theme.palette.info.contrastText};
    }
    &.SnackbarItem-variantWarning {
        background-color: ${e=>e.theme.palette.warning.main};
        color: ${e=>e.theme.palette.warning.contrastText};
    }
`});var Ta=ae(i("react")),fc=ae(re());var We=ae(Sa()),Kd=ae(i("@mui/material/Typography")),Qd=ae(i("@mui/material/Stack"));var nt=ae(i("react")),Yr=ae(re());var ab=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,Uo=S((e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];ab.test(e)&&r.unshift("url");let a=r.find(n=>n in t&&!!t[n]);if(a)return a==="firstName"&&"lastName"in t?["firstName","lastName"]:a},"getFieldableKeys");var ld=ae(re());function Vo(e,t,r){if(t)return t;let a=r==null?void 0:r.find(o=>o.name===e),n=(0,ld.pickNotDeprecated)(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"}S(Vo,"pickDataProvider");var qa=S(e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName},"dataProviderFromResource");var Ho=S(e=>{let t=[...e].filter(Boolean).sort((r,a)=>(a.priority||0)-(r.priority||0))[0];return t||null},"pickInferredField");var sd=ae(i("prettier/standalone")),ud=ae(i("prettier/parser-typescript"));var Ko=S(e=>{try{return sd.default.format(e,{parser:"typescript",plugins:[ud.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}},"prettierFormat");var dd=S(e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`),"prettySpaces");var Qo=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,cd=S((e,t)=>{let r=Qo.test(e),a=typeof t=="string"||typeof t=="number",n=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&a||r&&n?{key:e,relation:!0,multiple:!!n,type:"relation",priority:1}:!1},"relationInfer");var Ae=S(e=>e.replace(Qo,""),"removeRelationSuffix");var Xr=S(e=>Ae(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),"prettyString");var ie=S(e=>{let{resource:t,field:r,i18n:a}=e;if(a){let o=`translate("${t.name}.fields.${r.key}")`;return e.noBraces?`${o}`:`{${o}}`}let n=Xr(r.key);return e.noQuotes?n:`"${n}"`},"translatePrettyString");var _o=ae(i("pluralize"));var Ut=S((e="")=>_o.default.isSingular(e)?e:_o.default.singular(e),"toSingular");var Go=ae(i("pluralize"));var Vt=S((e="")=>Go.default.isPlural(e)?e:Go.default.plural(e),"toPlural");var Xo=S(e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(n=>!n.trim().startsWith("export default")).join(`
`),"replaceExports");var md=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,nb=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,ob=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,Zo=S((e,t={})=>{let r=e.matchAll(md),a=new Set;for(let n of r){let[,o,l,s,m]=n;if(m in t){let g=t[m];if(m==="react")continue;o&&a.add(`const { default: ${o} } = ${g};`),l&&a.add(`const${l.replace(ob,"$1: $3$4")} = ${g};`),s&&a.add(`const ${s} = ${g};`)}}return dd(`
    ${Array.from(a).join(`
`)}
    ${e.replace(md,"").replace(nb,"")}
    `)},"replaceImports");var Ia=ae(i("pluralize"));var Yo=S((e,t)=>e?t.find(a=>{let n=Ae(e.key);return a.name===n||a.name===(Ia.default.isPlural(n)?n:Ia.default.plural(n))||a.name===(Ia.default.isSingular(n)?n:Ia.default.singular(n))}):void 0,"resourceFromInferred");var pd=ae(i("pluralize"));var qt=S((e,t,r="Inferred")=>{let a=e.replace(/[^a-zA-Z0-9]/g," "),n=pd.default.singular(a),l=Xr(n).replace(/ /g,"")||r,s=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(l)?`${l}${s}`:`${s}${l}`},"componentName");var ib=S(e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"","handleExpression"),le=S((e,...t)=>e.reduce((a,n,o)=>`${a}${n}${ib(t[o])}`,"").trim(),"jsx");var Jo=S((e,t)=>`
    ${e??""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `,"prepareLiveCode");var ei=S(e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,""),"removeHiddenCode");var lb=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,ti=S(e=>lb.test(e),"shouldDotAccess");function ri(e,t,r){let a=`${e}`;return t&&(a+="?.",ti(t)?a+=t:a+=`['${t}']`),r&&(a+="?.",ti(r)?a+=r:a+=`['${r}']`),a}S(ri,"accessorSingle");function sb(e,t,r){return(r??[]).map(n=>ri(e,t,n))}S(sb,"accessorMultiple");var _=S((e,t,r,a=' + " " + ')=>Array.isArray(r)?a?sb(e,t,r).join(a):ri(e,t,r[0]):ri(e,t,r),"accessor"),at=S((e,t,r)=>{let a=e;return t&&(a+=`.${t}`),r&&(Array.isArray(r)?a+=`.${r[0]}`:a+=`.${r}`),a},"dotAccessor");var Ht=S(e=>{let t=e.reduce((a,[n,o,l])=>(a[o]||(a[o]=[]),a[o].includes(n)||(l?a[o].push([n,!0]):a[o].push(n)),a),{});return Object.entries(t).map(([a,n])=>{let o=n.find(g=>Array.isArray(g)&&g[1]),l=n.filter(g=>typeof g=="string"),s=o?`${o[0]}`:"",m=l.length?`{ ${l.join(", ")} }`:"";return`import ${s}${s&&m?", ":""}${m} from "${a}";`})},"printImports");var ub=/^id$/i,cr=S(e=>ub.test(e),"isIDKey");var Kt=S(e=>{},"noOp");var Ee=S((e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let a=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),n=Xr(a).replace(/ /g,"");return`${n.charAt(0).toLowerCase()+n.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`},"getVariableName");var we=S((e,t,r)=>{if(t&&r&&e){let a=e?t[e]:{},n=(a==null?void 0:a[r])??(a==null?void 0:a.default);return n?`meta: ${JSON.stringify(n)},`:""}return""},"getMetaProps"),At=S((e,t,r)=>{if(t&&r&&e){let a=e?t[e]:{},o=[...r,"default"].reduce((l,s)=>l??(a==null?void 0:a[s]),void 0);if(o)return o}},"pickMeta");var La=S(e=>e===void 0?e:typeof e=="string"?`"${e}"`:e,"idQuoteWrapper");var fd=S(e=>{let t=S((r,a,n,o=t,l)=>{let s=e.map(g=>g(r,a,n,o,l));return Ho(s)},"fieldInferencer");return t},"composeInferencers");var vd=S(e=>S((r,a,n,o,l,s)=>e.reduce((m,g)=>g(m,a,n,o,l,s),r),"fieldTransformer"),"composeTransformers");var gd=S((e,t,r,a,n)=>{let o=Array.isArray(t),l=Array.isArray(t)&&t.every(s=>typeof s=="string"||typeof s=="number");if(o){if(!l){let m=a(e,t[0],r,a,n);return m?{...m,key:e,multiple:!0,priority:1}:!1}let s=a(e,t[0],r,a,n)||{type:"string"};return{key:e,multiple:!0,priority:1,type:s==null?void 0:s.type}}return!1},"arrayInfer");var yd=S((e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1,"booleanInfer");var ai=ae(i("dayjs"));var db=/(_at|_on|At|On|AT|ON)(\[\])?$/,cb=["/",":","-","."],hd=S((e,t)=>{let r=db.test(e)&&(0,ai.default)(t).isValid(),a=typeof t=="string"&&(0,ai.default)(t).isValid();return typeof t=="string"&&cb.some(o=>t.includes(o))&&(r||a)?{key:e,type:"date",priority:1}:!1},"dateInfer");var mb=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,bd=S((e,t)=>typeof t=="string"&&mb.test(t)?{key:e,type:"email",priority:1}:!1,"emailInfer");var pb=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,xd=S((e,t)=>typeof t=="string"&&pb.test(t)?{key:e,type:"image",priority:2}:!1,"imageInfer");var Cd=S((e,t)=>typeof t>"u"||t===null?null:!1,"nullishInfer");var Ed=S((e,t)=>{let r=typeof t=="string"&&t.length>0,a=!isNaN(t);return r&&a||typeof t=="number"?{key:e,type:"number"}:!1},"numberInfer");var wd=/id$/i,Pd=S((e,t,r,a,n)=>{let o=t!==null,l=!Array.isArray(t);if(o&&l&&typeof t=="object"){let m=Object.keys(t).length===1&&wd.test(Object.keys(t)[0]),g=Object.keys(t).some(k=>wd.test(k));if(m)return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let y=Uo(e,t);if((y?y.length>0:!1)&&y){let k=y&&Array.isArray(y)?y[0]:y,p=a(k,t[k],t,a,n);if(p){let w=Array.isArray(y)?y.map(f=>p.accessor?`${f}.${Array.isArray(p.accessor)?p.accessor[0]:p.accessor}`:f):p.accessor?Array.isArray(p.accessor)?`${y}.${p.accessor[0]}`:`${y}.${p.accessor}`:y;return(p==null?void 0:p.type)==="text"&&(n==="create"||n==="edit")&&g?{key:e,type:"relation",relation:!0,accessor:"id",priority:1}:{...p,fieldable:!0,key:e,accessor:w,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1},"objectInfer");var kd=S((e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1,"richtextInfer");var Sd=S((e,t)=>typeof t=="string"?{key:e,type:"text"}:!1,"textInfer");var fb=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,qd=S((e,t)=>typeof t=="string"&&fb.test(t)?{key:e,type:"url",priority:1}:!1,"urlInfer");var Id=[gd,yd,hd,bd,xd,Cd,Ed,Pd,cd,kd,Sd,qd];var Ld=S((e,t,r,a)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let l=/^[a-z0-9-]+$/,s=S(k=>l.test(`${k}`),"isValidUUID"),m=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!m?o:(o.multiple?a[o.key]:[a[o.key]]).every(k=>s(o.accessor?k[o.accessor]:k))?{...o,canRelation:!0}:o}return o}),"basicToRelation");var vb=/(image|photo|avatar|cover|thumbnail|icon)/i,Fd=S(e=>e.map(r=>r.type==="url"&&vb.test(r.key)?{...r,type:"image"}:r),"imageByKey");var Td=S((e,t)=>e.map(a=>{let n=Yo(a,t);return n?{...a,relation:!0,type:"relation",resource:n}:a}),"relationByResource");var $d=S((e,t,r,a,n,o)=>e.map(s=>{if(s.relation&&s.type==="relation"&&!s.resource){let m=s.accessor?a[s.key][s.accessor]:a[s.key],g=n(s.key,m,a,n,o);if(g&&g.type!=="relation")return{...s,fieldable:!0,relation:!1,type:g.type,canRelation:!0}}return s}),"relationToFieldable");var Ad=[Fd,Td,$d,Ld];var xt=ae(i("react")),gb=ae(re()),hn=i("@aliemir/react-live");var Nd=[["react","React",xt.default],["@refinedev/core","RefineCore",gb]],ni=xt.default.createContext({}),oi=S(({fetchError:e,code:t,additionalScope:r,errorComponent:a})=>{let n=(t&&Xo(Zo(t,[...Nd,...r??[]].reduce((s,[m,g,y,E])=>E?s:{...s,[m]:g},{}))))??"",o=xt.default.useMemo(()=>({React:xt.default,...xt.default,...[...Nd,...r??[]].reduce((s,[m,g,y])=>({...s,[g]:y}),{})}),[r]),l=xt.default.useMemo(()=>S(()=>{let{error:m}=xt.default.useContext(ni);return a?xt.default.createElement(a,{error:m?`<p>An error occured while rendering the generated component.You can check the generated code from the below "Show Code" button and fix the error manually.</p>
                                    <p>If you think this is a bug, please report the issue at <a target="_blank" rel="noopener noreferrer" href="https://github.com/refinedev/refine/issues">https://github.com/refinedev/refine/issues</a></p>
                                    <p>Exception:</p>
                                    <code>${m}</code>`:typeof e=="string"?e:e?`<p>Something went wrong while fetching the resource data.</p>
                                    <p>To learn more about the Inferencer, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`:void 0}):null},"LiveErrorComponent"),[a,e]);return xt.default.createElement(hn.LiveProvider,{Context:ni,code:n,scope:o,noInline:!0},!e&&xt.default.createElement(hn.LivePreview,{Context:ni}),xt.default.createElement(l,null))},"LiveComponent");var Z=ae(i("react")),bn=ae(i("prism-react-renderer")),Rd=ae(i("prism-react-renderer/themes/vsDark"));var mr=S(({code:e,loading:t})=>{let r=Z.default.useMemo(()=>Ko(e??""),[e]),[a,n]=Z.default.useState(!1),[o,l]=Z.default.useState(!1),[s,m]=Z.default.useState(!1),[g,y]=Z.default.useState(!1),[E,k]=Z.default.useState(!1);return Z.default.useEffect(()=>{if(!t){let p=setTimeout(()=>{n(!0)},300);return()=>{clearTimeout(p)}}return()=>{}},[t]),Z.default.useEffect(()=>{if(typeof window<"u"){let p=window.matchMedia("(max-width: 449px)");p.matches?m(!1):m(!0);let w=S(()=>{p.matches?m(!1):m(!0)},"handleResize");return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}}return()=>{}},[]),Z.default.useEffect(()=>{if(typeof window<"u"){let p=window.matchMedia("(max-width: 1280px)");p.matches?y(!0):y(!1);let w=S(()=>{p.matches?y(!0):y(!1)},"handleResize");return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}}return()=>{}},[]),r&&!t?Z.default.createElement(Z.default.Fragment,null,s&&Z.default.createElement("div",{className:"refine-inferencer--code-viewer",style:{position:"sticky",bottom:"24px",paddingTop:"24px",left:0,right:0,width:"100%",zIndex:10,display:"flex",justifyContent:"center",transition:"all 0.2s ease",opacity:a&&!o?1:0,transform:a&&!o?"translateY(0)":"translateY(100px)"}},Z.default.createElement("div",{style:{width:"calc(100% - calc(64px * 2))",maxWidth:"1080px",padding:"20px",backgroundColor:"#1A1A1A",boxShadow:"0px 4px 16px -4px rgba(0, 0, 0, 0.5), 0px 8px 32px -8px rgba(0, 0, 0, 0.35)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:g?"column":"row",gap:"12px"}},Z.default.createElement("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"}},Z.default.createElement("div",null,Z.default.createElement(hb,null)),Z.default.createElement("div",{style:{fontSize:"14px",lineHeight:"20px",color:"#ffffff"}},Z.default.createElement("p",{style:{padding:0,margin:0}},"Most of the page code is auto-generated by the"," ",Z.default.createElement("span",{style:{textDecoration:"underline"}},"Inferencer")," ","feature, based on your backend data structure."),Z.default.createElement("p",{style:{padding:0,margin:0}},"While this is an excellent way to experiment with refine,"," ",Z.default.createElement("span",{style:{fontWeight:600}},"it's not intended to be used on production.")))),Z.default.createElement("div",null,Z.default.createElement("button",{onPointerEnter:()=>k(!0),onPointerLeave:()=>k(!1),onClick:()=>l(!0),style:{appearance:"none",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",color:"#ffffff",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",transition:"all 0.2s ease",transform:E?"scale(1.025)":void 0,filter:E?"brightness(1.1)":void 0}},Z.default.createElement(Dd,{style:{flexShrink:0}}),Z.default.createElement("span",null,"Show the auto-generated code"))))),Z.default.createElement(yb,{visible:o,onClose:()=>l(!1),code:r})):null},"SharedCodeViewer"),yb=S(({visible:e,onClose:t,code:r=""})=>{let a=Z.default.useRef(null),[n,o]=Z.default.useState(!1),[l,s]=Z.default.useState(!1),[m,g]=Z.default.useState(!1),[y,E]=Z.default.useState(!1);Z.default.useEffect(()=>{if(typeof document<"u"){let v=S(u=>{a.current&&!a.current.contains(u.target)&&t()},"onOutsideClick");return document.addEventListener("pointerdown",v),()=>{document.removeEventListener("pointerdown",v)}}return()=>{}},[t]);let k=S(()=>{typeof navigator<"u"&&(navigator.clipboard.writeText(r),o(!0),setTimeout(()=>{o(!1)},1e3))},"onCopy"),p=Z.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},Z.default.createElement("div",{style:{fontWeight:700,fontSize:"20px",lineHeight:"32px",color:"#0D0D0D"}},"Auto-generated code by Inferencer"),Z.default.createElement("button",{onClick:t,onPointerEnter:()=>g(!0),onPointerLeave:()=>g(!1),style:{flexShrink:0,appearance:"none",border:"none",background:"none",padding:0,margin:0,outline:"none",borderRadius:"50px",width:"32px",height:"32px",cursor:"pointer",transition:"all 0.15s ease",transform:m?"scale(1.05)":void 0,filter:m?"brightness(0.8)":void 0}},Z.default.createElement(bb,null))),w=Z.default.createElement("div",{style:{fontSize:"13px",borderRadius:"8px",flex:"1",overflow:"scroll",background:"#1E1E1E"}},Z.default.createElement(bn.default,{...bn.defaultProps,theme:Rd.default,code:r,language:"tsx"},({className:v,style:u,tokens:C,getLineProps:P,getTokenProps:q})=>Z.default.createElement("pre",{className:v,style:{...u,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},C.map((T,d)=>Z.default.createElement("div",{key:d,...P({line:T,key:d})},T.map((h,L)=>Z.default.createElement("span",{key:L,...q({token:h,key:L})})))))));return Z.default.createElement("div",{className:"refine-inferencer--code-viewer-modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,backgroundColor:"rgba(0, 0, 0, 0.5)",transition:"all 0.2s ease",opacity:e?1:0,pointerEvents:e?"all":"none",display:"flex",justifyContent:"center",alignItems:"center"}},Z.default.createElement("div",{ref:a,style:{transform:e?"scale(1) translateY(0px)":"scale(0) translateY(-200px)",transition:"all 0.25s cubic-bezier(.35,1.29,.81,1.08)",transitionDelay:"0.25",width:"calc(100% - calc(32px * 2))",height:"calc(100% - calc(32px * 2))",backgroundColor:"#fff",maxWidth:"640px",maxHeight:"720px",borderRadius:"8px",padding:"16px"}},Z.default.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",gap:"16px"}},p,w,Z.default.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-end",gap:"16px"}},Z.default.createElement("button",{onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1),onClick:k,style:{appearance:"none",height:"40px",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",color:"#ffffff",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",position:"relative",overflow:"hidden",transition:"filter 0.2s ease",transform:l?"scale(1.025)":"scale(1)",filter:l?"brightness(1.1)":void 0}},Z.default.createElement(Md,{style:{flexShrink:0,marginTop:"-2px",marginBottom:"-2px"}}),Z.default.createElement("span",null,"Copy Generated Code"),Z.default.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#0080FF",transition:"all 0.2s ease",transform:n?"translateY(0)":"translateY(40px)"}},Z.default.createElement(Md,{style:{flexShrink:0,marginTop:"-2px",marginBottom:"-2px"}}),Z.default.createElement("span",null,"Copied!"))),Z.default.createElement("a",{onPointerEnter:()=>E(!0),onPointerLeave:()=>E(!1),href:"https://refine.dev/docs/packages/documentation/inferencer",target:"_blank",rel:"noreferrer",style:{appearance:"none",textDecoration:"none",border:"none",padding:"10px 16px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 128, 255, 0.1)",color:"#0080FF",fontSize:"14px",lineHeight:"20px",fontWeight:600,gap:"8px",cursor:"pointer",transition:"all 0.2s ease",transform:y?"scale(1.025)":void 0,filter:y?"brightness(1.1)":void 0}},Z.default.createElement(Dd,{style:{flexShrink:0}}),Z.default.createElement("span",null,"Learn more about inferencer"))))))},"CodeModal"),hb=S(e=>Z.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",...e},Z.default.createElement("path",{fill:"#0080FF",fillRule:"evenodd",d:"M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10Zm0-15a1.25 1.25 0 1 0 0 2.5A1.25 1.25 0 0 0 10 5Zm0 10c.69 0 1.25-.56 1.25-1.25V10a1.25 1.25 0 1 0-2.5 0v3.75c0 .69.56 1.25 1.25 1.25Z",clipRule:"evenodd"})),"InfoIcon"),Dd=S(e=>Z.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},Z.default.createElement("path",{fill:"currentColor",d:"M5 2a1 1 0 0 1 0 2H4v8h8v-1a1 1 0 1 1 2 0v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h1Z"}),Z.default.createElement("path",{fill:"currentColor",d:"M9 2a1 1 0 0 0 0 2h1.586L6.293 8.293a1 1 0 0 0 1.414 1.414L12 5.414V7a1 1 0 1 0 2 0V3a1 1 0 0 0-1-1H9Z"})),"OpenIcon"),bb=S(e=>Z.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",...e},Z.default.createElement("path",{fill:"#A6A6A6",fillRule:"evenodd",d:"M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16Zm-2.586-21.414a2 2 0 1 0-2.828 2.828L13.172 16l-2.586 2.586a2 2 0 1 0 2.828 2.828L16 18.828l2.586 2.586a2 2 0 1 0 2.828-2.828L18.828 16l2.586-2.586a2 2 0 1 0-2.828-2.828L16 13.172l-2.586-2.586Z",clipRule:"evenodd"})),"CloseIcon"),Md=S(e=>Z.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",fill:"none",...e},Z.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 5a3 3 0 0 0 3 3h2a3 3 0 0 0 3-3h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h1Zm0 7a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm1 3a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2H9Z",clipRule:"evenodd"}),Z.default.createElement("path",{fill:"currentColor",d:"M13 4a1 1 0 1 1 0 2h-2a1 1 0 1 1 0-2h2Z"})),"ClipboardIcon");var pr=ae(i("react")),xn=ae(re());var Od=S((e,t,r,a)=>{let{resource:n,id:o,resources:l}=(0,xn.useResource)(t),s=r??o,m=(0,xn.useDataProvider)(),[g,y]=pr.default.useState(void 0),[E,k]=pr.default.useState(void 0),[p,w]=pr.default.useState(void 0),[f,v]=pr.default.useState(!0),[u,C]=pr.default.useState(!1),P=pr.default.useCallback(async q=>{var h;let T=qa(n)??Vo(n==null?void 0:n.name,void 0,l),d=m(T);C(!0),y(void 0);try{if((e==="list"||e==="create")&&n){let L=await d.getList({resource:n==null?void 0:n.name,meta:At((n==null?void 0:n.identifier)??(n==null?void 0:n.name),a,["getList"])}),I=(h=L.data)==null?void 0:h[0];I||y(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),k(I),w(L.data),setTimeout(()=>{C(!1)},500)}if((e==="edit"||e==="show")&&q&&n){let I=(await d.getOne({resource:n==null?void 0:n.name,id:q,meta:At((n==null?void 0:n.identifier)??(n==null?void 0:n.name),a,["getOne"])})).data;I||y(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),k(I),setTimeout(()=>{C(!1)},500)}}catch(L){console.warn("An error occured while fetching the resource data. Please check the error message below:",L),y(`<p>Something went wrong while fetching the resource data.</p>
                    <p>Please check your data provider and API for resource "${n==null?void 0:n.name}".</p>
                    <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),setTimeout(()=>{C(!1)},500)}},[e,m,n,l]);return pr.default.useEffect(()=>{v(!1),!u&&!E&&P(s)},[P,s]),{data:E,datas:p,loading:u,initial:f,error:g}},"useInferFetch");var Zr=ae(i("react")),Bd=ae(re());var ii=i("lodash-es");var Wd=S(({record:e,fields:t,infer:r,meta:a})=>{let n=(0,Bd.useDataProvider)(),[o,l]=Zr.default.useState([]),[s,m]=Zr.default.useState(!0),[g,y]=Zr.default.useState(!1),E=Zr.default.useCallback(async k=>{console.groupCollapsed("@refinedev/inferencer is trying to detect relations");let p=[];y(!0);try{let w=k.map(async v=>{var u,C,P,q,T;if(v&&(v.relation||v.canRelation)&&e){if(v.relationInfer)return v;let d=qa(v.resource),h=n(d),L=v.multiple,I=Array.isArray(v.accessor)?void 0:v.multiple?e[v.key].map(A=>v.accessor?(0,ii.get)(A,v.accessor):A)[0]:v.accessor?(0,ii.get)(e[v.key],v.accessor):e[v.key];if(I&&v.resource)try{let A={};if(L&&h.getMany){let{data:c}=await h.getMany({resource:v.resource.name,ids:[I],meta:At(((u=v.resource)==null?void 0:u.identifier)??((C=v.resource)==null?void 0:C.name),a,["getMany"])});A=c==null?void 0:c[0]}else{let{data:c}=await h.getOne({resource:v.resource.name,id:I,meta:At(((P=v.resource)==null?void 0:P.identifier)??((q=v.resource)==null?void 0:q.name),a,L?["getMany","getOne"]:["getOne"])});A=c}p.push({status:"success",resource:v.resource.name,field:v.key});let M=r("__",A,{},r);return{...v,relationInfer:M}}catch{return p.push({status:"error",resource:v.resource.name,field:v.key}),{...v,relationInfer:null}}if(I){let A,M;try{let R={};if(L&&h.getMany){let{data:F}=await((T=h.getMany)==null?void 0:T.call(h,{resource:Vt(Ae(v.key)),ids:[I],meta:At(Vt(Ae(v.key)),a,["getMany"])}));R=F==null?void 0:F[0]}else{let{data:F}=await h.getOne({resource:Vt(Ae(v.key)),id:I,meta:At(Vt(Ae(v.key)),a,L?["getMany","getOne"]:["getOne"])});R=F}p.push({status:"success",resource:Vt(Ae(v.key)),field:v.key}),A=R,M=!0}catch{p.push({status:"error",resource:Vt(Ae(v.key)),field:v.key});let F={};try{if(L&&h.getMany){let{data:O}=await h.getMany({resource:Ut(Ae(v.key)),meta:At(Ut(Ae(v.key)),a,["getMany"]),ids:[I]});F=O==null?void 0:O[0]}else{let{data:O}=await h.getOne({resource:Ut(Ae(v.key)),meta:At(Ut(Ae(v.key)),a,L?["getMany","getOne"]:["getOne"]),id:I});F=O}p.push({status:"success",resource:Ut(Ae(v.key)),field:v.key}),A=F,M=!1}catch{return p.push({status:"error",resource:Ut(Ae(v.key)),field:v.key}),{...v,relationInfer:null}}}let c=r("__",A,{},r),$=Ae(v.key);return{...v,relation:!0,type:"relation",resource:{name:M?Vt($):Ut($)},fieldable:!1,canRelation:void 0,relationInfer:c}}return{...v,relationInfer:null}}return v}),f=await Promise.all(w);l(f.filter(v=>v)),setTimeout(()=>{y(!1)},500)}catch{setTimeout(()=>{y(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${p.length} attempts and succeeded with ${p.filter(w=>w.status==="success").length} attempts.`),console.groupEnd(),console.info("@refinedev/inferencer may send multiple requests to your API for nonexistent resources when trying to detect relations. To learn more about how the inferencer works, visit https://s.refine.dev/how-inferencer-works")},500)},[n,e]);return Zr.default.useEffect(()=>{m(!1),!g&&t&&t.length>0&&o.length===0&&E(t)},[E,g,t,E]),{fields:o,loading:g,initial:s}},"useRelationFetch");var fr=S(({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:a=[],renderer:n,loadingComponent:o,errorComponent:l,codeViewerComponent:s})=>{let m=fd([...Id,...r]),g=vd([...Ad,...a]),y=S(({resourceName:k,fieldTransformer:p,hideCodeViewerInProduction:w,meta:f,id:v})=>{var D,U;let{resource:u,resources:C}=(0,Yr.useResource)(k),{i18nProvider:P}=(0,nt.useContext)(Yr.TranslationContext),{resource:q}=(0,Yr.useResource)(),{data:T,datas:d,loading:h,initial:L,error:I}=Od(e,k??(u==null?void 0:u.name),v,f),A=S((W,K,V)=>{let z=m(W,K,V,m,e);if(z&&u){let Q=g([z],C,u,V,m,e),Y=p?Q.flatMap(J=>{let oe=p(J);return oe?[oe]:[]}):Q;return Y==null?void 0:Y[0]}},"inferSingleField"),M=S(W=>Object.keys(W).map(V=>{let z=W[V];return A(V,z,W)}).filter(Boolean),"inferSingleRecord"),c=S(W=>{let K=W.map(J=>M(J)),V=W.flatMap(J=>Object.keys(J)).filter((J,oe,de)=>de.indexOf(J)===oe),z={},Q=V.map(J=>{let oe=K.map(me=>me.find(he=>he.key===J));return oe.reduce((me,he,qe)=>{if(!he)return me;let He=oe.filter(Le=>(Le==null?void 0:Le.key)===he.key&&(Le==null?void 0:Le.type)===he.type).length;return He>me.count?(z[J]=W[qe][J],{count:He,field:he}):me},{count:0,field:void 0}).field});return{commonRecord:z,inferredFields:Q}},"inferMultipleRecords"),[$,R]=nt.default.useMemo(()=>{if(d&&(e==="list"||e==="create")){let W=c(d);return[W.inferredFields,W.commonRecord]}if(T){let W=Object.keys(T).map(K=>{let V=T[K];return m(K,V,T,m,e)}).filter(Boolean);if(u){let K=g(W,C,u,T,m,e);return[p?K.flatMap(z=>{let Q=p(z);return Q?[Q]:[]}):K,T]}return[[],T]}return[[],void 0]},[T,d,C,u,p]),{fields:F,loading:O}=Wd({record:R,fields:$,infer:m,meta:f}),N=nt.default.useMemo(()=>{let W=[];return F.forEach((K,V,z)=>{if(K.resource){if(W.findIndex(Y=>{var J,oe;return((J=Y.resource)==null?void 0:J.name)===((oe=K.resource)==null?void 0:oe.name)})>-1)return;let Q=z.filter((Y,J)=>{var oe,de,me,he,qe,He;if(J!==V){let Le=K.resource,mt=Y.resource,pt=((oe=Y.resource)==null?void 0:oe.identifier)||((de=K.resource)==null?void 0:de.identifier)?((me=Y.resource)==null?void 0:me.identifier)===((he=K.resource)==null?void 0:he.identifier):((qe=Y.resource)==null?void 0:qe.name)===((He=K.resource)==null?void 0:He.name);return Le&&mt&&pt}else return!1});if(Q.length>0)if(e==="create"||e==="edit"){let Y;[K,...Q].find(J=>{J.fieldable!==!0&&Y===void 0&&(Y=J)}),Y?W.push(Y):W.push(K)}else{let Y;[K,...Q].find(J=>{J.fieldable!==!1&&Y===void 0&&(Y=J)}),Y?W.push(Y):W.push(K)}else W.push(K)}else W.push(K)}),W},[F,e]),B=nt.default.useMemo(()=>!h&&!O&&!L&&u?n({resource:u,resources:C,fields:N,infer:m,meta:f,isCustomPage:u.name!==(q==null?void 0:q.name),id:v,i18n:!!P}):"",[u,C,N,h,O]),H=w;return nt.default.createElement(nt.default.Fragment,null,o&&(h||O)&&nt.default.createElement(o,null),!h&&!O&&nt.default.createElement(nt.default.Fragment,null,nt.default.createElement(oi,{fetchError:!h&&I?I:!h&&!L&&!T,code:Jo(B,qt(((D=u==null?void 0:u.meta)==null?void 0:D.label)??((U=u==null?void 0:u.options)==null?void 0:U.label)??(u==null?void 0:u.label)??(u==null?void 0:u.name)??"Resource",e)),errorComponent:l,additionalScope:t}),typeof s<"u"&&!H?nt.default.createElement(s,{code:ei(B),loading:h||O}):null))},"Inferencer");return S(({name:k,resource:p,fieldTransformer:w,meta:f,hideCodeViewerInProduction:v,id:u})=>{let{resource:C}=(0,Yr.useResource)(p??k),P=`${(C==null?void 0:C.identifier)??(C==null?void 0:C.name)}-${e}-${u}`;return nt.default.createElement(y,{hideCodeViewerInProduction:v,fieldTransformer:w,resourceName:p??k,meta:f??{},key:P,id:u})},"InferencerComponent")},"createInferencer");var Fa=ae(i("react")),zd=ae(i("@mui/material/Alert")),jd=ae(i("@mui/material/AlertTitle")),Ud=ae(i("@mui/material/Box"));var vr=S(({error:e})=>e?Fa.default.createElement(Ud.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"}},Fa.default.createElement(zd.default,{severity:"error"},Fa.default.createElement(jd.default,null,"Error"),Fa.default.createElement("div",{dangerouslySetInnerHTML:{__html:e??""}}))):null,"ErrorComponent");var li=ae(i("react")),Vd=ae(i("@mui/material/Box")),Hd=ae(i("@mui/material/CircularProgress"));var gr=S(()=>li.default.createElement(Vd.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px"}},li.default.createElement(Hd.default,{size:"large"})),"LoadingComponent");var _d=S(({resource:e,fields:t,meta:r,isCustomPage:a,id:n,i18n:o})=>{let l=qt(e.label??e.name,"show"),s="record",m=[["useShow","@refinedev/core"],["Show","@refinedev/mui"],["Typography","@mui/material"],["Stack","@mui/material"],["IResourceComponentsProps","@refinedev/core"]];o&&m.push(["useTranslate","@refinedev/core"]);let y=t.filter(d=>(d==null?void 0:d.relation)&&!(d!=null&&d.fieldable)&&(d==null?void 0:d.resource)).filter(Boolean).map(d=>{var h,L,I,A;if(d!=null&&d.relation&&!d.fieldable&&d.resource){if(d.multiple){m.push(["useMany","@refinedev/core"]);let M=_(s,d.key);return d.accessor&&(M=`${_(s,d.key)}?.map((item: any) => ${_("item",void 0,d.accessor)})`),`
                const { data: ${Ee(d.key,"Data")}, isLoading: ${Ee(d.key,"IsLoading")} } =
                useMany({
                    resource: "${d.resource.name}",
                    ids: ${M} || [],
                    queryOptions: {
                        enabled: !!${s} && !!${M}?.length,
                    },
                    ${we(((h=d==null?void 0:d.resource)==null?void 0:h.identifier)??((L=d==null?void 0:d.resource)==null?void 0:L.name),r,"getMany")}
                });
                `}return m.push(["useOne","@refinedev/core"]),`
                const { data: ${Ee(d.key,"Data")}, isLoading: ${Ee(d.key,"IsLoading")} } =
                useOne({
                    resource: "${d.resource.name}",
                    id: ${_(s,d.key,d.accessor,!1)} || "",
                    queryOptions: {
                        enabled: !!${s},
                    },
                    ${we(((I=d==null?void 0:d.resource)==null?void 0:I.identifier)??((A=d==null?void 0:d.resource)==null?void 0:A.name),r,"getOne")}
                });
            `}}).filter(Boolean),E=S(d=>{if(d.relation&&d.resource){let h=Ee(d.key,"Data"),L=Ee(d.key,"IsLoading");if(d.multiple){let I=_(s,d.key)+"?.length";return m.push(["TagField","@refinedev/mui"]),le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                {${L} && ${I} ? (
                    <>
                        Loading...
                    </>
                    ) : (
                    <>
                    ${(()=>{var A;if(d.relationInfer)if((A=d.relationInfer)!=null&&A.accessor){if(Array.isArray(d.relationInfer.accessor))return"Not Handled.";{let M=Ee(d.key),c=_(M,void 0,d.relationInfer.accessor);return`
                                        {record?.${d.key}?.length ? <Stack direction="row" spacing={1}>
                                            {${h}?.data?.map((${M}: any) => (
                                                <TagField key={${c}} value={${c}} />
                                            ))}
                                        </Stack> : <></>}
                                    `}}else return"Not Handled.";else return"not-handled - relation with multiple but no resource"})()}
                    </>
                )}
                `}return d.fieldable?le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <TextField value={${_(s,d.key,d.accessor)}} />
                `:le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>

                {${L} ? (
                    <>Loading...</>
                ) : (
                    <>
                    ${(()=>{var I;return d.relationInfer?(I=d.relationInfer)!=null&&I.accessor?Array.isArray(d.relationInfer.accessor)?`{${_(`${h}?.data`,void 0,d.relationInfer.accessor,' + " " + ')}}`:`{${h}?.data?.${d.relationInfer.accessor}}`:`{${h}?.data}`:`{${h}?.data?.id}`})()}
                    </>
                )}
                `}},"renderRelationFields"),k=S(d=>{if(d.type==="text"){if(m.push(["TextFieldComponent as TextField","@refinedev/mui"]),d.multiple){m.push(["TagField","@refinedev/mui"]);let h=_("item",void 0,d.accessor);return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${_(s,d.key)}?.map((item: any) => (
                    <TagField value={${h}} key={${h}} />
                ))}
                </Stack>
            `}return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <TextField value={${_(s,d.key,d.accessor)}} />
            `}},"textFields"),p=S(d=>{if(d.type==="image"){if(d.multiple){let h=_("item",void 0,d.accessor);return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${_(s,d.key)}?.map((item: any) => (
                    <img style={{ maxWidth: 200, width: "100%", height: 200 }} src={${h}} key={${h}} />
                ))}
                </Stack>
            `}return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <img style={{ maxWidth: 200, width: "100%", height: 200 }} src={${_(s,d.key,d.accessor," + ")}} />
                `}},"imageFields"),w=S(d=>{if(d.type==="email"){if(m.push(["EmailField","@refinedev/mui"]),d.multiple){m.push(["TagField","@refinedev/mui"]);let h=_("item",void 0,d.accessor);return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${_(s,d.key)}?.map((item: any) => (
                    <TagField value={${h}} key={${h}} />
                ))}
                </Stack>
            `}return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <EmailField value={${_(s,d.key,d.accessor," + ")}} />
            `}},"emailFields"),f=S(d=>{if(d.type==="url"){if(m.push(["UrlField","@refinedev/mui"]),d.multiple){m.push(["TagField","@refinedev/mui"]);let h=_("item",void 0,d.accessor);return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${_(s,d.key)}?.map((item: any) => (
                    <TagField value={${h}} key={${h}} />
                ))}
                </Stack>
            `}return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <UrlField value={${_(s,d.key,d.accessor," + ")}} />
            `}},"urlFields"),v=S(d=>{if(d.type==="boolean"){if(m.push(["BooleanField","@refinedev/mui"]),d.multiple){m.push(["TagField","@refinedev/mui"]);let h=_("item",void 0,d.accessor);return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${_(s,d.key)}?.map((item: any, index: number) => (
                    <TagField value={${h}} key={index} />
                ))}
                </Stack>
            `}return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <BooleanField value={${_(s,d.key,d.accessor," && ")}} />
            `}},"booleanFields"),u=S(d=>{if(d.type==="date"){if(m.push(["DateField","@refinedev/mui"]),d.multiple){let h=_("item",void 0,d.accessor);return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${_(s,d.key)}?.map((item: any) => (
                    <DateField value={${h}} key={${h}} />
                ))}
                </Stack>
            `}return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <DateField value={${_(s,d.key,d.accessor," + ' ' + ")}} />
            `}},"dateFields"),C=S(d=>{if(d.type==="richtext")return m.push(["MarkdownField","@refinedev/mui"]),le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <MarkdownField value={${_(s,d.key,d.accessor,' + " " + ')}} />
            `},"richtextFields"),P=S(d=>{if(d.type==="number"){if(m.push(["NumberField","@refinedev/mui"]),d.multiple){m.push(["TagField","@refinedev/mui"]);let h=_("item",void 0,d.accessor);return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${_(s,d.key)}?.map((item: any) => (
                    <TagField value={${h}} key={${h}} />
                ))}
                </Stack>
            `}return le`
                <Typography variant="body1" fontWeight="bold">
                    ${ie({resource:e,field:d,i18n:o,noQuotes:!0})}
                </Typography>
                <NumberField value={${_(s,d.key,d.accessor,' + " " + ')} ?? ""} />
            `}},"numberFields"),q=t.map(d=>{switch(d==null?void 0:d.type){case"text":return k(d);case"number":return P(d);case"richtext":return C(d);case"email":return w(d);case"image":return p(d);case"date":return u(d);case"boolean":return v(d);case"url":return f(d);case"relation":return E(d);default:return}});Kt(m);let T=o&&"const translate = useTranslate();";return le`
    ${Ht(m)}

    export const ${l}: React.FC<IResourceComponentsProps> = () => {
        ${T}
        const { queryResult } = useShow(${a?`{ 
                    resource: "${e.name}", 
                    id: ${La(n)},
                    ${we((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}
                }`:we((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")?`{ ${we((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")} }`:""});
        const { data, isLoading } = queryResult;
    
        const ${s} = data?.data;
    
        ${y}

        return (
            <Show isLoading={isLoading}>
                <Stack gap={1}>
                    ${q.join("")}
                </Stack>
            </Show>
        );
    };
    `},"renderer"),si=fr({type:"show",additionalScope:[["@refinedev/mui","RefineMui",{Show:We.Show,TagField:We.TagField,TextFieldComponent:We.TextFieldComponent,EmailField:We.EmailField,UrlField:We.UrlField,BooleanField:We.BooleanField,DateField:We.DateField,MarkdownField:We.MarkdownField,NumberField:We.NumberField}],["@mui/material","MuiMaterial",{Typography:Kd.default,Stack:Qd.default}]],codeViewerComponent:mr,loadingComponent:gr,errorComponent:vr,renderer:_d});var Pe=ae(Sa()),Gd=ae(i("@mui/material/Checkbox")),Xd=i("@mui/x-data-grid");var Zd=S(({resource:e,fields:t,meta:r,isCustomPage:a,i18n:n})=>{let o=qt(e.label??e.name,"list"),l="dataGridProps?.rows",s=[["React","react",!0],["useDataGrid","@refinedev/mui"],["DataGrid","@mui/x-data-grid"],["GridColDef","@mui/x-data-grid"],["EditButton","@refinedev/mui"],["ShowButton","@refinedev/mui"],["DeleteButton","@refinedev/mui"],["List","@refinedev/mui"],["IResourceComponentsProps","@refinedev/core"]];n&&s.push(["useTranslate","@refinedev/core"]);let m=t.filter(c=>(c==null?void 0:c.relation)&&!(c!=null&&c.fieldable)&&(c==null?void 0:c.resource)),g=m.filter(Boolean).map(c=>{var $,R;if(c!=null&&c.relation&&!c.fieldable&&c.resource){s.push(["useMany","@refinedev/core"]);let F="";return c.multiple?F=`[].concat(...(${l}?.map((item: any) => ${_("item",c.key,c.accessor,!1)}) ?? []))`:F=`${l}?.map((item: any) => ${_("item",c.key,c.accessor,!1)}) ?? []`,`
                const { data: ${Ee(c.key,"Data")}, isLoading: ${Ee(c.key,"IsLoading")} } =
                useMany({
                    resource: "${c.resource.name}",
                    ids: ${F},
                    queryOptions: {
                        enabled: !!${l},
                    },
                    ${we((($=c==null?void 0:c.resource)==null?void 0:$.identifier)??((R=c==null?void 0:c.resource)==null?void 0:R.name),r,"getMany")}
                });
                `}}).filter(Boolean),y=m==null?void 0:m.map(c=>{if(c&&c.resource)return`${Ee(c.key,"Data")}?.data`}).filter(Boolean),E=S(c=>{var $,R;if(c.relation&&c.resource){let F=`${Ee(c.key,"Data")}?.data`,O=Ee(c.key,"IsLoading");if(Array.isArray(c.accessor))return;let N=`${O} ? <>Loading...</> : `,B=`field: "${c.key}"`,H=c.accessor&&!c.multiple&&!Array.isArray(c.accessor)?`valueGetter: ({ row }) => {
            const value = ${_("row",c.key,c.accessor,!1)};

            return value;
        },`:"",D=`headerName: ${ie({resource:e,field:c,i18n:n,noBraces:!0})}`,U="";if(c.multiple){s.push(["TagField","@refinedev/mui"]);let W="item";if(c!=null&&c.relationInfer){let K=`${F}?.find((resourceItems) => resourceItems.id === ${_("item",void 0,c.accessor)})`;W=_(K,void 0,($=c==null?void 0:c.relationInfer)==null?void 0:$.accessor)}U=`
                renderCell: function render({ value }) {
                    return ${N} (
                        <>
                            {${_("value",void 0)}?.map((item: any, index: number) => (
                                <TagField key={index} value={${W}} />
                            ))}
                        </>
                    )
                }
                `}else if(c!=null&&c.relationInfer){let W=`${F}?.find((item) => item.id === value)`,K=_(W,void 0,(R=c==null?void 0:c.relationInfer)==null?void 0:R.accessor);U=`
                    renderCell: function render({ value }) {
                        return ${N} ${K};
                    }
                    `}else U="";return`
                {
                    ${B},
                    flex: 1,
                    ${D},${H}
                    minWidth: 300,${U}
                }
            `}},"renderRelationFields"),k=S(c=>{if(c.type==="image"){let $=`field: "${c.key}"`,R=`headerName: ${ie({resource:e,field:c,i18n:n,noBraces:!0})}`,F=c.accessor&&!c.multiple&&!Array.isArray(c.accessor)?`valueGetter: ({ row }) => {
            const value = ${_("row",c.key,c.accessor,!1)};

            return value;
        },`:"",O=`
                renderCell: function render({ value }) {
                    return (
                        <img src={${_("value",void 0,Array.isArray(c.accessor)?c.accessor:void 0," + ")}} style={{ height: "50px", maxWidth: "100px" }} />
                    )
                }
            `;return c.multiple&&(O=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: number) => (
                                <img src={${_("item",void 0,c.accessor," + ")}} key={index} style={{ height: "50px", maxWidth: "100px" }} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${$},
                    flex: 1,
                    ${R},${F}
                    minWidth: 100,${O}
                }
            `}},"imageFields"),p=S(c=>{if(c.type==="email"){s.push(["EmailField","@refinedev/mui"]);let $=`field: "${c.key}"`,R=`headerName: ${ie({resource:e,field:c,i18n:n,noBraces:!0})}`,F=c.accessor&&!c.multiple&&!Array.isArray(c.accessor)?`valueGetter: ({ row }) => {
            const value = ${_("row",c.key,c.accessor,!1)};

            return value;
        },`:"",O=`
            renderCell: function render({ value }) {
                return (
                    <EmailField value={${_("value",void 0,Array.isArray(c.accessor)?c.accessor:void 0," + ")}} />
                )
            }
        `;return c.multiple&&(s.push(["TagField","@refinedev/mui"]),O=`
                renderCell: function render({ value }) {
                    return (
                        <>
                        {value?.map((item: any, index: number) => (
                            <TagField value={${_("item",void 0,c.accessor," + ")}} key={index} />
                        ))}
                        </>
                    )
                }
            `),`
            {
                ${$},
                flex: 1,
                ${R},${F}
                minWidth: 250,${O}
            }
        `}},"emailFields"),w=S(c=>{if(c.type==="url"){s.push(["UrlField","@refinedev/mui"]);let $=`field: "${c.key}"`,R=`headerName: ${ie({resource:e,field:c,i18n:n,noBraces:!0})}`,F=c.accessor&&!c.multiple&&!Array.isArray(c.accessor)?`valueGetter: ({ row }) => {
            const value = ${_("row",c.key,c.accessor,!1)};

            return value;
        },`:"",O=`
                renderCell: function render({ value }) {
                    return (
                        <UrlField value={${_("value",void 0,Array.isArray(c.accessor)?c.accessor:void 0," + ")}} />
                    )
                }
            `;return c.multiple&&(s.push(["TagField","@refinedev/mui"]),O=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: any) => (
                                <TagField value={${_("item",void 0,c.accessor," + ")}} key={index} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${$},
                    flex: 1,
                    ${R},${F}
                    minWidth: 250,${O}
                }
            `}},"urlFields"),f=S(c=>{if(c!=null&&c.type){s.push(["Checkbox","@mui/material"]);let $=`field: "${c.key}"`,R=`headerName: ${ie({resource:e,field:c,i18n:n,noBraces:!0})}`,F=c.accessor&&!c.multiple&&!Array.isArray(c.accessor)?`valueGetter: ({ row }) => {
            const value = ${_("row",c.key,c.accessor,!1)};

            return value;
        },`:"",O=`
                renderCell: function render({ value }) {
                    return (
                        <Checkbox checked={!!${_("value",void 0,Array.isArray(c.accessor)?c.accessor:void 0," && ")}} />
                    );
                }
            `;return c.multiple&&(O=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: number) => (
                                <Checkbox checked={!!${_("item",void 0,c.accessor," && ")}} key={index} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${$},
                    ${R},${F}
                    minWidth: 100,${O}
                }
            `}},"booleanFields"),v=S(c=>{if(c.type==="date"){s.push(["DateField","@refinedev/mui"]);let $=`field: "${c.key}"`,R=`headerName: ${ie({resource:e,field:c,i18n:n,noBraces:!0})}`,F=c.accessor&&!c.multiple&&!Array.isArray(c.accessor)?`valueGetter: ({ row }) => {
            const value = ${_("row",c.key,c.accessor,!1)};

            return value;
        },`:"",O=`
                renderCell: function render({ value }) {
                    return <DateField value={value} />;
                }
            `;return c.multiple&&(O=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: number) => (
                                <DateField value={${_("item",void 0,c.accessor,' + " " + ')}} key={index} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${$},
                    flex: 1,
                    ${R},${F}
                    minWidth: 250,${O}
                }
            `}},"dateFields"),u=S(c=>{if((c==null?void 0:c.type)==="richtext"){s.push(["MarkdownField","@refinedev/mui"]);let $=`field: "${c.key}"`,R=`headerName: ${ie({resource:e,field:c,i18n:n,noBraces:!0})}`,F=c.accessor&&!c.multiple&&!Array.isArray(c.accessor)?`valueGetter: ({ row }) => {
            const value = ${_("row",c.key,c.accessor,!1)};

            return value;
        },`:"",O=`
                renderCell: function render({ value }) {
                    return <MarkdownField value={(value ?? "").slice(0, 80) + "..."} />;
                }
            `;return c.multiple&&(O=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: number) => (
                                <MarkdownField value={(${_("item",void 0,c.accessor,' + " " + ')}).slice(0, 80) + "..."} key={index} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${$},
                    flex: 1,
                    ${R},${F}
                    minWidth: 250,${O}
                }
            `}},"richtextFields"),C=S(c=>{if(c&&(c.type==="text"||c.type==="number")){let $=`field: "${c.key}"`,R=`headerName: ${ie({resource:e,field:c,i18n:n,noBraces:!0})}`,F=c.accessor&&!c.multiple&&!Array.isArray(c.accessor)?`valueGetter: ({ row }) => {
            const value = ${_("row",c.key,c.accessor,!1)};

            return value;
        },`:"",O="";if(c.multiple){s.push(["TagField","@refinedev/mui"]);let N=_("item",void 0,c.accessor,' + " " + ');O=`
                renderCell: function render({ row }) {
                    return (
                        <>
                            {(${_("row",c.key)})?.map((item: any) => (
                                <TagField value={${N}} key={${N}} />
                            ))}
                        </>
                    )
                }
                `}return!c.multiple&&Array.isArray(c.accessor)&&(O=`
                renderCell: function render({ row }) {
                    return (
                        <>{${_("row",c.key,c.accessor)}}</>
                    );
                }
                `),`
            {
                ${$}, ${cr(c.key)?"":`
                flex: 1,`}
                ${R},${F}${c.type==="number"?"type: 'number',":""}
                minWidth: ${cr(c.key)?50:200},${O}
            }
            `}},"basicFields"),{canEdit:P,canShow:q,canDelete:T,meta:d}=e??{},h=T||(d==null?void 0:d.canDelete);P&&s.push(["EditButton","@refinedev/mui"]),q&&s.push(["ShowButton","@refinedev/mui"]),h&&s.push(["DeleteButton","@refinedev/mui"]);let I=P||q||h?le`
            {
                field: "actions",
                headerName: ${n?'translate("table.actions")':'"Actions"'},
                sortable: false,
                renderCell: function render({ row }) {
                    return (
                        <>
                            ${P?le`<EditButton hideText recordItemId={row.id} />`:""}
                            ${q?le`<ShowButton hideText recordItemId={row.id} />`:""}
                            ${h?le`<DeleteButton hideText recordItemId={row.id} />`:""}
                        </>
                    );
                },
                align: "center",
                headerAlign: "center",
                minWidth: 80,
            },
    `:"",A=t.map(c=>{switch(c==null?void 0:c.type){case"text":case"number":return C(c);case"richtext":return u(c);case"email":return p(c);case"image":return k(c);case"date":return v(c);case"boolean":return f(c);case"url":return w(c);case"relation":return E(c);default:return}});Kt(s);let M=n&&"const translate = useTranslate();";return le`
    ${Ht(s)}
    
    export const ${o}: React.FC<IResourceComponentsProps> = () => {
        ${M}
        const { dataGridProps } = useDataGrid(
            ${a?`{ resource: "${e.name}",
                        ${we((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getList")}
                        }`:we((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getList")?`{ ${we((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getList")} },`:""} 
        );
    
        ${g}

        const columns = React.useMemo<GridColDef[]>(() => [
            ${[...A,I].filter(Boolean).join(`,\r
`)}
        ], [${n?"translate, ":""}${y.join(",")}]);

        return (
            <List>
                <DataGrid {...dataGridProps} columns={columns} autoHeight />
            </List>
        );
    };
    `},"renderer"),ui=fr({type:"list",additionalScope:[["@refinedev/mui","RefineMui",{useDataGrid:Pe.useDataGrid,EditButton:Pe.EditButton,SaveButton:Pe.SaveButton,DeleteButton:Pe.DeleteButton,List:Pe.List,TagField:Pe.TagField,EmailField:Pe.EmailField,UrlField:Pe.UrlField,DateField:Pe.DateField,MarkdownField:Pe.MarkdownField,ShowButton:Pe.ShowButton}],["@mui/x-data-grid","MuiXDataGrid",{DataGrid:Xd.DataGrid}],["@mui/material","MuiMaterial",{Checkbox:Gd.default}]],codeViewerComponent:mr,loadingComponent:gr,errorComponent:vr,renderer:Zd});var Cn=ae(Sa()),Yd=ae(rr()),Jd=ae(i("@mui/material/Box")),ec=ae(i("@mui/material/Autocomplete")),tc=ae(i("@mui/material/TextField")),rc=ae(i("@mui/material/Checkbox")),ac=ae(i("@mui/material/FormControlLabel")),nc=i("react-hook-form");var oc=S(({resource:e,fields:t,meta:r,isCustomPage:a,i18n:n})=>{let o=qt(e.label??e.name,"create"),l=[["Create","@refinedev/mui"],["Box","@mui/material"],["useForm","@refinedev/react-hook-form"],["IResourceComponentsProps","@refinedev/core"]];n&&l.push(["useTranslate","@refinedev/core"]);let m=t.filter(f=>(f==null?void 0:f.relation)&&!(f!=null&&f.fieldable)&&(f==null?void 0:f.resource)).filter(Boolean).map(f=>{var v,u;if(f!=null&&f.relation&&!f.fieldable&&f.resource)return l.push(["useAutocomplete","@refinedev/mui"]),`
                const { autocompleteProps: ${Ee(f.key,"AutocompleteProps")} } =
                useAutocomplete({
                    resource: "${f.resource.name}",
                    ${we(((v=f==null?void 0:f.resource)==null?void 0:v.identifier)??((u=f==null?void 0:f.resource)==null?void 0:u.name),r,"getList")}
                });
            `}).filter(Boolean),g=S(f=>{if(f.relation&&f.resource){l.push(["Autocomplete","@mui/material"],["Controller","react-hook-form"]);let v=Ee(f.key,"AutocompleteProps"),u=f.relationInfer&&f.relationInfer.accessor?typeof f.relationInfer.accessor=="string"?f.relationInfer.accessor:f.relationInfer.accessor[0]:"title",C=u.includes(".")||u.includes("[")||u.includes("]")||u.includes("-"),P=f.accessor?_("item",void 0,f.accessor,!1):"(item?.id ?? item)",q=f.accessor?_("value",void 0,f.accessor,!1):"(value?.id ?? value)",T=f.accessor?"value":f.multiple?"value?.map((item: any) => item?.id ?? item)":"value?.id ?? value";return le`
                <Controller
                    control={control}
                    name="${at(f.key,void 0)}"
                    rules={{ required: "This field is required" }}
                    // eslint-disable-next-line
                    ${f.multiple?"defaultValue={[] as any}":"defaultValue={null as any}"}
                    render={({ field }) => (
                        <Autocomplete
                            {...${v}}
                            {...field}
                            ${f.multiple?"multiple":""}
                            onChange={(_, value) => {
                                field.onChange(${T});
                            }}
                            getOptionLabel={(item) => {
                                return (
                                    ${v}?.options?.find(
                                        (p) =>
                                            p?.id?.toString() ===
                                            ${P}?.toString(),
                                    )?.${C?`["${u}"]`:u} ?? ""
                                );
                            }}
                            isOptionEqualToValue={(option, value) =>
                                value === undefined ||
                                option?.id?.toString() === ${q}?.toString()
                            }
                            renderInput={(params) => (
                                <TextField
                                    {...params}
                                    label=${ie({resource:e,field:f,i18n:n})}
                                    margin="normal"
                                    variant="outlined"
                                    error={!!${_("(errors as any)",f.key,f.accessor,!1)}}
                                    helperText={${_("(errors as any)",f.key,f.accessor,!1)}?.message}
                                    required
                                />
                            )}
                        />
                    )}
                />
            `}},"renderRelationFields"),y=S(f=>{if(f.type==="text"||f.type==="url"||f.type==="email"||f.type==="number"||f.type==="date"||f.type==="richtext")return cr(f.key)||(l.push(["TextField","@mui/material"]),f.multiple)?void 0:le`
                <TextField
                    {...register("${at(f.key,void 0,f.accessor)}", {
                        required: "This field is required",
                        ${f.type==="number"?"valueAsNumber: true,":""}
                    })}
                    error={!!${_("(errors as any)",f.key,f.accessor,!1)}}
                    helperText={${_("(errors as any)",f.key,f.accessor,!1)}?.message}
                    margin="normal"
                    fullWidth
                    InputLabelProps={{ shrink: true }}
                    ${f.type!=="date"&&f.type!=="richtext"?`type="${f.type}"`:""}
                    ${f.type==="richtext"?"multiline":""}
                    label=${ie({resource:e,field:f,i18n:n})}
                    name="${at(f.key,void 0,f.accessor)}"
                />
            `},"basicInputFields"),E=S(f=>{if(f.type==="boolean")return l.push(["Checkbox","@mui/material"],["FormControlLabel","@mui/material"],["Controller","react-hook-form"]),f.multiple?void 0:le`
                <Controller
                    control={control}
                    name="${at(f.key,void 0,f.accessor)}"
                    // eslint-disable-next-line
                    defaultValue={null as any}
                    render={({ field }) => (
                        <FormControlLabel label=${ie({resource:e,field:f,i18n:n})} control={
                            <Checkbox
                                {...field}
                                checked={field.value}
                                onChange={(event) => {
                                    field.onChange(event.target.checked);
                                }}
                            />
                        } />
                    )}
                />
            `},"booleanFields"),k=S(f=>{if(f.type==="date")return`
                {/*
                    DatePicker component is not included in "@refinedev/mui" package.
                    To use a <DatePicker> component, you can follow the official documentation for Material UI.

                    Docs: https://mui.com/x/react-date-pickers/date-picker/#basic-usage
                */}
                ${y(f)??""}
                `},"dateFields"),p=t.map(f=>{switch(f==null?void 0:f.type){case"text":case"number":case"email":case"url":case"richtext":return y(f);case"date":return k(f);case"boolean":return E(f);case"relation":return g(f);default:return}});Kt(l);let w=n&&"const translate = useTranslate();";return le`
    ${Ht(l)}

    export const ${o}: React.FC<IResourceComponentsProps> = () => {
        ${w}
        const {
            saveButtonProps,
            refineCore: { formLoading },
            register,
            control,
            formState: { errors },
        } = useForm(
            ${a?`{
                refineCoreProps: {
                    resource: "${e.name}",
                    action: "create",
                    ${we(e.identifier??e.name,r,"getOne")}
                }
            }`:we(e.identifier??e.name,r,"getOne")?`{
                        refineCoreProps: { ${we(e.identifier??e.name,r,"getOne")} }
                        }`:""}
        );

        ${m}

        return (
            <Create isLoading={formLoading} saveButtonProps={saveButtonProps}>
                <Box
                    component="form"
                    sx={{ display: "flex", flexDirection: "column" }}
                    autoComplete="off"
                >
                    ${p.join("")}
                </Box>
            </Create>
        );
    };
    `},"renderer"),di=fr({type:"create",additionalScope:[["@refinedev/mui","RefineMui",{Create:Cn.Create,useAutocomplete:Cn.useAutocomplete}],["@refinedev/react-hook-form","RefineReactHookForm",{useForm:Yd.useForm}],["@mui/material","MuiMaterial",{Box:Jd.default,Autocomplete:ec.default,TextField:tc.default,Checkbox:rc.default,FormControlLabel:ac.default}],["react-hook-form","ReactHookForm",{Controller:nc.Controller}]],codeViewerComponent:mr,loadingComponent:gr,errorComponent:vr,renderer:oc});var En=ae(Sa()),ic=ae(rr()),lc=ae(i("@mui/material/Box")),sc=ae(i("@mui/material/Autocomplete")),uc=ae(i("@mui/material/TextField")),dc=ae(i("@mui/material/Checkbox")),cc=ae(i("@mui/material/FormControlLabel")),mc=i("react-hook-form");var pc=S(({resource:e,fields:t,meta:r,isCustomPage:a,id:n,i18n:o})=>{let l=qt(e.label??e.name,"edit"),s=Ee(e.label??e.name,"Data"),m=[["Edit","@refinedev/mui"],["Box","@mui/material"],["useForm","@refinedev/react-hook-form"],["IResourceComponentsProps","@refinedev/core"]];o&&m.push(["useTranslate","@refinedev/core"]);let y=t.filter(u=>(u==null?void 0:u.relation)&&!(u!=null&&u.fieldable)&&(u==null?void 0:u.resource)).filter(Boolean).map(u=>{var C,P;if(u!=null&&u.relation&&!u.fieldable&&u.resource){m.push(["useAutocomplete","@refinedev/mui"]);let q=_(s,u.key,u.accessor,!1);return u.multiple&&u.accessor&&(q=`${_(s,u.key)}?.map((item: any) => ${_("item",void 0,u.accessor)})`),`
                const { autocompleteProps: ${Ee(u.key,"AutocompleteProps")} } =
                useAutocomplete({
                    resource: "${u.resource.name}",
                    defaultValue: ${q},
                    ${we(((C=u==null?void 0:u.resource)==null?void 0:C.identifier)??((P=u==null?void 0:u.resource)==null?void 0:P.name),r,"getList")}
                });
            `}}).filter(Boolean),E=S(u=>{if(u.relation&&u.resource){m.push(["Autocomplete","@mui/material"],["Controller","react-hook-form"]);let C=Ee(u.key,"AutocompleteProps"),P=u.relationInfer&&u.relationInfer.accessor?typeof u.relationInfer.accessor=="string"?u.relationInfer.accessor:u.relationInfer.accessor[0]:"title",q=P.includes(".")||P.includes("[")||P.includes("]")||P.includes("-"),T=u.accessor?_("item",void 0,u.accessor,!1):"(item?.id ?? item)",d=u.accessor?_("value",void 0,u.accessor,!1):"(value?.id ?? value)",h=u.accessor?"value":u.multiple?"value?.map((item: any) => item?.id ?? item)":"value?.id ?? value";return le`
                <Controller
                    control={control}
                    name="${at(u.key,void 0)}"
                    rules={{ required: "This field is required" }}
                    // eslint-disable-next-line
                    ${u.multiple?"defaultValue={[] as any}":"defaultValue={null as any}"}
                    render={({ field }) => (
                        <Autocomplete
                            {...${C}}
                            {...field}
                            ${u.multiple?"multiple":""}
                            onChange={(_, value) => {
                                field.onChange(${h});
                            }}
                            getOptionLabel={(item) => {
                                return (
                                    ${C}?.options?.find(
                                        (p) =>
                                            p?.id?.toString() ===
                                            ${T}?.toString(),
                                    )?.${q?`["${P}"]`:P} ?? ""
                                );
                            }}
                            isOptionEqualToValue={(option, value) =>
                                value === undefined ||
                                option?.id?.toString() === ${d}?.toString()
                            }
                            renderInput={(params) => (
                                <TextField
                                    {...params}
                                    label=${ie({resource:e,field:u,i18n:o})}
                                    margin="normal"
                                    variant="outlined"
                                    error={!!${_("(errors as any)",u.key,u.accessor,!1)}}
                                    helperText={${_("(errors as any)",u.key,u.accessor,!1)}?.message}
                                    required
                                />
                            )}
                        />
                    )}
                />
            `}},"renderRelationFields"),k=S(u=>{if(u.type==="text"||u.type==="url"||u.type==="email"||u.type==="number"||u.type==="date"||u.type==="richtext"){if(m.push(["TextField","@mui/material"]),u.multiple){m.push(["Box","@mui/material"]);let C=at(u.key,"${index}",u.accessor),P=_("(errors as any)",u.key,void 0,!1)+"?.[index]";return`
                    <Box sx={{display: "flex", gap: 1}}>
                        {${_(s,u.key)}?.map((item: any, index: number) => (
                            <TextField
                                key={index}
                                {...register(\`${C}\`, {
                                    required: "This field is required",
                                    ${u.type==="number"?"valueAsNumber: true,":""}
                                })}
                                error={!!${P}}
                                helperText={${P}?.message as string}
                                margin="normal"
                                fullWidth
                                InputLabelProps={{ shrink: true }}
                                ${u.type!=="date"&&u.type!=="richtext"?`type="${u.type}"`:""}
                                ${u.type==="richtext"?"multiline":""}
                                label=${ie({resource:e,field:u,i18n:o})}
                                name={\`${at(u.key,void 0,u.accessor)}.\${index}\`}
                            />
                        ))}
                    </Box>
                `}return le`
                <TextField
                    {...register("${at(u.key,void 0,u.accessor)}", {
                        required: "This field is required",
                        ${u.type==="number"?"valueAsNumber: true,":""}
                    })}
                    error={!!${_("(errors as any)",u.key,u.accessor,!1)}}
                    helperText={${_("(errors as any)",u.key,u.accessor,!1)}?.message}
                    margin="normal"
                    fullWidth
                    InputLabelProps={{ shrink: true }}
                    ${u.type!=="date"&&u.type!=="richtext"?`type="${u.type}"`:""}
                    ${u.type==="richtext"?"multiline":""}
                    label=${ie({resource:e,field:u,i18n:o})}
                    name="${at(u.key,void 0,u.accessor)}"
                    ${cr(u.key)?"disabled":""}
                />
            `}},"basicInputFields"),p=S(u=>{if(u.type==="boolean"){if(m.push(["Checkbox","@mui/material"],["FormControlLabel","@mui/material"],["Controller","react-hook-form"]),u.multiple){m.push(["Box","@mui/material"]);let C=at(u.key,"${index}",u.accessor);return`
                    <Box sx={{display: "flex", gap: 1}}>
                        {${_(s,u.key)}?.map((item: any, index: number) => (
                            <Controller
                                key={index}
                                control={control}
                                name={\`${C}\`}
                                // eslint-disable-next-line
                                defaultValue={null as any}
                                render={({ field }) => (
                                    <FormControlLabel label=${ie({resource:e,field:u,i18n:o})} control={
                                        <Checkbox
                                            {...field}
                                            checked={field.value}
                                            onChange={(event) => {
                                                field.onChange(event.target.checked);
                                            }}
                                        />
                                    } />
                                )}
                            />
                        ))}
                    </Box>
                `}return le`
                <Controller
                    control={control}
                    name="${at(u.key,void 0,u.accessor)}"
                    // eslint-disable-next-line
                    defaultValue={null as any}
                    render={({ field }) => (
                        <FormControlLabel label=${ie({resource:e,field:u,i18n:o})} control={
                            <Checkbox
                                {...field}
                                checked={field.value}
                                onChange={(event) => {
                                    field.onChange(event.target.checked);
                                }}
                            />
                        } />
                    )}
                />
            `}},"booleanFields"),w=S(u=>{if(u.type==="date")return`
                {/*
                    DatePicker component is not included in "@refinedev/mui" package.
                    To use a <DatePicker> component, you can follow the official documentation for Material UI.

                    Docs: https://mui.com/x/react-date-pickers/date-picker/#basic-usage
                */}
                ${k(u)}
                `},"dateFields"),f=t.map(u=>{switch(u==null?void 0:u.type){case"text":case"number":case"email":case"url":case"richtext":return k(u);case"date":return w(u);case"boolean":return p(u);case"relation":return E(u);default:return}});Kt(m);let v=o&&"const translate = useTranslate();";return le`
    ${Ht(m)}

    export const ${l}: React.FC<IResourceComponentsProps> = () => {
        ${v}
        const {
            saveButtonProps,
            refineCore: { queryResult },
            register,
            control,
            formState: { errors },
        } = useForm(
            ${a?`{
                refineCoreProps: {
                    resource: "${e.name}",
                    id: ${La(n)},
                    action: "edit",
                    ${we((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")}
                }
            }`:we((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")?`{ refineCoreProps: { ${we((e==null?void 0:e.identifier)??(e==null?void 0:e.name),r,"getOne")} }
              }`:""}
        );

        const ${s} = queryResult?.data?.data;

        ${y}

        return (
            <Edit saveButtonProps={saveButtonProps}>
                <Box
                    component="form"
                    sx={{ display: "flex", flexDirection: "column" }}
                    autoComplete="off"
                >
                    ${f.join("")}
                </Box>
            </Edit>
        );
    };
    `},"renderer"),ci=fr({type:"edit",additionalScope:[["@refinedev/mui","RefineMui",{Edit:En.Edit,useAutocomplete:En.useAutocomplete}],["@refinedev/react-hook-form","RefineReactHookForm",{useForm:ic.useForm}],["@mui/material","MuiMaterial",{Box:lc.default,Autocomplete:sc.default,TextField:uc.default,Checkbox:dc.default,FormControlLabel:cc.default}],["react-hook-form","ReactHookForm",{Controller:mc.Controller}]],codeViewerComponent:mr,loadingComponent:gr,errorComponent:vr,renderer:pc});var A1=S(({action:e,id:t,...r})=>{let{action:a,id:n}=(0,fc.useResource)();switch(e??a){case"show":return Ta.default.createElement(si,{...r,id:t??n});case"create":return Ta.default.createElement(di,{...r,id:t??n});case"edit":return Ta.default.createElement(ci,{...r,id:t??n});default:return Ta.default.createElement(ui,{...r,id:t??n})}},"MuiInferencer");})();
//# sourceMappingURL=mui.js.map