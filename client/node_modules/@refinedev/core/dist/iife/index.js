(()=>{var pi=Object.create;var ho=Object.defineProperty;var li=Object.getOwnPropertyDescriptor;var mi=Object.getOwnPropertyNames;var fi=Object.getPrototypeOf,yi=Object.prototype.hasOwnProperty;var o=(e,t)=>ho(e,"name",{value:t,configurable:!0}),b=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Fs=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var gi=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of mi(t))!yi.call(e,n)&&n!==r&&ho(e,n,{get:()=>t[n],enumerable:!(s=li(t,n))||s.enumerable});return e};var k=(e,t,r)=>(r=e!=null?pi(fi(e)):{},gi(t||!e||!e.__esModule?ho(r,"default",{value:e,enumerable:!0}):r,e));var Pr=Fs((Su,Ws)=>{var Ti=Object.create,Rr=Object.defineProperty,Ri=Object.getOwnPropertyDescriptor,Pi=Object.getOwnPropertyNames,xi=Object.getPrototypeOf,Ci=Object.prototype.hasOwnProperty,hi=o((e,t)=>{for(var r in t)Rr(e,r,{get:t[r],enumerable:!0})},"N"),Vs=o((e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Pi(t))!Ci.call(e,n)&&n!==r&&Rr(e,n,{get:()=>t[n],enumerable:!(s=Ri(t,n))||s.enumerable});return e},"E"),vi=o((e,t,r)=>(r=e!=null?Ti(xi(e)):{},Vs(t||!e||!e.__esModule?Rr(r,"default",{value:e,enumerable:!0}):r,e)),"A"),bi=o(e=>Vs(Rr({},"__esModule",{value:!0}),e),"V"),Ns={};hi(Ns,{DevToolsContext:()=>$s,DevToolsContextProvider:()=>Li,DevtoolsEvent:()=>Bs,hooksByScope:()=>Di,receive:()=>Gs,scopes:()=>Ks,send:()=>Hs});Ws.exports=bi(Ns);var Bs=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(Bs||{}),Ks={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},Di=Object.entries(Ks).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),It=vi(b("react"));async function Hs(e,t,r){if(e.readyState!==e.OPEN){await new Promise(s=>{let n=o(()=>{e.send(JSON.stringify({event:t,payload:r})),s(),e.removeEventListener("open",n)},"a");e.addEventListener("open",n)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}o(Hs,"d");function Gs(e,t,r){let s=o(n=>{let{event:i,payload:a}=JSON.parse(n.data);t===i&&r(a)},"s");return e.addEventListener("message",s),()=>{e.removeEventListener("message",s)}}o(Gs,"c");var $s=It.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),Li=o(({__devtools:e,port:t,children:r})=>{let[s,n]=It.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[i,a]=It.default.useState(null);It.default.useEffect(()=>{let d=new WebSocket(`${s.secure?"wss":"ws"}://localhost:${s.port}`),c=Gs(d,"devtools:handshake",p=>{n(m=>({...m,devtoolsUrl:p.url})),c()});return d.addEventListener("open",()=>{s.__devtools||Hs(d,"devtools:init",{url:window.location.origin})}),a(d),()=>{c(),d.close(1e3,window.location.origin)}},[]);let u=It.default.useMemo(()=>({...s,ws:i}),[s,i]);return It.default.createElement($s.Provider,{value:u},r)},"S")});var ae=Fs((Vu,Zs)=>{var Ei=Object.create,xr=Object.defineProperty,Ui=Object.getOwnPropertyDescriptor,Mi=Object.getOwnPropertyNames,Ii=Object.getPrototypeOf,wi=Object.prototype.hasOwnProperty,Si=o((e,t)=>{for(var r in t)xr(e,r,{get:t[r],enumerable:!0})},"L"),Os=o((e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Mi(t))!wi.call(e,n)&&n!==r&&xr(e,n,{get:()=>t[n],enumerable:!(s=Ui(t,n))||s.enumerable});return e},"d"),_s=o((e,t,r)=>(r=e!=null?Ei(Ii(e)):{},Os(t||!e||!e.__esModule?xr(r,"default",{value:e,enumerable:!0}):r,e)),"E"),Ai=o(e=>Os(xr({},"__esModule",{value:!0}),e),"M"),zs={};Si(zs,{getTrace:()=>Xs,getXRay:()=>Ki,useQuerySubscription:()=>Hi});Zs.exports=Ai(zs);var ki=_s(b("error-stack-parser")),Qi="renderWithHooks",Fi=o(e=>{let t=e.findIndex(r=>r.functionName===Qi);return t!==-1?e.slice(0,t):e},"T"),js=/node_modules\/refinedev\/(?<name>.*?)\//,Vi=o(e=>e?!!e.match(js):!1,"_"),Ni=o(e=>{var t;if(!e)return;let r=e.match(js),s=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(s)return`@refinedev/${s}`},"R");function Xs(){return[];try{let e=new Error,t=ki.default.parse(e);return Fi(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:Vi(r.fileName),packageName:Ni(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}o(Xs,"l");var vo=Pr(),Bi=o((e,t)=>{if(vo.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(vo.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(vo.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function Ki(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}o(Ki,"I");var ku=Pr(),Qu=_s(b("react")),Fu=Pr(),Hi=()=>({})});var Je=k(b("react"));var Vo=b("@tanstack/react-query"),No=k(ae());var Hr=k(b("qs")),Qo=k(b("lodash-es/unionWith")),Fo=k(b("lodash-es/differenceWith")),bn=k(b("warn-once"));var zt=o(e=>e/1e3,"userFriendlySecond");var Ys=k(b("lodash-es/zip")),Js=k(b("lodash-es/fromPairs"));var Cr=o((e,t=r=>r)=>{let[r,...s]=e;return s.map(n=>(0,Js.default)((0,Ys.default)(r,n))).map((n,i,a)=>t.call(void 0,n,i,a))},"importCSVMapper");var bo=k(b("pluralize"));var hr=o((e="",t)=>{let r=jt(e);return t==="singular"?bo.default.singular(r):bo.default.plural(r)},"userFriendlyResourceName");var qs=o((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams");var S=o((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function qe(e,t){return e.findIndex((r,s)=>s<=e.length-t.length&&t.every((n,i)=>e[s+i]===n))}o(qe,"arrayFindIndex");function Gi(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(qe(e,["auth","login"])!==-1)return["useLogin"];if(qe(e,["auth","logout"])!==-1)return["useLogout"];if(qe(e,["auth","identity"])!==-1)return["getUserIdentity"];if(qe(e,["auth","register"])!==-1)return["useRegister"];if(qe(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(qe(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(qe(e,["auth","onError"])!==-1)return["useCheckError"];if(qe(e,["auth","permissions"])!==-1)return["usePermissions"];if(qe(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}o(Gi,"convertToLegacy");var Ue=class{constructor(t=[]){this.segments=[];this.segments=t}key(){return this.segments}legacy(){return Gi(this.segments)}get(t){return t?this.legacy():this.segments}};o(Ue,"BaseKeyBuilder");var Oe=class extends Ue{constructor(t){super(t)}params(t){return new Ue([...this.segments,t])}};o(Oe,"ParamsKeyBuilder");var vr=class extends Ue{constructor(t){super(t)}id(t){return new Oe([...this.segments,t?String(t):void 0])}};o(vr,"DataIdRequiringKeyBuilder");var br=class extends Ue{constructor(t){super(t)}ids(...t){return new Oe([...this.segments,...t.length?[t.map(r=>String(r))]:[]])}};o(br,"DataIdsRequiringKeyBuilder");var Dr=class extends Ue{constructor(t){super(t)}action(t){if(t==="one")return new vr([...this.segments,t]);if(t==="many")return new br([...this.segments,t]);if(["list","infinite"].includes(t))return new Oe([...this.segments,t]);throw new Error("Invalid action type")}};o(Dr,"DataResourceKeyBuilder");var Lr=class extends Ue{constructor(t){super(t)}resource(t){return new Dr([...this.segments,t])}mutation(t){return new Oe([...t==="custom"?this.segments:[this.segments[0]],t])}};o(Lr,"DataKeyBuilder");var Er=class extends Ue{constructor(t){super(t)}action(t){return new Oe([...this.segments,t])}};o(Er,"AuthKeyBuilder");var Ur=class extends Ue{constructor(t){super(t)}action(t){return new Oe([...this.segments,t])}};o(Ur,"AccessResourceKeyBuilder");var Mr=class extends Ue{constructor(t){super(t)}resource(t){return new Ur([...this.segments,t])}};o(Mr,"AccessKeyBuilder");var Ir=class extends Ue{constructor(t){super(t)}action(t){return new Oe([...this.segments,t])}};o(Ir,"AuditActionKeyBuilder");var wr=class extends Ue{constructor(t){super(t)}resource(t){return new Ir([...this.segments,t])}action(t){return new Oe([...this.segments,t])}};o(wr,"AuditKeyBuilder");var wt=class extends Ue{constructor(t){super(t)}data(t){return new Lr(["data",t||"default"])}auth(){return new Er(["auth"])}access(){return new Mr(["access"])}audit(){return new wr(["audit"])}};o(wt,"KeyBuilder");var _e=o(()=>new wt([]),"keys");var en=o((e,t,r,s)=>{let n=t||"default",i={all:[n],resourceAll:[n,e||""],list:a=>[...i.resourceAll,"list",{...a,...S(r,s)||{}}],many:a=>[...i.resourceAll,"getMany",a&&a.map(String),{...S(r,s)||{}}].filter(u=>u!==void 0),detail:a=>[...i.resourceAll,"detail",a==null?void 0:a.toString(),{...S(r,s)||{}}],logList:a=>["logList",e,a,s].filter(u=>u!==void 0)};return i},"queryKeys"),et=o(e=>(t,r,s,n)=>{let i=r||"default";return{all:_e().data(i).get(e),resourceAll:_e().data(r).resource(t??"").get(e),list:u=>_e().data(r).resource(t??"").action("list").params({...u,...S(s,n)||{}}).get(e),many:u=>_e().data(r).resource(t??"").action("many").ids(...u??[]).params({...S(s,n)||{}}).get(e),detail:u=>_e().data(r).resource(t??"").action("one").id(u??"").params({...S(s,n)||{}}).get(e),logList:u=>[..._e().audit().resource(t).action("list").params(u).get(e),n].filter(d=>d!==void 0)}},"queryKeysReplacement");var Do=o((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission");var St=o(e=>e.startsWith(":"),"isParameter");var Xe=o(e=>e.split("/").filter(r=>r!==""),"splitToSegments");var tn=o((e,t)=>{let r=Xe(e),s=Xe(t);return r.length===s.length},"isSegmentCountsSame");var ve=o(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes");var rn=o((e,t)=>{let r=ve(e),s=ve(t);if(!tn(r,s))return!1;let n=Xe(r);return Xe(s).every((a,u)=>St(a)||a===n[u])},"checkBySegments");var on=o((e,t,r)=>{let s=ve(r||""),n=`${s}${s?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},"getDefaultActionPath");var Ne=o((e,t)=>{var n,i;let r=S((n=e.meta)==null?void 0:n.parent,(i=e.options)==null?void 0:i.parent,e.parentName);return r?t.find(a=>(a.identifier??a.name)===r)??{name:r}:void 0},"getParentResource");var Xt=o((e,t,r)=>{let s=[],n=Ne(e,t);for(;n;)s.push(n),n=Ne(n,t);if(s.length!==0)return`/${s.reverse().map(i=>{var u;let a=r?((u=i.options)==null?void 0:u.route)??i.name:i.name;return ve(a)}).join("/")}`},"getParentPrefixForResource");var he=o((e,t,r)=>{let s=[],n=["list","show","edit","create","clone"],i=Xt(e,t,r);return n.forEach(a=>{var c,p;let u=r&&a==="clone"?e.create:e[a],d;typeof u=="function"||r?d=on(r?((c=e.meta)==null?void 0:c.route)??((p=e.options)==null?void 0:p.route)??e.name:e.name,a,r?i:void 0):typeof u=="string"?d=u:typeof u=="object"&&(d=u.path),d&&s.push({action:a,resource:e,route:`/${d.replace(/^\//,"")}`})}),s},"getActionRoutesFromResource");var sn=o(e=>{var n;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(i=>({...i,splitted:Xe(ve(i.route))})),r=((n=t[0])==null?void 0:n.splitted.length)??0,s=[...t];for(let i=0;i<r;i++){let a=s.filter(u=>!St(u.splitted[i]));if(a.length!==0){if(a.length===1){s=a;break}s=a}}return s[0]},"pickMatchedRoute");var nn=o((e,t)=>{let s=t.flatMap(i=>he(i,t)).filter(i=>rn(e,i.route)),n=sn(s);return{found:!!n,resource:n==null?void 0:n.resource,action:n==null?void 0:n.action,matchedRoute:n==null?void 0:n.route}},"matchResourceFromRoute");var Sr=o((e,t)=>{var n;let r,s=Xt(e,t,!0);if(s){let i=S(e.meta,e.options);r=`${s}/${(i==null?void 0:i.route)??e.name}`}else r=((n=e.options)==null?void 0:n.route)??e.name;return`/${r.replace(/^\//,"")}`},"routeGenerator");var an=o(e=>{var a;let t=[],r={},s={},n,i;for(let u=0;u<e.length;u++){n=e[u];let d=n.route??((a=S(n==null?void 0:n.meta,n.options))==null?void 0:a.route)??"";r[d]=n,r[d].children=[],s[n.name]=n,s[n.name].children=[]}for(let u in r)r.hasOwnProperty(u)&&(i=r[u],i.parentName&&s[i.parentName]?s[i.parentName].children.push(i):t.push(i));return t},"createTreeView");var jt=o(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString");var Uo=k(b("react")),Eo=k(b("pluralize"));var un=k(b("react"));var Lo=o(({children:e})=>un.default.createElement("div",null,e),"DefaultLayout");var Me={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:jt,plural:Eo.default.plural,singular:Eo.default.singular},disableServerSideValidation:!1},Ie=Uo.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Lo,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Me}),cn=o(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:s,undoableTimeout:n,children:i,DashboardPage:a,Title:u,Layout:d=Lo,Header:c,Sider:p,Footer:m,OffLayoutArea:T,LoginPage:g=Mo,catchAll:R,liveMode:E="off",onLiveEvent:M,options:y})=>Uo.default.createElement(Ie.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:s,Title:u,undoableTimeout:n,Layout:d,Header:c,Sider:p,Footer:m,OffLayoutArea:T,DashboardPage:a,LoginPage:g,catchAll:R,liveMode:E,onLiveEvent:M,options:y}},i),"RefineContextProvider");var Io=o(({options:e,disableTelemetry:t,liveMode:r,mutationMode:s,reactQueryClientConfig:n,reactQueryDevtoolConfig:i,syncWithLocation:a,undoableTimeout:u,warnWhenUnsavedChanges:d}={})=>{var T,g,R,E,M,y,v,L;let c={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??s??Me.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??Me.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??a??Me.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??d??Me.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Me.liveMode,redirect:{afterCreate:((T=e==null?void 0:e.redirect)==null?void 0:T.afterCreate)??Me.redirect.afterCreate,afterClone:((g=e==null?void 0:e.redirect)==null?void 0:g.afterClone)??Me.redirect.afterClone,afterEdit:((R=e==null?void 0:e.redirect)==null?void 0:R.afterEdit)??Me.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Me.overtime,textTransformers:{humanize:((E=e==null?void 0:e.textTransformers)==null?void 0:E.humanize)??Me.textTransformers.humanize,plural:((M=e==null?void 0:e.textTransformers)==null?void 0:M.plural)??Me.textTransformers.plural,singular:((y=e==null?void 0:e.textTransformers)==null?void 0:y.singular)??Me.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Me.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},p=(e==null?void 0:e.disableTelemetry)??t??!1,m={clientConfig:((v=e==null?void 0:e.reactQuery)==null?void 0:v.clientConfig)??n??{},devtoolConfig:((L=e==null?void 0:e.reactQuery)==null?void 0:L.devtoolConfig)??i??{}};return{optionsWithDefaults:c,disableTelemetryWithDefault:p,reactQueryWithDefaults:m}},"handleRefineOptions");var wo=o(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage");var Ar=o(async(e,t,r)=>{let s=[];for(let[n,i]of e.entries())try{let a=await i();s.push(t(a,n))}catch(a){s.push(r(a,n))}return s},"sequentialPromises");var me=o((e,t=[],r=!1)=>{if(!e)return;if(r){let n=t.find(a=>ve(a.route??"")===ve(e));return n||t.find(a=>a.name===e)}let s=t.find(n=>n.identifier===e);return s||(s=t.find(n=>n.name===e)),s},"pickResource");var j=o((e,t,r)=>{if(t)return t;let s=me(e,r),n=S(s==null?void 0:s.meta,s==null?void 0:s.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},"pickDataProvider");var tt=o(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple");var kr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let s=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/n);return s<i?Number(s)+1:void 0},"getNextPageParam"),Qr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let s=(t==null?void 0:t.current)||1;return s===1?void 0:s-1},"getPreviousPageParam");var Fr=o(e=>{let t=[];return e.forEach(r=>{var s,n;t.push({...r,label:((s=r.meta)==null?void 0:s.label)??((n=r.options)==null?void 0:n.label),route:Sr(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform");var dn=o(e=>Xe(ve(e)).flatMap(r=>St(r)?[r.slice(1)]:[]),"pickRouteParams");var pn=o((e,t={})=>e.reduce((r,s)=>{let n=t[s];return typeof n<"u"&&(r[s]=n),r},{}),"prepareRouteParams");var we=o((e,t={},r={},s={})=>{let n=dn(e),i=pn(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...s});return e.replace(/:([^\/]+)/g,(a,u)=>{let d=i[u];return typeof d<"u"?`${d}`:a})},"composeRoute");var xt=k(b("react"));var ln=xt.default.createContext({}),mn=o(({children:e,isProvided:t,...r})=>{let{replace:s}=ye(),n=o(async d=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"loginFunc"),i=o(async d=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"registerFunc"),a=o(async d=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"logoutFunc"),u=o(async d=>{var c;try{return await((c=r.checkAuth)==null?void 0:c.call(r,d)),Promise.resolve()}catch(p){return p!=null&&p.redirectPath&&s(p.redirectPath),Promise.reject(p)}},"checkAuthFunc");return xt.default.createElement(ln.Provider,{value:{...r,login:n,logout:a,checkAuth:u,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),fn=xt.default.createContext({}),yn=o(({children:e,isProvided:t,...r})=>{let s=o(async c=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,c))}catch(m){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleLogin"),n=o(async c=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,c))}catch(m){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleRegister"),i=o(async c=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,c))}catch(m){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleLogout"),a=o(async c=>{var p;try{let m=await((p=r.check)==null?void 0:p.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleCheck"),u=o(async c=>{var p;try{let m=await((p=r.forgotPassword)==null?void 0:p.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleForgotPassword"),d=o(async c=>{var p;try{let m=await((p=r.updatePassword)==null?void 0:p.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleUpdatePassword");return xt.default.createElement(fn.Provider,{value:{...r,login:s,logout:i,check:a,register:n,forgotPassword:u,updatePassword:d,isProvided:t}},e)},"AuthBindingsContextProvider"),ue=o(()=>xt.default.useContext(ln),"useLegacyAuthContext"),fe=o(()=>xt.default.useContext(fn),"useAuthBindingsContext");var J=o(()=>{let e=ue(),t=fe();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider");var Zt=o(({hasPagination:e,pagination:t,configPagination:r}={})=>{let s=e===!1?"off":"server",n=(t==null?void 0:t.mode)??s,i=S(t==null?void 0:t.current,r==null?void 0:r.current)??1,a=S(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:i,pageSize:a,mode:n}},"handlePaginationParams");var Vr=b("react");var Nr=o(e=>{let[t,r]=(0,Vr.useState)(!1);return(0,Vr.useEffect)(()=>{let s=window.matchMedia(e);s.matches!==t&&r(s.matches);let n=o(()=>r(s.matches),"listener");return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t},"useMediaQuery");var Br=o((e,t,r,s)=>{let n=s?e(t,s,r):e(t,r),i=r??t;return n===t||typeof n>"u"?i:n},"safeTranslate");function gn(e,t,r,s,n){var T;let i={create:"Create new ",clone:`#${s??""} Clone `,edit:`#${s??""} Edit `,show:`#${s??""} Show `,list:""},a=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),u=(t==null?void 0:t.label)??((T=t==null?void 0:t.meta)==null?void 0:T.label)??hr(a,r==="list"?"plural":"singular"),d=n??u,c=Br(e,"documentTitle.default","refine"),p=Br(e,"documentTitle.suffix"," | refine"),m=c;return r&&a&&(m=Br(e,`documentTitle.${a}.${r}`,`${i[r]??""}${d}${p}`,{id:s})),m}o(gn,"generateDefaultDocumentTitle");var Tn=b("react");var ze=o(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Tn.useContext)(Ie);return{mutationMode:e,undoableTimeout:t}},"useMutationMode");var Ao=b("react");var Yt=k(b("react"));var So=Yt.default.createContext({}),Rn=o(({children:e})=>{let[t,r]=(0,Yt.useState)(!1);return Yt.default.createElement(So.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider");var Jt=o(()=>{let{warnWhenUnsavedChanges:e}=(0,Ao.useContext)(Ie),{warnWhen:t,setWarnWhen:r}=(0,Ao.useContext)(So);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange");var Pn=b("react");var ko=o(()=>{let{syncWithLocation:e}=(0,Pn.useContext)(Ie);return{syncWithLocation:e}},"useSyncWithLocation");var xn=b("react");var $i=o(()=>{let{Title:e}=(0,xn.useContext)(Ie);return e},"useTitle");var Cn=b("react");var ne=o(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:s,Sider:n,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:p,DashboardPage:m,LoginPage:T,catchAll:g,options:R}=(0,Cn.useContext)(Ie);return{Footer:e,Header:t,Layout:r,OffLayoutArea:s,Sider:n,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:p,DashboardPage:m,LoginPage:T,catchAll:g,options:R}},"useRefineContext");var At=o(()=>{let{options:{textTransformers:e}}=ne();return o((r="",s)=>{let n=e.humanize(r);return s==="singular"?e.singular(n):e.plural(n)},"getFriendlyName")},"useUserFriendlyName");var hn=o(e=>typeof e=="object"&&e!==null,"isNested"),Wi=o(e=>Array.isArray(e),"isArray"),Kr=o((e,t="")=>hn(e)?Object.keys(e).reduce((r,s)=>{let n=t.length?t+".":"";return hn(e[s])&&Object.keys(e[s]).length?Wi(e[s])&&e[s].length?e[s].forEach((i,a)=>{Object.assign(r,Kr(i,n+s+"."+a))}):Object.assign(r,Kr(e[s],n+s)):r[n+s]=e[s],r},{}):{[t]:e},"flattenObjectKeys");var vn=o(e=>e.split(".").map(t=>isNaN(Number(t))?t:Number(t)),"propertyPathToArray");var Gr=o(e=>{let{current:t,pageSize:r,sorter:s,sorters:n,filters:i}=Hr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:S(n,s)??[],parsedFilters:i??[]}},"parseTableParams"),Oi=o(e=>{let t=Hr.default.stringify(e);return Gr(`/${t}`)},"parseTableParamsFromQuery"),$r=o(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:s,sorters:n,filters:i,...a}=e;return Hr.default.stringify({...a,...r||{},sorters:S(n,s),filters:i},t)},"stringifyTableParams"),Dn=o((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),Ln=o((e,t)=>e.field==t.field,"compareSorters"),kt=o((e,t,r=[])=>(t.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&(0,bn.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Qo.default)(e,t,r,Dn).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),"unionFilters"),Wr=o((e,t)=>(0,Qo.default)(e,t,Ln).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Or=o((e,t)=>[...(0,Fo.default)(t,e,Dn),...e],"setInitialFilters"),_r=o((e,t)=>[...(0,Fo.default)(t,e,Ln),...e],"setInitialSorters"),_i=o((e,t)=>{if(!t)return;let r=t.find(s=>s.field===e);if(r)return r.order},"getDefaultSortOrder"),zi=o((e,t,r="eq")=>{let s=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:i,field:a}=n;return a===e&&i===r}});if(s)return s.value||[]},"getDefaultFilter");var ji=o(e=>new Promise((t,r)=>{let s=new FileReader,n=o(()=>{s.result&&(s.removeEventListener("load",n,!1),t(s.result))},"resultHandler");s.addEventListener("load",n,!1),s.readAsDataURL(e.originFileObj),s.onerror=i=>(s.removeEventListener("load",n,!1),r(i))}),"file2Base64");var G=o(()=>{let{options:{useNewQueryKeys:e}}=ne();return{keys:_e,preferLegacyKeys:!e}},"useKeys");function Xi({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=ue(),{getPermissions:s}=fe(),{keys:n,preferLegacyKeys:i}=G(),a=(0,Vo.useQuery)(n().auth().action("permissions").get(i),s??(()=>Promise.resolve(void 0)),{enabled:!e&&!!s,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,No.getXRay)("usePermissions",i)}}),u=(0,Vo.useQuery)([...n().auth().action("permissions").get(i),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,No.getXRay)("usePermissions",i)}});return e?u:a}o(Xi,"usePermissions");var Bo=b("@tanstack/react-query"),Ko=k(ae());function Ho({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=ue(),{getIdentity:s}=fe(),{keys:n,preferLegacyKeys:i}=G(),a=(0,Bo.useQuery)(n().auth().action("identity").get(i),s??(()=>Promise.resolve({})),{enabled:!e&&!!s,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ko.getXRay)("useGetIdentity",i)}}),u=(0,Bo.useQuery)([...n().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ko.getXRay)("useGetIdentity",i)}});return e?u:a}o(Ho,"useGetIdentity");var $o=b("@tanstack/react-query"),Wo=k(ae());var En=b("@tanstack/react-query");var Qt=o(()=>{let e=(0,En.useQueryClient)(),{keys:t,preferLegacyKeys:r}=G();return o(async()=>{await Promise.all(["check","identity","permissions"].map(n=>e.invalidateQueries(t().auth().action(n).get(r))))},"invalidate")},"useInvalidateAuthStore");function zr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Qt(),s=te(),n=ge(),{push:i}=ye(),{open:a,close:u}=Qe(),{logout:d}=ue(),{logout:c}=fe(),{keys:p,preferLegacyKeys:m}=G(),T=(0,$o.useMutation)(p().auth().action("logout").get(m),c,{onSuccess:async(R,E)=>{let{success:M,error:y,redirectTo:v}=R,{redirectPath:L}=E??{},A=L??v;M&&(u==null||u("useLogout-error")),(y||!M)&&(a==null||a(Go(y))),await r(),A!==!1&&(s==="legacy"?i(A??"/login"):A&&n({to:A}))},onError:R=>{a==null||a(Go(R))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Wo.getXRay)("useLogout",m)}}),g=(0,$o.useMutation)([...p().auth().action("logout").get(m),"v3LegacyAuthProviderCompatible"],d,{onSuccess:async(R,E)=>{let M=(E==null?void 0:E.redirectPath)??R;if(await r(),M!==!1){if(M){s==="legacy"?i(M):n({to:M});return}s==="legacy"?i("/login"):n({to:"/login"})}},onError:R=>{a==null||a(Go(R))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Wo.getXRay)("useLogout",m)}});return e?g:T}o(zr,"useLogout");var Go=o(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification");var Un=k(b("react")),_o=b("@tanstack/react-query"),zo=k(ae()),Mn=k(b("qs"));function qt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Qt(),s=te(),n=ge(),{replace:i}=ye(),a=Pe(),{useLocation:u}=ce(),{search:d}=u(),{close:c,open:p}=Qe(),{login:m}=ue(),{login:T}=fe(),{keys:g,preferLegacyKeys:R}=G(),E=Un.default.useMemo(()=>{var v;return s==="legacy"?Mn.default.parse(d,{ignoreQueryPrefix:!0}).to:(v=a.params)==null?void 0:v.to},[s,a.params,d]),M=(0,_o.useMutation)(g().auth().action("login").get(R),T,{onSuccess:async({success:v,redirectTo:L,error:A})=>{v&&(c==null||c("login-error")),(A||!v)&&(p==null||p(Oo(A))),await r(),E&&v?s==="legacy"?i(E):n({to:E,type:"replace"}):L?s==="legacy"?i(L):n({to:L,type:"replace"}):s==="legacy"&&i("/")},onError:v=>{p==null||p(Oo(v))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,zo.getXRay)("useLogin",R)}}),y=(0,_o.useMutation)([...g().auth().action("login").get(R),"v3LegacyAuthProviderCompatible"],m,{onSuccess:async v=>{await r(),E&&i(E),v!==!1&&!E&&(typeof v=="string"?s==="legacy"?i(v):n({to:v,type:"replace"}):s==="legacy"?i("/"):n({to:"/",type:"replace"})),c==null||c("login-error")},onError:v=>{p==null||p(Oo(v))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,zo.getXRay)("useLogin",R)}});return e?y:M}o(qt,"useLogin");var Oo=o(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification");var Xo=b("@tanstack/react-query"),Zo=k(ae());function Yo({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Qt(),s=te(),n=ge(),{replace:i}=ye(),{register:a}=ue(),{register:u}=fe(),{close:d,open:c}=Qe(),{keys:p,preferLegacyKeys:m}=G(),T=(0,Xo.useMutation)(p().auth().action("register").get(m),u,{onSuccess:async({success:R,redirectTo:E,error:M})=>{R&&(d==null||d("register-error")),(M||!R)&&(c==null||c(jo(M))),await r(),E?s==="legacy"?i(E):n({to:E,type:"replace"}):s==="legacy"&&i("/")},onError:R=>{c==null||c(jo(R))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Zo.getXRay)("useRegister",m)}}),g=(0,Xo.useMutation)([...p().auth().action("register").get(m),"v3LegacyAuthProviderCompatible"],a,{onSuccess:async R=>{await r(),R!==!1&&(R?s==="legacy"?i(R):n({to:R,type:"replace"}):s==="legacy"?i("/"):n({to:"/",type:"replace"}),d==null||d("register-error"))},onError:R=>{c==null||c(jo(R))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Zo.getXRay)("useRegister",m)}});return e?g:T}o(Yo,"useRegister");var jo=o(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification");var qo=b("@tanstack/react-query"),es=k(ae());function ts({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=te(),s=ge(),{replace:n}=ye(),{forgotPassword:i}=ue(),{forgotPassword:a}=fe(),{close:u,open:d}=Qe(),{keys:c,preferLegacyKeys:p}=G(),m=(0,qo.useMutation)(c().auth().action("forgotPassword").get(p),a,{onSuccess:({success:g,redirectTo:R,error:E})=>{g&&(u==null||u("forgot-password-error")),(E||!g)&&(d==null||d(Jo(E))),R&&(r==="legacy"?n(R):s({to:R,type:"replace"}))},onError:g=>{d==null||d(Jo(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,es.getXRay)("useForgotPassword",p)}}),T=(0,qo.useMutation)([...c().auth().action("forgotPassword").get(p),"v3LegacyAuthProviderCompatible"],i,{onSuccess:g=>{g!==!1&&g&&(r==="legacy"?n(g):s({to:g,type:"replace"})),u==null||u("forgot-password-error")},onError:g=>{d==null||d(Jo(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,es.getXRay)("useForgotPassword",p)}});return e?T:m}o(ts,"useForgotPassword");var Jo=o(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification");var In=k(b("react")),os=b("@tanstack/react-query"),ss=k(ae()),wn=k(b("qs"));function ns({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=te(),s=ge(),{replace:n}=ye(),{updatePassword:i}=ue(),{updatePassword:a}=fe(),{close:u,open:d}=Qe(),{keys:c,preferLegacyKeys:p}=G(),m=Pe(),{useLocation:T}=ce(),{search:g}=T(),R=In.default.useMemo(()=>r==="legacy"?wn.default.parse(g,{ignoreQueryPrefix:!0})??{}:m.params??{},[g,m,r]),E=(0,os.useMutation)(c().auth().action("updatePassword").get(p),async y=>a==null?void 0:a({...R,...y}),{onSuccess:({success:y,redirectTo:v,error:L})=>{y&&(u==null||u("update-password-error")),(L||!y)&&(d==null||d(rs(L))),v&&(r==="legacy"?n(v):s({to:v,type:"replace"}))},onError:y=>{d==null||d(rs(y))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,ss.getXRay)("useUpdatePassword",p)}}),M=(0,os.useMutation)([...c().auth().action("updatePassword").get(p),"v3LegacyAuthProviderCompatible"],async y=>i==null?void 0:i({...R,...y}),{onSuccess:y=>{y!==!1&&y&&(r==="legacy"?n(y):s({to:y,type:"replace"})),u==null||u("update-password-error")},onError:y=>{d==null||d(rs(y))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,ss.getXRay)("useUpdatePassword",p)}});return e?M:E}o(ns,"useUpdatePassword");var rs=o(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification");var as=b("@tanstack/react-query"),is=k(ae());function jr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=ue(),{check:s}=fe(),{keys:n,preferLegacyKeys:i}=G(),a=(0,as.useQuery)(n().auth().action("check").params(t).get(i),async()=>await(s==null?void 0:s(t))??{},{retry:!1,enabled:!e,meta:{...(0,is.getXRay)("useIsAuthenticated",i)}}),u=(0,as.useQuery)([...n().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,is.getXRay)("useIsAuthenticated",i)}});return e?u:a}o(jr,"useIsAuthenticated");var Zi=jr;var us=b("@tanstack/react-query"),cs=k(ae());function de({v3LegacyAuthProviderCompatible:e=!1}={}){let t=te(),r=ge(),{replace:s}=ye(),{checkError:n}=ue(),{onError:i}=fe(),{keys:a,preferLegacyKeys:u}=G(),{mutate:d}=zr({v3LegacyAuthProviderCompatible:!!e}),{mutate:c}=zr({v3LegacyAuthProviderCompatible:!!e}),p=(0,us.useMutation)(a().auth().action("onError").get(u),i,{onSuccess:({logout:T,redirectTo:g})=>{if(T){c({redirectPath:g});return}if(g){t==="legacy"?s(g):r({to:g,type:"replace"});return}},meta:{...(0,cs.getXRay)("useOnError",u)}}),m=(0,us.useMutation)([...a().auth().action("onError").get(u),"v3LegacyAuthProviderCompatible"],n,{onError:T=>{d({redirectPath:T})},meta:{...(0,cs.getXRay)("useOnError",u)}});return e?m:p}o(de,"useOnError");var Yi=de;var ds=o(()=>{let{isProvided:e}=ue(),{isProvided:t}=fe();return!!(t||e)},"useIsExistAuthentication");var Sn=k(ae()),An=b("@tanstack/react-query");var er=b("react");var re=o(({isLoading:e,interval:t,onInterval:r})=>{let[s,n]=(0,er.useState)(void 0),{options:i}=ne(),{overtime:a}=i,u=t??a.interval,d=r??(a==null?void 0:a.onInterval);return(0,er.useEffect)(()=>{let c;return e&&(c=setInterval(()=>{n(p=>p===void 0?u:p+u)},u)),()=>{clearInterval(c),n(void 0)}},[e,u]),(0,er.useEffect)(()=>{d&&s&&d(s)},[s]),{elapsedTime:s}},"useLoadingOvertime");var tr=o(({resource:e,config:t,filters:r,hasPagination:s,pagination:n,sorters:i,queryOptions:a,successNotification:u,errorNotification:d,meta:c,metaData:p,liveMode:m,onLiveEvent:T,liveParams:g,dataProviderName:R,overtimeOptions:E}={})=>{let{resources:M,resource:y,identifier:v}=H(e),L=se(),A=X(),x=J(),{mutate:l}=de({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),f=pe(),C=q(),{keys:P,preferLegacyKeys:h}=G(),I=j(v,R,M),D=S(c,p),U=S(r,t==null?void 0:t.filters),F=S(i,t==null?void 0:t.sort),w=S(s,t==null?void 0:t.hasPagination),N=Zt({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:w}),Q=N.mode==="server",B=C({resource:y,meta:D}),K={meta:B,metaData:B,filters:U,hasPagination:Q,pagination:N,sorters:F,config:{...t,sort:F}},V=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,{getList:W}=L(I);lt({resource:v,types:["*"],params:{meta:B,metaData:B,pagination:N,hasPagination:Q,sort:F,sorters:F,filters:U,subscriptionType:"useList",...g},channel:`resources/${y==null?void 0:y.name}`,enabled:V,liveMode:m,onLiveEvent:T,dataProviderName:I,meta:{...c,dataProviderName:R}});let O=(0,An.useQuery)(P().data(I).resource(v??"").action("list").params({...D||{},filters:U,hasPagination:Q,...Q&&{pagination:N},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(h),({queryKey:$,pageParam:_,signal:Y})=>W({resource:(y==null?void 0:y.name)??"",pagination:N,hasPagination:Q,filters:U,sort:F,sorters:F,meta:{...B,queryContext:{queryKey:$,pageParam:_,signal:Y}},metaData:{...B,queryContext:{queryKey:$,pageParam:_,signal:Y}}}),{...a,enabled:typeof(a==null?void 0:a.enabled)<"u"?a==null?void 0:a.enabled:!!(y!=null&&y.name),select:$=>{var be;let _=$,{current:Y,mode:Z,pageSize:ee}=N;return Z==="client"&&(_={..._,data:_.data.slice((Y-1)*ee,Y*ee),total:_.total}),a!=null&&a.select?(be=a==null?void 0:a.select)==null?void 0:be.call(a,_):_},onSuccess:$=>{var Y;(Y=a==null?void 0:a.onSuccess)==null||Y.call(a,$);let _=typeof u=="function"?u($,K,v):u;f(_)},onError:$=>{var Y;l($),(Y=a==null?void 0:a.onError)==null||Y.call(a,$);let _=typeof d=="function"?d($,K,v):d;f(_,{key:`${v}-useList-notification`,message:A("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Sn.getXRay)("useList",h)}}),{elapsedTime:z}=re({isLoading:O.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...O,overtime:{elapsedTime:z}}},"useList");var kn=k(ae()),Qn=b("@tanstack/react-query");var rr=o(({resource:e,id:t,queryOptions:r,successNotification:s,errorNotification:n,meta:i,metaData:a,liveMode:u,onLiveEvent:d,liveParams:c,dataProviderName:p,overtimeOptions:m})=>{let{resources:T,resource:g,identifier:R}=H(e),E=se(),M=X(),y=J(),{mutate:v}=de({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),L=pe(),A=q(),{keys:x,preferLegacyKeys:l}=G(),f=S(i,a),C=j(R,p,T),{getOne:P}=E(C),h=A({resource:g,meta:f});lt({resource:R,types:["*"],channel:`resources/${g==null?void 0:g.name}`,params:{ids:t?[t]:[],id:t,meta:h,metaData:h,subscriptionType:"useOne",...c},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(g==null?void 0:g.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:d,dataProviderName:C,meta:{...i,dataProviderName:p}});let I=(0,Qn.useQuery)(x().data(C).resource(R??"").action("one").id(t??"").params({...f||{}}).get(l),({queryKey:U,pageParam:F,signal:w})=>P({resource:(g==null?void 0:g.name)??"",id:t,meta:{...h,queryContext:{queryKey:U,pageParam:F,signal:w}},metaData:{...h,queryContext:{queryKey:U,pageParam:F,signal:w}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:U=>{var w;(w=r==null?void 0:r.onSuccess)==null||w.call(r,U);let F=typeof s=="function"?s(U,{id:t,...h},R):s;L(F)},onError:U=>{var w;v(U),(w=r==null?void 0:r.onError)==null||w.call(r,U);let F=typeof n=="function"?n(U,{id:t,...h},R):n;L(F,{key:`${t}-${R}-getOne-notification`,message:M("notifications.error",{statusCode:U.statusCode},`Error (status code: ${U.statusCode})`),description:U.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,kn.getXRay)("useOne",l)}}),{elapsedTime:D}=re({isLoading:I.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{...I,overtime:{elapsedTime:D}}},"useOne");var Fn=k(ae()),Vn=b("@tanstack/react-query");var ps=o(({resource:e,ids:t,queryOptions:r,successNotification:s,errorNotification:n,meta:i,metaData:a,liveMode:u,onLiveEvent:d,liveParams:c,dataProviderName:p,overtimeOptions:m})=>{let{resources:T,resource:g,identifier:R}=H(e),E=se(),M=X(),y=J(),{mutate:v}=de({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),L=pe(),A=q(),{keys:x,preferLegacyKeys:l}=G(),f=S(i,a),C=j(R,p,T),P=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:h,getOne:I}=E(C),D=A({resource:g,meta:f});lt({resource:R,types:["*"],params:{ids:t,meta:D,metaData:D,subscriptionType:"useMany",...c},channel:`resources/${g.name}`,enabled:P,liveMode:u,onLiveEvent:d,dataProviderName:C,meta:{...i,dataProviderName:p}});let U=(0,Vn.useQuery)(x().data(C).resource(R).action("many").ids(...t).params({...f||{}}).get(l),({queryKey:w,pageParam:N,signal:Q})=>h?h({resource:g==null?void 0:g.name,ids:t,meta:{...D,queryContext:{queryKey:w,pageParam:N,signal:Q}},metaData:{...D,queryContext:{queryKey:w,pageParam:N,signal:Q}}}):tt(t.map(B=>I({resource:g==null?void 0:g.name,id:B,meta:{...D,queryContext:{queryKey:w,pageParam:N,signal:Q}},metaData:{...D,queryContext:{queryKey:w,pageParam:N,signal:Q}}}))),{...r,onSuccess:w=>{var Q;(Q=r==null?void 0:r.onSuccess)==null||Q.call(r,w);let N=typeof s=="function"?s(w,t,R):s;L(N)},onError:w=>{var Q;v(w),(Q=r==null?void 0:r.onError)==null||Q.call(r,w);let N=typeof n=="function"?n(w,t,R):n;L(N,{key:`${t[0]}-${R}-getMany-notification`,message:M("notifications.error",{statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,Fn.getXRay)("useMany",l)}}),{elapsedTime:F}=re({isLoading:U.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{...U,overtime:{elapsedTime:F}}},"useMany");var Bn=k(ae()),Yr=b("@tanstack/react-query");var Ft=k(b("react")),Xr=k(b("lodash-es/isEqual"));var Zr=Ft.default.createContext({notifications:[],notificationDispatch:()=>!1}),Ji=[],qi=o((e,t)=>{switch(t.type){case"ADD":return[...e.filter(s=>!((0,Xr.default)(s.id,t.payload.id)&&s.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(s=>!((0,Xr.default)(s.id,t.payload.id)&&s.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(s=>(0,Xr.default)(s.id,t.payload.id)&&s.resource==t.payload.resource?{...s,seconds:t.payload.seconds-1e3}:s);default:return e}},"undoableQueueReducer"),ls=o(({children:e})=>{let[t,r]=(0,Ft.useReducer)(qi,Ji),s={notifications:t,notificationDispatch:r};return Ft.default.createElement(Zr.Provider,{value:s},e,typeof window<"u"&&t.map(n=>Ft.default.createElement(Nn,{key:`${n.id}-${n.resource}-queue`,notification:n})))},"UndoableQueueContextProvider");var Jr=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:s}=H(),n=(0,Yr.useQueryClient)(),i=se(),{mutationMode:a,undoableTimeout:u}=ze(),d=X(),c=J(),{mutate:p}=de({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),m=He(),{log:T}=Ge(),{notificationDispatch:g}=Ze(),R=pe(),E=De(),M=q(),{options:{textTransformers:y}}=ne(),{keys:v,preferLegacyKeys:L}=G(),A=(0,Yr.useMutation)(({id:l,values:f,resource:C,mutationMode:P,undoableTimeout:h,onCancel:I,meta:D,metaData:U,dataProviderName:F})=>{let{resource:w,identifier:N}=s(C),Q=M({resource:w,meta:S(D,U)}),B=P??a,K=h??u;return B!=="undoable"?i(j(N,F,r)).update({resource:w.name,id:l,variables:f,meta:Q,metaData:Q}):new Promise((W,O)=>{let z=o(()=>{i(j(N,F,r)).update({resource:w.name,id:l,variables:f,meta:Q,metaData:Q}).then(_=>W(_)).catch(_=>O(_))},"doMutation"),$=o(()=>{O({message:"mutationCancelled"})},"cancelMutation");I&&I($),g({type:"ADD",payload:{id:l,resource:N,cancelMutation:$,doMutation:z,seconds:K,isSilent:!!I}})})},{onMutate:async({resource:l,id:f,mutationMode:C,values:P,dataProviderName:h,meta:I,metaData:D,optimisticUpdateMap:U={list:!0,many:!0,detail:!0}})=>{let{identifier:F}=s(l),w=S(I,D),N=et(L)(F,j(F,h,r),w),Q=v().data(j(F,h,r)).resource(F),B=n.getQueriesData(Q.get(L)),K=C??a;return await n.cancelQueries(Q.get(L),void 0,{silent:!0}),K!=="pessimistic"&&(U.list&&n.setQueriesData(Q.action("list").params(w??{}).get(L),V=>{if(typeof U.list=="function")return U.list(V,P,f);if(!V)return null;let W=V.data.map(O=>{var z;return((z=O.id)==null?void 0:z.toString())===(f==null?void 0:f.toString())?{id:f,...O,...P}:O});return{...V,data:W}}),U.many&&n.setQueriesData(Q.action("many").get(L),V=>{if(typeof U.many=="function")return U.many(V,P,f);if(!V)return null;let W=V.data.map(O=>{var z;return((z=O.id)==null?void 0:z.toString())===(f==null?void 0:f.toString())&&(O={id:f,...O,...P}),O});return{...V,data:W}}),U.detail&&n.setQueriesData(Q.action("one").id(f).params(w??{}).get(L),V=>typeof U.detail=="function"?U.detail(V,P,f):V?{...V,data:{...V.data,...P}}:null)),{previousQueries:B,queryKey:N}},onSettled:(l,f,{id:C,resource:P,dataProviderName:h,invalidates:I=["list","many","detail"]})=>{let{identifier:D}=s(P);E({resource:D,dataProviderName:j(D,h,r),invalidates:I,id:C}),g({type:"REMOVE",payload:{id:C,resource:D}})},onSuccess:(l,{id:f,resource:C,successNotification:P,dataProviderName:h,values:I,meta:D,metaData:U},F)=>{var Y;let{resource:w,identifier:N}=s(C),Q=y.singular(N),B=j(N,h,r),K=M({resource:w,meta:S(D,U)}),V=typeof P=="function"?P(l,{id:f,values:I},N):P;R(V,{key:`${f}-${N}-notification`,description:d("notifications.success","Successful"),message:d("notifications.editSuccess",{resource:d(`${N}.${N}`,Q)},`Successfully updated ${Q}`),type:"success"}),m==null||m({channel:`resources/${w.name}`,type:"updated",payload:{ids:(Y=l.data)!=null&&Y.id?[l.data.id]:void 0},date:new Date,meta:{...K,dataProviderName:B}});let W;if(F){let Z=n.getQueryData(F.queryKey.detail(f));W=Object.keys(I||{}).reduce((ee,be)=>{var Le;return ee[be]=(Le=Z==null?void 0:Z.data)==null?void 0:Le[be],ee},{})}let{fields:O,operation:z,variables:$,..._}=K||{};T==null||T.mutate({action:"update",resource:w.name,data:I,previousData:W,meta:{id:f,dataProviderName:B,..._}})},onError:(l,{id:f,resource:C,errorNotification:P,values:h},I)=>{let{identifier:D}=s(C);if(I)for(let U of I.previousQueries)n.setQueryData(U[0],U[1]);if(l.message!=="mutationCancelled"){p==null||p(l);let U=y.singular(D),F=typeof P=="function"?P(l,{id:f,values:h},D):P;R(F,{key:`${f}-${D}-notification`,message:d("notifications.editError",{resource:d(`${D}.${D}`,U),statusCode:l.statusCode},`Error when updating ${U} (status code: ${l.statusCode})`),description:l.message,type:"error"})}},mutationKey:v().data().mutation("update").get(L),...e,meta:{...e==null?void 0:e.meta,...(0,Bn.getXRay)("useUpdate",L)}}),{elapsedTime:x}=re({isLoading:A.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...A,overtime:{elapsedTime:x}}},"useUpdate");var Kn=k(ae()),Hn=b("@tanstack/react-query");var or=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:s}=de({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=se(),i=De(),{resources:a,select:u}=H(),d=X(),c=He(),{log:p}=Ge(),m=pe(),T=q(),{options:{textTransformers:g}}=ne(),{keys:R,preferLegacyKeys:E}=G(),M=(0,Hn.useMutation)(({resource:v,values:L,meta:A,metaData:x,dataProviderName:l})=>{let{resource:f,identifier:C}=u(v),P=T({resource:f,meta:S(A,x)});return n(j(C,l,a)).create({resource:f.name,variables:L,meta:P,metaData:P})},{onSuccess:(v,{resource:L,successNotification:A,dataProviderName:x,invalidates:l=["list","many"],values:f,meta:C,metaData:P})=>{var V,W;let{resource:h,identifier:I}=u(L),D=g.singular(I),U=j(I,x,a),F=T({resource:h,meta:S(C,P)}),w=typeof A=="function"?A(v,f,I):A;m(w,{key:`create-${I}-notification`,message:d("notifications.createSuccess",{resource:d(`${I}.${I}`,D)},`Successfully created ${D}`),description:d("notifications.success","Success"),type:"success"}),i({resource:I,dataProviderName:U,invalidates:l}),c==null||c({channel:`resources/${h.name}`,type:"created",payload:{ids:(V=v==null?void 0:v.data)!=null&&V.id?[v.data.id]:void 0},date:new Date,meta:{...F,dataProviderName:U}});let{fields:N,operation:Q,variables:B,...K}=F||{};p==null||p.mutate({action:"create",resource:h.name,data:f,meta:{dataProviderName:U,id:((W=v==null?void 0:v.data)==null?void 0:W.id)??void 0,...K}})},onError:(v,{resource:L,errorNotification:A,values:x})=>{s(v);let{identifier:l}=u(L),f=g.singular(l),C=typeof A=="function"?A(v,x,l):A;m(C,{key:`create-${l}-notification`,description:v.message,message:d("notifications.createError",{resource:d(`${l}.${l}`,f),statusCode:v.statusCode},`There was an error creating ${f} (status code: ${v.statusCode})`),type:"error"})},mutationKey:R().data().mutation("create").get(E),...e,meta:{...e==null?void 0:e.meta,...(0,Kn.getXRay)("useCreate",E)}}),{elapsedTime:y}=re({isLoading:M.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...M,overtime:{elapsedTime:y}}},"useCreate");var Gn=k(ae()),qr=b("@tanstack/react-query");var eu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:s}=de({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=se(),{resources:i,select:a}=H(),u=(0,qr.useQueryClient)(),{mutationMode:d,undoableTimeout:c}=ze(),{notificationDispatch:p}=Ze(),m=X(),T=He(),{log:g}=Ge(),R=pe(),E=De(),M=q(),{options:{textTransformers:y}}=ne(),{keys:v,preferLegacyKeys:L}=G(),A=(0,qr.useMutation)(({id:l,mutationMode:f,undoableTimeout:C,resource:P,onCancel:h,meta:I,metaData:D,dataProviderName:U,values:F})=>{let{resource:w,identifier:N}=a(P),Q=M({resource:w,meta:S(I,D)}),B=f??d,K=C??c;return B!=="undoable"?n(j(N,U,i)).deleteOne({resource:w.name,id:l,meta:Q,metaData:Q,variables:F}):new Promise((W,O)=>{let z=o(()=>{n(j(N,U,i)).deleteOne({resource:w.name,id:l,meta:Q,metaData:Q,variables:F}).then(_=>W(_)).catch(_=>O(_))},"doMutation"),$=o(()=>{O({message:"mutationCancelled"})},"cancelMutation");h&&h($),p({type:"ADD",payload:{id:l,resource:N,cancelMutation:$,doMutation:z,seconds:K,isSilent:!!h}})})},{onMutate:async({id:l,resource:f,mutationMode:C,dataProviderName:P,meta:h,metaData:I})=>{let{identifier:D}=a(f),U=S(h,I),F=et(L)(D,j(D,P,i),U),w=v().data(j(D,P,i)).resource(D),N=C??d;await u.cancelQueries(w.get(L),void 0,{silent:!0});let Q=u.getQueriesData(w.get(L));return N!=="pessimistic"&&(u.setQueriesData(w.action("list").params(U??{}).get(L),B=>B?{data:B.data.filter(V=>{var W;return((W=V.id)==null?void 0:W.toString())!==l.toString()}),total:B.total-1}:null),u.setQueriesData(w.action("many").get(L),B=>{if(!B)return null;let K=B.data.filter(V=>{var W;return((W=V.id)==null?void 0:W.toString())!==(l==null?void 0:l.toString())});return{...B,data:K}})),{previousQueries:Q,queryKey:F}},onSettled:(l,f,{id:C,resource:P,dataProviderName:h,invalidates:I=["list","many"]})=>{let{identifier:D}=a(P);E({resource:D,dataProviderName:j(D,h,i),invalidates:I}),p({type:"REMOVE",payload:{id:C,resource:D}})},onSuccess:(l,{id:f,resource:C,successNotification:P,dataProviderName:h,meta:I,metaData:D},U)=>{let{resource:F,identifier:w}=a(C),N=y.singular(w),Q=j(w,h,i),B=M({resource:F,meta:S(I,D)});u.removeQueries(U==null?void 0:U.queryKey.detail(f));let K=typeof P=="function"?P(l,f,w):P;R(K,{key:`${f}-${w}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${w}.${w}`,N)},`Successfully deleted a ${N}`),type:"success"}),T==null||T({channel:`resources/${F.name}`,type:"deleted",payload:{ids:[f]},date:new Date,meta:{...B,dataProviderName:Q}});let{fields:V,operation:W,variables:O,...z}=B||{};g==null||g.mutate({action:"delete",resource:F.name,meta:{id:f,dataProviderName:Q,...z}}),u.removeQueries(U==null?void 0:U.queryKey.detail(f))},onError:(l,{id:f,resource:C,errorNotification:P},h)=>{let{identifier:I}=a(C);if(h)for(let D of h.previousQueries)u.setQueryData(D[0],D[1]);if(l.message!=="mutationCancelled"){s(l);let D=y.singular(I),U=typeof P=="function"?P(l,f,I):P;R(U,{key:`${f}-${I}-notification`,message:m("notifications.deleteError",{resource:D,statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})}},mutationKey:v().data().mutation("delete").get(L),...e,meta:{...e==null?void 0:e.meta,...(0,Gn.getXRay)("useDelete",L)}}),{elapsedTime:x}=re({isLoading:A.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...A,overtime:{elapsedTime:x}}},"useDelete");var $n=k(ae()),Wn=b("@tanstack/react-query");var ms=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=se(),{resources:s,select:n}=H(),i=X(),a=He(),u=pe(),d=De(),{log:c}=Ge(),p=q(),{options:{textTransformers:m}}=ne(),{keys:T,preferLegacyKeys:g}=G(),R=(0,Wn.useMutation)(({resource:M,values:y,meta:v,metaData:L,dataProviderName:A})=>{let{resource:x,identifier:l}=n(M),f=p({resource:x,meta:S(v,L)}),C=r(j(l,A,s));return C.createMany?C.createMany({resource:x.name,variables:y,meta:f,metaData:f}):tt(y.map(P=>C.create({resource:x.name,variables:P,meta:f,metaData:f})))},{onSuccess:(M,{resource:y,successNotification:v,dataProviderName:L,invalidates:A=["list","many"],values:x,meta:l,metaData:f})=>{let{resource:C,identifier:P}=n(y),h=m.plural(P),I=j(P,L,s),D=p({resource:C,meta:S(l,f)}),U=typeof v=="function"?v(M,x,P):v;u(U,{key:`createMany-${P}-notification`,message:i("notifications.createSuccess",{resource:i(`${P}.${P}`,P)},`Successfully created ${h}`),description:i("notifications.success","Success"),type:"success"}),d({resource:P,dataProviderName:I,invalidates:A});let F=M==null?void 0:M.data.filter(K=>(K==null?void 0:K.id)!==void 0).map(K=>K.id);a==null||a({channel:`resources/${C.name}`,type:"created",payload:{ids:F},date:new Date,meta:{...D,dataProviderName:I}});let{fields:w,operation:N,variables:Q,...B}=D||{};c==null||c.mutate({action:"createMany",resource:C.name,data:x,meta:{dataProviderName:I,ids:F,...B}})},onError:(M,{resource:y,errorNotification:v,values:L})=>{let{identifier:A}=n(y),x=typeof v=="function"?v(M,L,A):v;u(x,{key:`createMany-${A}-notification`,description:M.message,message:i("notifications.createError",{resource:i(`${A}.${A}`,A),statusCode:M.statusCode},`There was an error creating ${A} (status code: ${M.statusCode}`),type:"error"})},mutationKey:T().data().mutation("createMany").get(g),...e,meta:{...e==null?void 0:e.meta,...(0,$n.getXRay)("useCreateMany",g)}}),{elapsedTime:E}=re({isLoading:R.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...R,overtime:{elapsedTime:E}}},"useCreateMany");var On=k(ae()),eo=b("@tanstack/react-query");var tu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:s}=H(),n=(0,eo.useQueryClient)(),i=se(),a=X(),{mutationMode:u,undoableTimeout:d}=ze(),c=J(),{mutate:p}=de({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),{notificationDispatch:m}=Ze(),T=He(),g=pe(),R=De(),{log:E}=Ge(),M=q(),{options:{textTransformers:y}}=ne(),{keys:v,preferLegacyKeys:L}=G(),A=(0,eo.useMutation)(({ids:l,values:f,resource:C,onCancel:P,mutationMode:h,undoableTimeout:I,meta:D,metaData:U,dataProviderName:F})=>{let{resource:w,identifier:N}=s(C),Q=M({resource:w,meta:S(D,U)}),B=h??u,K=I??d,V=i(j(N,F,r)),W=o(()=>V.updateMany?V.updateMany({resource:w.name,ids:l,variables:f,meta:Q,metaData:Q}):tt(l.map(z=>V.update({resource:w.name,id:z,variables:f,meta:Q,metaData:Q}))),"mutationFn");return B!=="undoable"?W():new Promise((z,$)=>{let _=o(()=>{W().then(Z=>z(Z)).catch(Z=>$(Z))},"doMutation"),Y=o(()=>{$({message:"mutationCancelled"})},"cancelMutation");P&&P(Y),m({type:"ADD",payload:{id:l,resource:N,cancelMutation:Y,doMutation:_,seconds:K,isSilent:!!P}})})},{onMutate:async({resource:l,ids:f,values:C,mutationMode:P,dataProviderName:h,meta:I,metaData:D,optimisticUpdateMap:U={list:!0,many:!0,detail:!0}})=>{let{identifier:F}=s(l),w=S(I,D),N=et(L)(F,j(F,h,r),S(I,D)),Q=v().data(j(F,h,r)).resource(F),B=P??u;await n.cancelQueries(Q.get(L),void 0,{silent:!0});let K=n.getQueriesData(Q.get(L));if(B!=="pessimistic"&&(U.list&&n.setQueriesData(Q.action("list").params(w??{}).get(L),V=>{if(typeof U.list=="function")return U.list(V,C,f);if(!V)return null;let W=V.data.map(O=>O.id!==void 0&&f.filter(z=>z!==void 0).map(String).includes(O.id.toString())?{...O,...C}:O);return{...V,data:W}}),U.many&&n.setQueriesData(Q.action("many").get(L),V=>{if(typeof U.many=="function")return U.many(V,C,f);if(!V)return null;let W=V.data.map(O=>O.id!==void 0&&f.filter(z=>z!==void 0).map(String).includes(O.id.toString())?{...O,...C}:O);return{...V,data:W}}),U.detail))for(let V of f)n.setQueriesData(Q.action("one").id(V).params(w??{}).get(L),W=>{if(typeof U.detail=="function")return U.detail(W,C,V);if(!W)return null;let O={...W.data,...C};return{...W,data:O}});return{previousQueries:K,queryKey:N}},onSettled:(l,f,{ids:C,resource:P,dataProviderName:h})=>{let{identifier:I}=s(P);R({resource:I,invalidates:["list","many"],dataProviderName:j(I,h,r)}),C.forEach(D=>R({resource:I,invalidates:["detail"],dataProviderName:j(I,h,r),id:D})),m({type:"REMOVE",payload:{id:C,resource:I}})},onSuccess:(l,{ids:f,resource:C,meta:P,metaData:h,dataProviderName:I,successNotification:D,values:U},F)=>{let{resource:w,identifier:N}=s(C),Q=y.singular(N),B=j(N,I,r),K=M({resource:w,meta:S(P,h)}),V=typeof D=="function"?D(l,{ids:f,values:U},N):D;g(V,{key:`${f}-${N}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${N}.${N}`,N)},`Successfully updated ${Q}`),type:"success"}),T==null||T({channel:`resources/${w.name}`,type:"updated",payload:{ids:f.map(String)},date:new Date,meta:{...K,dataProviderName:B}});let W=[];F&&f.forEach(Y=>{let Z=n.getQueryData(F.queryKey.detail(Y));W.push(Object.keys(U||{}).reduce((ee,be)=>{var Le;return ee[be]=(Le=Z==null?void 0:Z.data)==null?void 0:Le[be],ee},{}))});let{fields:O,operation:z,variables:$,..._}=K||{};E==null||E.mutate({action:"updateMany",resource:w.name,data:U,previousData:W,meta:{ids:f,dataProviderName:B,..._}})},onError:(l,{ids:f,resource:C,errorNotification:P,values:h},I)=>{let{identifier:D}=s(C);if(I)for(let U of I.previousQueries)n.setQueryData(U[0],U[1]);if(l.message!=="mutationCancelled"){p==null||p(l);let U=y.singular(D),F=typeof P=="function"?P(l,{ids:f,values:h},D):P;g(F,{key:`${f}-${D}-updateMany-error-notification`,message:a("notifications.editError",{resource:U,statusCode:l.statusCode},`Error when updating ${U} (status code: ${l.statusCode})`),description:l.message,type:"error"})}},mutationKey:v().data().mutation("updateMany").get(L),...e,meta:{...e==null?void 0:e.meta,...(0,On.getXRay)("useUpdateMany",L)}}),{elapsedTime:x}=re({isLoading:A.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...A,overtime:{elapsedTime:x}}},"useUpdateMany");var _n=k(ae()),to=b("@tanstack/react-query");var ru=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:s}=de({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:n,undoableTimeout:i}=ze(),a=se(),{notificationDispatch:u}=Ze(),d=X(),c=He(),p=pe(),m=De(),{log:T}=Ge(),{resources:g,select:R}=H(),E=(0,to.useQueryClient)(),M=q(),{options:{textTransformers:y}}=ne(),{keys:v,preferLegacyKeys:L}=G(),A=(0,to.useMutation)(({resource:l,ids:f,mutationMode:C,undoableTimeout:P,onCancel:h,meta:I,metaData:D,dataProviderName:U,values:F})=>{let{resource:w,identifier:N}=R(l),Q=M({resource:w,meta:S(I,D)}),B=C??n,K=P??i,V=a(j(N,U,g)),W=o(()=>V.deleteMany?V.deleteMany({resource:w.name,ids:f,meta:Q,metaData:Q,variables:F}):tt(f.map(z=>V.deleteOne({resource:w.name,id:z,meta:Q,metaData:Q,variables:F}))),"mutationFn");return B!=="undoable"?W():new Promise((z,$)=>{let _=o(()=>{W().then(Z=>z(Z)).catch(Z=>$(Z))},"doMutation"),Y=o(()=>{$({message:"mutationCancelled"})},"cancelMutation");h&&h(Y),u({type:"ADD",payload:{id:f,resource:N,cancelMutation:Y,doMutation:_,seconds:K,isSilent:!!h}})})},{onMutate:async({ids:l,resource:f,mutationMode:C,dataProviderName:P,meta:h,metaData:I})=>{let{identifier:D}=R(f),U=S(h,I),F=et(L)(D,j(D,P,g),U),w=v().data(j(D,P,g)).resource(D),N=C??n;await E.cancelQueries(w.get(L),void 0,{silent:!0});let Q=E.getQueriesData(w.get(L));if(N!=="pessimistic"){E.setQueriesData(w.action("list").params(U??{}).get(L),B=>B?{data:B.data.filter(V=>V.id&&!l.map(String).includes(V.id.toString())),total:B.total-1}:null),E.setQueriesData(w.action("many").get(L),B=>{if(!B)return null;let K=B.data.filter(V=>V.id?!l.map(String).includes(V.id.toString()):!1);return{...B,data:K}});for(let B of l)E.setQueriesData(w.action("one").id(B).params(U).get(L),K=>!K||K.data.id==B?null:{...K})}return{previousQueries:Q,queryKey:F}},onSettled:(l,f,{resource:C,ids:P,dataProviderName:h,invalidates:I=["list","many"]})=>{let{identifier:D}=R(C);m({resource:D,dataProviderName:j(D,h,g),invalidates:I}),u({type:"REMOVE",payload:{id:P,resource:D}})},onSuccess:(l,{ids:f,resource:C,meta:P,metaData:h,dataProviderName:I,successNotification:D},U)=>{let{resource:F,identifier:w}=R(C),N=j(w,I,g),Q=M({resource:F,meta:S(P,h)});f.forEach(z=>E.removeQueries(U==null?void 0:U.queryKey.detail(z)));let B=typeof D=="function"?D(l,f,w):D;p(B,{key:`${f}-${w}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${w}.${w}`,w)},`Successfully deleted ${w}`),type:"success"}),c==null||c({channel:`resources/${F.name}`,type:"deleted",payload:{ids:f},date:new Date,meta:{...Q,dataProviderName:N}});let{fields:K,operation:V,variables:W,...O}=Q||{};T==null||T.mutate({action:"deleteMany",resource:F.name,meta:{ids:f,dataProviderName:N,...O}}),f.forEach(z=>E.removeQueries(U==null?void 0:U.queryKey.detail(z)))},onError:(l,{ids:f,resource:C,errorNotification:P},h)=>{let{identifier:I}=R(C);if(h)for(let D of h.previousQueries)E.setQueryData(D[0],D[1]);if(l.message!=="mutationCancelled"){s(l);let D=y.singular(I),U=typeof P=="function"?P(l,f,I):P;p(U,{key:`${f}-${I}-notification`,message:d("notifications.deleteError",{resource:D,statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})}},mutationKey:v().data().mutation("deleteMany").get(L),...e,meta:{...e==null?void 0:e.meta,...(0,_n.getXRay)("useDeleteMany",L)}}),{elapsedTime:x}=re({isLoading:A.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...A,overtime:{elapsedTime:x}}},"useDeleteMany");var ou=o(e=>{var n;let t=se(),{resource:r}=H(),{getApiUrl:s}=t(e??((n=S(r==null?void 0:r.meta,r==null?void 0:r.options))==null?void 0:n.dataProviderName));return s()},"useApiUrl");var zn=b("@tanstack/react-query"),jn=k(ae());var su=o(({url:e,method:t,config:r,queryOptions:s,successNotification:n,errorNotification:i,meta:a,metaData:u,dataProviderName:d,overtimeOptions:c})=>{let p=se(),m=J(),{mutate:T}=de({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),g=X(),R=pe(),E=q(),{keys:M,preferLegacyKeys:y}=G(),v=S(a,u),{custom:L}=p(d),A=E({meta:v});if(L){let x=(0,zn.useQuery)({queryKey:M().data(d).mutation("custom").params({method:t,url:e,...r,...v||{}}).get(y),queryFn:({queryKey:f,pageParam:C,signal:P})=>L({url:e,method:t,...r,meta:{...A,queryContext:{queryKey:f,pageParam:C,signal:P}},metaData:{...A,queryContext:{queryKey:f,pageParam:C,signal:P}}}),...s,onSuccess:f=>{var P;(P=s==null?void 0:s.onSuccess)==null||P.call(s,f);let C=typeof n=="function"?n(f,{...r,...A}):n;R(C)},onError:f=>{var P;T(f),(P=s==null?void 0:s.onError)==null||P.call(s,f);let C=typeof i=="function"?i(f,{...r,...A}):i;R(C,{key:`${t}-notification`,message:g("notifications.error",{statusCode:f.statusCode},`Error (status code: ${f.statusCode})`),description:f.message,type:"error"})},meta:{...s==null?void 0:s.meta,...(0,jn.getXRay)("useCustom",y)}}),{elapsedTime:l}=re({isLoading:x.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...x,overtime:{elapsedTime:l}}}else throw Error("Not implemented custom on data provider.")},"useCustom");var Xn=b("@tanstack/react-query"),Zn=k(ae());var nu=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:s}=de({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=pe(),i=se(),a=X(),u=q(),{keys:d,preferLegacyKeys:c}=G(),p=(0,Xn.useMutation)(({url:T,method:g,values:R,meta:E,metaData:M,dataProviderName:y,config:v})=>{let L=u({meta:S(E,M)}),{custom:A}=i(y);if(A)return A({url:T,method:g,payload:R,meta:L,metaData:L,headers:{...v==null?void 0:v.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(T,{successNotification:g,config:R,meta:E,metaData:M})=>{let y=typeof g=="function"?g(T,{...R,...S(E,M)||{}}):g;n(y)},onError:(T,{errorNotification:g,method:R,config:E,meta:M,metaData:y})=>{s(T);let v=typeof g=="function"?g(T,{...E,...S(M,y)||{}}):g;n(v,{key:`${R}-notification`,message:a("notifications.error",{statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})},mutationKey:d().data().mutation("customMutation").get(c),...e,meta:{...e==null?void 0:e.meta,...(0,Zn.getXRay)("useCustomMutation",c)}}),{elapsedTime:m}=re({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:m}}},"useCustomMutation");var ro=b("react");var fs=k(b("react"));var au=o(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),sr=fs.default.createContext(au()),Yn=o(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},fs.default.createElement(sr.Provider,{value:r},e)},"DataContextProvider");var se=o(()=>{let e=(0,ro.useContext)(sr);return(0,ro.useCallback)(r=>{if(r){if(!e[r])throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider");var Jn=k(ae()),qn=b("@tanstack/react-query");var iu=o(({resource:e,config:t,filters:r,hasPagination:s,pagination:n,sorters:i,queryOptions:a,successNotification:u,errorNotification:d,meta:c,metaData:p,liveMode:m,onLiveEvent:T,liveParams:g,dataProviderName:R,overtimeOptions:E})=>{let{resources:M,resource:y,identifier:v}=H(e),L=se(),A=X(),x=J(),{mutate:l}=de({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),f=pe(),C=q(),{keys:P,preferLegacyKeys:h}=G(),I=j(v,R,M),D=S(c,p),U=S(r,t==null?void 0:t.filters),F=S(i,t==null?void 0:t.sort),w=S(s,t==null?void 0:t.hasPagination),N=Zt({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:w}),Q=N.mode==="server",B={meta:D,metaData:D,filters:U,hasPagination:Q,pagination:N,sorters:F,config:{...t,sort:F}},K=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,V=C({resource:y,meta:D}),{getList:W}=L(I);lt({resource:v,types:["*"],params:{meta:V,metaData:V,pagination:N,hasPagination:Q,sort:F,sorters:F,filters:U,subscriptionType:"useList",...g},channel:`resources/${y.name}`,enabled:K,liveMode:m,onLiveEvent:T,dataProviderName:I,meta:{...V,dataProviderName:R}});let O=(0,qn.useInfiniteQuery)(P().data(I).resource(v).action("infinite").params({...D||{},filters:U,hasPagination:Q,...Q&&{pagination:N},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(h),({queryKey:$,pageParam:_,signal:Y})=>{let Z={...N,current:_};return W({resource:y.name,pagination:Z,hasPagination:Q,filters:U,sort:F,sorters:F,meta:{...V,queryContext:{queryKey:$,pageParam:_,signal:Y}},metaData:{...V,queryContext:{queryKey:$,pageParam:_,signal:Y}}}).then(({data:ee,total:be,...Le})=>({data:ee,total:be,pagination:Z,...Le}))},{getNextPageParam:$=>kr($),getPreviousPageParam:$=>Qr($),...a,onSuccess:$=>{var Y;(Y=a==null?void 0:a.onSuccess)==null||Y.call(a,$);let _=typeof u=="function"?u($,B,v):u;f(_)},onError:$=>{var Y;l($),(Y=a==null?void 0:a.onError)==null||Y.call(a,$);let _=typeof d=="function"?d($,B,v):d;f(_,{key:`${v}-useInfiniteList-notification`,message:A("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,Jn.getXRay)("useInfiniteList",h)}}),{elapsedTime:z}=re({isLoading:O.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...O,overtime:{elapsedTime:z}}},"useInfiniteList");var ys=k(b("react"));var rt=ys.default.createContext(void 0),ea=o(({liveProvider:e,children:t})=>ys.default.createElement(rt.Provider,{value:e},t),"LiveContextProvider");var ma=b("react"),fa=b("@tanstack/react-query");var pa=b("react");var gs=k(b("react"));var sa=b("react");var ta=b("react"),ra=k(b("lodash-es/isEqual"));var oa=o(e=>{let t=(0,ta.useRef)(e);return(0,ra.default)(t.current,e)||(t.current=e),t.current},"useMemoized");var oo=o((e,t)=>{let r=oa(t);return(0,sa.useMemo)(e,r)},"useDeepMemo");var mt=gs.default.createContext({resources:[]}),na=o(({resources:e,children:t})=>{let r=oo(()=>Fr(e??[]),[e]);return gs.default.createElement(mt.Provider,{value:{resources:r}},t)},"ResourceContextProvider");var Ts=k(b("react"));var aa=Ts.default.createContext("new"),ia=aa.Provider,te=o(()=>Ts.default.useContext(aa),"useRouterType");var da=k(b("react"));var so=k(b("react"));var ua={},ot=(0,so.createContext)(ua),ca=o(({children:e,router:t})=>so.default.createElement(ot.Provider,{value:t??ua},e),"RouterBindingsProvider");var no=k(b("react"));var Rs=o(()=>{let e=(0,no.useContext)(ot);return no.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse");var Pe=o(()=>{let e=Rs();return da.default.useMemo(()=>e(),[e])},"useParsed");function H(e){let{resources:t}=(0,pa.useContext)(mt),r=te(),s=Pe(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=o((m,T=!0)=>{let R=me(m,t,r==="legacy");if(R)return{resource:R,identifier:R.identifier??R.name};if(T){let E={name:m,identifier:m},M=E.identifier??E.name;return{resource:E,identifier:M}}},"select"),a=la(),{useParams:u}=ce(),d=u();if(r==="legacy"){let m=n.resourceNameOrRouteName?n.resourceNameOrRouteName:d.resource,T=m?a(m):void 0,g=(n==null?void 0:n.recordItemId)??d.id,R=d.action,E=(n==null?void 0:n.resourceName)??(T==null?void 0:T.name),M=(T==null?void 0:T.identifier)??(T==null?void 0:T.name);return{resources:t,resource:T,resourceName:E,id:g,action:R,select:i,identifier:M}}let c,p=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(p){let m=me(p,t);m?c=m:c={name:p}}else s!=null&&s.resource&&(c=s.resource);return{resources:t,resource:c,resourceName:c==null?void 0:c.name,id:s.id,action:s.action,select:i,identifier:(c==null?void 0:c.identifier)??(c==null?void 0:c.name)}}o(H,"useResource");var ao=b("react");var la=o(()=>{let{resources:e}=(0,ao.useContext)(mt);return(0,ao.useCallback)(r=>{let s=me(r,e,!0);return s||{name:r,route:r}},[e])},"useResourceWithRoute");var De=o(()=>{let{resources:e}=H(),t=(0,fa.useQueryClient)(),{keys:r,preferLegacyKeys:s}=G();return(0,ma.useCallback)(async({resource:i,dataProviderName:a,invalidates:u,id:d,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:p={cancelRefetch:!1}})=>{if(u===!1)return;let m=j(i,a,e),T=r().data(m).resource(i??"");await Promise.all(u.map(g=>{switch(g){case"all":return t.invalidateQueries(r().data(m).get(s),c,p);case"list":return t.invalidateQueries(T.action("list").get(s),c,p);case"many":return t.invalidateQueries(T.action("many").get(s),c,p);case"resourceAll":return t.invalidateQueries(T.get(s),c,p);case"detail":return t.invalidateQueries(T.action("one").id(d||"").get(s),c,p);default:return}}))},[])},"useInvalidate");var nr=b("react");var lt=o(({resource:e,params:t,channel:r,types:s,enabled:n=!0,liveMode:i,onLiveEvent:a,dataProviderName:u,meta:d})=>{var y;let{resource:c,identifier:p}=H(e),m=(0,nr.useContext)(rt),{liveMode:T,onLiveEvent:g}=(0,nr.useContext)(Ie),R=i??T,E=De(),M=u??(d==null?void 0:d.dataProviderName)??((y=c==null?void 0:c.meta)==null?void 0:y.dataProviderName);(0,nr.useEffect)(()=>{let v,L=o(A=>{R==="auto"&&E({resource:p,dataProviderName:M,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),a==null||a(A),g==null||g(A)},"callback");return R&&R!=="off"&&n&&(v=m==null?void 0:m.subscribe({channel:r,params:{resource:c==null?void 0:c.name,...t},types:s,callback:L,dataProviderName:M,meta:{...d,dataProviderName:M}})),()=>{v&&(m==null||m.unsubscribe(v))}},[n])},"useResourceSubscription");var ya=b("react");var ga=o(e=>{let{liveMode:t}=(0,ya.useContext)(Ie);return e??t},"useLiveMode");var io=b("react");var BT=o(({params:e,channel:t,types:r=["*"],enabled:s=!0,onLiveEvent:n,dataProviderName:i="default",meta:a})=>{let u=(0,io.useContext)(rt);(0,io.useEffect)(()=>{let d;return s&&(d=u==null?void 0:u.subscribe({channel:t,params:e,types:r,callback:n,dataProviderName:i,meta:{...a,dataProviderName:i}})),()=>{d&&(u==null||u.unsubscribe(d))}},[s])},"useSubscription");var Ta=b("react");var He=o(()=>{let e=(0,Ta.useContext)(rt);return e==null?void 0:e.publish},"usePublish");var Ra=b("react");var Ze=o(()=>{let{notifications:e,notificationDispatch:t}=(0,Ra.useContext)(Zr);return{notifications:e,notificationDispatch:t}},"useCancelNotification");var xa=b("react");var uo=k(b("react"));var ar=(0,uo.createContext)({}),Pa=o(({open:e,close:t,children:r})=>uo.default.createElement(ar.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider");var Qe=o(()=>{let{open:e,close:t}=(0,xa.useContext)(ar);return{open:e,close:t}},"useNotification");var Ca=b("react");var pe=o(()=>{let{open:e}=Qe();return(0,Ca.useCallback)((r,s)=>{r!==!1&&(r?e==null||e(r):s&&(e==null||e(s)))},[])},"useHandleNotification");var co=b("react");var Ps=k(b("react"));var $e=Ps.default.createContext({}),ha=o(({children:e,i18nProvider:t})=>Ps.default.createElement($e.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider");var uu=o(()=>{let{i18nProvider:e}=(0,co.useContext)($e);return(0,co.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale");var po=b("react");var X=o(()=>{let{i18nProvider:e}=(0,po.useContext)($e);return(0,po.useMemo)(()=>{function r(s,n,i){return(e==null?void 0:e.translate(s,n,i))??i??(typeof n=="string"&&typeof i>"u"?n:s)}return o(r,"translate"),r},[e])},"useTranslate");var lo=b("react");var cu=o(()=>{let{i18nProvider:e}=(0,lo.useContext)($e);return(0,lo.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale");var va=b("react");var ba=b("export-to-csv-fix-source-map");var xR=o(({resourceName:e,resource:t,sorter:r,sorters:s,filters:n,maxItemCount:i,pageSize:a=20,mapData:u=o(g=>g,"mapData"),exportOptions:d,meta:c,metaData:p,dataProviderName:m,onError:T}={})=>{let[g,R]=(0,va.useState)(!1),E=se(),M=q(),{resource:y,resources:v,identifier:L}=H(S(t,e)),x=`${At()(L,"plural")}-${new Date().toLocaleString()}`,{getList:l}=E(j(L,m,v)),f=M({resource:y,meta:S(c,p)});return{isLoading:g,triggerExport:o(async()=>{R(!0);let P=[],h=1,I=!0;for(;I;)try{let{data:U,total:F}=await l({resource:(y==null?void 0:y.name)??"",filters:n,sort:S(s,r),sorters:S(s,r),pagination:{current:h,pageSize:a,mode:"server"},meta:f,metaData:f});h++,P.push(...U),i&&P.length>=i&&(P=P.slice(0,i),I=!1),F===P.length&&(I=!1)}catch(U){R(!1),I=!1,T==null||T(U);return}new ba.ExportToCsv({filename:x,useKeysAsHeaders:!0,...d}).generateCsv(P.map(u)),R(!1)},"triggerExport")}},"useExport");var mo=k(b("react")),Da=k(b("warn-once")),La=k(b("lodash-es/debounce"));var SR=o(({resource:e,action:t,id:r,onMutationSuccess:s,onMutationError:n,redirect:i,successNotification:a,errorNotification:u,meta:d,metaData:c,queryMeta:p,mutationMeta:m,mutationMode:T,liveMode:g,onLiveEvent:R,liveParams:E,undoableTimeout:M,dataProviderName:y,invalidates:v,queryOptions:L,createMutationOptions:A,updateMutationOptions:x,overtimeOptions:l,autoSave:f,optimisticUpdateMap:C}={})=>{let P=De(),{options:h}=ne(),I=q(),{resource:D,id:U,action:F,identifier:w}=H(e),{identifier:N}=H(),B=o(()=>{let Re=r??U;return e&&e!==N?r:Re},"getDefaultId")(),[K,V]=mo.default.useState(B);mo.default.useEffect(()=>{V(B)},[B]);let O=o(()=>t||(F==="edit"||F==="clone"?F:"create"),"getAction")(),z=I({resource:D,meta:S(d,c)}),{mutationMode:$}=ze(),_=T??$,Y=O==="create",Z=O==="edit",ee=O==="clone";(0,Da.default)((ee||Z)&&!!e&&!r&&(L==null?void 0:L.enabled)!==!1,`[useForm]: action: "${O}", resource: "${w}", id: ${K} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let be=wo({redirectFromProps:i,action:O,redirectOptions:h.redirect}),Gt=rr({resource:w,id:K??"",queryOptions:{enabled:K!==void 0&&(Z||ee),...L},liveMode:g,onLiveEvent:R,liveParams:E,meta:{...z,...p},metaData:{...z,...p},dataProviderName:y}),{isFetching:gt}=Gt,Tt=or({mutationOptions:A}),{mutate:Dt,isLoading:Lt}=Tt,Et=Jr({mutationOptions:x}),{mutate:fr,isLoading:Po}=Et,je=Jr({}),{setWarnWhen:$t}=Jt(),We=Ea(),yr=o(async Re=>{$t(!1);let Be=o(Ve=>{We({redirect:be,resource:D,id:Ve,meta:S(d,c)})},"onSuccess");return _!=="pessimistic"&&setTimeout(()=>{Be()}),new Promise((Ve,ct)=>{if(_!=="pessimistic"&&Ve(),!!D)return Dt({values:Re,resource:w??D.name,successNotification:a,errorNotification:u,meta:{...z,...m},metaData:{...z,...m},dataProviderName:y,invalidates:v},{onSuccess:(Ee,dt,pt)=>{var Ot;s&&s(Ee,Re,pt);let Pt=(Ot=Ee==null?void 0:Ee.data)==null?void 0:Ot.id;Be(Pt),Ve(Ee)},onError:(Ee,dt,pt)=>{if(n)return n(Ee,Re,pt);ct()}})})},"onFinishCreate");mo.default.useEffect(()=>()=>{f!=null&&f.invalidateOnUnmount&&je.status==="success"&&P({id:K,invalidates:v||["list","many","detail"],dataProviderName:y,resource:w})},[f==null?void 0:f.invalidateOnUnmount,je.status]);let Rt=o(Re=>{if(!D||!Z)return;let Be={id:K??"",values:Re,resource:w??D.name,successNotification:!1,errorNotification:!1,meta:{...z,...m},metaData:{...z,...m},dataProviderName:y,invalidates:[],mutationMode:"pessimistic"};return je.mutate(Be,{onSuccess:(Ve,ct,Ee)=>{s&&s(Ve,Re,Ee,!0)},onError:(Ve,ct,Ee)=>{if(n)return n(Ve,Re,Ee,!0)}})},"onFinishAutoSaveMutation"),Ut=(0,La.default)(Re=>Rt(Re),(f==null?void 0:f.debounce)||1e3),Wt=Y||ee?{formLoading:gt||Lt,mutationResult:Tt,onFinish:yr}:{formLoading:gt||Po,mutationResult:Et,onFinish:o(async Re=>{if($t(!1),!D)return;let Be={id:K??"",values:Re,resource:w??D.name,mutationMode:_,undoableTimeout:M,successNotification:a,errorNotification:u,meta:{...z,...m},metaData:{...z,...m},dataProviderName:y,invalidates:v,optimisticUpdateMap:C},Ve=o(()=>{We({redirect:be,resource:D,id:K,meta:S(d,c)})},"onSuccess");return _!=="pessimistic"&&setTimeout(()=>{Ve()}),new Promise((ct,Ee)=>(_!=="pessimistic"&&ct(),setTimeout(()=>{fr(Be,{onSuccess:(dt,pt,Pt)=>{s&&s(dt,Re,Pt),_==="pessimistic"&&Ve(),ct(dt)},onError:(dt,pt,Pt)=>{if(n)return n(dt,Re,Pt);Ee()}})})))},"onFinishUpdate")},{elapsedTime:Co}=re({isLoading:Wt.mutationResult.isLoading||Gt.isFetching,interval:l==null?void 0:l.interval,onInterval:l==null?void 0:l.onInterval});return{...Wt,queryResult:Gt,onFinishAutoSave:Ut,autoSaveProps:{status:je.status,data:je.data,error:je.error},id:K,setId:V,redirect:(Re,Be)=>{We({redirect:Re!==void 0?Re:Z?"list":"edit",resource:D,id:Be??K,meta:S(d,c)})},overtime:{elapsedTime:Co}}},"useForm");var Ua=b("react");var Ea=o(()=>{let{show:e,edit:t,list:r,create:s}=ye();return(0,Ua.useCallback)(({redirect:i,resource:a,id:u,meta:d={}})=>{if(i&&a)return a.show&&i==="show"&&u?e(a,u,void 0,d):a.edit&&i==="edit"&&u?t(a,u,void 0,d):a.create&&i==="create"?s(a,void 0,d):r(a,"push",d)},[])},"useRedirectionAfterSubmission");var Vt=k(b("react"));var Ma=k(b("react"));var Ct=o(()=>{let e=te(),{resource:t,resources:r}=H(),s=Pe();return Ma.default.useCallback(({resource:i,action:a,meta:u})=>{var T;let d=i||t;if(!d)return;let p=(T=he(d,r,e==="legacy").find(g=>g.action===a))==null?void 0:T.route;return p?we(p,d==null?void 0:d.meta,s,u):void 0},[r,t,s])},"useGetToPath");var ge=o(()=>{let e=(0,Vt.useContext)(ot),{select:t}=H(),r=Ct(),n=Vt.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return(0,Vt.useCallback)(a=>{if(typeof a.to!="object")return n({...a,to:a.to});let{resource:u}=t(a.to.resource);du(a.to,u);let d=r({resource:u,action:a.to.action,meta:{id:a.to.id}});return n({...a,to:d})},[t,n])},"useGo"),du=o((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors");var fo=k(b("react"));var xs=o(()=>{let e=(0,fo.useContext)(ot);return fo.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack");var ye=o(()=>{let{resources:e}=H(),t=te(),{useHistory:r}=ce(),s=r(),n=Pe(),i=ge(),a=xs(),u=o((x,l="push")=>{t==="legacy"?s[l](x):i({to:x,type:l})},"handleUrl"),d=o((x,l={})=>{var f;if(t==="legacy"){let C=typeof x=="string"?me(x,e,!0)??{name:x,route:x}:x,P=he(C,e,!0).find(h=>h.action==="create");return P?we(P.route,C==null?void 0:C.meta,n,l):""}else{let C=typeof x=="string"?me(x,e)??{name:x}:x,P=(f=he(C,e).find(h=>h.action==="create"))==null?void 0:f.route;return P?i({to:we(P,C==null?void 0:C.meta,n,l),type:"path"}):""}},"createUrl"),c=o((x,l,f={})=>{var P;let C=encodeURIComponent(l);if(t==="legacy"){let h=typeof x=="string"?me(x,e,!0)??{name:x,route:x}:x,I=he(h,e,!0).find(D=>D.action==="edit");return I?we(I.route,h==null?void 0:h.meta,n,{...f,id:C}):""}else{let h=typeof x=="string"?me(x,e)??{name:x}:x,I=(P=he(h,e).find(D=>D.action==="edit"))==null?void 0:P.route;return I?i({to:we(I,h==null?void 0:h.meta,n,{...f,id:C}),type:"path"}):""}},"editUrl"),p=o((x,l,f={})=>{var P;let C=encodeURIComponent(l);if(t==="legacy"){let h=typeof x=="string"?me(x,e,!0)??{name:x,route:x}:x,I=he(h,e,!0).find(D=>D.action==="clone");return I?we(I.route,h==null?void 0:h.meta,n,{...f,id:C}):""}else{let h=typeof x=="string"?me(x,e)??{name:x}:x,I=(P=he(h,e).find(D=>D.action==="clone"))==null?void 0:P.route;return I?i({to:we(I,h==null?void 0:h.meta,n,{...f,id:C}),type:"path"}):""}},"cloneUrl"),m=o((x,l,f={})=>{var P;let C=encodeURIComponent(l);if(t==="legacy"){let h=typeof x=="string"?me(x,e,!0)??{name:x,route:x}:x,I=he(h,e,!0).find(D=>D.action==="show");return I?we(I.route,h==null?void 0:h.meta,n,{...f,id:C}):""}else{let h=typeof x=="string"?me(x,e)??{name:x}:x,I=(P=he(h,e).find(D=>D.action==="show"))==null?void 0:P.route;return I?i({to:we(I,h==null?void 0:h.meta,n,{...f,id:C}),type:"path"}):""}},"showUrl"),T=o((x,l={})=>{var f;if(t==="legacy"){let C=typeof x=="string"?me(x,e,!0)??{name:x,route:x}:x,P=he(C,e,!0).find(h=>h.action==="list");return P?we(P.route,C==null?void 0:C.meta,n,l):""}else{let C=typeof x=="string"?me(x,e)??{name:x}:x,P=(f=he(C,e).find(h=>h.action==="list"))==null?void 0:f.route;return P?i({to:we(P,C==null?void 0:C.meta,n,l),type:"path"}):""}},"listUrl");return{create:o((x,l="push",f={})=>{u(d(x,f),l)},"create"),createUrl:d,edit:o((x,l,f="push",C={})=>{u(c(x,l,C),f)},"edit"),editUrl:c,clone:o((x,l,f="push",C={})=>{u(p(x,l,C),f)},"clone"),cloneUrl:p,show:o((x,l,f="push",C={})=>{u(m(x,l,C),f)},"show"),showUrl:m,list:o((x,l="push",f={})=>{u(T(x,f),l)},"list"),listUrl:T,push:o((x,...l)=>{t==="legacy"?s.push(x,...l):i({to:x,type:"push"})},"push"),replace:o((x,...l)=>{t==="legacy"?s.replace(x,...l):i({to:x,type:"replace"})},"replace"),goBack:o(()=>{t==="legacy"?s.goBack():a()},"goBack")}},"useNavigation");var yo=k(b("react")),Ia=k(b("warn-once"));var yP=o(({resource:e,id:t,successNotification:r,errorNotification:s,meta:n,metaData:i,liveMode:a,onLiveEvent:u,dataProviderName:d,queryOptions:c,overtimeOptions:p}={})=>{let{resource:m,id:T,identifier:g}=H(e),{identifier:R}=H(),E=q(),y=o(()=>{let f=t??T;return e&&e!==R?t:f},"getDefaultId")(),[v,L]=(0,yo.useState)(y);yo.default.useEffect(()=>{L(y)},[y]);let A=E({resource:m,meta:S(n,i)});(0,Ia.default)(!!e&&!t,`[useShow]: resource: "${g}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let x=rr({resource:g,id:v??"",queryOptions:{enabled:v!==void 0,...c},successNotification:r,errorNotification:s,meta:A,metaData:A,liveMode:a,onLiveEvent:u,dataProviderName:d}),{elapsedTime:l}=re({isLoading:x.isFetching,interval:p==null?void 0:p.interval,onInterval:p==null?void 0:p.onInterval});return{queryResult:x,showId:v,setShowId:L,overtime:{elapsedTime:l}}},"useShow");var Nt=b("react"),wa=b("papaparse"),Sa=k(b("lodash-es/chunk"));var CP=o(({resourceName:e,resource:t,mapData:r=o(p=>p,"mapData"),paparseOptions:s,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:i,meta:a,metaData:u,onProgress:d,dataProviderName:c}={})=>{let[p,m]=(0,Nt.useState)(0),[T,g]=(0,Nt.useState)(0),[R,E]=(0,Nt.useState)(!1),{resource:M,identifier:y}=H(t??e),v=q(),L=ms(),A=or(),x=v({resource:M,meta:S(a,u)}),l;n===1?l=A:l=L;let f=o(()=>{g(0),m(0),E(!1)},"handleCleanup"),C=o(h=>{let I={succeeded:h.filter(D=>D.type==="success"),errored:h.filter(D=>D.type==="error")};i==null||i(I),E(!1)},"handleFinish");(0,Nt.useEffect)(()=>{d==null||d({totalAmount:T,processedAmount:p})},[T,p]);let P=o(({file:h})=>(f(),new Promise(I=>{E(!0),(0,wa.parse)(h,{complete:async({data:D})=>{let U=Cr(D,r);if(g(U.length),n===1){let F=U.map(N=>o(async()=>({response:await A.mutateAsync({resource:y??"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:x,metaData:x}),value:N}),"fn")),w=await Ar(F,({response:N,value:Q})=>(m(B=>B+1),{response:[N.data],type:"success",request:[Q]}),(N,Q)=>({response:[N],type:"error",request:[U[Q]]}));I(w)}else{let F=(0,Sa.default)(U,n),w=F.map(Q=>o(async()=>({response:await L.mutateAsync({resource:y??"",values:Q,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:x,metaData:x}),value:Q,currentBatchLength:Q.length}),"fn")),N=await Ar(w,({response:Q,currentBatchLength:B,value:K})=>(m(V=>V+B),{response:Q.data,type:"success",request:K}),(Q,B)=>({response:[Q],type:"error",request:F[B]}));I(N)}},...s})}).then(I=>(C(I),I))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:h=>{h.target.files&&h.target.files.length>0&&P({file:h.target.files[0]})}},mutationResult:l,isLoading:R,handleChange:P}},"useImport");var ir=b("react");var bP=o(({defaultVisible:e=!1}={})=>{let[t,r]=(0,ir.useState)(e),s=(0,ir.useCallback)(()=>r(!0),[t]),n=(0,ir.useCallback)(()=>r(!1),[t]);return{visible:t,show:s,close:n}},"useModal");var pu=o(({resource:e,action:t,meta:r,legacy:s})=>Ct()({resource:e,action:t,meta:r,legacy:s}),"useToPath");var go=k(b("react"));var ht=o(()=>{let e=(0,go.useContext)(ot);return e!=null&&e.Link?e.Link:o(({to:r,...s})=>go.default.createElement("a",{href:r,...s}),"FallbackLink")},"useLink");var ka=b("react");var Cs=k(b("react"));var st={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},lu=Cs.default.createContext(st),ur=lu,Aa=o(({children:e,useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a})=>Cs.default.createElement(ur.Provider,{value:{useHistory:t??st.useHistory,useLocation:r??st.useLocation,useParams:s??st.useParams,Prompt:n??st.Prompt,Link:i??st.Link,routes:a??st.routes}},e),"LegacyRouterContextProvider");var ce=o(()=>{let e=(0,ka.useContext)(ur),{useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a}=e??st;return{useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a}},"useRouterContext");var Fa=b("@tanstack/react-query"),Va=b("react");var hs=k(b("react"));var ft=hs.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}});var Qa=o(({can:e,children:t,options:r})=>hs.default.createElement(ft.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider");var Bt=o(e=>{if(!e)return;let{icon:t,list:r,edit:s,create:n,show:i,clone:a,children:u,meta:d,options:c,...p}=e,{icon:m,...T}=d??{},{icon:g,...R}=c??{};return{...p,...d?{meta:T}:{},...c?{options:R}:{}}},"sanitizeResource");var Na=k(ae());var Ba=o(({action:e,resource:t,params:r,queryOptions:s})=>{let{can:n}=(0,Va.useContext)(ft),{keys:i,preferLegacyKeys:a}=G(),{resource:u,...d}=r??{},c=Bt(u),p=(0,Fa.useQuery)(i().access().resource(t).action(e).params({params:{...d,resource:c},enabled:s==null?void 0:s.enabled}).get(a),()=>(n==null?void 0:n({action:e,resource:t,params:{...d,resource:c}}))??Promise.resolve({can:!0}),{enabled:typeof n<"u",...s,meta:{...s==null?void 0:s.meta,...(0,Na.getXRay)("useCan",a)},retry:!1});return typeof n>"u"?{data:{can:!0}}:p},"useCan");var vs=k(b("react"));var nx=o(()=>{let{can:e}=vs.default.useContext(ft);return{can:vs.default.useMemo(()=>e?o(async({params:s,...n})=>{let i=s!=null&&s.resource?Bt(s.resource):void 0;return e({...n,...s?{params:{...s,resource:i}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache");var nt=b("react"),Ka=k(b("lodash-es/uniqBy")),Ha=k(b("lodash-es/debounce")),cr=k(b("lodash-es/get"));var fx=o(e=>{let[t,r]=(0,nt.useState)([]),[s,n]=(0,nt.useState)([]),[i,a]=(0,nt.useState)([]),{resource:u,sort:d,sorters:c,filters:p=[],optionLabel:m="title",optionValue:T="id",debounce:g=300,successNotification:R,errorNotification:E,defaultValueQueryOptions:M,queryOptions:y,fetchSize:v,pagination:L,hasPagination:A=!1,liveMode:x,defaultValue:l=[],onLiveEvent:f,onSearch:C,liveParams:P,meta:h,metaData:I,dataProviderName:D,overtimeOptions:U}=e,{resource:F,identifier:w}=H(u),Q=q()({resource:F,meta:S(h,I)}),B=Array.isArray(l)?l:[l],K=(0,nt.useCallback)(Z=>{a(Z.data.map(ee=>({label:(0,cr.default)(ee,m),value:(0,cr.default)(ee,T)})))},[m,T]),V=M??y,W=ps({resource:w,ids:B,queryOptions:{...V,enabled:B.length>0&&((V==null?void 0:V.enabled)??!0),onSuccess:Z=>{var ee;K(Z),(ee=V==null?void 0:V.onSuccess)==null||ee.call(V,Z)}},meta:Q,metaData:Q,liveMode:"off",dataProviderName:D}),O=(0,nt.useCallback)(Z=>{n(Z.data.map(ee=>({label:(0,cr.default)(ee,m),value:(0,cr.default)(ee,T)})))},[m,T]),z=tr({resource:w,sorters:S(c,d),filters:p.concat(t),pagination:{current:L==null?void 0:L.current,pageSize:(L==null?void 0:L.pageSize)??v,mode:L==null?void 0:L.mode},hasPagination:A,queryOptions:{...y,onSuccess:Z=>{var ee;O(Z),(ee=y==null?void 0:y.onSuccess)==null||ee.call(y,Z)}},successNotification:R,errorNotification:E,meta:Q,metaData:Q,liveMode:x,liveParams:P,onLiveEvent:f,dataProviderName:D}),$=o(Z=>{if(C){r(C(Z));return}if(Z)r([{field:m,operator:"contains",value:Z}]);else{r([]);return}},"onSearch"),{elapsedTime:_}=re({isLoading:z.isFetching||W.isFetching,interval:U==null?void 0:U.interval,onInterval:U==null?void 0:U.onInterval}),Y=(0,nt.useMemo)(()=>(0,Ka.default)([...s,...i],"value"),[s,i]);return{queryResult:z,defaultValueQueryResult:W,options:Y,onSearch:(0,Ha.default)($,g),overtime:{elapsedTime:_}}},"useSelect");var Ye=k(b("react")),bs=k(b("qs")),dr=k(b("lodash-es/differenceWith")),pr=k(b("lodash-es/isEqual")),Wa=k(b("warn-once"));var Ga=[],$a=[];function bx({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:s,initialSorter:n,permanentSorter:i=$a,defaultSetFilterBehavior:a,initialFilter:u,permanentFilter:d=Ga,filters:c,sorters:p,syncWithLocation:m,resource:T,successNotification:g,errorNotification:R,queryOptions:E,liveMode:M,onLiveEvent:y,liveParams:v,meta:L,metaData:A,dataProviderName:x,overtimeOptions:l}={}){var Ot,Ss,As,ks,Qs;let{syncWithLocation:f}=ko(),C=m??f,P=ga(M),h=te(),{useLocation:I}=ce(),{search:D,pathname:U}=I(),F=q(),w=Pe(),N=((c==null?void 0:c.mode)||"server")==="server",Q=((p==null?void 0:p.mode)||"server")==="server",B=r===!1?"off":"server",K=((s==null?void 0:s.mode)??B)!=="off",V=S(s==null?void 0:s.current,e),W=S(s==null?void 0:s.pageSize,t),O=S(L,A),{parsedCurrent:z,parsedPageSize:$,parsedSorter:_,parsedFilters:Y}=Gr(D??"?"),Z=S(c==null?void 0:c.initial,u),ee=S(c==null?void 0:c.permanent,d)??Ga,be=S(p==null?void 0:p.initial,n),Le=S(p==null?void 0:p.permanent,i)??$a,Gt=S(c==null?void 0:c.defaultBehavior,a)??"merge",gt,Tt,Dt,Lt;C?(gt=((Ot=w==null?void 0:w.params)==null?void 0:Ot.current)||z||V||1,Tt=((Ss=w==null?void 0:w.params)==null?void 0:Ss.pageSize)||$||W||10,Dt=((As=w==null?void 0:w.params)==null?void 0:As.sorters)||(_.length?_:be),Lt=((ks=w==null?void 0:w.params)==null?void 0:ks.filters)||(Y.length?Y:Z)):(gt=V||1,Tt=W||10,Dt=be,Lt=Z);let{replace:Et}=ye(),fr=ge(),{resource:Po,identifier:je}=H(T),$t=F({resource:Po,meta:O});Ye.default.useEffect(()=>{(0,Wa.default)(typeof je>"u","useTable: `resource` is not defined.")},[je]);let[We,yr]=(0,Ye.useState)(_r(Le,Dt??[])),[Rt,Ut]=(0,Ye.useState)(Or(ee,Lt??[])),[Mt,xo]=(0,Ye.useState)(gt),[ut,Wt]=(0,Ye.useState)(Tt),Co=o(({pagination:{current:Ce,pageSize:Ke},sorter:gr,filters:Tr})=>{if(h==="new")return fr({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...K?{current:Ce,pageSize:Ke}:{},sorters:gr,filters:Tr,...Re()}})??"";{let _t=bs.default.parse(D==null?void 0:D.substring(1)),di=$r({pagination:{pageSize:Ke,current:Ce},sorters:We??gr,filters:Tr,..._t});return`${U??""}?${di??""}`}},"createLinkForSyncWithLocation");(0,Ye.useEffect)(()=>{D===""&&(xo(gt),Wt(Tt),yr(_r(Le,Dt??[])),Ut(Or(ee,Lt??[])))},[D]);let Re=o(()=>{if(h==="new"){let{sorters:Ce,filters:Ke,pageSize:gr,current:Tr,..._t}=(w==null?void 0:w.params)??{};return _t}else{let{sorter:Ce,filters:Ke,pageSize:gr,current:Tr,..._t}=bs.default.parse(D,{ignoreQueryPrefix:!0});return _t}},"currentQueryParams");(0,Ye.useEffect)(()=>{if(C){let Ce=Re();if(h==="new")fr({type:"replace",options:{keepQuery:!0},query:{...K?{pageSize:ut,current:Mt}:{},sorters:(0,dr.default)(We,Le,pr.default),filters:(0,dr.default)(Rt,ee,pr.default)}});else{let Ke=$r({...K?{pagination:{pageSize:ut,current:Mt}}:{},sorters:(0,dr.default)(We,Le,pr.default),filters:(0,dr.default)(Rt,ee,pr.default),...Ce});return Et==null?void 0:Et(`${U}?${Ke}`,void 0,{shallow:!0})}}},[C,Mt,ut,We,Rt]);let Be=tr({resource:je,hasPagination:r,pagination:{current:Mt,pageSize:ut,mode:s==null?void 0:s.mode},filters:N?kt(ee,Rt):void 0,sorters:Q?Wr(Le,We):void 0,queryOptions:E,successNotification:g,errorNotification:R,meta:$t,metaData:$t,liveMode:P,liveParams:v,onLiveEvent:y,dataProviderName:x}),Ve=o(Ce=>{Ut(Ke=>kt(ee,Ce,Ke))},"setFiltersAsMerge"),ct=o(Ce=>{Ut(kt(ee,Ce))},"setFiltersAsReplace"),Ee=o(Ce=>{Ut(Ke=>kt(ee,Ce(Ke)))},"setFiltersWithSetter"),dt=o((Ce,Ke=Gt)=>{typeof Ce=="function"?Ee(Ce):Ke==="replace"?ct(Ce):Ve(Ce)},"setFiltersFn"),pt=o(Ce=>{yr(()=>Wr(Le,Ce))},"setSortWithUnion"),{elapsedTime:Pt}=re({isLoading:Be.isFetching,interval:l==null?void 0:l.interval,onInterval:l==null?void 0:l.onInterval});return{tableQueryResult:Be,sorters:We,setSorters:pt,sorter:We,setSorter:pt,filters:Rt,setFilters:dt,current:Mt,setCurrent:xo,pageSize:ut,setPageSize:Wt,pageCount:ut?Math.ceil((((Qs=Be.data)==null?void 0:Qs.total)??0)/ut):1,createLinkForSyncWithLocation:Co,overtime:{elapsedTime:Pt}}}o(bx,"useTable");var Ls=b("react"),lr=b("@tanstack/react-query");var Ds=k(b("react"));var vt=Ds.default.createContext({}),Oa=o(({create:e,get:t,update:r,children:s})=>Ds.default.createElement(vt.Provider,{value:{create:e,get:t,update:r}},s),"AuditLogContextProvider");var Es=k(ae());var Ge=o(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,lr.useQueryClient)(),s=(0,Ls.useContext)(vt),{keys:n,preferLegacyKeys:i}=G(),a=J(),{resources:u}=(0,Ls.useContext)(mt),{data:d,refetch:c,isLoading:p}=Ho({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy),queryOptions:{enabled:!!(s!=null&&s.create)}}),m=(0,lr.useMutation)(async g=>{var y,v,L,A,x;let R=me(g.resource,u),E=S((y=R==null?void 0:R.meta)==null?void 0:y.audit,(v=R==null?void 0:R.options)==null?void 0:v.audit,(A=(L=R==null?void 0:R.options)==null?void 0:L.auditLog)==null?void 0:A.permissions);if(E&&!Do(E,g.action))return;let M;return p&&(s!=null&&s.create)&&(M=await c()),await((x=s.create)==null?void 0:x.call(s,{...g,author:d??(M==null?void 0:M.data)}))},{mutationKey:n().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,Es.getXRay)("useLog",i)}}),T=(0,lr.useMutation)(async g=>{var R;return await((R=s.update)==null?void 0:R.call(s,g))},{onSuccess:g=>{g!=null&&g.resource&&r.invalidateQueries(n().audit().resource((g==null?void 0:g.resource)??"").action("list").get(i))},mutationKey:n().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,Es.getXRay)("useLog",i)}});return{log:m,rename:T}},"useLog");var _a=b("react"),za=b("@tanstack/react-query");var ja=k(ae());var Wx=o(({resource:e,action:t,meta:r,author:s,metaData:n,queryOptions:i})=>{let{get:a}=(0,_a.useContext)(vt),{keys:u,preferLegacyKeys:d}=G();return(0,za.useQuery)(u().audit().resource(e).action("list").params(r).get(d),()=>(a==null?void 0:a({resource:e,action:t,author:s,meta:r,metaData:n}))??Promise.resolve([]),{enabled:typeof a<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...(0,ja.getXRay)("useLogList",d)}})},"useLogList");var Xa=b("react"),Za=k(b("warn-once"));var rC=o(({meta:e={}}={})=>{let t=te(),{i18nProvider:r}=(0,Xa.useContext)($e),s=Pe(),n=X(),{resources:i,resource:a,action:u}=H(),{options:{textTransformers:d}}=ne(),c=[];if(!(a!=null&&a.name))return{breadcrumbs:c};let p=o(m=>{var g,R,E,M,y,v;let T=typeof m=="string"?me(m,i,t==="legacy")??{name:m}:m;if(T){let L=S((g=T==null?void 0:T.meta)==null?void 0:g.parent,T==null?void 0:T.parentName);L&&p(L);let A=he(T,i,t==="legacy").find(f=>f.action==="list"),x=(R=A==null?void 0:A.resource)!=null&&R.list?A==null?void 0:A.route:void 0,l=x?t==="legacy"?x:we(x,T==null?void 0:T.meta,s,e):void 0;c.push({label:S((E=T.meta)==null?void 0:E.label,(M=T.options)==null?void 0:M.label)??n(`${T.name}.${T.name}`,d.humanize(T.name)),href:l,icon:S((y=T.meta)==null?void 0:y.icon,(v=T.options)==null?void 0:v.icon,T.icon)})}},"addBreadcrumb");if(p(a),u&&u!=="list"){let m=`actions.${u}`,T=n(m);typeof r<"u"&&T===m?((0,Za.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:n(`buttons.${u}`,d.humanize(u))})):c.push({label:n(m,d.humanize(u))})}return{breadcrumbs:c}},"useBreadcrumb");var To=k(b("react"));var Kt=o((e,t,r=!1)=>{let s=[],n=Ne(e,t);for(;n;)s.push(n),n=Ne(n,t);return s.reverse(),`/${[...s,e].map(a=>ve((r?a.route:void 0)??a.identifier??a.name)).join("/").replace(/^\//,"")}`},"createResourceKey");var Ya=o((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{let i=[],a=Ne(n,e);for(;a;)i.push(a),a=Ne(a,e);i.reverse();let u=r;i.forEach(c=>{let p=(t?c.route:void 0)??c.identifier??c.name;u.children[p]||(u.children[p]={item:c,children:{}}),u=u.children[p]});let d=(t?n.route:void 0)??n.identifier??n.name;u.children[d]||(u.children[d]={item:n,children:{}})});let s=o(n=>{let i=[];return Object.keys(n.children).forEach(a=>{let u=Kt(n.children[a].item,e,t),d={...n.children[a].item,key:u,children:s(n.children[a])};i.push(d)}),i},"flatten");return s(r)},"createTree");var Ja=o(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),mu=o(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=X(),s=Ct(),n=te(),{resource:i,resources:a}=H(),{pathname:u}=Pe(),{useLocation:d}=ce(),{pathname:c}=d(),p=At(),T=`/${((n==="legacy"?Ja(c):u?Ja(u):void 0)??"").replace(/^\//,"")}`,g=i?Kt(i,a,n==="legacy"):T??"",R=To.default.useMemo(()=>{if(!i)return[];let y=Ne(i,a),v=[Kt(i,a)];for(;y;)v.push(Kt(y,a)),y=Ne(y,a);return v},[]),E=To.default.useCallback(y=>{var L,A,x,l,f,C;if((((L=y==null?void 0:y.meta)==null?void 0:L.hide)??((A=y==null?void 0:y.options)==null?void 0:A.hide))||!(y!=null&&y.list)&&y.children.length===0)return;let v=y.list?s({resource:y,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&v&&v.match(/(\/|^):(.+?)(\/|$){1}/)))return{...y,route:v,icon:S((x=y.meta)==null?void 0:x.icon,(l=y.options)==null?void 0:l.icon,y.icon),label:S((f=y==null?void 0:y.meta)==null?void 0:f.label,(C=y==null?void 0:y.options)==null?void 0:C.label)??r(`${y.name}.${y.name}`,p(y.name,"plural"))}},[n,e,r,t]),M=To.default.useMemo(()=>{let y=Ya(a,n==="legacy"),v=o(L=>L.flatMap(A=>{let x=v(A.children),l=E({...A,children:x});return l?[l]:[]}),"prepare");return v(y)},[a,n,E]);return{defaultOpenKeys:R,selectedKey:g,menuItems:M}},"useMenu");var q=o(()=>{let{params:e}=Pe();return o(({resource:r,meta:s}={})=>{let{meta:n}=Bt(r)??{meta:{}},{filters:i,sorters:a,current:u,pageSize:d,...c}=e??{};return{...n,...c,...s}},"getMetaFn")},"useMeta");var fu=o(()=>{let[e,t]=(0,Je.useState)(),r=X(),{push:s}=ye(),n=ge(),i=te(),{resource:a,action:u}=H();return(0,Je.useEffect)(()=>{a&&u&&t(r("pages.error.info",{action:u,resource:a.name},`You may have forgotten to add the "${u}" component to "${a.name}" resource.`))},[a,u]),Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Je.default.createElement("p",null,e),Je.default.createElement("button",{onClick:()=>{i==="legacy"?s("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent");var xe=k(b("react"));var Mo=o(()=>{let[e,t]=(0,xe.useState)(""),[r,s]=(0,xe.useState)(""),n=X(),i=J(),{mutate:a}=qt({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return xe.default.createElement(xe.default.Fragment,null,xe.default.createElement("h1",null,n("pages.login.title","Sign in your account")),xe.default.createElement("form",{onSubmit:u=>{u.preventDefault(),a({username:e,password:r})}},xe.default.createElement("table",null,xe.default.createElement("tbody",null,xe.default.createElement("tr",null,xe.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),xe.default.createElement("td",null,xe.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),xe.default.createElement("tr",null,xe.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),xe.default.createElement("td",null,xe.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>s(u.target.value)}))))),xe.default.createElement("br",null),xe.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage");var bt=k(b("react"));var ie=k(b("react"));var qa=o(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:s,contentProps:n,wrapperProps:i,renderContent:a,formProps:u,title:d=void 0})=>{let c=te(),p=ht(),{Link:m}=ce(),T=c==="legacy"?m:p,[g,R]=(0,ie.useState)(""),[E,M]=(0,ie.useState)(""),[y,v]=(0,ie.useState)(!1),L=X(),A=J(),{mutate:x}=qt({v3LegacyAuthProviderCompatible:!!(A!=null&&A.isLegacy)}),l=o((P,h)=>ie.default.createElement(T,{to:P},h),"renderLink"),f=o(()=>e?e.map(P=>ie.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ie.default.createElement("button",{onClick:()=>x({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,P.label??ie.default.createElement("label",null,P.label)))):null,"renderProviders"),C=ie.default.createElement("div",{...n},ie.default.createElement("h1",{style:{textAlign:"center"}},L("pages.login.title","Sign in to your account")),f(),ie.default.createElement("hr",null),ie.default.createElement("form",{onSubmit:P=>{P.preventDefault(),x({email:g,password:E,remember:y})},...u},ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ie.default.createElement("label",{htmlFor:"email-input"},L("pages.login.fields.email","Email")),ie.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:P=>R(P.target.value)}),ie.default.createElement("label",{htmlFor:"password-input"},L("pages.login.fields.password","Password")),ie.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:E,onChange:P=>M(P.target.value)}),s??ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("label",{htmlFor:"remember-me-input"},L("pages.login.buttons.rememberMe","Remember me"),ie.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:y,value:y.toString(),onChange:()=>{v(!y)}}))),ie.default.createElement("br",null),r??l("/forgot-password",L("pages.login.buttons.forgotPassword","Forgot password?")),ie.default.createElement("input",{type:"submit",value:L("pages.login.signin","Sign in")}),t??ie.default.createElement("span",null,L("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",L("pages.login.register","Sign up"))))));return ie.default.createElement("div",{...i},a?a(C,d):C)},"LoginPage");var Te=k(b("react"));var ei=o(({providers:e,loginLink:t,wrapperProps:r,contentProps:s,renderContent:n,formProps:i,title:a=void 0})=>{let u=te(),d=ht(),{Link:c}=ce(),p=u==="legacy"?c:d,[m,T]=(0,Te.useState)(""),[g,R]=(0,Te.useState)(""),E=X(),M=J(),{mutate:y,isLoading:v}=Yo({v3LegacyAuthProviderCompatible:!!(M!=null&&M.isLegacy)}),L=o((l,f)=>Te.default.createElement(p,{to:l},f),"renderLink"),A=o(()=>e?e.map(l=>Te.default.createElement("div",{key:l.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Te.default.createElement("button",{onClick:()=>y({providerName:l.name}),style:{display:"flex",alignItems:"center"}},l==null?void 0:l.icon,l.label??Te.default.createElement("label",null,l.label)))):null,"renderProviders"),x=Te.default.createElement("div",{...s},Te.default.createElement("h1",{style:{textAlign:"center"}},E("pages.register.title","Sign up for your account")),A(),Te.default.createElement("hr",null),Te.default.createElement("form",{onSubmit:l=>{l.preventDefault(),y({email:m,password:g})},...i},Te.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Te.default.createElement("label",{htmlFor:"email-input"},E("pages.register.fields.email","Email")),Te.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:l=>T(l.target.value)}),Te.default.createElement("label",{htmlFor:"password-input"},E("pages.register.fields.password","Password")),Te.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:g,onChange:l=>R(l.target.value)}),Te.default.createElement("input",{type:"submit",value:E("pages.register.buttons.submit","Sign up"),disabled:v}),t??Te.default.createElement(Te.default.Fragment,null,Te.default.createElement("span",null,E("pages.login.buttons.haveAccount","Have an account?")," ",L("/login",E("pages.login.signin","Sign in")))))));return Te.default.createElement("div",{...r},n?n(x,a):x)},"RegisterPage");var Se=k(b("react"));var ti=o(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:s,formProps:n,title:i=void 0})=>{let a=X(),u=te(),d=ht(),{Link:c}=ce(),p=u==="legacy"?c:d,[m,T]=(0,Se.useState)(""),{mutate:g,isLoading:R}=ts(),E=o((y,v)=>Se.default.createElement(p,{to:y},v),"renderLink"),M=Se.default.createElement("div",{...r},Se.default.createElement("h1",{style:{textAlign:"center"}},a("pages.forgotPassword.title","Forgot your password?")),Se.default.createElement("hr",null),Se.default.createElement("form",{onSubmit:y=>{y.preventDefault(),g({email:m})},...n},Se.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Se.default.createElement("label",{htmlFor:"email-input"},a("pages.forgotPassword.fields.email","Email")),Se.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:y=>T(y.target.value)}),Se.default.createElement("input",{type:"submit",disabled:R,value:a("pages.forgotPassword.buttons.submit","Send reset instructions")}),Se.default.createElement("br",null),e??Se.default.createElement("span",null,a("pages.register.buttons.haveAccount","Have an account? ")," ",E("/login",a("pages.login.signin","Sign in"))))));return Se.default.createElement("div",{...t},s?s(M,i):M)},"ForgotPasswordPage");var Ae=k(b("react"));var ri=o(({wrapperProps:e,contentProps:t,renderContent:r,formProps:s,title:n=void 0})=>{let i=X(),a=J(),{mutate:u,isLoading:d}=ns({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),[c,p]=(0,Ae.useState)(""),[m,T]=(0,Ae.useState)(""),g=Ae.default.createElement("div",{...t},Ae.default.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),Ae.default.createElement("hr",null),Ae.default.createElement("form",{onSubmit:R=>{R.preventDefault(),u({password:c,confirmPassword:m})},...s},Ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ae.default.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),Ae.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:c,onChange:R=>p(R.target.value)}),Ae.default.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ae.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:m,onChange:R=>T(R.target.value)}),Ae.default.createElement("input",{type:"submit",disabled:d,value:i("pages.updatePassword.buttons.submit","Update")}))));return Ae.default.createElement("div",{...e},r?r(g,n):g)},"UpdatePasswordPage");var yu=o(e=>{let{type:t}=e;return bt.default.createElement(bt.default.Fragment,null,o(()=>{switch(t){case"register":return bt.default.createElement(ei,{...e});case"forgotPassword":return bt.default.createElement(ti,{...e});case"updatePassword":return bt.default.createElement(ri,{...e});default:return bt.default.createElement(qa,{...e})}},"renderView")())},"AuthPage");var ke=k(b("react"));var Us=o(()=>ke.default.createElement(ke.default.Fragment,null,ke.default.createElement("h1",null,"Welcome on board"),ke.default.createElement("p",null,"Your configuration is completed."),ke.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",ke.default.createElement("code",null,"`resources`")," property of ",ke.default.createElement("code",null,"`<Refine>`")),ke.default.createElement("div",{style:{display:"flex",gap:8}},ke.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},ke.default.createElement("button",null,"Documentation")),ke.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},ke.default.createElement("button",null,"Examples")),ke.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},ke.default.createElement("button",null,"Community")))),"ReadyPage");var oe=k(b("react"));var gu=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:oe.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oe.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:oe.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oe.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),oe.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:oe.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oe.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),oe.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:oe.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oe.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Tu=o(()=>{let e=Nr("(max-width: 1010px)"),t=Nr("(max-width: 650px)"),r=o(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),s=o(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),n=o(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return oe.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},oe.default.createElement("div",{style:{height:"89px"}}),oe.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},oe.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),oe.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),oe.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},oe.default.createElement("h1",{style:{fontSize:s(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),oe.default.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),oe.default.createElement("div",{style:{height:"64px"}}),oe.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},gu.map(i=>oe.default.createElement(Ru,{key:`welcome-page-${i.title}`,card:i}))),oe.default.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),Ru=o(({card:e})=>{let{title:t,description:r,icon:s,link:n}=e,[i,a]=(0,oe.useState)(!1);return oe.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},oe.default.createElement("div",{style:{display:"flex",alignItems:"center"}},oe.default.createElement("a",{onPointerEnter:()=>a(!0),onPointerLeave:()=>a(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},s,oe.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),oe.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},oe.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),oe.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card");var le=k(b("react")),mr=b("@tanstack/react-query"),ii=k(ae());var Ms=k(b("react"));var yt=b("react");var Pu="4.44.12",oi=o(()=>{var v;let e=ds(),t=(0,yt.useContext)(vt),r=(0,yt.useContext)(rt),s=(0,yt.useContext)(ur),n=(0,yt.useContext)(sr),{i18nProvider:i}=(0,yt.useContext)($e),a=(0,yt.useContext)(ar),u=(0,yt.useContext)(ft),{resources:d}=H(),c=ne(),p=!!t.create||!!t.get||!!t.update,m=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),T=!!s.useHistory||!!s.Link||!!s.Prompt||!!s.useLocation||!!s.useParams,g=!!n,R=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),E=!!a.close||!!a.open,M=!!u.can,y=(v=c==null?void 0:c.options)==null?void 0:v.projectId;return{providers:{auth:e,auditLog:p,live:m,router:T,data:g,i18n:R,notification:E,accessControl:M},version:Pu,resourceCount:d.length,projectId:y}},"useTelemetryData");var xu=o(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Cu=o(e=>{let t=new Image;t.src=e},"throughImage"),hu=o(e=>{fetch(e)},"throughFetch"),vu=o(e=>{typeof Image<"u"?Cu(e):typeof fetch<"u"&&hu(e)},"transport"),si=o(()=>{let e=oi(),t=Ms.default.useRef(!1);return Ms.default.useEffect(()=>{if(t.current)return;let r=xu(e);r&&(vu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry");var ni=o(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(n=>!t.includes(n));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse");var Is=k(b("react"));var ai=o(e=>{let t=Is.default.useRef(!1);Is.default.useEffect(()=>{t.current===!1&&e&&ni(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning");var bu=o(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:s,routerProvider:n,notificationProvider:i,accessControlProvider:a,auditLogProvider:u,resources:d,DashboardPage:c,ReadyPage:p,LoginPage:m,catchAll:T,children:g,liveProvider:R,i18nProvider:E,Title:M,Layout:y,Sider:v,Header:L,Footer:A,OffLayoutArea:x,onLiveEvent:l,options:f})=>{let{optionsWithDefaults:C,disableTelemetryWithDefault:P,reactQueryWithDefaults:h}=Io({options:f}),I=oo(()=>{var w;return h.clientConfig instanceof mr.QueryClient?h.clientConfig:new mr.QueryClient({...h.clientConfig,defaultOptions:{...h.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(w=h.clientConfig.defaultOptions)==null?void 0:w.queries}}})},[h.clientConfig]);(0,ii.useQuerySubscription)(I);let U=le.default.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(ai(n),s&&!n&&(d??[]).length===0)return p?le.default.createElement(p,null):le.default.createElement(Us,null);let{RouterComponent:F=le.default.Fragment}=n?{}:s??{};return le.default.createElement(mr.QueryClientProvider,{client:I},le.default.createElement(Pa,{...U},le.default.createElement(mn,{...e??{},isProvided:!!e},le.default.createElement(yn,{...t??{},isProvided:!!t},le.default.createElement(Yn,{...r},le.default.createElement(ea,{liveProvider:R},le.default.createElement(ia,{value:s&&!n?"legacy":"new"},le.default.createElement(ca,{router:n},le.default.createElement(Aa,{...s},le.default.createElement(na,{resources:d??[]},le.default.createElement(ha,{i18nProvider:E},le.default.createElement(Qa,{...a??{}},le.default.createElement(Oa,{...u??{}},le.default.createElement(ls,null,le.default.createElement(cn,{mutationMode:C.mutationMode,warnWhenUnsavedChanges:C.warnWhenUnsavedChanges,syncWithLocation:C.syncWithLocation,Title:M,undoableTimeout:C.undoableTimeout,catchAll:T,DashboardPage:c,LoginPage:m,Layout:y,Sider:v,Footer:A,Header:L,OffLayoutArea:x,hasDashboard:!!c,liveMode:C.liveMode,onLiveEvent:l,options:C},le.default.createElement(Rn,null,le.default.createElement(F,null,g,!P&&le.default.createElement(si,null),le.default.createElement(ws,null))))))))))))))))))},"Refine");var Ro=b("react");var Nn=o(({notification:e})=>{let t=X(),{notificationDispatch:r}=Ze(),{open:s}=Qe(),[n,i]=(0,Ro.useState)(),a=o(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||s==null||s({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:zt(e.seconds)},`You have ${zt(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:zt(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(u)}},"cancelNotification");return(0,Ro.useEffect)(()=>{a()},[e]),null},"UndoableQueue");var Ht=k(b("react"));var Du=o(({children:e,Layout:t,Sider:r,Header:s,Title:n,Footer:i,OffLayoutArea:a})=>{let{Layout:u,Footer:d,Header:c,Sider:p,Title:m,OffLayoutArea:T}=ne();return Ht.default.createElement(t??u,{Sider:r??p,Header:s??c,Footer:i??d,Title:n??m,OffLayoutArea:a??T},e,Ht.default.createElement(Lu,null))},"LayoutWrapper"),Lu=o(()=>{let{Prompt:e}=ce(),t=X(),{warnWhen:r,setWarnWhen:s}=Jt(),n=o(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return(0,Ht.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),Ht.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:s})},"UnsavedPrompt");var Fe=k(b("react"));var Eu=o(()=>{let e=ge(),[t,r]=Fe.default.useState(void 0);return Fe.default.useEffect(()=>{t&&e(t)},[t]),Fe.default.useCallback(n=>{t||r(n)},[t])},"useDeferredGo");function Uu({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:s,loading:n}){var C;let i=J(),a=te(),u=!!(i!=null&&i.isProvided),d=!!(i!=null&&i.isLegacy),c=a==="legacy",p=Pe(),m=ge(),T=Eu(),{replace:g}=ye(),{useLocation:R}=ce(),E=R(),{isLoading:M,isFetching:y,isSuccess:v,data:{authenticated:L,redirectTo:A}={},refetch:x}=jr({v3LegacyAuthProviderCompatible:d});Fe.default.useEffect(()=>{x()},[r,s]);let l=Fe.default.useRef({status:M?"initial":"pending",content:n??null});y?l.current.status="pending":y||(l.current.status="settled");let f=u?d?v:L:!0;if(l.current.status==="settled")if(f)l.current.content=Fe.default.createElement(Fe.default.Fragment,null,r??null);else if(typeof s<"u")l.current.content=Fe.default.createElement(Fe.default.Fragment,null,s);else{let P=`${c?E==null?void 0:E.pathname:p.pathname}`.replace(/(\?.*|#.*)$/,""),h=d?typeof e=="string"?e:"/login":typeof e=="string"?e:A;if(h)if(c){let I=t?`?to=${encodeURIComponent(P)}`:"";g(`${h}${I}`)}else T({to:h,query:t?{to:(C=p.params)!=null&&C.to?p.params.to:m({to:P,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return u?Fe.default.createElement(Fe.default.Fragment,null,l.current.content):Fe.default.createElement(Fe.default.Fragment,null,r??null)}o(Uu,"Authenticated");var ui=b("react");var ws=o(()=>{let{useLocation:e}=ce(),{checkAuth:t}=ue(),r=e();return(0,ui.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler");var at=k(b("react"));var Mu=o(({resource:e,action:t,params:r,fallback:s,onUnauthorized:n,children:i,...a})=>{let{resource:u,id:d,action:c}=H(e),{identifier:p}=H(),T=o(()=>{let y=(r==null?void 0:r.id)??d;return e&&e!==p?r==null?void 0:r.id:y},"getDefaultId")(),g=e??(u==null?void 0:u.name),R=t??c??"",E=r??{id:T,resource:u},{data:M}=Ba({resource:g,action:R,params:E});return(0,at.useEffect)(()=>{n&&(M==null?void 0:M.can)===!1&&n({resource:g,action:R,reason:M==null?void 0:M.reason,params:E})},[M==null?void 0:M.can]),M!=null&&M.can?at.default.isValidElement(i)?at.default.cloneElement(i,a):at.default.createElement(at.default.Fragment,null,i):(M==null?void 0:M.can)===!1?at.default.createElement(at.default.Fragment,null,s??null):null},"CanAccess");var it=k(b("react"));var ci=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `];var Iu=o(()=>((0,it.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),ci.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),it.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},it.default.createElement("div",{style:{width:"200px"}}),it.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},it.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},it.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),it.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going."))))),"GitHubBanner");})();
//# sourceMappingURL=index.js.map