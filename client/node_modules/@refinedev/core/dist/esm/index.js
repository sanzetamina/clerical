var fn=Object.defineProperty;var o=(e,t)=>fn(e,"name",{value:t,configurable:!0});import jt,{useEffect as zi,useState as Oi}from"react";import{useQuery as _o}from"@tanstack/react-query";import{getXRay as jo}from"@refinedev/devtools-internal";import Gr from"qs";import $o from"lodash-es/unionWith";import Wo from"lodash-es/differenceWith";import Un from"warn-once";var Ft=o(e=>e/1e3,"userFriendlySecond");import yn from"lodash-es/zip";import gn from"lodash-es/fromPairs";var qt=o((e,t=r=>r)=>{let[r,...s]=e;return s.map(n=>gn(yn(r,n))).map((n,i,a)=>t.call(void 0,n,i,a))},"importCSVMapper");import Po from"pluralize";var er=o((e="",t)=>{let r=Vt(e);return t==="singular"?Po.singular(r):Po.plural(r)},"userFriendlyResourceName");var xo=o((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams");var w=o((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function je(e,t){return e.findIndex((r,s)=>s<=e.length-t.length&&t.every((n,i)=>e[s+i]===n))}o(je,"arrayFindIndex");function Tn(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(je(e,["auth","login"])!==-1)return["useLogin"];if(je(e,["auth","logout"])!==-1)return["useLogout"];if(je(e,["auth","identity"])!==-1)return["getUserIdentity"];if(je(e,["auth","register"])!==-1)return["useRegister"];if(je(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(je(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(je(e,["auth","onError"])!==-1)return["useCheckError"];if(je(e,["auth","permissions"])!==-1)return["usePermissions"];if(je(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}o(Tn,"convertToLegacy");var De=class{constructor(t=[]){this.segments=[];this.segments=t}key(){return this.segments}legacy(){return Tn(this.segments)}get(t){return t?this.legacy():this.segments}};o(De,"BaseKeyBuilder");var He=class extends De{constructor(t){super(t)}params(t){return new De([...this.segments,t])}};o(He,"ParamsKeyBuilder");var tr=class extends De{constructor(t){super(t)}id(t){return new He([...this.segments,t?String(t):void 0])}};o(tr,"DataIdRequiringKeyBuilder");var rr=class extends De{constructor(t){super(t)}ids(...t){return new He([...this.segments,...t.length?[t.map(r=>String(r))]:[]])}};o(rr,"DataIdsRequiringKeyBuilder");var or=class extends De{constructor(t){super(t)}action(t){if(t==="one")return new tr([...this.segments,t]);if(t==="many")return new rr([...this.segments,t]);if(["list","infinite"].includes(t))return new He([...this.segments,t]);throw new Error("Invalid action type")}};o(or,"DataResourceKeyBuilder");var sr=class extends De{constructor(t){super(t)}resource(t){return new or([...this.segments,t])}mutation(t){return new He([...t==="custom"?this.segments:[this.segments[0]],t])}};o(sr,"DataKeyBuilder");var nr=class extends De{constructor(t){super(t)}action(t){return new He([...this.segments,t])}};o(nr,"AuthKeyBuilder");var ar=class extends De{constructor(t){super(t)}action(t){return new He([...this.segments,t])}};o(ar,"AccessResourceKeyBuilder");var ir=class extends De{constructor(t){super(t)}resource(t){return new ar([...this.segments,t])}};o(ir,"AccessKeyBuilder");var ur=class extends De{constructor(t){super(t)}action(t){return new He([...this.segments,t])}};o(ur,"AuditActionKeyBuilder");var cr=class extends De{constructor(t){super(t)}resource(t){return new ur([...this.segments,t])}action(t){return new He([...this.segments,t])}};o(cr,"AuditKeyBuilder");var xt=class extends De{constructor(t){super(t)}data(t){return new sr(["data",t||"default"])}auth(){return new nr(["auth"])}access(){return new ir(["access"])}audit(){return new cr(["audit"])}};o(xt,"KeyBuilder");var Ge=o(()=>new xt([]),"keys");var Co=o((e,t,r,s)=>{let n=t||"default",i={all:[n],resourceAll:[n,e||""],list:a=>[...i.resourceAll,"list",{...a,...w(r,s)||{}}],many:a=>[...i.resourceAll,"getMany",a&&a.map(String),{...w(r,s)||{}}].filter(u=>u!==void 0),detail:a=>[...i.resourceAll,"detail",a==null?void 0:a.toString(),{...w(r,s)||{}}],logList:a=>["logList",e,a,s].filter(u=>u!==void 0)};return i},"queryKeys"),Xe=o(e=>(t,r,s,n)=>{let i=r||"default";return{all:Ge().data(i).get(e),resourceAll:Ge().data(r).resource(t??"").get(e),list:u=>Ge().data(r).resource(t??"").action("list").params({...u,...w(s,n)||{}}).get(e),many:u=>Ge().data(r).resource(t??"").action("many").ids(...u??[]).params({...w(s,n)||{}}).get(e),detail:u=>Ge().data(r).resource(t??"").action("one").id(u??"").params({...w(s,n)||{}}).get(e),logList:u=>[...Ge().audit().resource(t).action("list").params(u).get(e),n].filter(d=>d!==void 0)}},"queryKeysReplacement");var Qr=o((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission");var Ct=o(e=>e.startsWith(":"),"isParameter");var Oe=o(e=>e.split("/").filter(r=>r!==""),"splitToSegments");var ho=o((e,t)=>{let r=Oe(e),s=Oe(t);return r.length===s.length},"isSegmentCountsSame");var Pe=o(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes");var bo=o((e,t)=>{let r=Pe(e),s=Pe(t);if(!ho(r,s))return!1;let n=Oe(r);return Oe(s).every((a,u)=>Ct(a)||a===n[u])},"checkBySegments");var vo=o((e,t,r)=>{let s=Pe(r||""),n=`${s}${s?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},"getDefaultActionPath");var Se=o((e,t)=>{var n,i;let r=w((n=e.meta)==null?void 0:n.parent,(i=e.options)==null?void 0:i.parent,e.parentName);return r?t.find(a=>(a.identifier??a.name)===r)??{name:r}:void 0},"getParentResource");var Bt=o((e,t,r)=>{let s=[],n=Se(e,t);for(;n;)s.push(n),n=Se(n,t);if(s.length!==0)return`/${s.reverse().map(i=>{var u;let a=r?((u=i.options)==null?void 0:u.route)??i.name:i.name;return Pe(a)}).join("/")}`},"getParentPrefixForResource");var Te=o((e,t,r)=>{let s=[],n=["list","show","edit","create","clone"],i=Bt(e,t,r);return n.forEach(a=>{var c,p;let u=r&&a==="clone"?e.create:e[a],d;typeof u=="function"||r?d=vo(r?((c=e.meta)==null?void 0:c.route)??((p=e.options)==null?void 0:p.route)??e.name:e.name,a,r?i:void 0):typeof u=="string"?d=u:typeof u=="object"&&(d=u.path),d&&s.push({action:a,resource:e,route:`/${d.replace(/^\//,"")}`})}),s},"getActionRoutesFromResource");var Do=o(e=>{var n;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(i=>({...i,splitted:Oe(Pe(i.route))})),r=((n=t[0])==null?void 0:n.splitted.length)??0,s=[...t];for(let i=0;i<r;i++){let a=s.filter(u=>!Ct(u.splitted[i]));if(a.length!==0){if(a.length===1){s=a;break}s=a}}return s[0]},"pickMatchedRoute");var Lo=o((e,t)=>{let s=t.flatMap(i=>Te(i,t)).filter(i=>bo(e,i.route)),n=Do(s);return{found:!!n,resource:n==null?void 0:n.resource,action:n==null?void 0:n.action,matchedRoute:n==null?void 0:n.route}},"matchResourceFromRoute");var dr=o((e,t)=>{var n;let r,s=Bt(e,t,!0);if(s){let i=w(e.meta,e.options);r=`${s}/${(i==null?void 0:i.route)??e.name}`}else r=((n=e.options)==null?void 0:n.route)??e.name;return`/${r.replace(/^\//,"")}`},"routeGenerator");var Eo=o(e=>{var a;let t=[],r={},s={},n,i;for(let u=0;u<e.length;u++){n=e[u];let d=n.route??((a=w(n==null?void 0:n.meta,n.options))==null?void 0:a.route)??"";r[d]=n,r[d].children=[],s[n.name]=n,s[n.name].children=[]}for(let u in r)r.hasOwnProperty(u)&&(i=r[u],i.parentName&&s[i.parentName]?s[i.parentName].children.push(i):t.push(i));return t},"createTreeView");var Vt=o(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString");import Mo from"react";import Uo from"pluralize";import Rn from"react";var Fr=o(({children:e})=>Rn.createElement("div",null,e),"DefaultLayout");var Le={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:Vt,plural:Uo.plural,singular:Uo.singular},disableServerSideValidation:!1},Ee=Mo.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Fr,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Le}),Io=o(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:s,undoableTimeout:n,children:i,DashboardPage:a,Title:u,Layout:d=Fr,Header:c,Sider:p,Footer:m,OffLayoutArea:T,LoginPage:g=Vr,catchAll:R,liveMode:L="off",onLiveEvent:U,options:y})=>Mo.createElement(Ee.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:s,Title:u,undoableTimeout:n,Layout:d,Header:c,Sider:p,Footer:m,OffLayoutArea:T,DashboardPage:a,LoginPage:g,catchAll:R,liveMode:L,onLiveEvent:U,options:y}},i),"RefineContextProvider");var Br=o(({options:e,disableTelemetry:t,liveMode:r,mutationMode:s,reactQueryClientConfig:n,reactQueryDevtoolConfig:i,syncWithLocation:a,undoableTimeout:u,warnWhenUnsavedChanges:d}={})=>{var T,g,R,L,U,y,b,D;let c={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??s??Le.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??Le.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??a??Le.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??d??Le.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Le.liveMode,redirect:{afterCreate:((T=e==null?void 0:e.redirect)==null?void 0:T.afterCreate)??Le.redirect.afterCreate,afterClone:((g=e==null?void 0:e.redirect)==null?void 0:g.afterClone)??Le.redirect.afterClone,afterEdit:((R=e==null?void 0:e.redirect)==null?void 0:R.afterEdit)??Le.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Le.overtime,textTransformers:{humanize:((L=e==null?void 0:e.textTransformers)==null?void 0:L.humanize)??Le.textTransformers.humanize,plural:((U=e==null?void 0:e.textTransformers)==null?void 0:U.plural)??Le.textTransformers.plural,singular:((y=e==null?void 0:e.textTransformers)==null?void 0:y.singular)??Le.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Le.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},p=(e==null?void 0:e.disableTelemetry)??t??!1,m={clientConfig:((b=e==null?void 0:e.reactQuery)==null?void 0:b.clientConfig)??n??{},devtoolConfig:((D=e==null?void 0:e.reactQuery)==null?void 0:D.devtoolConfig)??i??{}};return{optionsWithDefaults:c,disableTelemetryWithDefault:p,reactQueryWithDefaults:m}},"handleRefineOptions");var Nr=o(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage");var pr=o(async(e,t,r)=>{let s=[];for(let[n,i]of e.entries())try{let a=await i();s.push(t(a,n))}catch(a){s.push(r(a,n))}return s},"sequentialPromises");var ce=o((e,t=[],r=!1)=>{if(!e)return;if(r){let n=t.find(a=>Pe(a.route??"")===Pe(e));return n||t.find(a=>a.name===e)}let s=t.find(n=>n.identifier===e);return s||(s=t.find(n=>n.name===e)),s},"pickResource");var O=o((e,t,r)=>{if(t)return t;let s=ce(e,r),n=w(s==null?void 0:s.meta,s==null?void 0:s.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},"pickDataProvider");var Ze=o(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple");var lr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let s=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/n);return s<i?Number(s)+1:void 0},"getNextPageParam"),mr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let s=(t==null?void 0:t.current)||1;return s===1?void 0:s-1},"getPreviousPageParam");var fr=o(e=>{let t=[];return e.forEach(r=>{var s,n;t.push({...r,label:((s=r.meta)==null?void 0:s.label)??((n=r.options)==null?void 0:n.label),route:dr(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform");var wo=o(e=>Oe(Pe(e)).flatMap(r=>Ct(r)?[r.slice(1)]:[]),"pickRouteParams");var So=o((e,t={})=>e.reduce((r,s)=>{let n=t[s];return typeof n<"u"&&(r[s]=n),r},{}),"prepareRouteParams");var Ue=o((e,t={},r={},s={})=>{let n=wo(e),i=So(n,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...s});return e.replace(/:([^\/]+)/g,(a,u)=>{let d=i[u];return typeof d<"u"?`${d}`:a})},"composeRoute");import ht from"react";var Ao=ht.createContext({}),ko=o(({children:e,isProvided:t,...r})=>{let{replace:s}=pe(),n=o(async d=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"loginFunc"),i=o(async d=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"registerFunc"),a=o(async d=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,d))}catch(p){return Promise.reject(p)}},"logoutFunc"),u=o(async d=>{var c;try{return await((c=r.checkAuth)==null?void 0:c.call(r,d)),Promise.resolve()}catch(p){return p!=null&&p.redirectPath&&s(p.redirectPath),Promise.reject(p)}},"checkAuthFunc");return ht.createElement(Ao.Provider,{value:{...r,login:n,logout:a,checkAuth:u,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),Qo=ht.createContext({}),Fo=o(({children:e,isProvided:t,...r})=>{let s=o(async c=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,c))}catch(m){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleLogin"),n=o(async c=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,c))}catch(m){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleRegister"),i=o(async c=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,c))}catch(m){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleLogout"),a=o(async c=>{var p;try{let m=await((p=r.check)==null?void 0:p.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleCheck"),u=o(async c=>{var p;try{let m=await((p=r.forgotPassword)==null?void 0:p.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleForgotPassword"),d=o(async c=>{var p;try{let m=await((p=r.updatePassword)==null?void 0:p.call(r,c));return Promise.resolve(m)}catch(m){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",m),Promise.reject(m)}},"handleUpdatePassword");return ht.createElement(Qo.Provider,{value:{...r,login:s,logout:i,check:a,register:n,forgotPassword:u,updatePassword:d,isProvided:t}},e)},"AuthBindingsContextProvider"),se=o(()=>ht.useContext(Ao),"useLegacyAuthContext"),de=o(()=>ht.useContext(Qo),"useAuthBindingsContext");var Z=o(()=>{let e=se(),t=de();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider");var Nt=o(({hasPagination:e,pagination:t,configPagination:r}={})=>{let s=e===!1?"off":"server",n=(t==null?void 0:t.mode)??s,i=w(t==null?void 0:t.current,r==null?void 0:r.current)??1,a=w(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:i,pageSize:a,mode:n}},"handlePaginationParams");import{useState as Pn,useEffect as xn}from"react";var yr=o(e=>{let[t,r]=Pn(!1);return xn(()=>{let s=window.matchMedia(e);s.matches!==t&&r(s.matches);let n=o(()=>r(s.matches),"listener");return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t,e]),t},"useMediaQuery");var gr=o((e,t,r,s)=>{let n=s?e(t,s,r):e(t,r),i=r??t;return n===t||typeof n>"u"?i:n},"safeTranslate");function Vo(e,t,r,s,n){var T;let i={create:"Create new ",clone:`#${s??""} Clone `,edit:`#${s??""} Edit `,show:`#${s??""} Show `,list:""},a=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),u=(t==null?void 0:t.label)??((T=t==null?void 0:t.meta)==null?void 0:T.label)??er(a,r==="list"?"plural":"singular"),d=n??u,c=gr(e,"documentTitle.default","refine"),p=gr(e,"documentTitle.suffix"," | refine"),m=c;return r&&a&&(m=gr(e,`documentTitle.${a}.${r}`,`${i[r]??""}${d}${p}`,{id:s})),m}o(Vo,"generateDefaultDocumentTitle");import{useContext as Cn}from"react";var $e=o(()=>{let{mutationMode:e,undoableTimeout:t}=Cn(Ee);return{mutationMode:e,undoableTimeout:t}},"useMutationMode");import{useContext as Ko}from"react";import Bo,{useState as hn}from"react";var Kr=Bo.createContext({}),No=o(({children:e})=>{let[t,r]=hn(!1);return Bo.createElement(Kr.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider");var Kt=o(()=>{let{warnWhenUnsavedChanges:e}=Ko(Ee),{warnWhen:t,setWarnWhen:r}=Ko(Kr);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange");import{useContext as bn}from"react";var Hr=o(()=>{let{syncWithLocation:e}=bn(Ee);return{syncWithLocation:e}},"useSyncWithLocation");import{useContext as vn}from"react";var Dn=o(()=>{let{Title:e}=vn(Ee);return e},"useTitle");import{useContext as Ln}from"react";var oe=o(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:s,Sider:n,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:p,DashboardPage:m,LoginPage:T,catchAll:g,options:R}=Ln(Ee);return{Footer:e,Header:t,Layout:r,OffLayoutArea:s,Sider:n,Title:i,hasDashboard:a,mutationMode:u,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:p,DashboardPage:m,LoginPage:T,catchAll:g,options:R}},"useRefineContext");var bt=o(()=>{let{options:{textTransformers:e}}=oe();return o((r="",s)=>{let n=e.humanize(r);return s==="singular"?e.singular(n):e.plural(n)},"getFriendlyName")},"useUserFriendlyName");var Ho=o(e=>typeof e=="object"&&e!==null,"isNested"),En=o(e=>Array.isArray(e),"isArray"),Tr=o((e,t="")=>Ho(e)?Object.keys(e).reduce((r,s)=>{let n=t.length?t+".":"";return Ho(e[s])&&Object.keys(e[s]).length?En(e[s])&&e[s].length?e[s].forEach((i,a)=>{Object.assign(r,Tr(i,n+s+"."+a))}):Object.assign(r,Tr(e[s],n+s)):r[n+s]=e[s],r},{}):{[t]:e},"flattenObjectKeys");var Go=o(e=>e.split(".").map(t=>isNaN(Number(t))?t:Number(t)),"propertyPathToArray");var Rr=o(e=>{let{current:t,pageSize:r,sorter:s,sorters:n,filters:i}=Gr.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:w(n,s)??[],parsedFilters:i??[]}},"parseTableParams"),Mn=o(e=>{let t=Gr.stringify(e);return Rr(`/${t}`)},"parseTableParamsFromQuery"),Pr=o(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:s,sorters:n,filters:i,...a}=e;return Gr.stringify({...a,...r||{},sorters:w(n,s),filters:i},t)},"stringifyTableParams"),zo=o((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),Oo=o((e,t)=>e.field==t.field,"compareSorters"),vt=o((e,t,r=[])=>(t.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&Un(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),$o(e,t,r,zo).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),"unionFilters"),xr=o((e,t)=>$o(e,t,Oo).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Cr=o((e,t)=>[...Wo(t,e,zo),...e],"setInitialFilters"),hr=o((e,t)=>[...Wo(t,e,Oo),...e],"setInitialSorters"),In=o((e,t)=>{if(!t)return;let r=t.find(s=>s.field===e);if(r)return r.order},"getDefaultSortOrder"),wn=o((e,t,r="eq")=>{let s=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:i,field:a}=n;return a===e&&i===r}});if(s)return s.value||[]},"getDefaultFilter");var Sn=o(e=>new Promise((t,r)=>{let s=new FileReader,n=o(()=>{s.result&&(s.removeEventListener("load",n,!1),t(s.result))},"resultHandler");s.addEventListener("load",n,!1),s.readAsDataURL(e.originFileObj),s.onerror=i=>(s.removeEventListener("load",n,!1),r(i))}),"file2Base64");var K=o(()=>{let{options:{useNewQueryKeys:e}}=oe();return{keys:Ge,preferLegacyKeys:!e}},"useKeys");function An({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=se(),{getPermissions:s}=de(),{keys:n,preferLegacyKeys:i}=K(),a=_o(n().auth().action("permissions").get(i),s??(()=>Promise.resolve(void 0)),{enabled:!e&&!!s,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...jo("usePermissions",i)}}),u=_o([...n().auth().action("permissions").get(i),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...jo("usePermissions",i)}});return e?u:a}o(An,"usePermissions");import{useQuery as Xo}from"@tanstack/react-query";import{getXRay as Zo}from"@refinedev/devtools-internal";function $r({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=se(),{getIdentity:s}=de(),{keys:n,preferLegacyKeys:i}=K(),a=Xo(n().auth().action("identity").get(i),s??(()=>Promise.resolve({})),{enabled:!e&&!!s,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...Zo("useGetIdentity",i)}}),u=Xo([...n().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...Zo("useGetIdentity",i)}});return e?u:a}o($r,"useGetIdentity");import{useMutation as Yo}from"@tanstack/react-query";import{getXRay as Jo}from"@refinedev/devtools-internal";import{useQueryClient as kn}from"@tanstack/react-query";var Dt=o(()=>{let e=kn(),{keys:t,preferLegacyKeys:r}=K();return o(async()=>{await Promise.all(["check","identity","permissions"].map(n=>e.invalidateQueries(t().auth().action(n).get(r))))},"invalidate")},"useInvalidateAuthStore");function br({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Dt(),s=q(),n=le(),{push:i}=pe(),{open:a,close:u}=Me(),{logout:d}=se(),{logout:c}=de(),{keys:p,preferLegacyKeys:m}=K(),T=Yo(p().auth().action("logout").get(m),c,{onSuccess:async(R,L)=>{let{success:U,error:y,redirectTo:b}=R,{redirectPath:D}=L??{},S=D??b;U&&(u==null||u("useLogout-error")),(y||!U)&&(a==null||a(Wr(y))),await r(),S!==!1&&(s==="legacy"?i(S??"/login"):S&&n({to:S}))},onError:R=>{a==null||a(Wr(R))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...Jo("useLogout",m)}}),g=Yo([...p().auth().action("logout").get(m),"v3LegacyAuthProviderCompatible"],d,{onSuccess:async(R,L)=>{let U=(L==null?void 0:L.redirectPath)??R;if(await r(),U!==!1){if(U){s==="legacy"?i(U):n({to:U});return}s==="legacy"?i("/login"):n({to:"/login"})}},onError:R=>{a==null||a(Wr(R))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...Jo("useLogout",m)}});return e?g:T}o(br,"useLogout");var Wr=o(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification");import Qn from"react";import{useMutation as qo}from"@tanstack/react-query";import{getXRay as es}from"@refinedev/devtools-internal";import Fn from"qs";function Ht({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Dt(),s=q(),n=le(),{replace:i}=pe(),a=fe(),{useLocation:u}=ne(),{search:d}=u(),{close:c,open:p}=Me(),{login:m}=se(),{login:T}=de(),{keys:g,preferLegacyKeys:R}=K(),L=Qn.useMemo(()=>{var b;return s==="legacy"?Fn.parse(d,{ignoreQueryPrefix:!0}).to:(b=a.params)==null?void 0:b.to},[s,a.params,d]),U=qo(g().auth().action("login").get(R),T,{onSuccess:async({success:b,redirectTo:D,error:S})=>{b&&(c==null||c("login-error")),(S||!b)&&(p==null||p(zr(S))),await r(),L&&b?s==="legacy"?i(L):n({to:L,type:"replace"}):D?s==="legacy"?i(D):n({to:D,type:"replace"}):s==="legacy"&&i("/")},onError:b=>{p==null||p(zr(b))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...es("useLogin",R)}}),y=qo([...g().auth().action("login").get(R),"v3LegacyAuthProviderCompatible"],m,{onSuccess:async b=>{await r(),L&&i(L),b!==!1&&!L&&(typeof b=="string"?s==="legacy"?i(b):n({to:b,type:"replace"}):s==="legacy"?i("/"):n({to:"/",type:"replace"})),c==null||c("login-error")},onError:b=>{p==null||p(zr(b))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...es("useLogin",R)}});return e?y:U}o(Ht,"useLogin");var zr=o(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification");import{useMutation as ts}from"@tanstack/react-query";import{getXRay as rs}from"@refinedev/devtools-internal";function _r({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Dt(),s=q(),n=le(),{replace:i}=pe(),{register:a}=se(),{register:u}=de(),{close:d,open:c}=Me(),{keys:p,preferLegacyKeys:m}=K(),T=ts(p().auth().action("register").get(m),u,{onSuccess:async({success:R,redirectTo:L,error:U})=>{R&&(d==null||d("register-error")),(U||!R)&&(c==null||c(Or(U))),await r(),L?s==="legacy"?i(L):n({to:L,type:"replace"}):s==="legacy"&&i("/")},onError:R=>{c==null||c(Or(R))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...rs("useRegister",m)}}),g=ts([...p().auth().action("register").get(m),"v3LegacyAuthProviderCompatible"],a,{onSuccess:async R=>{await r(),R!==!1&&(R?s==="legacy"?i(R):n({to:R,type:"replace"}):s==="legacy"?i("/"):n({to:"/",type:"replace"}),d==null||d("register-error"))},onError:R=>{c==null||c(Or(R))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...rs("useRegister",m)}});return e?g:T}o(_r,"useRegister");var Or=o(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification");import{useMutation as os}from"@tanstack/react-query";import{getXRay as ss}from"@refinedev/devtools-internal";function Xr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=q(),s=le(),{replace:n}=pe(),{forgotPassword:i}=se(),{forgotPassword:a}=de(),{close:u,open:d}=Me(),{keys:c,preferLegacyKeys:p}=K(),m=os(c().auth().action("forgotPassword").get(p),a,{onSuccess:({success:g,redirectTo:R,error:L})=>{g&&(u==null||u("forgot-password-error")),(L||!g)&&(d==null||d(jr(L))),R&&(r==="legacy"?n(R):s({to:R,type:"replace"}))},onError:g=>{d==null||d(jr(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...ss("useForgotPassword",p)}}),T=os([...c().auth().action("forgotPassword").get(p),"v3LegacyAuthProviderCompatible"],i,{onSuccess:g=>{g!==!1&&g&&(r==="legacy"?n(g):s({to:g,type:"replace"})),u==null||u("forgot-password-error")},onError:g=>{d==null||d(jr(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...ss("useForgotPassword",p)}});return e?T:m}o(Xr,"useForgotPassword");var jr=o(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification");import Vn from"react";import{useMutation as ns}from"@tanstack/react-query";import{getXRay as as}from"@refinedev/devtools-internal";import Bn from"qs";function Yr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=q(),s=le(),{replace:n}=pe(),{updatePassword:i}=se(),{updatePassword:a}=de(),{close:u,open:d}=Me(),{keys:c,preferLegacyKeys:p}=K(),m=fe(),{useLocation:T}=ne(),{search:g}=T(),R=Vn.useMemo(()=>r==="legacy"?Bn.parse(g,{ignoreQueryPrefix:!0})??{}:m.params??{},[g,m,r]),L=ns(c().auth().action("updatePassword").get(p),async y=>a==null?void 0:a({...R,...y}),{onSuccess:({success:y,redirectTo:b,error:D})=>{y&&(u==null||u("update-password-error")),(D||!y)&&(d==null||d(Zr(D))),b&&(r==="legacy"?n(b):s({to:b,type:"replace"}))},onError:y=>{d==null||d(Zr(y))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...as("useUpdatePassword",p)}}),U=ns([...c().auth().action("updatePassword").get(p),"v3LegacyAuthProviderCompatible"],async y=>i==null?void 0:i({...R,...y}),{onSuccess:y=>{y!==!1&&y&&(r==="legacy"?n(y):s({to:y,type:"replace"})),u==null||u("update-password-error")},onError:y=>{d==null||d(Zr(y))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...as("useUpdatePassword",p)}});return e?U:L}o(Yr,"useUpdatePassword");var Zr=o(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification");import{useQuery as is}from"@tanstack/react-query";import{getXRay as us}from"@refinedev/devtools-internal";function vr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=se(),{check:s}=de(),{keys:n,preferLegacyKeys:i}=K(),a=is(n().auth().action("check").params(t).get(i),async()=>await(s==null?void 0:s(t))??{},{retry:!1,enabled:!e,meta:{...us("useIsAuthenticated",i)}}),u=is([...n().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...us("useIsAuthenticated",i)}});return e?u:a}o(vr,"useIsAuthenticated");var Nn=vr;import{useMutation as cs}from"@tanstack/react-query";import{getXRay as ds}from"@refinedev/devtools-internal";function ae({v3LegacyAuthProviderCompatible:e=!1}={}){let t=q(),r=le(),{replace:s}=pe(),{checkError:n}=se(),{onError:i}=de(),{keys:a,preferLegacyKeys:u}=K(),{mutate:d}=br({v3LegacyAuthProviderCompatible:!!e}),{mutate:c}=br({v3LegacyAuthProviderCompatible:!!e}),p=cs(a().auth().action("onError").get(u),i,{onSuccess:({logout:T,redirectTo:g})=>{if(T){c({redirectPath:g});return}if(g){t==="legacy"?s(g):r({to:g,type:"replace"});return}},meta:{...ds("useOnError",u)}}),m=cs([...a().auth().action("onError").get(u),"v3LegacyAuthProviderCompatible"],n,{onError:T=>{d({redirectPath:T})},meta:{...ds("useOnError",u)}});return e?m:p}o(ae,"useOnError");var Kn=ae;var Jr=o(()=>{let{isProvided:e}=se(),{isProvided:t}=de();return!!(t||e)},"useIsExistAuthentication");import{getXRay as Gn}from"@refinedev/devtools-internal";import{useQuery as $n}from"@tanstack/react-query";import{useEffect as ps,useState as Hn}from"react";var ee=o(({isLoading:e,interval:t,onInterval:r})=>{let[s,n]=Hn(void 0),{options:i}=oe(),{overtime:a}=i,u=t??a.interval,d=r??(a==null?void 0:a.onInterval);return ps(()=>{let c;return e&&(c=setInterval(()=>{n(p=>p===void 0?u:p+u)},u)),()=>{clearInterval(c),n(void 0)}},[e,u]),ps(()=>{d&&s&&d(s)},[s]),{elapsedTime:s}},"useLoadingOvertime");var Gt=o(({resource:e,config:t,filters:r,hasPagination:s,pagination:n,sorters:i,queryOptions:a,successNotification:u,errorNotification:d,meta:c,metaData:p,liveMode:m,onLiveEvent:T,liveParams:g,dataProviderName:R,overtimeOptions:L}={})=>{let{resources:U,resource:y,identifier:b}=N(e),D=te(),S=_(),x=Z(),{mutate:l}=ae({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),f=ie(),C=Y(),{keys:P,preferLegacyKeys:h}=K(),M=O(b,R,U),v=w(c,p),E=w(r,t==null?void 0:t.filters),k=w(i,t==null?void 0:t.sort),I=w(s,t==null?void 0:t.hasPagination),F=Nt({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:I}),A=F.mode==="server",V=C({resource:y,meta:v}),B={meta:V,metaData:V,filters:E,hasPagination:A,pagination:F,sorters:k,config:{...t,sort:k}},Q=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,{getList:G}=D(M);st({resource:b,types:["*"],params:{meta:V,metaData:V,pagination:F,hasPagination:A,sort:k,sorters:k,filters:E,subscriptionType:"useList",...g},channel:`resources/${y==null?void 0:y.name}`,enabled:Q,liveMode:m,onLiveEvent:T,dataProviderName:M,meta:{...c,dataProviderName:R}});let $=$n(P().data(M).resource(b??"").action("list").params({...v||{},filters:E,hasPagination:A,...A&&{pagination:F},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(h),({queryKey:H,pageParam:W,signal:X})=>G({resource:(y==null?void 0:y.name)??"",pagination:F,hasPagination:A,filters:E,sort:k,sorters:k,meta:{...V,queryContext:{queryKey:H,pageParam:W,signal:X}},metaData:{...V,queryContext:{queryKey:H,pageParam:W,signal:X}}}),{...a,enabled:typeof(a==null?void 0:a.enabled)<"u"?a==null?void 0:a.enabled:!!(y!=null&&y.name),select:H=>{var xe;let W=H,{current:X,mode:j,pageSize:J}=F;return j==="client"&&(W={...W,data:W.data.slice((X-1)*J,X*J),total:W.total}),a!=null&&a.select?(xe=a==null?void 0:a.select)==null?void 0:xe.call(a,W):W},onSuccess:H=>{var X;(X=a==null?void 0:a.onSuccess)==null||X.call(a,H);let W=typeof u=="function"?u(H,B,b):u;f(W)},onError:H=>{var X;l(H),(X=a==null?void 0:a.onError)==null||X.call(a,H);let W=typeof d=="function"?d(H,B,b):d;f(W,{key:`${b}-useList-notification`,message:S("notifications.error",{statusCode:H.statusCode},`Error (status code: ${H.statusCode})`),description:H.message,type:"error"})},meta:{...a==null?void 0:a.meta,...Gn("useList",h)}}),{elapsedTime:z}=ee({isLoading:$.isFetching,interval:L==null?void 0:L.interval,onInterval:L==null?void 0:L.onInterval});return{...$,overtime:{elapsedTime:z}}},"useList");import{getXRay as Wn}from"@refinedev/devtools-internal";import{useQuery as zn}from"@tanstack/react-query";var $t=o(({resource:e,id:t,queryOptions:r,successNotification:s,errorNotification:n,meta:i,metaData:a,liveMode:u,onLiveEvent:d,liveParams:c,dataProviderName:p,overtimeOptions:m})=>{let{resources:T,resource:g,identifier:R}=N(e),L=te(),U=_(),y=Z(),{mutate:b}=ae({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),D=ie(),S=Y(),{keys:x,preferLegacyKeys:l}=K(),f=w(i,a),C=O(R,p,T),{getOne:P}=L(C),h=S({resource:g,meta:f});st({resource:R,types:["*"],channel:`resources/${g==null?void 0:g.name}`,params:{ids:t?[t]:[],id:t,meta:h,metaData:h,subscriptionType:"useOne",...c},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(g==null?void 0:g.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:d,dataProviderName:C,meta:{...i,dataProviderName:p}});let M=zn(x().data(C).resource(R??"").action("one").id(t??"").params({...f||{}}).get(l),({queryKey:E,pageParam:k,signal:I})=>P({resource:(g==null?void 0:g.name)??"",id:t,meta:{...h,queryContext:{queryKey:E,pageParam:k,signal:I}},metaData:{...h,queryContext:{queryKey:E,pageParam:k,signal:I}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:E=>{var I;(I=r==null?void 0:r.onSuccess)==null||I.call(r,E);let k=typeof s=="function"?s(E,{id:t,...h},R):s;D(k)},onError:E=>{var I;b(E),(I=r==null?void 0:r.onError)==null||I.call(r,E);let k=typeof n=="function"?n(E,{id:t,...h},R):n;D(k,{key:`${t}-${R}-getOne-notification`,message:U("notifications.error",{statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})},meta:{...r==null?void 0:r.meta,...Wn("useOne",l)}}),{elapsedTime:v}=ee({isLoading:M.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{...M,overtime:{elapsedTime:v}}},"useOne");import{getXRay as On}from"@refinedev/devtools-internal";import{useQuery as _n}from"@tanstack/react-query";var qr=o(({resource:e,ids:t,queryOptions:r,successNotification:s,errorNotification:n,meta:i,metaData:a,liveMode:u,onLiveEvent:d,liveParams:c,dataProviderName:p,overtimeOptions:m})=>{let{resources:T,resource:g,identifier:R}=N(e),L=te(),U=_(),y=Z(),{mutate:b}=ae({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),D=ie(),S=Y(),{keys:x,preferLegacyKeys:l}=K(),f=w(i,a),C=O(R,p,T),P=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:h,getOne:M}=L(C),v=S({resource:g,meta:f});st({resource:R,types:["*"],params:{ids:t,meta:v,metaData:v,subscriptionType:"useMany",...c},channel:`resources/${g.name}`,enabled:P,liveMode:u,onLiveEvent:d,dataProviderName:C,meta:{...i,dataProviderName:p}});let E=_n(x().data(C).resource(R).action("many").ids(...t).params({...f||{}}).get(l),({queryKey:I,pageParam:F,signal:A})=>h?h({resource:g==null?void 0:g.name,ids:t,meta:{...v,queryContext:{queryKey:I,pageParam:F,signal:A}},metaData:{...v,queryContext:{queryKey:I,pageParam:F,signal:A}}}):Ze(t.map(V=>M({resource:g==null?void 0:g.name,id:V,meta:{...v,queryContext:{queryKey:I,pageParam:F,signal:A}},metaData:{...v,queryContext:{queryKey:I,pageParam:F,signal:A}}}))),{...r,onSuccess:I=>{var A;(A=r==null?void 0:r.onSuccess)==null||A.call(r,I);let F=typeof s=="function"?s(I,t,R):s;D(F)},onError:I=>{var A;b(I),(A=r==null?void 0:r.onError)==null||A.call(r,I);let F=typeof n=="function"?n(I,t,R):n;D(F,{key:`${t[0]}-${R}-getMany-notification`,message:U("notifications.error",{statusCode:I.statusCode},`Error (status code: ${I.statusCode})`),description:I.message,type:"error"})},meta:{...r==null?void 0:r.meta,...On("useMany",l)}}),{elapsedTime:k}=ee({isLoading:E.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{...E,overtime:{elapsedTime:k}}},"useMany");import{getXRay as Yn}from"@refinedev/devtools-internal";import{useMutation as Jn,useQueryClient as qn}from"@tanstack/react-query";import to,{useReducer as jn}from"react";import eo from"lodash-es/isEqual";var Dr=to.createContext({notifications:[],notificationDispatch:()=>!1}),Xn=[],Zn=o((e,t)=>{switch(t.type){case"ADD":return[...e.filter(s=>!(eo(s.id,t.payload.id)&&s.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(s=>!(eo(s.id,t.payload.id)&&s.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(s=>eo(s.id,t.payload.id)&&s.resource==t.payload.resource?{...s,seconds:t.payload.seconds-1e3}:s);default:return e}},"undoableQueueReducer"),ro=o(({children:e})=>{let[t,r]=jn(Zn,Xn),s={notifications:t,notificationDispatch:r};return to.createElement(Dr.Provider,{value:s},e,typeof window<"u"&&t.map(n=>to.createElement(ls,{key:`${n.id}-${n.resource}-queue`,notification:n})))},"UndoableQueueContextProvider");var Lr=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:s}=N(),n=qn(),i=te(),{mutationMode:a,undoableTimeout:u}=$e(),d=_(),c=Z(),{mutate:p}=ae({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),m=Fe(),{log:T}=Ve(),{notificationDispatch:g}=_e(),R=ie(),L=Ce(),U=Y(),{options:{textTransformers:y}}=oe(),{keys:b,preferLegacyKeys:D}=K(),S=Jn(({id:l,values:f,resource:C,mutationMode:P,undoableTimeout:h,onCancel:M,meta:v,metaData:E,dataProviderName:k})=>{let{resource:I,identifier:F}=s(C),A=U({resource:I,meta:w(v,E)}),V=P??a,B=h??u;return V!=="undoable"?i(O(F,k,r)).update({resource:I.name,id:l,variables:f,meta:A,metaData:A}):new Promise((G,$)=>{let z=o(()=>{i(O(F,k,r)).update({resource:I.name,id:l,variables:f,meta:A,metaData:A}).then(W=>G(W)).catch(W=>$(W))},"doMutation"),H=o(()=>{$({message:"mutationCancelled"})},"cancelMutation");M&&M(H),g({type:"ADD",payload:{id:l,resource:F,cancelMutation:H,doMutation:z,seconds:B,isSilent:!!M}})})},{onMutate:async({resource:l,id:f,mutationMode:C,values:P,dataProviderName:h,meta:M,metaData:v,optimisticUpdateMap:E={list:!0,many:!0,detail:!0}})=>{let{identifier:k}=s(l),I=w(M,v),F=Xe(D)(k,O(k,h,r),I),A=b().data(O(k,h,r)).resource(k),V=n.getQueriesData(A.get(D)),B=C??a;return await n.cancelQueries(A.get(D),void 0,{silent:!0}),B!=="pessimistic"&&(E.list&&n.setQueriesData(A.action("list").params(I??{}).get(D),Q=>{if(typeof E.list=="function")return E.list(Q,P,f);if(!Q)return null;let G=Q.data.map($=>{var z;return((z=$.id)==null?void 0:z.toString())===(f==null?void 0:f.toString())?{id:f,...$,...P}:$});return{...Q,data:G}}),E.many&&n.setQueriesData(A.action("many").get(D),Q=>{if(typeof E.many=="function")return E.many(Q,P,f);if(!Q)return null;let G=Q.data.map($=>{var z;return((z=$.id)==null?void 0:z.toString())===(f==null?void 0:f.toString())&&($={id:f,...$,...P}),$});return{...Q,data:G}}),E.detail&&n.setQueriesData(A.action("one").id(f).params(I??{}).get(D),Q=>typeof E.detail=="function"?E.detail(Q,P,f):Q?{...Q,data:{...Q.data,...P}}:null)),{previousQueries:V,queryKey:F}},onSettled:(l,f,{id:C,resource:P,dataProviderName:h,invalidates:M=["list","many","detail"]})=>{let{identifier:v}=s(P);L({resource:v,dataProviderName:O(v,h,r),invalidates:M,id:C}),g({type:"REMOVE",payload:{id:C,resource:v}})},onSuccess:(l,{id:f,resource:C,successNotification:P,dataProviderName:h,values:M,meta:v,metaData:E},k)=>{var X;let{resource:I,identifier:F}=s(C),A=y.singular(F),V=O(F,h,r),B=U({resource:I,meta:w(v,E)}),Q=typeof P=="function"?P(l,{id:f,values:M},F):P;R(Q,{key:`${f}-${F}-notification`,description:d("notifications.success","Successful"),message:d("notifications.editSuccess",{resource:d(`${F}.${F}`,A)},`Successfully updated ${A}`),type:"success"}),m==null||m({channel:`resources/${I.name}`,type:"updated",payload:{ids:(X=l.data)!=null&&X.id?[l.data.id]:void 0},date:new Date,meta:{...B,dataProviderName:V}});let G;if(k){let j=n.getQueryData(k.queryKey.detail(f));G=Object.keys(M||{}).reduce((J,xe)=>{var be;return J[xe]=(be=j==null?void 0:j.data)==null?void 0:be[xe],J},{})}let{fields:$,operation:z,variables:H,...W}=B||{};T==null||T.mutate({action:"update",resource:I.name,data:M,previousData:G,meta:{id:f,dataProviderName:V,...W}})},onError:(l,{id:f,resource:C,errorNotification:P,values:h},M)=>{let{identifier:v}=s(C);if(M)for(let E of M.previousQueries)n.setQueryData(E[0],E[1]);if(l.message!=="mutationCancelled"){p==null||p(l);let E=y.singular(v),k=typeof P=="function"?P(l,{id:f,values:h},v):P;R(k,{key:`${f}-${v}-notification`,message:d("notifications.editError",{resource:d(`${v}.${v}`,E),statusCode:l.statusCode},`Error when updating ${E} (status code: ${l.statusCode})`),description:l.message,type:"error"})}},mutationKey:b().data().mutation("update").get(D),...e,meta:{...e==null?void 0:e.meta,...Yn("useUpdate",D)}}),{elapsedTime:x}=ee({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:x}}},"useUpdate");import{getXRay as ea}from"@refinedev/devtools-internal";import{useMutation as ta}from"@tanstack/react-query";var Wt=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Z(),{mutate:s}=ae({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=te(),i=Ce(),{resources:a,select:u}=N(),d=_(),c=Fe(),{log:p}=Ve(),m=ie(),T=Y(),{options:{textTransformers:g}}=oe(),{keys:R,preferLegacyKeys:L}=K(),U=ta(({resource:b,values:D,meta:S,metaData:x,dataProviderName:l})=>{let{resource:f,identifier:C}=u(b),P=T({resource:f,meta:w(S,x)});return n(O(C,l,a)).create({resource:f.name,variables:D,meta:P,metaData:P})},{onSuccess:(b,{resource:D,successNotification:S,dataProviderName:x,invalidates:l=["list","many"],values:f,meta:C,metaData:P})=>{var Q,G;let{resource:h,identifier:M}=u(D),v=g.singular(M),E=O(M,x,a),k=T({resource:h,meta:w(C,P)}),I=typeof S=="function"?S(b,f,M):S;m(I,{key:`create-${M}-notification`,message:d("notifications.createSuccess",{resource:d(`${M}.${M}`,v)},`Successfully created ${v}`),description:d("notifications.success","Success"),type:"success"}),i({resource:M,dataProviderName:E,invalidates:l}),c==null||c({channel:`resources/${h.name}`,type:"created",payload:{ids:(Q=b==null?void 0:b.data)!=null&&Q.id?[b.data.id]:void 0},date:new Date,meta:{...k,dataProviderName:E}});let{fields:F,operation:A,variables:V,...B}=k||{};p==null||p.mutate({action:"create",resource:h.name,data:f,meta:{dataProviderName:E,id:((G=b==null?void 0:b.data)==null?void 0:G.id)??void 0,...B}})},onError:(b,{resource:D,errorNotification:S,values:x})=>{s(b);let{identifier:l}=u(D),f=g.singular(l),C=typeof S=="function"?S(b,x,l):S;m(C,{key:`create-${l}-notification`,description:b.message,message:d("notifications.createError",{resource:d(`${l}.${l}`,f),statusCode:b.statusCode},`There was an error creating ${f} (status code: ${b.statusCode})`),type:"error"})},mutationKey:R().data().mutation("create").get(L),...e,meta:{...e==null?void 0:e.meta,...ea("useCreate",L)}}),{elapsedTime:y}=ee({isLoading:U.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...U,overtime:{elapsedTime:y}}},"useCreate");import{getXRay as ra}from"@refinedev/devtools-internal";import{useMutation as oa,useQueryClient as sa}from"@tanstack/react-query";var na=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Z(),{mutate:s}=ae({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=te(),{resources:i,select:a}=N(),u=sa(),{mutationMode:d,undoableTimeout:c}=$e(),{notificationDispatch:p}=_e(),m=_(),T=Fe(),{log:g}=Ve(),R=ie(),L=Ce(),U=Y(),{options:{textTransformers:y}}=oe(),{keys:b,preferLegacyKeys:D}=K(),S=oa(({id:l,mutationMode:f,undoableTimeout:C,resource:P,onCancel:h,meta:M,metaData:v,dataProviderName:E,values:k})=>{let{resource:I,identifier:F}=a(P),A=U({resource:I,meta:w(M,v)}),V=f??d,B=C??c;return V!=="undoable"?n(O(F,E,i)).deleteOne({resource:I.name,id:l,meta:A,metaData:A,variables:k}):new Promise((G,$)=>{let z=o(()=>{n(O(F,E,i)).deleteOne({resource:I.name,id:l,meta:A,metaData:A,variables:k}).then(W=>G(W)).catch(W=>$(W))},"doMutation"),H=o(()=>{$({message:"mutationCancelled"})},"cancelMutation");h&&h(H),p({type:"ADD",payload:{id:l,resource:F,cancelMutation:H,doMutation:z,seconds:B,isSilent:!!h}})})},{onMutate:async({id:l,resource:f,mutationMode:C,dataProviderName:P,meta:h,metaData:M})=>{let{identifier:v}=a(f),E=w(h,M),k=Xe(D)(v,O(v,P,i),E),I=b().data(O(v,P,i)).resource(v),F=C??d;await u.cancelQueries(I.get(D),void 0,{silent:!0});let A=u.getQueriesData(I.get(D));return F!=="pessimistic"&&(u.setQueriesData(I.action("list").params(E??{}).get(D),V=>V?{data:V.data.filter(Q=>{var G;return((G=Q.id)==null?void 0:G.toString())!==l.toString()}),total:V.total-1}:null),u.setQueriesData(I.action("many").get(D),V=>{if(!V)return null;let B=V.data.filter(Q=>{var G;return((G=Q.id)==null?void 0:G.toString())!==(l==null?void 0:l.toString())});return{...V,data:B}})),{previousQueries:A,queryKey:k}},onSettled:(l,f,{id:C,resource:P,dataProviderName:h,invalidates:M=["list","many"]})=>{let{identifier:v}=a(P);L({resource:v,dataProviderName:O(v,h,i),invalidates:M}),p({type:"REMOVE",payload:{id:C,resource:v}})},onSuccess:(l,{id:f,resource:C,successNotification:P,dataProviderName:h,meta:M,metaData:v},E)=>{let{resource:k,identifier:I}=a(C),F=y.singular(I),A=O(I,h,i),V=U({resource:k,meta:w(M,v)});u.removeQueries(E==null?void 0:E.queryKey.detail(f));let B=typeof P=="function"?P(l,f,I):P;R(B,{key:`${f}-${I}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${I}.${I}`,F)},`Successfully deleted a ${F}`),type:"success"}),T==null||T({channel:`resources/${k.name}`,type:"deleted",payload:{ids:[f]},date:new Date,meta:{...V,dataProviderName:A}});let{fields:Q,operation:G,variables:$,...z}=V||{};g==null||g.mutate({action:"delete",resource:k.name,meta:{id:f,dataProviderName:A,...z}}),u.removeQueries(E==null?void 0:E.queryKey.detail(f))},onError:(l,{id:f,resource:C,errorNotification:P},h)=>{let{identifier:M}=a(C);if(h)for(let v of h.previousQueries)u.setQueryData(v[0],v[1]);if(l.message!=="mutationCancelled"){s(l);let v=y.singular(M),E=typeof P=="function"?P(l,f,M):P;R(E,{key:`${f}-${M}-notification`,message:m("notifications.deleteError",{resource:v,statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})}},mutationKey:b().data().mutation("delete").get(D),...e,meta:{...e==null?void 0:e.meta,...ra("useDelete",D)}}),{elapsedTime:x}=ee({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:x}}},"useDelete");import{getXRay as aa}from"@refinedev/devtools-internal";import{useMutation as ia}from"@tanstack/react-query";var oo=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=te(),{resources:s,select:n}=N(),i=_(),a=Fe(),u=ie(),d=Ce(),{log:c}=Ve(),p=Y(),{options:{textTransformers:m}}=oe(),{keys:T,preferLegacyKeys:g}=K(),R=ia(({resource:U,values:y,meta:b,metaData:D,dataProviderName:S})=>{let{resource:x,identifier:l}=n(U),f=p({resource:x,meta:w(b,D)}),C=r(O(l,S,s));return C.createMany?C.createMany({resource:x.name,variables:y,meta:f,metaData:f}):Ze(y.map(P=>C.create({resource:x.name,variables:P,meta:f,metaData:f})))},{onSuccess:(U,{resource:y,successNotification:b,dataProviderName:D,invalidates:S=["list","many"],values:x,meta:l,metaData:f})=>{let{resource:C,identifier:P}=n(y),h=m.plural(P),M=O(P,D,s),v=p({resource:C,meta:w(l,f)}),E=typeof b=="function"?b(U,x,P):b;u(E,{key:`createMany-${P}-notification`,message:i("notifications.createSuccess",{resource:i(`${P}.${P}`,P)},`Successfully created ${h}`),description:i("notifications.success","Success"),type:"success"}),d({resource:P,dataProviderName:M,invalidates:S});let k=U==null?void 0:U.data.filter(B=>(B==null?void 0:B.id)!==void 0).map(B=>B.id);a==null||a({channel:`resources/${C.name}`,type:"created",payload:{ids:k},date:new Date,meta:{...v,dataProviderName:M}});let{fields:I,operation:F,variables:A,...V}=v||{};c==null||c.mutate({action:"createMany",resource:C.name,data:x,meta:{dataProviderName:M,ids:k,...V}})},onError:(U,{resource:y,errorNotification:b,values:D})=>{let{identifier:S}=n(y),x=typeof b=="function"?b(U,D,S):b;u(x,{key:`createMany-${S}-notification`,description:U.message,message:i("notifications.createError",{resource:i(`${S}.${S}`,S),statusCode:U.statusCode},`There was an error creating ${S} (status code: ${U.statusCode}`),type:"error"})},mutationKey:T().data().mutation("createMany").get(g),...e,meta:{...e==null?void 0:e.meta,...aa("useCreateMany",g)}}),{elapsedTime:L}=ee({isLoading:R.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...R,overtime:{elapsedTime:L}}},"useCreateMany");import{getXRay as ua}from"@refinedev/devtools-internal";import{useMutation as ca,useQueryClient as da}from"@tanstack/react-query";var pa=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:s}=N(),n=da(),i=te(),a=_(),{mutationMode:u,undoableTimeout:d}=$e(),c=Z(),{mutate:p}=ae({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),{notificationDispatch:m}=_e(),T=Fe(),g=ie(),R=Ce(),{log:L}=Ve(),U=Y(),{options:{textTransformers:y}}=oe(),{keys:b,preferLegacyKeys:D}=K(),S=ca(({ids:l,values:f,resource:C,onCancel:P,mutationMode:h,undoableTimeout:M,meta:v,metaData:E,dataProviderName:k})=>{let{resource:I,identifier:F}=s(C),A=U({resource:I,meta:w(v,E)}),V=h??u,B=M??d,Q=i(O(F,k,r)),G=o(()=>Q.updateMany?Q.updateMany({resource:I.name,ids:l,variables:f,meta:A,metaData:A}):Ze(l.map(z=>Q.update({resource:I.name,id:z,variables:f,meta:A,metaData:A}))),"mutationFn");return V!=="undoable"?G():new Promise((z,H)=>{let W=o(()=>{G().then(j=>z(j)).catch(j=>H(j))},"doMutation"),X=o(()=>{H({message:"mutationCancelled"})},"cancelMutation");P&&P(X),m({type:"ADD",payload:{id:l,resource:F,cancelMutation:X,doMutation:W,seconds:B,isSilent:!!P}})})},{onMutate:async({resource:l,ids:f,values:C,mutationMode:P,dataProviderName:h,meta:M,metaData:v,optimisticUpdateMap:E={list:!0,many:!0,detail:!0}})=>{let{identifier:k}=s(l),I=w(M,v),F=Xe(D)(k,O(k,h,r),w(M,v)),A=b().data(O(k,h,r)).resource(k),V=P??u;await n.cancelQueries(A.get(D),void 0,{silent:!0});let B=n.getQueriesData(A.get(D));if(V!=="pessimistic"&&(E.list&&n.setQueriesData(A.action("list").params(I??{}).get(D),Q=>{if(typeof E.list=="function")return E.list(Q,C,f);if(!Q)return null;let G=Q.data.map($=>$.id!==void 0&&f.filter(z=>z!==void 0).map(String).includes($.id.toString())?{...$,...C}:$);return{...Q,data:G}}),E.many&&n.setQueriesData(A.action("many").get(D),Q=>{if(typeof E.many=="function")return E.many(Q,C,f);if(!Q)return null;let G=Q.data.map($=>$.id!==void 0&&f.filter(z=>z!==void 0).map(String).includes($.id.toString())?{...$,...C}:$);return{...Q,data:G}}),E.detail))for(let Q of f)n.setQueriesData(A.action("one").id(Q).params(I??{}).get(D),G=>{if(typeof E.detail=="function")return E.detail(G,C,Q);if(!G)return null;let $={...G.data,...C};return{...G,data:$}});return{previousQueries:B,queryKey:F}},onSettled:(l,f,{ids:C,resource:P,dataProviderName:h})=>{let{identifier:M}=s(P);R({resource:M,invalidates:["list","many"],dataProviderName:O(M,h,r)}),C.forEach(v=>R({resource:M,invalidates:["detail"],dataProviderName:O(M,h,r),id:v})),m({type:"REMOVE",payload:{id:C,resource:M}})},onSuccess:(l,{ids:f,resource:C,meta:P,metaData:h,dataProviderName:M,successNotification:v,values:E},k)=>{let{resource:I,identifier:F}=s(C),A=y.singular(F),V=O(F,M,r),B=U({resource:I,meta:w(P,h)}),Q=typeof v=="function"?v(l,{ids:f,values:E},F):v;g(Q,{key:`${f}-${F}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${F}.${F}`,F)},`Successfully updated ${A}`),type:"success"}),T==null||T({channel:`resources/${I.name}`,type:"updated",payload:{ids:f.map(String)},date:new Date,meta:{...B,dataProviderName:V}});let G=[];k&&f.forEach(X=>{let j=n.getQueryData(k.queryKey.detail(X));G.push(Object.keys(E||{}).reduce((J,xe)=>{var be;return J[xe]=(be=j==null?void 0:j.data)==null?void 0:be[xe],J},{}))});let{fields:$,operation:z,variables:H,...W}=B||{};L==null||L.mutate({action:"updateMany",resource:I.name,data:E,previousData:G,meta:{ids:f,dataProviderName:V,...W}})},onError:(l,{ids:f,resource:C,errorNotification:P,values:h},M)=>{let{identifier:v}=s(C);if(M)for(let E of M.previousQueries)n.setQueryData(E[0],E[1]);if(l.message!=="mutationCancelled"){p==null||p(l);let E=y.singular(v),k=typeof P=="function"?P(l,{ids:f,values:h},v):P;g(k,{key:`${f}-${v}-updateMany-error-notification`,message:a("notifications.editError",{resource:E,statusCode:l.statusCode},`Error when updating ${E} (status code: ${l.statusCode})`),description:l.message,type:"error"})}},mutationKey:b().data().mutation("updateMany").get(D),...e,meta:{...e==null?void 0:e.meta,...ua("useUpdateMany",D)}}),{elapsedTime:x}=ee({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:x}}},"useUpdateMany");import{getXRay as la}from"@refinedev/devtools-internal";import{useMutation as ma,useQueryClient as fa}from"@tanstack/react-query";var ya=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Z(),{mutate:s}=ae({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:n,undoableTimeout:i}=$e(),a=te(),{notificationDispatch:u}=_e(),d=_(),c=Fe(),p=ie(),m=Ce(),{log:T}=Ve(),{resources:g,select:R}=N(),L=fa(),U=Y(),{options:{textTransformers:y}}=oe(),{keys:b,preferLegacyKeys:D}=K(),S=ma(({resource:l,ids:f,mutationMode:C,undoableTimeout:P,onCancel:h,meta:M,metaData:v,dataProviderName:E,values:k})=>{let{resource:I,identifier:F}=R(l),A=U({resource:I,meta:w(M,v)}),V=C??n,B=P??i,Q=a(O(F,E,g)),G=o(()=>Q.deleteMany?Q.deleteMany({resource:I.name,ids:f,meta:A,metaData:A,variables:k}):Ze(f.map(z=>Q.deleteOne({resource:I.name,id:z,meta:A,metaData:A,variables:k}))),"mutationFn");return V!=="undoable"?G():new Promise((z,H)=>{let W=o(()=>{G().then(j=>z(j)).catch(j=>H(j))},"doMutation"),X=o(()=>{H({message:"mutationCancelled"})},"cancelMutation");h&&h(X),u({type:"ADD",payload:{id:f,resource:F,cancelMutation:X,doMutation:W,seconds:B,isSilent:!!h}})})},{onMutate:async({ids:l,resource:f,mutationMode:C,dataProviderName:P,meta:h,metaData:M})=>{let{identifier:v}=R(f),E=w(h,M),k=Xe(D)(v,O(v,P,g),E),I=b().data(O(v,P,g)).resource(v),F=C??n;await L.cancelQueries(I.get(D),void 0,{silent:!0});let A=L.getQueriesData(I.get(D));if(F!=="pessimistic"){L.setQueriesData(I.action("list").params(E??{}).get(D),V=>V?{data:V.data.filter(Q=>Q.id&&!l.map(String).includes(Q.id.toString())),total:V.total-1}:null),L.setQueriesData(I.action("many").get(D),V=>{if(!V)return null;let B=V.data.filter(Q=>Q.id?!l.map(String).includes(Q.id.toString()):!1);return{...V,data:B}});for(let V of l)L.setQueriesData(I.action("one").id(V).params(E).get(D),B=>!B||B.data.id==V?null:{...B})}return{previousQueries:A,queryKey:k}},onSettled:(l,f,{resource:C,ids:P,dataProviderName:h,invalidates:M=["list","many"]})=>{let{identifier:v}=R(C);m({resource:v,dataProviderName:O(v,h,g),invalidates:M}),u({type:"REMOVE",payload:{id:P,resource:v}})},onSuccess:(l,{ids:f,resource:C,meta:P,metaData:h,dataProviderName:M,successNotification:v},E)=>{let{resource:k,identifier:I}=R(C),F=O(I,M,g),A=U({resource:k,meta:w(P,h)});f.forEach(z=>L.removeQueries(E==null?void 0:E.queryKey.detail(z)));let V=typeof v=="function"?v(l,f,I):v;p(V,{key:`${f}-${I}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${I}.${I}`,I)},`Successfully deleted ${I}`),type:"success"}),c==null||c({channel:`resources/${k.name}`,type:"deleted",payload:{ids:f},date:new Date,meta:{...A,dataProviderName:F}});let{fields:B,operation:Q,variables:G,...$}=A||{};T==null||T.mutate({action:"deleteMany",resource:k.name,meta:{ids:f,dataProviderName:F,...$}}),f.forEach(z=>L.removeQueries(E==null?void 0:E.queryKey.detail(z)))},onError:(l,{ids:f,resource:C,errorNotification:P},h)=>{let{identifier:M}=R(C);if(h)for(let v of h.previousQueries)L.setQueryData(v[0],v[1]);if(l.message!=="mutationCancelled"){s(l);let v=y.singular(M),E=typeof P=="function"?P(l,f,M):P;p(E,{key:`${f}-${M}-notification`,message:d("notifications.deleteError",{resource:v,statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})}},mutationKey:b().data().mutation("deleteMany").get(D),...e,meta:{...e==null?void 0:e.meta,...la("useDeleteMany",D)}}),{elapsedTime:x}=ee({isLoading:S.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...S,overtime:{elapsedTime:x}}},"useDeleteMany");var ga=o(e=>{var n;let t=te(),{resource:r}=N(),{getApiUrl:s}=t(e??((n=w(r==null?void 0:r.meta,r==null?void 0:r.options))==null?void 0:n.dataProviderName));return s()},"useApiUrl");import{useQuery as Ta}from"@tanstack/react-query";import{getXRay as Ra}from"@refinedev/devtools-internal";var Pa=o(({url:e,method:t,config:r,queryOptions:s,successNotification:n,errorNotification:i,meta:a,metaData:u,dataProviderName:d,overtimeOptions:c})=>{let p=te(),m=Z(),{mutate:T}=ae({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),g=_(),R=ie(),L=Y(),{keys:U,preferLegacyKeys:y}=K(),b=w(a,u),{custom:D}=p(d),S=L({meta:b});if(D){let x=Ta({queryKey:U().data(d).mutation("custom").params({method:t,url:e,...r,...b||{}}).get(y),queryFn:({queryKey:f,pageParam:C,signal:P})=>D({url:e,method:t,...r,meta:{...S,queryContext:{queryKey:f,pageParam:C,signal:P}},metaData:{...S,queryContext:{queryKey:f,pageParam:C,signal:P}}}),...s,onSuccess:f=>{var P;(P=s==null?void 0:s.onSuccess)==null||P.call(s,f);let C=typeof n=="function"?n(f,{...r,...S}):n;R(C)},onError:f=>{var P;T(f),(P=s==null?void 0:s.onError)==null||P.call(s,f);let C=typeof i=="function"?i(f,{...r,...S}):i;R(C,{key:`${t}-notification`,message:g("notifications.error",{statusCode:f.statusCode},`Error (status code: ${f.statusCode})`),description:f.message,type:"error"})},meta:{...s==null?void 0:s.meta,...Ra("useCustom",y)}}),{elapsedTime:l}=ee({isLoading:x.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...x,overtime:{elapsedTime:l}}}else throw Error("Not implemented custom on data provider.")},"useCustom");import{useMutation as xa}from"@tanstack/react-query";import{getXRay as Ca}from"@refinedev/devtools-internal";var ha=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Z(),{mutate:s}=ae({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),n=ie(),i=te(),a=_(),u=Y(),{keys:d,preferLegacyKeys:c}=K(),p=xa(({url:T,method:g,values:R,meta:L,metaData:U,dataProviderName:y,config:b})=>{let D=u({meta:w(L,U)}),{custom:S}=i(y);if(S)return S({url:T,method:g,payload:R,meta:D,metaData:D,headers:{...b==null?void 0:b.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(T,{successNotification:g,config:R,meta:L,metaData:U})=>{let y=typeof g=="function"?g(T,{...R,...w(L,U)||{}}):g;n(y)},onError:(T,{errorNotification:g,method:R,config:L,meta:U,metaData:y})=>{s(T);let b=typeof g=="function"?g(T,{...L,...w(U,y)||{}}):g;n(b,{key:`${R}-notification`,message:a("notifications.error",{statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})},mutationKey:d().data().mutation("customMutation").get(c),...e,meta:{...e==null?void 0:e.meta,...Ca("useCustomMutation",c)}}),{elapsedTime:m}=ee({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:m}}},"useCustomMutation");import{useCallback as va,useContext as Da}from"react";import ms from"react";var ba=o(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),zt=ms.createContext(ba()),fs=o(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},ms.createElement(zt.Provider,{value:r},e)},"DataContextProvider");var te=o(()=>{let e=Da(zt);return va(r=>{if(r){if(!e[r])throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider");import{getXRay as La}from"@refinedev/devtools-internal";import{useInfiniteQuery as Ea}from"@tanstack/react-query";var Ua=o(({resource:e,config:t,filters:r,hasPagination:s,pagination:n,sorters:i,queryOptions:a,successNotification:u,errorNotification:d,meta:c,metaData:p,liveMode:m,onLiveEvent:T,liveParams:g,dataProviderName:R,overtimeOptions:L})=>{let{resources:U,resource:y,identifier:b}=N(e),D=te(),S=_(),x=Z(),{mutate:l}=ae({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),f=ie(),C=Y(),{keys:P,preferLegacyKeys:h}=K(),M=O(b,R,U),v=w(c,p),E=w(r,t==null?void 0:t.filters),k=w(i,t==null?void 0:t.sort),I=w(s,t==null?void 0:t.hasPagination),F=Nt({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:I}),A=F.mode==="server",V={meta:v,metaData:v,filters:E,hasPagination:A,pagination:F,sorters:k,config:{...t,sort:k}},B=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,Q=C({resource:y,meta:v}),{getList:G}=D(M);st({resource:b,types:["*"],params:{meta:Q,metaData:Q,pagination:F,hasPagination:A,sort:k,sorters:k,filters:E,subscriptionType:"useList",...g},channel:`resources/${y.name}`,enabled:B,liveMode:m,onLiveEvent:T,dataProviderName:M,meta:{...Q,dataProviderName:R}});let $=Ea(P().data(M).resource(b).action("infinite").params({...v||{},filters:E,hasPagination:A,...A&&{pagination:F},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(h),({queryKey:H,pageParam:W,signal:X})=>{let j={...F,current:W};return G({resource:y.name,pagination:j,hasPagination:A,filters:E,sort:k,sorters:k,meta:{...Q,queryContext:{queryKey:H,pageParam:W,signal:X}},metaData:{...Q,queryContext:{queryKey:H,pageParam:W,signal:X}}}).then(({data:J,total:xe,...be})=>({data:J,total:xe,pagination:j,...be}))},{getNextPageParam:H=>lr(H),getPreviousPageParam:H=>mr(H),...a,onSuccess:H=>{var X;(X=a==null?void 0:a.onSuccess)==null||X.call(a,H);let W=typeof u=="function"?u(H,V,b):u;f(W)},onError:H=>{var X;l(H),(X=a==null?void 0:a.onError)==null||X.call(a,H);let W=typeof d=="function"?d(H,V,b):d;f(W,{key:`${b}-useInfiniteList-notification`,message:S("notifications.error",{statusCode:H.statusCode},`Error (status code: ${H.statusCode})`),description:H.message,type:"error"})},meta:{...a==null?void 0:a.meta,...La("useInfiniteList",h)}}),{elapsedTime:z}=ee({isLoading:$.isFetching,interval:L==null?void 0:L.interval,onInterval:L==null?void 0:L.onInterval});return{...$,overtime:{elapsedTime:z}}},"useInfiniteList");import ys from"react";var Ye=ys.createContext(void 0),gs=o(({liveProvider:e,children:t})=>ys.createElement(Ye.Provider,{value:e},t),"LiveContextProvider");import{useCallback as Ka}from"react";import{useQueryClient as Ha}from"@tanstack/react-query";import{useContext as Va}from"react";import Rs from"react";import{useMemo as wa}from"react";import{useRef as Ma}from"react";import Ia from"lodash-es/isEqual";var Ts=o(e=>{let t=Ma(e);return Ia(t.current,e)||(t.current=e),t.current},"useMemoized");var Er=o((e,t)=>{let r=Ts(t);return wa(e,r)},"useDeepMemo");var nt=Rs.createContext({resources:[]}),Ps=o(({resources:e,children:t})=>{let r=Er(()=>fr(e??[]),[e]);return Rs.createElement(nt.Provider,{value:{resources:r}},t)},"ResourceContextProvider");import xs from"react";var Cs=xs.createContext("new"),hs=Cs.Provider,q=o(()=>xs.useContext(Cs),"useRouterType");import Fa from"react";import Sa,{createContext as Aa}from"react";var bs={},Je=Aa(bs),vs=o(({children:e,router:t})=>Sa.createElement(Je.Provider,{value:t??bs},e),"RouterBindingsProvider");import ka,{useContext as Qa}from"react";var so=o(()=>{let e=Qa(Je);return ka.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse");var fe=o(()=>{let e=so();return Fa.useMemo(()=>e(),[e])},"useParsed");function N(e){let{resources:t}=Va(nt),r=q(),s=fe(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=o((m,T=!0)=>{let R=ce(m,t,r==="legacy");if(R)return{resource:R,identifier:R.identifier??R.name};if(T){let L={name:m,identifier:m},U=L.identifier??L.name;return{resource:L,identifier:U}}},"select"),a=Ds(),{useParams:u}=ne(),d=u();if(r==="legacy"){let m=n.resourceNameOrRouteName?n.resourceNameOrRouteName:d.resource,T=m?a(m):void 0,g=(n==null?void 0:n.recordItemId)??d.id,R=d.action,L=(n==null?void 0:n.resourceName)??(T==null?void 0:T.name),U=(T==null?void 0:T.identifier)??(T==null?void 0:T.name);return{resources:t,resource:T,resourceName:L,id:g,action:R,select:i,identifier:U}}let c,p=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(p){let m=ce(p,t);m?c=m:c={name:p}}else s!=null&&s.resource&&(c=s.resource);return{resources:t,resource:c,resourceName:c==null?void 0:c.name,id:s.id,action:s.action,select:i,identifier:(c==null?void 0:c.identifier)??(c==null?void 0:c.name)}}o(N,"useResource");import{useContext as Ba,useCallback as Na}from"react";var Ds=o(()=>{let{resources:e}=Ba(nt);return Na(r=>{let s=ce(r,e,!0);return s||{name:r,route:r}},[e])},"useResourceWithRoute");var Ce=o(()=>{let{resources:e}=N(),t=Ha(),{keys:r,preferLegacyKeys:s}=K();return Ka(async({resource:i,dataProviderName:a,invalidates:u,id:d,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:p={cancelRefetch:!1}})=>{if(u===!1)return;let m=O(i,a,e),T=r().data(m).resource(i??"");await Promise.all(u.map(g=>{switch(g){case"all":return t.invalidateQueries(r().data(m).get(s),c,p);case"list":return t.invalidateQueries(T.action("list").get(s),c,p);case"many":return t.invalidateQueries(T.action("many").get(s),c,p);case"resourceAll":return t.invalidateQueries(T.get(s),c,p);case"detail":return t.invalidateQueries(T.action("one").id(d||"").get(s),c,p);default:return}}))},[])},"useInvalidate");import{useContext as Ls,useEffect as Ga}from"react";var st=o(({resource:e,params:t,channel:r,types:s,enabled:n=!0,liveMode:i,onLiveEvent:a,dataProviderName:u,meta:d})=>{var y;let{resource:c,identifier:p}=N(e),m=Ls(Ye),{liveMode:T,onLiveEvent:g}=Ls(Ee),R=i??T,L=Ce(),U=u??(d==null?void 0:d.dataProviderName)??((y=c==null?void 0:c.meta)==null?void 0:y.dataProviderName);Ga(()=>{let b,D=o(S=>{R==="auto"&&L({resource:p,dataProviderName:U,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),a==null||a(S),g==null||g(S)},"callback");return R&&R!=="off"&&n&&(b=m==null?void 0:m.subscribe({channel:r,params:{resource:c==null?void 0:c.name,...t},types:s,callback:D,dataProviderName:U,meta:{...d,dataProviderName:U}})),()=>{b&&(m==null||m.unsubscribe(b))}},[n])},"useResourceSubscription");import{useContext as $a}from"react";var Es=o(e=>{let{liveMode:t}=$a(Ee);return e??t},"useLiveMode");import{useContext as Wa,useEffect as za}from"react";var qR=o(({params:e,channel:t,types:r=["*"],enabled:s=!0,onLiveEvent:n,dataProviderName:i="default",meta:a})=>{let u=Wa(Ye);za(()=>{let d;return s&&(d=u==null?void 0:u.subscribe({channel:t,params:e,types:r,callback:n,dataProviderName:i,meta:{...a,dataProviderName:i}})),()=>{d&&(u==null||u.unsubscribe(d))}},[s])},"useSubscription");import{useContext as Oa}from"react";var Fe=o(()=>{let e=Oa(Ye);return e==null?void 0:e.publish},"usePublish");import{useContext as _a}from"react";var _e=o(()=>{let{notifications:e,notificationDispatch:t}=_a(Dr);return{notifications:e,notificationDispatch:t}},"useCancelNotification");import{useContext as Za}from"react";import ja,{createContext as Xa}from"react";var Ot=Xa({}),Us=o(({open:e,close:t,children:r})=>ja.createElement(Ot.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider");var Me=o(()=>{let{open:e,close:t}=Za(Ot);return{open:e,close:t}},"useNotification");import{useCallback as Ya}from"react";var ie=o(()=>{let{open:e}=Me();return Ya((r,s)=>{r!==!1&&(r?e==null||e(r):s&&(e==null||e(s)))},[])},"useHandleNotification");import{useCallback as Ja,useContext as qa}from"react";import Ms from"react";var Be=Ms.createContext({}),Is=o(({children:e,i18nProvider:t})=>Ms.createElement(Be.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider");var ei=o(()=>{let{i18nProvider:e}=qa(Be);return Ja(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale");import{useContext as ti,useMemo as ri}from"react";var _=o(()=>{let{i18nProvider:e}=ti(Be);return ri(()=>{function r(s,n,i){return(e==null?void 0:e.translate(s,n,i))??i??(typeof n=="string"&&typeof i>"u"?n:s)}return o(r,"translate"),r},[e])},"useTranslate");import{useContext as oi,useCallback as si}from"react";var ni=o(()=>{let{i18nProvider:e}=oi(Be);return si(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale");import{useState as ai}from"react";import{ExportToCsv as ii}from"export-to-csv-fix-source-map";var zP=o(({resourceName:e,resource:t,sorter:r,sorters:s,filters:n,maxItemCount:i,pageSize:a=20,mapData:u=o(g=>g,"mapData"),exportOptions:d,meta:c,metaData:p,dataProviderName:m,onError:T}={})=>{let[g,R]=ai(!1),L=te(),U=Y(),{resource:y,resources:b,identifier:D}=N(w(t,e)),x=`${bt()(D,"plural")}-${new Date().toLocaleString()}`,{getList:l}=L(O(D,m,b)),f=U({resource:y,meta:w(c,p)});return{isLoading:g,triggerExport:o(async()=>{R(!0);let P=[],h=1,M=!0;for(;M;)try{let{data:E,total:k}=await l({resource:(y==null?void 0:y.name)??"",filters:n,sort:w(s,r),sorters:w(s,r),pagination:{current:h,pageSize:a,mode:"server"},meta:f,metaData:f});h++,P.push(...E),i&&P.length>=i&&(P=P.slice(0,i),M=!1),k===P.length&&(M=!1)}catch(E){R(!1),M=!1,T==null||T(E);return}new ii({filename:x,useKeysAsHeaders:!0,...d}).generateCsv(P.map(u)),R(!1)},"triggerExport")}},"useExport");import no from"react";import ui from"warn-once";import ci from"lodash-es/debounce";var ax=o(({resource:e,action:t,id:r,onMutationSuccess:s,onMutationError:n,redirect:i,successNotification:a,errorNotification:u,meta:d,metaData:c,queryMeta:p,mutationMeta:m,mutationMode:T,liveMode:g,onLiveEvent:R,liveParams:L,undoableTimeout:U,dataProviderName:y,invalidates:b,queryOptions:D,createMutationOptions:S,updateMutationOptions:x,overtimeOptions:l,autoSave:f,optimisticUpdateMap:C}={})=>{let P=Ce(),{options:h}=oe(),M=Y(),{resource:v,id:E,action:k,identifier:I}=N(e),{identifier:F}=N(),V=o(()=>{let me=r??E;return e&&e!==F?r:me},"getDefaultId")(),[B,Q]=no.useState(V);no.useEffect(()=>{Q(V)},[V]);let $=o(()=>t||(k==="edit"||k==="clone"?k:"create"),"getAction")(),z=M({resource:v,meta:w(d,c)}),{mutationMode:H}=$e(),W=T??H,X=$==="create",j=$==="edit",J=$==="clone";ui((J||j)&&!!e&&!r&&(D==null?void 0:D.enabled)!==!1,`[useForm]: action: "${$}", resource: "${I}", id: ${B} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let xe=Nr({redirectFromProps:i,action:$,redirectOptions:h.redirect}),wt=$t({resource:I,id:B??"",queryOptions:{enabled:B!==void 0&&(j||J),...D},liveMode:g,onLiveEvent:R,liveParams:L,meta:{...z,...p},metaData:{...z,...p},dataProviderName:y}),{isFetching:it}=wt,ut=Wt({mutationOptions:S}),{mutate:yt,isLoading:gt}=ut,Tt=Lr({mutationOptions:x}),{mutate:Xt,isLoading:Sr}=Tt,ze=Lr({}),{setWarnWhen:St}=Kt(),Ke=ws(),Zt=o(async me=>{St(!1);let ke=o(we=>{Ke({redirect:xe,resource:v,id:we,meta:w(d,c)})},"onSuccess");return W!=="pessimistic"&&setTimeout(()=>{ke()}),new Promise((we,tt)=>{if(W!=="pessimistic"&&we(),!!v)return yt({values:me,resource:I??v.name,successNotification:a,errorNotification:u,meta:{...z,...m},metaData:{...z,...m},dataProviderName:y,invalidates:b},{onSuccess:(ve,rt,ot)=>{var kt;s&&s(ve,me,ot);let dt=(kt=ve==null?void 0:ve.data)==null?void 0:kt.id;ke(dt),we(ve)},onError:(ve,rt,ot)=>{if(n)return n(ve,me,ot);tt()}})})},"onFinishCreate");no.useEffect(()=>()=>{f!=null&&f.invalidateOnUnmount&&ze.status==="success"&&P({id:B,invalidates:b||["list","many","detail"],dataProviderName:y,resource:I})},[f==null?void 0:f.invalidateOnUnmount,ze.status]);let ct=o(me=>{if(!v||!j)return;let ke={id:B??"",values:me,resource:I??v.name,successNotification:!1,errorNotification:!1,meta:{...z,...m},metaData:{...z,...m},dataProviderName:y,invalidates:[],mutationMode:"pessimistic"};return ze.mutate(ke,{onSuccess:(we,tt,ve)=>{s&&s(we,me,ve,!0)},onError:(we,tt,ve)=>{if(n)return n(we,me,ve,!0)}})},"onFinishAutoSaveMutation"),Rt=ci(me=>ct(me),(f==null?void 0:f.debounce)||1e3),At=X||J?{formLoading:it||gt,mutationResult:ut,onFinish:Zt}:{formLoading:it||Sr,mutationResult:Tt,onFinish:o(async me=>{if(St(!1),!v)return;let ke={id:B??"",values:me,resource:I??v.name,mutationMode:W,undoableTimeout:U,successNotification:a,errorNotification:u,meta:{...z,...m},metaData:{...z,...m},dataProviderName:y,invalidates:b,optimisticUpdateMap:C},we=o(()=>{Ke({redirect:xe,resource:v,id:B,meta:w(d,c)})},"onSuccess");return W!=="pessimistic"&&setTimeout(()=>{we()}),new Promise((tt,ve)=>(W!=="pessimistic"&&tt(),setTimeout(()=>{Xt(ke,{onSuccess:(rt,ot,dt)=>{s&&s(rt,me,dt),W==="pessimistic"&&we(),tt(rt)},onError:(rt,ot,dt)=>{if(n)return n(rt,me,dt);ve()}})})))},"onFinishUpdate")},{elapsedTime:kr}=ee({isLoading:At.mutationResult.isLoading||wt.isFetching,interval:l==null?void 0:l.interval,onInterval:l==null?void 0:l.onInterval});return{...At,queryResult:wt,onFinishAutoSave:Rt,autoSaveProps:{status:ze.status,data:ze.data,error:ze.error},id:B,setId:Q,redirect:(me,ke)=>{Ke({redirect:me!==void 0?me:j?"list":"edit",resource:v,id:ke??B,meta:w(d,c)})},overtime:{elapsedTime:kr}}},"useForm");import{useCallback as di}from"react";var ws=o(()=>{let{show:e,edit:t,list:r,create:s}=pe();return di(({redirect:i,resource:a,id:u,meta:d={}})=>{if(i&&a)return a.show&&i==="show"&&u?e(a,u,void 0,d):a.edit&&i==="edit"&&u?t(a,u,void 0,d):a.create&&i==="create"?s(a,void 0,d):r(a,"push",d)},[])},"useRedirectionAfterSubmission");import li,{useCallback as mi,useContext as fi}from"react";import pi from"react";var pt=o(()=>{let e=q(),{resource:t,resources:r}=N(),s=fe();return pi.useCallback(({resource:i,action:a,meta:u})=>{var T;let d=i||t;if(!d)return;let p=(T=Te(d,r,e==="legacy").find(g=>g.action===a))==null?void 0:T.route;return p?Ue(p,d==null?void 0:d.meta,s,u):void 0},[r,t,s])},"useGetToPath");var le=o(()=>{let e=fi(Je),{select:t}=N(),r=pt(),n=li.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return mi(a=>{if(typeof a.to!="object")return n({...a,to:a.to});let{resource:u}=t(a.to.resource);yi(a.to,u);let d=r({resource:u,action:a.to.action,meta:{id:a.to.id}});return n({...a,to:d})},[t,n])},"useGo"),yi=o((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors");import gi,{useContext as Ti}from"react";var ao=o(()=>{let e=Ti(Je);return gi.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack");var pe=o(()=>{let{resources:e}=N(),t=q(),{useHistory:r}=ne(),s=r(),n=fe(),i=le(),a=ao(),u=o((x,l="push")=>{t==="legacy"?s[l](x):i({to:x,type:l})},"handleUrl"),d=o((x,l={})=>{var f;if(t==="legacy"){let C=typeof x=="string"?ce(x,e,!0)??{name:x,route:x}:x,P=Te(C,e,!0).find(h=>h.action==="create");return P?Ue(P.route,C==null?void 0:C.meta,n,l):""}else{let C=typeof x=="string"?ce(x,e)??{name:x}:x,P=(f=Te(C,e).find(h=>h.action==="create"))==null?void 0:f.route;return P?i({to:Ue(P,C==null?void 0:C.meta,n,l),type:"path"}):""}},"createUrl"),c=o((x,l,f={})=>{var P;let C=encodeURIComponent(l);if(t==="legacy"){let h=typeof x=="string"?ce(x,e,!0)??{name:x,route:x}:x,M=Te(h,e,!0).find(v=>v.action==="edit");return M?Ue(M.route,h==null?void 0:h.meta,n,{...f,id:C}):""}else{let h=typeof x=="string"?ce(x,e)??{name:x}:x,M=(P=Te(h,e).find(v=>v.action==="edit"))==null?void 0:P.route;return M?i({to:Ue(M,h==null?void 0:h.meta,n,{...f,id:C}),type:"path"}):""}},"editUrl"),p=o((x,l,f={})=>{var P;let C=encodeURIComponent(l);if(t==="legacy"){let h=typeof x=="string"?ce(x,e,!0)??{name:x,route:x}:x,M=Te(h,e,!0).find(v=>v.action==="clone");return M?Ue(M.route,h==null?void 0:h.meta,n,{...f,id:C}):""}else{let h=typeof x=="string"?ce(x,e)??{name:x}:x,M=(P=Te(h,e).find(v=>v.action==="clone"))==null?void 0:P.route;return M?i({to:Ue(M,h==null?void 0:h.meta,n,{...f,id:C}),type:"path"}):""}},"cloneUrl"),m=o((x,l,f={})=>{var P;let C=encodeURIComponent(l);if(t==="legacy"){let h=typeof x=="string"?ce(x,e,!0)??{name:x,route:x}:x,M=Te(h,e,!0).find(v=>v.action==="show");return M?Ue(M.route,h==null?void 0:h.meta,n,{...f,id:C}):""}else{let h=typeof x=="string"?ce(x,e)??{name:x}:x,M=(P=Te(h,e).find(v=>v.action==="show"))==null?void 0:P.route;return M?i({to:Ue(M,h==null?void 0:h.meta,n,{...f,id:C}),type:"path"}):""}},"showUrl"),T=o((x,l={})=>{var f;if(t==="legacy"){let C=typeof x=="string"?ce(x,e,!0)??{name:x,route:x}:x,P=Te(C,e,!0).find(h=>h.action==="list");return P?Ue(P.route,C==null?void 0:C.meta,n,l):""}else{let C=typeof x=="string"?ce(x,e)??{name:x}:x,P=(f=Te(C,e).find(h=>h.action==="list"))==null?void 0:f.route;return P?i({to:Ue(P,C==null?void 0:C.meta,n,l),type:"path"}):""}},"listUrl");return{create:o((x,l="push",f={})=>{u(d(x,f),l)},"create"),createUrl:d,edit:o((x,l,f="push",C={})=>{u(c(x,l,C),f)},"edit"),editUrl:c,clone:o((x,l,f="push",C={})=>{u(p(x,l,C),f)},"clone"),cloneUrl:p,show:o((x,l,f="push",C={})=>{u(m(x,l,C),f)},"show"),showUrl:m,list:o((x,l="push",f={})=>{u(T(x,f),l)},"list"),listUrl:T,push:o((x,...l)=>{t==="legacy"?s.push(x,...l):i({to:x,type:"push"})},"push"),replace:o((x,...l)=>{t==="legacy"?s.replace(x,...l):i({to:x,type:"replace"})},"replace"),goBack:o(()=>{t==="legacy"?s.goBack():a()},"goBack")}},"useNavigation");import Ri,{useState as Pi}from"react";import xi from"warn-once";var Xx=o(({resource:e,id:t,successNotification:r,errorNotification:s,meta:n,metaData:i,liveMode:a,onLiveEvent:u,dataProviderName:d,queryOptions:c,overtimeOptions:p}={})=>{let{resource:m,id:T,identifier:g}=N(e),{identifier:R}=N(),L=Y(),y=o(()=>{let f=t??T;return e&&e!==R?t:f},"getDefaultId")(),[b,D]=Pi(y);Ri.useEffect(()=>{D(y)},[y]);let S=L({resource:m,meta:w(n,i)});xi(!!e&&!t,`[useShow]: resource: "${g}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let x=$t({resource:g,id:b??"",queryOptions:{enabled:b!==void 0,...c},successNotification:r,errorNotification:s,meta:S,metaData:S,liveMode:a,onLiveEvent:u,dataProviderName:d}),{elapsedTime:l}=ee({isLoading:x.isFetching,interval:p==null?void 0:p.interval,onInterval:p==null?void 0:p.onInterval});return{queryResult:x,showId:b,setShowId:D,overtime:{elapsedTime:l}}},"useShow");import{useEffect as Ci,useState as io}from"react";import{parse as hi}from"papaparse";import bi from"lodash-es/chunk";var sC=o(({resourceName:e,resource:t,mapData:r=o(p=>p,"mapData"),paparseOptions:s,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:i,meta:a,metaData:u,onProgress:d,dataProviderName:c}={})=>{let[p,m]=io(0),[T,g]=io(0),[R,L]=io(!1),{resource:U,identifier:y}=N(t??e),b=Y(),D=oo(),S=Wt(),x=b({resource:U,meta:w(a,u)}),l;n===1?l=S:l=D;let f=o(()=>{g(0),m(0),L(!1)},"handleCleanup"),C=o(h=>{let M={succeeded:h.filter(v=>v.type==="success"),errored:h.filter(v=>v.type==="error")};i==null||i(M),L(!1)},"handleFinish");Ci(()=>{d==null||d({totalAmount:T,processedAmount:p})},[T,p]);let P=o(({file:h})=>(f(),new Promise(M=>{L(!0),hi(h,{complete:async({data:v})=>{let E=qt(v,r);if(g(E.length),n===1){let k=E.map(F=>o(async()=>({response:await S.mutateAsync({resource:y??"",values:F,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:x,metaData:x}),value:F}),"fn")),I=await pr(k,({response:F,value:A})=>(m(V=>V+1),{response:[F.data],type:"success",request:[A]}),(F,A)=>({response:[F],type:"error",request:[E[A]]}));M(I)}else{let k=bi(E,n),I=k.map(A=>o(async()=>({response:await D.mutateAsync({resource:y??"",values:A,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:x,metaData:x}),value:A,currentBatchLength:A.length}),"fn")),F=await pr(I,({response:A,currentBatchLength:V,value:B})=>(m(Q=>Q+V),{response:A.data,type:"success",request:B}),(A,V)=>({response:[A],type:"error",request:k[V]}));M(F)}},...s})}).then(M=>(C(M),M))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:h=>{h.target.files&&h.target.files.length>0&&P({file:h.target.files[0]})}},mutationResult:l,isLoading:R,handleChange:P}},"useImport");import{useCallback as Ss,useState as vi}from"react";var uC=o(({defaultVisible:e=!1}={})=>{let[t,r]=vi(e),s=Ss(()=>r(!0),[t]),n=Ss(()=>r(!1),[t]);return{visible:t,show:s,close:n}},"useModal");var Di=o(({resource:e,action:t,meta:r,legacy:s})=>pt()({resource:e,action:t,meta:r,legacy:s}),"useToPath");import Li,{useContext as Ei}from"react";var lt=o(()=>{let e=Ei(Je);return e!=null&&e.Link?e.Link:o(({to:r,...s})=>Li.createElement("a",{href:r,...s}),"FallbackLink")},"useLink");import{useContext as Mi}from"react";import As from"react";var qe={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Ui=As.createContext(qe),_t=Ui,ks=o(({children:e,useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a})=>As.createElement(_t.Provider,{value:{useHistory:t??qe.useHistory,useLocation:r??qe.useLocation,useParams:s??qe.useParams,Prompt:n??qe.Prompt,Link:i??qe.Link,routes:a??qe.routes}},e),"LegacyRouterContextProvider");var ne=o(()=>{let e=Mi(_t),{useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a}=e??qe;return{useHistory:t,useLocation:r,useParams:s,Prompt:n,Link:i,routes:a}},"useRouterContext");import{useQuery as Ii}from"@tanstack/react-query";import{useContext as wi}from"react";import Qs from"react";var at=Qs.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}});var Fs=o(({can:e,children:t,options:r})=>Qs.createElement(at.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider");var Lt=o(e=>{if(!e)return;let{icon:t,list:r,edit:s,create:n,show:i,clone:a,children:u,meta:d,options:c,...p}=e,{icon:m,...T}=d??{},{icon:g,...R}=c??{};return{...p,...d?{meta:T}:{},...c?{options:R}:{}}},"sanitizeResource");import{getXRay as Si}from"@refinedev/devtools-internal";var Vs=o(({action:e,resource:t,params:r,queryOptions:s})=>{let{can:n}=wi(at),{keys:i,preferLegacyKeys:a}=K(),{resource:u,...d}=r??{},c=Lt(u),p=Ii(i().access().resource(t).action(e).params({params:{...d,resource:c},enabled:s==null?void 0:s.enabled}).get(a),()=>(n==null?void 0:n({action:e,resource:t,params:{...d,resource:c}}))??Promise.resolve({can:!0}),{enabled:typeof n<"u",...s,meta:{...s==null?void 0:s.meta,...Si("useCan",a)},retry:!1});return typeof n>"u"?{data:{can:!0}}:p},"useCan");import Bs from"react";var YC=o(()=>{let{can:e}=Bs.useContext(at);return{can:Bs.useMemo(()=>e?o(async({params:s,...n})=>{let i=s!=null&&s.resource?Lt(s.resource):void 0;return e({...n,...s?{params:{...s,resource:i}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache");import{useCallback as Ns,useMemo as Ai,useState as uo}from"react";import ki from"lodash-es/uniqBy";import Qi from"lodash-es/debounce";import Ur from"lodash-es/get";var dh=o(e=>{let[t,r]=uo([]),[s,n]=uo([]),[i,a]=uo([]),{resource:u,sort:d,sorters:c,filters:p=[],optionLabel:m="title",optionValue:T="id",debounce:g=300,successNotification:R,errorNotification:L,defaultValueQueryOptions:U,queryOptions:y,fetchSize:b,pagination:D,hasPagination:S=!1,liveMode:x,defaultValue:l=[],onLiveEvent:f,onSearch:C,liveParams:P,meta:h,metaData:M,dataProviderName:v,overtimeOptions:E}=e,{resource:k,identifier:I}=N(u),A=Y()({resource:k,meta:w(h,M)}),V=Array.isArray(l)?l:[l],B=Ns(j=>{a(j.data.map(J=>({label:Ur(J,m),value:Ur(J,T)})))},[m,T]),Q=U??y,G=qr({resource:I,ids:V,queryOptions:{...Q,enabled:V.length>0&&((Q==null?void 0:Q.enabled)??!0),onSuccess:j=>{var J;B(j),(J=Q==null?void 0:Q.onSuccess)==null||J.call(Q,j)}},meta:A,metaData:A,liveMode:"off",dataProviderName:v}),$=Ns(j=>{n(j.data.map(J=>({label:Ur(J,m),value:Ur(J,T)})))},[m,T]),z=Gt({resource:I,sorters:w(c,d),filters:p.concat(t),pagination:{current:D==null?void 0:D.current,pageSize:(D==null?void 0:D.pageSize)??b,mode:D==null?void 0:D.mode},hasPagination:S,queryOptions:{...y,onSuccess:j=>{var J;$(j),(J=y==null?void 0:y.onSuccess)==null||J.call(y,j)}},successNotification:R,errorNotification:L,meta:A,metaData:A,liveMode:x,liveParams:P,onLiveEvent:f,dataProviderName:v}),H=o(j=>{if(C){r(C(j));return}if(j)r([{field:m,operator:"contains",value:j}]);else{r([]);return}},"onSearch"),{elapsedTime:W}=ee({isLoading:z.isFetching||G.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval}),X=Ai(()=>ki([...s,...i],"value"),[s,i]);return{queryResult:z,defaultValueQueryResult:G,options:X,onSearch:Qi(H,g),overtime:{elapsedTime:W}}},"useSelect");import Fi,{useState as Mr,useEffect as Ks}from"react";import Hs from"qs";import Ir from"lodash-es/differenceWith";import wr from"lodash-es/isEqual";import Vi from"warn-once";var Gs=[],$s=[];function Dh({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:s,initialSorter:n,permanentSorter:i=$s,defaultSetFilterBehavior:a,initialFilter:u,permanentFilter:d=Gs,filters:c,sorters:p,syncWithLocation:m,resource:T,successNotification:g,errorNotification:R,queryOptions:L,liveMode:U,onLiveEvent:y,liveParams:b,meta:D,metaData:S,dataProviderName:x,overtimeOptions:l}={}){var kt,yo,go,To,Ro;let{syncWithLocation:f}=Hr(),C=m??f,P=Es(U),h=q(),{useLocation:M}=ne(),{search:v,pathname:E}=M(),k=Y(),I=fe(),F=((c==null?void 0:c.mode)||"server")==="server",A=((p==null?void 0:p.mode)||"server")==="server",V=r===!1?"off":"server",B=((s==null?void 0:s.mode)??V)!=="off",Q=w(s==null?void 0:s.current,e),G=w(s==null?void 0:s.pageSize,t),$=w(D,S),{parsedCurrent:z,parsedPageSize:H,parsedSorter:W,parsedFilters:X}=Rr(v??"?"),j=w(c==null?void 0:c.initial,u),J=w(c==null?void 0:c.permanent,d)??Gs,xe=w(p==null?void 0:p.initial,n),be=w(p==null?void 0:p.permanent,i)??$s,wt=w(c==null?void 0:c.defaultBehavior,a)??"merge",it,ut,yt,gt;C?(it=((kt=I==null?void 0:I.params)==null?void 0:kt.current)||z||Q||1,ut=((yo=I==null?void 0:I.params)==null?void 0:yo.pageSize)||H||G||10,yt=((go=I==null?void 0:I.params)==null?void 0:go.sorters)||(W.length?W:xe),gt=((To=I==null?void 0:I.params)==null?void 0:To.filters)||(X.length?X:j)):(it=Q||1,ut=G||10,yt=xe,gt=j);let{replace:Tt}=pe(),Xt=le(),{resource:Sr,identifier:ze}=N(T),St=k({resource:Sr,meta:$});Fi.useEffect(()=>{Vi(typeof ze>"u","useTable: `resource` is not defined.")},[ze]);let[Ke,Zt]=Mr(hr(be,yt??[])),[ct,Rt]=Mr(Cr(J,gt??[])),[Pt,Ar]=Mr(it),[et,At]=Mr(ut),kr=o(({pagination:{current:ge,pageSize:Qe},sorter:Yt,filters:Jt})=>{if(h==="new")return Xt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...B?{current:ge,pageSize:Qe}:{},sorters:Yt,filters:Jt,...me()}})??"";{let Qt=Hs.parse(v==null?void 0:v.substring(1)),mn=Pr({pagination:{pageSize:Qe,current:ge},sorters:Ke??Yt,filters:Jt,...Qt});return`${E??""}?${mn??""}`}},"createLinkForSyncWithLocation");Ks(()=>{v===""&&(Ar(it),At(ut),Zt(hr(be,yt??[])),Rt(Cr(J,gt??[])))},[v]);let me=o(()=>{if(h==="new"){let{sorters:ge,filters:Qe,pageSize:Yt,current:Jt,...Qt}=(I==null?void 0:I.params)??{};return Qt}else{let{sorter:ge,filters:Qe,pageSize:Yt,current:Jt,...Qt}=Hs.parse(v,{ignoreQueryPrefix:!0});return Qt}},"currentQueryParams");Ks(()=>{if(C){let ge=me();if(h==="new")Xt({type:"replace",options:{keepQuery:!0},query:{...B?{pageSize:et,current:Pt}:{},sorters:Ir(Ke,be,wr),filters:Ir(ct,J,wr)}});else{let Qe=Pr({...B?{pagination:{pageSize:et,current:Pt}}:{},sorters:Ir(Ke,be,wr),filters:Ir(ct,J,wr),...ge});return Tt==null?void 0:Tt(`${E}?${Qe}`,void 0,{shallow:!0})}}},[C,Pt,et,Ke,ct]);let ke=Gt({resource:ze,hasPagination:r,pagination:{current:Pt,pageSize:et,mode:s==null?void 0:s.mode},filters:F?vt(J,ct):void 0,sorters:A?xr(be,Ke):void 0,queryOptions:L,successNotification:g,errorNotification:R,meta:St,metaData:St,liveMode:P,liveParams:b,onLiveEvent:y,dataProviderName:x}),we=o(ge=>{Rt(Qe=>vt(J,ge,Qe))},"setFiltersAsMerge"),tt=o(ge=>{Rt(vt(J,ge))},"setFiltersAsReplace"),ve=o(ge=>{Rt(Qe=>vt(J,ge(Qe)))},"setFiltersWithSetter"),rt=o((ge,Qe=wt)=>{typeof ge=="function"?ve(ge):Qe==="replace"?tt(ge):we(ge)},"setFiltersFn"),ot=o(ge=>{Zt(()=>xr(be,ge))},"setSortWithUnion"),{elapsedTime:dt}=ee({isLoading:ke.isFetching,interval:l==null?void 0:l.interval,onInterval:l==null?void 0:l.onInterval});return{tableQueryResult:ke,sorters:Ke,setSorters:ot,sorter:Ke,setSorter:ot,filters:ct,setFilters:rt,current:Pt,setCurrent:Ar,pageSize:et,setPageSize:At,pageCount:et?Math.ceil((((Ro=ke.data)==null?void 0:Ro.total)??0)/et):1,createLinkForSyncWithLocation:kr,overtime:{elapsedTime:dt}}}o(Dh,"useTable");import{useContext as Os}from"react";import{useMutation as _s,useQueryClient as Bi}from"@tanstack/react-query";import Ws from"react";var mt=Ws.createContext({}),zs=o(({create:e,get:t,update:r,children:s})=>Ws.createElement(mt.Provider,{value:{create:e,get:t,update:r}},s),"AuditLogContextProvider");import{getXRay as js}from"@refinedev/devtools-internal";var Ve=o(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=Bi(),s=Os(mt),{keys:n,preferLegacyKeys:i}=K(),a=Z(),{resources:u}=Os(nt),{data:d,refetch:c,isLoading:p}=$r({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy),queryOptions:{enabled:!!(s!=null&&s.create)}}),m=_s(async g=>{var y,b,D,S,x;let R=ce(g.resource,u),L=w((y=R==null?void 0:R.meta)==null?void 0:y.audit,(b=R==null?void 0:R.options)==null?void 0:b.audit,(S=(D=R==null?void 0:R.options)==null?void 0:D.auditLog)==null?void 0:S.permissions);if(L&&!Qr(L,g.action))return;let U;return p&&(s!=null&&s.create)&&(U=await c()),await((x=s.create)==null?void 0:x.call(s,{...g,author:d??(U==null?void 0:U.data)}))},{mutationKey:n().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...js("useLog",i)}}),T=_s(async g=>{var R;return await((R=s.update)==null?void 0:R.call(s,g))},{onSuccess:g=>{g!=null&&g.resource&&r.invalidateQueries(n().audit().resource((g==null?void 0:g.resource)??"").action("list").get(i))},mutationKey:n().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...js("useLog",i)}});return{log:m,rename:T}},"useLog");import{useContext as Ni}from"react";import{useQuery as Ki}from"@tanstack/react-query";import{getXRay as Hi}from"@refinedev/devtools-internal";var Jh=o(({resource:e,action:t,meta:r,author:s,metaData:n,queryOptions:i})=>{let{get:a}=Ni(mt),{keys:u,preferLegacyKeys:d}=K();return Ki(u().audit().resource(e).action("list").params(r).get(d),()=>(a==null?void 0:a({resource:e,action:t,author:s,meta:r,metaData:n}))??Promise.resolve([]),{enabled:typeof a<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...Hi("useLogList",d)}})},"useLogList");import{useContext as Gi}from"react";import $i from"warn-once";var lb=o(({meta:e={}}={})=>{let t=q(),{i18nProvider:r}=Gi(Be),s=fe(),n=_(),{resources:i,resource:a,action:u}=N(),{options:{textTransformers:d}}=oe(),c=[];if(!(a!=null&&a.name))return{breadcrumbs:c};let p=o(m=>{var g,R,L,U,y,b;let T=typeof m=="string"?ce(m,i,t==="legacy")??{name:m}:m;if(T){let D=w((g=T==null?void 0:T.meta)==null?void 0:g.parent,T==null?void 0:T.parentName);D&&p(D);let S=Te(T,i,t==="legacy").find(f=>f.action==="list"),x=(R=S==null?void 0:S.resource)!=null&&R.list?S==null?void 0:S.route:void 0,l=x?t==="legacy"?x:Ue(x,T==null?void 0:T.meta,s,e):void 0;c.push({label:w((L=T.meta)==null?void 0:L.label,(U=T.options)==null?void 0:U.label)??n(`${T.name}.${T.name}`,d.humanize(T.name)),href:l,icon:w((y=T.meta)==null?void 0:y.icon,(b=T.options)==null?void 0:b.icon,T.icon)})}},"addBreadcrumb");if(p(a),u&&u!=="list"){let m=`actions.${u}`,T=n(m);typeof r<"u"&&T===m?($i(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:n(`buttons.${u}`,d.humanize(u))})):c.push({label:n(m,d.humanize(u))})}return{breadcrumbs:c}},"useBreadcrumb");import co from"react";var Et=o((e,t,r=!1)=>{let s=[],n=Se(e,t);for(;n;)s.push(n),n=Se(n,t);return s.reverse(),`/${[...s,e].map(a=>Pe((r?a.route:void 0)??a.identifier??a.name)).join("/").replace(/^\//,"")}`},"createResourceKey");var Xs=o((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{let i=[],a=Se(n,e);for(;a;)i.push(a),a=Se(a,e);i.reverse();let u=r;i.forEach(c=>{let p=(t?c.route:void 0)??c.identifier??c.name;u.children[p]||(u.children[p]={item:c,children:{}}),u=u.children[p]});let d=(t?n.route:void 0)??n.identifier??n.name;u.children[d]||(u.children[d]={item:n,children:{}})});let s=o(n=>{let i=[];return Object.keys(n.children).forEach(a=>{let u=Et(n.children[a].item,e,t),d={...n.children[a].item,key:u,children:s(n.children[a])};i.push(d)}),i},"flatten");return s(r)},"createTree");var Zs=o(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Wi=o(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=_(),s=pt(),n=q(),{resource:i,resources:a}=N(),{pathname:u}=fe(),{useLocation:d}=ne(),{pathname:c}=d(),p=bt(),T=`/${((n==="legacy"?Zs(c):u?Zs(u):void 0)??"").replace(/^\//,"")}`,g=i?Et(i,a,n==="legacy"):T??"",R=co.useMemo(()=>{if(!i)return[];let y=Se(i,a),b=[Et(i,a)];for(;y;)b.push(Et(y,a)),y=Se(y,a);return b},[]),L=co.useCallback(y=>{var D,S,x,l,f,C;if((((D=y==null?void 0:y.meta)==null?void 0:D.hide)??((S=y==null?void 0:y.options)==null?void 0:S.hide))||!(y!=null&&y.list)&&y.children.length===0)return;let b=y.list?s({resource:y,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&b&&b.match(/(\/|^):(.+?)(\/|$){1}/)))return{...y,route:b,icon:w((x=y.meta)==null?void 0:x.icon,(l=y.options)==null?void 0:l.icon,y.icon),label:w((f=y==null?void 0:y.meta)==null?void 0:f.label,(C=y==null?void 0:y.options)==null?void 0:C.label)??r(`${y.name}.${y.name}`,p(y.name,"plural"))}},[n,e,r,t]),U=co.useMemo(()=>{let y=Xs(a,n==="legacy"),b=o(D=>D.flatMap(S=>{let x=b(S.children),l=L({...S,children:x});return l?[l]:[]}),"prepare");return b(y)},[a,n,L]);return{defaultOpenKeys:R,selectedKey:g,menuItems:U}},"useMenu");var Y=o(()=>{let{params:e}=fe();return o(({resource:r,meta:s}={})=>{let{meta:n}=Lt(r)??{meta:{}},{filters:i,sorters:a,current:u,pageSize:d,...c}=e??{};return{...n,...c,...s}},"getMetaFn")},"useMeta");var _i=o(()=>{let[e,t]=Oi(),r=_(),{push:s}=pe(),n=le(),i=q(),{resource:a,action:u}=N();return zi(()=>{a&&u&&t(r("pages.error.info",{action:u,resource:a.name},`You may have forgotten to add the "${u}" component to "${a.name}" resource.`))},[a,u]),jt.createElement(jt.Fragment,null,jt.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&jt.createElement("p",null,e),jt.createElement("button",{onClick:()=>{i==="legacy"?s("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent");import he,{useState as Ys}from"react";var Vr=o(()=>{let[e,t]=Ys(""),[r,s]=Ys(""),n=_(),i=Z(),{mutate:a}=Ht({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return he.createElement(he.Fragment,null,he.createElement("h1",null,n("pages.login.title","Sign in your account")),he.createElement("form",{onSubmit:u=>{u.preventDefault(),a({username:e,password:r})}},he.createElement("table",null,he.createElement("tbody",null,he.createElement("tr",null,he.createElement("td",null,n("pages.login.username",void 0,"username"),":"),he.createElement("td",null,he.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),he.createElement("tr",null,he.createElement("td",null,n("pages.login.password",void 0,"password"),":"),he.createElement("td",null,he.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>s(u.target.value)}))))),he.createElement("br",null),he.createElement("input",{type:"submit",value:"login"})))},"LoginPage");import Ut from"react";import ye,{useState as po}from"react";var Js=o(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:s,contentProps:n,wrapperProps:i,renderContent:a,formProps:u,title:d=void 0})=>{let c=q(),p=lt(),{Link:m}=ne(),T=c==="legacy"?m:p,[g,R]=po(""),[L,U]=po(""),[y,b]=po(!1),D=_(),S=Z(),{mutate:x}=Ht({v3LegacyAuthProviderCompatible:!!(S!=null&&S.isLegacy)}),l=o((P,h)=>ye.createElement(T,{to:P},h),"renderLink"),f=o(()=>e?e.map(P=>ye.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ye.createElement("button",{onClick:()=>x({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,P.label??ye.createElement("label",null,P.label)))):null,"renderProviders"),C=ye.createElement("div",{...n},ye.createElement("h1",{style:{textAlign:"center"}},D("pages.login.title","Sign in to your account")),f(),ye.createElement("hr",null),ye.createElement("form",{onSubmit:P=>{P.preventDefault(),x({email:g,password:L,remember:y})},...u},ye.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ye.createElement("label",{htmlFor:"email-input"},D("pages.login.fields.email","Email")),ye.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:P=>R(P.target.value)}),ye.createElement("label",{htmlFor:"password-input"},D("pages.login.fields.password","Password")),ye.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:L,onChange:P=>U(P.target.value)}),s??ye.createElement(ye.Fragment,null,ye.createElement("label",{htmlFor:"remember-me-input"},D("pages.login.buttons.rememberMe","Remember me"),ye.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:y,value:y.toString(),onChange:()=>{b(!y)}}))),ye.createElement("br",null),r??l("/forgot-password",D("pages.login.buttons.forgotPassword","Forgot password?")),ye.createElement("input",{type:"submit",value:D("pages.login.signin","Sign in")}),t??ye.createElement("span",null,D("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",l("/register",D("pages.login.register","Sign up"))))));return ye.createElement("div",{...i},a?a(C,d):C)},"LoginPage");import Re,{useState as qs}from"react";var en=o(({providers:e,loginLink:t,wrapperProps:r,contentProps:s,renderContent:n,formProps:i,title:a=void 0})=>{let u=q(),d=lt(),{Link:c}=ne(),p=u==="legacy"?c:d,[m,T]=qs(""),[g,R]=qs(""),L=_(),U=Z(),{mutate:y,isLoading:b}=_r({v3LegacyAuthProviderCompatible:!!(U!=null&&U.isLegacy)}),D=o((l,f)=>Re.createElement(p,{to:l},f),"renderLink"),S=o(()=>e?e.map(l=>Re.createElement("div",{key:l.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Re.createElement("button",{onClick:()=>y({providerName:l.name}),style:{display:"flex",alignItems:"center"}},l==null?void 0:l.icon,l.label??Re.createElement("label",null,l.label)))):null,"renderProviders"),x=Re.createElement("div",{...s},Re.createElement("h1",{style:{textAlign:"center"}},L("pages.register.title","Sign up for your account")),S(),Re.createElement("hr",null),Re.createElement("form",{onSubmit:l=>{l.preventDefault(),y({email:m,password:g})},...i},Re.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Re.createElement("label",{htmlFor:"email-input"},L("pages.register.fields.email","Email")),Re.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:l=>T(l.target.value)}),Re.createElement("label",{htmlFor:"password-input"},L("pages.register.fields.password","Password")),Re.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:g,onChange:l=>R(l.target.value)}),Re.createElement("input",{type:"submit",value:L("pages.register.buttons.submit","Sign up"),disabled:b}),t??Re.createElement(Re.Fragment,null,Re.createElement("span",null,L("pages.login.buttons.haveAccount","Have an account?")," ",D("/login",L("pages.login.signin","Sign in")))))));return Re.createElement("div",{...r},n?n(x,a):x)},"RegisterPage");import Ne,{useState as ji}from"react";var tn=o(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:s,formProps:n,title:i=void 0})=>{let a=_(),u=q(),d=lt(),{Link:c}=ne(),p=u==="legacy"?c:d,[m,T]=ji(""),{mutate:g,isLoading:R}=Xr(),L=o((y,b)=>Ne.createElement(p,{to:y},b),"renderLink"),U=Ne.createElement("div",{...r},Ne.createElement("h1",{style:{textAlign:"center"}},a("pages.forgotPassword.title","Forgot your password?")),Ne.createElement("hr",null),Ne.createElement("form",{onSubmit:y=>{y.preventDefault(),g({email:m})},...n},Ne.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ne.createElement("label",{htmlFor:"email-input"},a("pages.forgotPassword.fields.email","Email")),Ne.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:y=>T(y.target.value)}),Ne.createElement("input",{type:"submit",disabled:R,value:a("pages.forgotPassword.buttons.submit","Send reset instructions")}),Ne.createElement("br",null),e??Ne.createElement("span",null,a("pages.register.buttons.haveAccount","Have an account? ")," ",L("/login",a("pages.login.signin","Sign in"))))));return Ne.createElement("div",{...t},s?s(U,i):U)},"ForgotPasswordPage");import We,{useState as rn}from"react";var on=o(({wrapperProps:e,contentProps:t,renderContent:r,formProps:s,title:n=void 0})=>{let i=_(),a=Z(),{mutate:u,isLoading:d}=Yr({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),[c,p]=rn(""),[m,T]=rn(""),g=We.createElement("div",{...t},We.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),We.createElement("hr",null),We.createElement("form",{onSubmit:R=>{R.preventDefault(),u({password:c,confirmPassword:m})},...s},We.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},We.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),We.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:c,onChange:R=>p(R.target.value)}),We.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),We.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:m,onChange:R=>T(R.target.value)}),We.createElement("input",{type:"submit",disabled:d,value:i("pages.updatePassword.buttons.submit","Update")}))));return We.createElement("div",{...e},r?r(g,n):g)},"UpdatePasswordPage");var Xi=o(e=>{let{type:t}=e;return Ut.createElement(Ut.Fragment,null,o(()=>{switch(t){case"register":return Ut.createElement(en,{...e});case"forgotPassword":return Ut.createElement(tn,{...e});case"updatePassword":return Ut.createElement(on,{...e});default:return Ut.createElement(Js,{...e})}},"renderView")())},"AuthPage");import Ie from"react";var lo=o(()=>Ie.createElement(Ie.Fragment,null,Ie.createElement("h1",null,"Welcome on board"),Ie.createElement("p",null,"Your configuration is completed."),Ie.createElement("p",null,"Now you can get started by adding your resources to the"," ",Ie.createElement("code",null,"`resources`")," property of ",Ie.createElement("code",null,"`<Refine>`")),Ie.createElement("div",{style:{display:"flex",gap:8}},Ie.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Ie.createElement("button",null,"Documentation")),Ie.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Ie.createElement("button",null,"Examples")),Ie.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Ie.createElement("button",null,"Community")))),"ReadyPage");import re,{useState as Zi}from"react";var Yi=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:re.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:re.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),re.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:re.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),re.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:re.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Ji=o(()=>{let e=yr("(max-width: 1010px)"),t=yr("(max-width: 650px)"),r=o(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),s=o(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),n=o(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return re.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},re.createElement("div",{style:{height:"89px"}}),re.createElement("div",{style:{display:"flex",justifyContent:"center"}},re.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),re.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),re.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},re.createElement("h1",{style:{fontSize:s(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),re.createElement("h4",{style:{fontSize:n(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),re.createElement("div",{style:{height:"64px"}}),re.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},Yi.map(i=>re.createElement(qi,{key:`welcome-page-${i.title}`,card:i}))),re.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),qi=o(({card:e})=>{let{title:t,description:r,icon:s,link:n}=e,[i,a]=Zi(!1);return re.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},re.createElement("div",{style:{display:"flex",alignItems:"center"}},re.createElement("a",{onPointerEnter:()=>a(!0),onPointerLeave:()=>a(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:n},s,re.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),re.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},re.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),re.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card");import ue from"react";import{QueryClient as pn,QueryClientProvider as nu}from"@tanstack/react-query";import{useQuerySubscription as au}from"@refinedev/devtools-internal";import nn from"react";import{useContext as ft}from"react";var eu="4.44.12",sn=o(()=>{var b;let e=Jr(),t=ft(mt),r=ft(Ye),s=ft(_t),n=ft(zt),{i18nProvider:i}=ft(Be),a=ft(Ot),u=ft(at),{resources:d}=N(),c=oe(),p=!!t.create||!!t.get||!!t.update,m=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),T=!!s.useHistory||!!s.Link||!!s.Prompt||!!s.useLocation||!!s.useParams,g=!!n,R=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),L=!!a.close||!!a.open,U=!!u.can,y=(b=c==null?void 0:c.options)==null?void 0:b.projectId;return{providers:{auth:e,auditLog:p,live:m,router:T,data:g,i18n:R,notification:L,accessControl:U},version:eu,resourceCount:d.length,projectId:y}},"useTelemetryData");var tu=o(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),ru=o(e=>{let t=new Image;t.src=e},"throughImage"),ou=o(e=>{fetch(e)},"throughFetch"),su=o(e=>{typeof Image<"u"?ru(e):typeof fetch<"u"&&ou(e)},"transport"),an=o(()=>{let e=sn(),t=nn.useRef(!1);return nn.useEffect(()=>{if(t.current)return;let r=tu(e);r&&(su(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry");var un=o(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(n=>!t.includes(n));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse");import cn from"react";var dn=o(e=>{let t=cn.useRef(!1);cn.useEffect(()=>{t.current===!1&&e&&un(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning");var iu=o(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:s,routerProvider:n,notificationProvider:i,accessControlProvider:a,auditLogProvider:u,resources:d,DashboardPage:c,ReadyPage:p,LoginPage:m,catchAll:T,children:g,liveProvider:R,i18nProvider:L,Title:U,Layout:y,Sider:b,Header:D,Footer:S,OffLayoutArea:x,onLiveEvent:l,options:f})=>{let{optionsWithDefaults:C,disableTelemetryWithDefault:P,reactQueryWithDefaults:h}=Br({options:f}),M=Er(()=>{var I;return h.clientConfig instanceof pn?h.clientConfig:new pn({...h.clientConfig,defaultOptions:{...h.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(I=h.clientConfig.defaultOptions)==null?void 0:I.queries}}})},[h.clientConfig]);au(M);let E=ue.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(dn(n),s&&!n&&(d??[]).length===0)return p?ue.createElement(p,null):ue.createElement(lo,null);let{RouterComponent:k=ue.Fragment}=n?{}:s??{};return ue.createElement(nu,{client:M},ue.createElement(Us,{...E},ue.createElement(ko,{...e??{},isProvided:!!e},ue.createElement(Fo,{...t??{},isProvided:!!t},ue.createElement(fs,{...r},ue.createElement(gs,{liveProvider:R},ue.createElement(hs,{value:s&&!n?"legacy":"new"},ue.createElement(vs,{router:n},ue.createElement(ks,{...s},ue.createElement(Ps,{resources:d??[]},ue.createElement(Is,{i18nProvider:L},ue.createElement(Fs,{...a??{}},ue.createElement(zs,{...u??{}},ue.createElement(ro,null,ue.createElement(Io,{mutationMode:C.mutationMode,warnWhenUnsavedChanges:C.warnWhenUnsavedChanges,syncWithLocation:C.syncWithLocation,Title:U,undoableTimeout:C.undoableTimeout,catchAll:T,DashboardPage:c,LoginPage:m,Layout:y,Sider:b,Footer:S,Header:D,OffLayoutArea:x,hasDashboard:!!c,liveMode:C.liveMode,onLiveEvent:l,options:C},ue.createElement(No,null,ue.createElement(k,null,g,!P&&ue.createElement(an,null),ue.createElement(mo,null))))))))))))))))))},"Refine");import{useEffect as uu,useState as cu}from"react";var ls=o(({notification:e})=>{let t=_(),{notificationDispatch:r}=_e(),{open:s}=Me(),[n,i]=cu(),a=o(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||s==null||s({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Ft(e.seconds)},`You have ${Ft(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Ft(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(u)}},"cancelNotification");return uu(()=>{a()},[e]),null},"UndoableQueue");import fo,{useEffect as du}from"react";var pu=o(({children:e,Layout:t,Sider:r,Header:s,Title:n,Footer:i,OffLayoutArea:a})=>{let{Layout:u,Footer:d,Header:c,Sider:p,Title:m,OffLayoutArea:T}=oe();return fo.createElement(t??u,{Sider:r??p,Header:s??c,Footer:i??d,Title:n??m,OffLayoutArea:a??T},e,fo.createElement(lu,null))},"LayoutWrapper"),lu=o(()=>{let{Prompt:e}=ne(),t=_(),{warnWhen:r,setWarnWhen:s}=Kt(),n=o(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return du(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),fo.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:s})},"UnsavedPrompt");import Ae from"react";var mu=o(()=>{let e=le(),[t,r]=Ae.useState(void 0);return Ae.useEffect(()=>{t&&e(t)},[t]),Ae.useCallback(n=>{t||r(n)},[t])},"useDeferredGo");function fu({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:s,loading:n}){var C;let i=Z(),a=q(),u=!!(i!=null&&i.isProvided),d=!!(i!=null&&i.isLegacy),c=a==="legacy",p=fe(),m=le(),T=mu(),{replace:g}=pe(),{useLocation:R}=ne(),L=R(),{isLoading:U,isFetching:y,isSuccess:b,data:{authenticated:D,redirectTo:S}={},refetch:x}=vr({v3LegacyAuthProviderCompatible:d});Ae.useEffect(()=>{x()},[r,s]);let l=Ae.useRef({status:U?"initial":"pending",content:n??null});y?l.current.status="pending":y||(l.current.status="settled");let f=u?d?b:D:!0;if(l.current.status==="settled")if(f)l.current.content=Ae.createElement(Ae.Fragment,null,r??null);else if(typeof s<"u")l.current.content=Ae.createElement(Ae.Fragment,null,s);else{let P=`${c?L==null?void 0:L.pathname:p.pathname}`.replace(/(\?.*|#.*)$/,""),h=d?typeof e=="string"?e:"/login":typeof e=="string"?e:S;if(h)if(c){let M=t?`?to=${encodeURIComponent(P)}`:"";g(`${h}${M}`)}else T({to:h,query:t?{to:(C=p.params)!=null&&C.to?p.params.to:m({to:P,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return u?Ae.createElement(Ae.Fragment,null,l.current.content):Ae.createElement(Ae.Fragment,null,r??null)}o(fu,"Authenticated");import{useEffect as yu}from"react";var mo=o(()=>{let{useLocation:e}=ne(),{checkAuth:t}=se(),r=e();return yu(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler");import Mt,{useEffect as gu}from"react";var Tu=o(({resource:e,action:t,params:r,fallback:s,onUnauthorized:n,children:i,...a})=>{let{resource:u,id:d,action:c}=N(e),{identifier:p}=N(),T=o(()=>{let y=(r==null?void 0:r.id)??d;return e&&e!==p?r==null?void 0:r.id:y},"getDefaultId")(),g=e??(u==null?void 0:u.name),R=t??c??"",L=r??{id:T,resource:u},{data:U}=Vs({resource:g,action:R,params:L});return gu(()=>{n&&(U==null?void 0:U.can)===!1&&n({resource:g,action:R,reason:U==null?void 0:U.reason,params:L})},[U==null?void 0:U.can]),U!=null&&U.can?Mt.isValidElement(i)?Mt.cloneElement(i,a):Mt.createElement(Mt.Fragment,null,i):(U==null?void 0:U.can)===!1?Mt.createElement(Mt.Fragment,null,s??null):null},"CanAccess");import It,{useEffect as Ru}from"react";var ln=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `];var Pu=o(()=>(Ru(()=>{let e=document.createElement("style");document.head.appendChild(e),ln.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),It.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},It.createElement("div",{style:{width:"200px"}}),It.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},It.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},It.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),It.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going."))))),"GitHubBanner");export{at as AccessControlContext,Xi as AuthPage,fu as Authenticated,Tu as CanAccess,_i as ErrorComponent,Pu as GitHubBanner,xt as KeyBuilder,pu as LayoutWrapper,Vr as LoginPage,lo as ReadyPage,iu as Refine,nt as ResourceContext,mo as RouteChangeHandler,Be as TranslationContext,ls as UndoableQueue,Ji as WelcomePage,Eo as createTreeView,Sn as file2Base64,Tr as flattenObjectKeys,Vo as generateDefaultDocumentTitle,wn as getDefaultFilter,In as getDefaultSortOrder,lr as getNextPageParam,mr as getPreviousPageParam,xo as handleUseParams,qt as importCSVMapper,Ge as keys,fr as legacyResourceTransform,Lo as matchResourceFromRoute,Rr as parseTableParams,Mn as parseTableParamsFromQuery,O as pickDataProvider,w as pickNotDeprecated,Go as propertyPathToArray,Co as queryKeys,dr as routeGenerator,Cr as setInitialFilters,hr as setInitialSorters,Pr as stringifyTableParams,vt as unionFilters,xr as unionSorters,Z as useActiveAuthProvider,ga as useApiUrl,Nn as useAuthenticated,ao as useBack,lb as useBreadcrumb,Vs as useCan,YC as useCanWithoutCache,_e as useCancelNotification,Kn as useCheckError,Wt as useCreate,oo as useCreateMany,Pa as useCustom,ha as useCustomMutation,te as useDataProvider,na as useDelete,ya as useDeleteMany,zP as useExport,Xr as useForgotPassword,ax as useForm,$r as useGetIdentity,ni as useGetLocale,pt as useGetToPath,le as useGo,ie as useHandleNotification,sC as useImport,Ua as useInfiniteList,Ce as useInvalidate,vr as useIsAuthenticated,Jr as useIsExistAuthentication,lt as useLink,Gt as useList,Es as useLiveMode,ee as useLoadingOvertime,Ve as useLog,Jh as useLogList,Ht as useLogin,br as useLogout,qr as useMany,Wi as useMenu,Y as useMeta,uC as useModal,$e as useMutationMode,pe as useNavigation,Me as useNotification,ae as useOnError,$t as useOne,so as useParse,fe as useParsed,An as usePermissions,Fe as usePublish,ws as useRedirectionAfterSubmission,oe as useRefineContext,_r as useRegister,N as useResource,st as useResourceSubscription,Ds as useResourceWithRoute,ne as useRouterContext,q as useRouterType,dh as useSelect,ei as useSetLocale,Xx as useShow,qR as useSubscription,Hr as useSyncWithLocation,Dh as useTable,Dn as useTitle,Di as useToPath,_ as useTranslate,Lr as useUpdate,pa as useUpdateMany,Yr as useUpdatePassword,bt as useUserFriendlyName,Kt as useWarnAboutChange,er as userFriendlyResourceName};
//# sourceMappingURL=index.js.map