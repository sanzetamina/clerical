(()=>{var Kn=Object.create;var pr=Object.defineProperty;var Un=Object.getOwnPropertyDescriptor;var zn=Object.getOwnPropertyNames;var Qn=Object.getPrototypeOf,Wn=Object.prototype.hasOwnProperty;var K=(e,t)=>pr(e,"name",{value:t,configurable:!0}),E=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var fr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Bn=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zn(t))!Wn.call(e,i)&&i!==r&&pr(e,i,{get:()=>t[i],enumerable:!(a=Un(t,i))||a.enumerable});return e};var lt=(e,t,r)=>(r=e!=null?Kn(Qn(e)):{},Bn(t||!e||!e.__esModule?pr(r,"default",{value:e,enumerable:!0}):r,e));var _t=fr((Pu,ya)=>{var _n=Object.create,Bt=Object.defineProperty,jn=Object.getOwnPropertyDescriptor,Vn=Object.getOwnPropertyNames,Xn=Object.getPrototypeOf,Hn=Object.prototype.hasOwnProperty,Gn=K((e,t)=>{for(var r in t)Bt(e,r,{get:t[r],enumerable:!0})},"N"),da=K((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vn(t))!Hn.call(e,i)&&i!==r&&Bt(e,i,{get:()=>t[i],enumerable:!(a=jn(t,i))||a.enumerable});return e},"E"),Zn=K((e,t,r)=>(r=e!=null?_n(Xn(e)):{},da(t||!e||!e.__esModule?Bt(r,"default",{value:e,enumerable:!0}):r,e)),"A"),Yn=K(e=>da(Bt({},"__esModule",{value:!0}),e),"V"),ca={};Gn(ca,{DevToolsContext:()=>ga,DevToolsContextProvider:()=>eo,DevtoolsEvent:()=>ma,hooksByScope:()=>Jn,receive:()=>fa,scopes:()=>va,send:()=>pa});ya.exports=Yn(ca);var ma=(e=>(e.RELOAD="devtools:reload",e.DEVTOOLS_INIT="devtools:init",e.DEVTOOLS_HANDSHAKE="devtools:handshake",e.DEVTOOLS_ALREADY_CONNECTED="devtools:already-connected",e.ACTIVITY="devtools:send-activity",e.DEVTOOLS_ACTIVITY_UPDATE="devtools:activity-update",e.DEVTOOLS_CONNECTED_APP="devtools:connected-app",e.DEVTOOLS_DISCONNECTED_APP="devtools:disconnected-app",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR="devtools:highlight-in-monitor",e.DEVTOOLS_HIGHLIGHT_IN_MONITOR_ACTION="devtools:highlight-in-monitor-action",e.DEVTOOLS_LOGIN_SUCCESS="devtools:login-success",e.DEVTOOLS_RELOAD_AFTER_LOGIN="devtools:reload-after-login",e))(ma||{}),va={useCan:"access-control",useLog:"audit-log",useLogList:"audit-log",useCreate:"data",useCreateMany:"data",useCustom:"data",useCustomMutation:"data",useDelete:"data",useDeleteMany:"data",useInfiniteList:"data",useList:"data",useMany:"data",useOne:"data",useUpdate:"data",useUpdateMany:"data",useForgotPassword:"auth",useGetIdentity:"auth",useIsAuthenticated:"auth",useLogin:"auth",useLogout:"auth",useOnError:"auth",usePermissions:"auth",useRegister:"auth",useUpdatePassword:"auth"},Jn=Object.entries(va).reduce((e,[t,r])=>(e[r]||(e[r]=[]),e[r].push(t),e),{}),bt=Zn(E("react"));async function pa(e,t,r){if(e.readyState!==e.OPEN){await new Promise(a=>{let i=K(()=>{e.send(JSON.stringify({event:t,payload:r})),a(),e.removeEventListener("open",i)},"a");e.addEventListener("open",i)});return}else{e.send(JSON.stringify({event:t,payload:r}));return}}K(pa,"d");function fa(e,t,r){let a=K(i=>{let{event:n,payload:o}=JSON.parse(i.data);t===n&&r(o)},"s");return e.addEventListener("message",a),()=>{e.removeEventListener("message",a)}}K(fa,"c");var ga=bt.default.createContext({__devtools:!1,port:5002,url:"localhost",secure:!1,ws:null}),eo=K(({__devtools:e,port:t,children:r})=>{let[a,i]=bt.default.useState({__devtools:e??!1,port:t??5002,url:"localhost",secure:!1,ws:null}),[n,o]=bt.default.useState(null);bt.default.useEffect(()=>{let c=new WebSocket(`${a.secure?"wss":"ws"}://localhost:${a.port}`),d=fa(c,"devtools:handshake",m=>{i(g=>({...g,devtoolsUrl:m.url})),d()});return c.addEventListener("open",()=>{a.__devtools||pa(c,"devtools:init",{url:window.location.origin})}),o(c),()=>{d(),c.close(1e3,window.location.origin)}},[]);let s=bt.default.useMemo(()=>({...a,ws:n}),[a,n]);return bt.default.createElement(ga.Provider,{value:s},r)},"S")});var Y=fr((Lu,wa)=>{var to=Object.create,jt=Object.defineProperty,ro=Object.getOwnPropertyDescriptor,ao=Object.getOwnPropertyNames,io=Object.getPrototypeOf,no=Object.prototype.hasOwnProperty,oo=K((e,t)=>{for(var r in t)jt(e,r,{get:t[r],enumerable:!0})},"L"),ha=K((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ao(t))!no.call(e,i)&&i!==r&&jt(e,i,{get:()=>t[i],enumerable:!(a=ro(t,i))||a.enumerable});return e},"d"),Pa=K((e,t,r)=>(r=e!=null?to(io(e)):{},ha(t||!e||!e.__esModule?jt(r,"default",{value:e,enumerable:!0}):r,e)),"E"),lo=K(e=>ha(jt({},"__esModule",{value:!0}),e),"M"),ba={};oo(ba,{getTrace:()=>Ea,getXRay:()=>fo,useQuerySubscription:()=>go});wa.exports=lo(ba);var so=Pa(E("error-stack-parser")),uo="renderWithHooks",co=K(e=>{let t=e.findIndex(r=>r.functionName===uo);return t!==-1?e.slice(0,t):e},"T"),Ca=/node_modules\/refinedev\/(?<name>.*?)\//,mo=K(e=>e?!!e.match(Ca):!1,"_"),vo=K(e=>{var t;if(!e)return;let r=e.match(Ca),a=(t=r==null?void 0:r.groups)==null?void 0:t.name;if(a)return`@refinedev/${a}`},"R");function Ea(){return[];try{let e=new Error,t=so.default.parse(e);return co(t).map(r=>({file:r.fileName,line:r.lineNumber,column:r.columnNumber,function:r.functionName,isRefine:mo(r.fileName),packageName:vo(r.fileName)})).filter(r=>r.function).slice(1)}catch{return[]}}K(Ea,"l");var gr=_t(),po=K((e,t)=>{if(gr.scopes[e]==="auth")return null;if(e==="useCan")return t?"key[1].resource":"key[1]";if(gr.scopes[e]==="audit-log")return e==="useLog"?"variables.resource":"key[1]";if(gr.scopes[e]==="data"){if(e==="useCustom"||e==="useCustomMutation")return null;switch(e){case"useList":case"useInfiniteList":case"useOne":case"useMany":return t?"key[1]":"key[2]";case"useCreate":case"useCreateMany":case"useDelete":case"useDeleteMany":case"useUpdate":case"useUpdateMany":return"variables.resource"}}return null},"v");function fo(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}K(fo,"I");var Cu=_t(),Eu=Pa(E("react")),wu=_t(),go=()=>({})});var aa=fr((xu,qn)=>{var yo=Object.create,Nt=Object.defineProperty,ho=Object.getOwnPropertyDescriptor,Po=Object.getOwnPropertyNames,bo=Object.getPrototypeOf,Co=Object.prototype.hasOwnProperty,l=K((e,t)=>Nt(e,"name",{value:t,configurable:!0}),"o"),Eo=K((e,t)=>{for(var r in t)Nt(e,r,{get:t[r],enumerable:!0})},"Pi"),Pi=K((e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Po(t))!Co.call(e,i)&&i!==r&&Nt(e,i,{get:()=>t[i],enumerable:!(a=ho(t,i))||a.enumerable});return e},"Bs"),U=K((e,t,r)=>(r=e!=null?yo(bo(e)):{},Pi(t||!e||!e.__esModule?Nt(r,"default",{value:e,enumerable:!0}):r,e)),"B"),wo=K(e=>Pi(Nt({},"__esModule",{value:!0}),e),"xi"),bi={};Eo(bi,{AccessControlContext:()=>It,AuthPage:()=>Hs,Authenticated:()=>xn,CanAccess:()=>pu,ErrorComponent:()=>Bs,GitHubBanner:()=>gu,KeyBuilder:()=>Kr,LayoutWrapper:()=>du,LoginPage:()=>wn,ReadyPage:()=>Ln,Refine:()=>uu,ResourceContext:()=>At,RouteChangeHandler:()=>Dn,TranslationContext:()=>pt,UndoableQueue:()=>Sn,WelcomePage:()=>Zs,createTreeView:()=>Oo,file2Base64:()=>Jo,generateDefaultDocumentTitle:()=>ji,getDefaultFilter:()=>Yo,getDefaultSortOrder:()=>Zo,getNextPageParam:()=>Ui,getPreviousPageParam:()=>zi,handleUseParams:()=>Do,importCSVMapper:()=>wi,keys:()=>et,legacyResourceTransform:()=>Qi,matchResourceFromRoute:()=>Ro,parseTableParams:()=>Wr,parseTableParamsFromQuery:()=>Go,pickDataProvider:()=>X,pickNotDeprecated:()=>$,queryKeys:()=>qo,routeGenerator:()=>Ii,setInitialFilters:()=>Or,setInitialSorters:()=>Ir,stringifyTableParams:()=>Ar,unionFilters:()=>Mt,unionSorters:()=>Rr,useActiveAuthProvider:()=>ve,useApiUrl:()=>Dl,useAuthenticated:()=>nl,useBack:()=>yn,useBreadcrumb:()=>zs,useCan:()=>bn,useCanWithoutCache:()=>ks,useCancelNotification:()=>xt,useCheckError:()=>ol,useCreate:()=>Zr,useCreateMany:()=>tn,useCustom:()=>Ml,useCustomMutation:()=>Al,useDataProvider:()=>Pe,useDelete:()=>bl,useDeleteMany:()=>xl,useExport:()=>us,useForgotPassword:()=>Vr,useForm:()=>ms,useGetIdentity:()=>Br,useGetLocale:()=>os,useGetToPath:()=>ea,useGo:()=>Ie,useHandleNotification:()=>Me,useImport:()=>hs,useInfiniteList:()=>$l,useInvalidate:()=>Ge,useIsAuthenticated:()=>ir,useIsExistAuthentication:()=>Yi,useLink:()=>nr,useList:()=>Hr,useLiveMode:()=>vn,useLoadingOvertime:()=>fe,useLog:()=>ft,useLogList:()=>$s,useLogin:()=>ar,useLogout:()=>Jt,useMany:()=>Ji,useMenu:()=>Ws,useMeta:()=>ue,useModal:()=>Ps,useMutationMode:()=>St,useNavigation:()=>Fe,useNotification:()=>it,useOnError:()=>Le,useOne:()=>Gr,useParse:()=>cn,useParsed:()=>We,usePermissions:()=>Zi,usePublish:()=>vt,useRedirectionAfterSubmission:()=>gn,useRefineContext:()=>we,useRegister:()=>jr,useResource:()=>H,useResourceSubscription:()=>Ot,useResourceWithRoute:()=>mn,useRouterContext:()=>Ne,useRouterType:()=>pe,useSelect:()=>Ts,useSetLocale:()=>ns,useShow:()=>fs,useSubscription:()=>Yl,useSyncWithLocation:()=>Xi,useTable:()=>Cn,useTitle:()=>Xo,useToPath:()=>Cs,useTranslate:()=>re,useUpdate:()=>Fr,useUpdateMany:()=>Ll,useUpdatePassword:()=>Xr,useUserFriendlyName:()=>Qr,useWarnAboutChange:()=>zr,userFriendlyResourceName:()=>Li});qn.exports=wo(bi);var st=U(E("react")),La=E("@tanstack/react-query"),Sa=Y(),$r=U(E("qs")),Ci=U(E("lodash/unionWith")),Ei=U(E("lodash/differenceWith")),Lo=U(E("warn-once")),yr=l(e=>e/1e3,"userFriendlySecond"),So=U(E("lodash/zip")),xo=U(E("lodash/fromPairs")),wi=l((e,t=r=>r)=>{let[r,...a]=e;return a.map(i=>(0,xo.default)((0,So.default)(r,i))).map((i,n,o)=>t.call(void 0,i,n,o))},"importCSVMapper"),xa=U(E("pluralize")),Li=l((e="",t)=>{let r=Fi(e);return t==="singular"?xa.default.singular(r):xa.default.plural(r)},"userFriendlyResourceName"),Do=l((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams"),$=l((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function Be(e,t){return e.findIndex((r,a)=>a<=e.length-t.length&&t.every((i,n)=>e[a+n]===i))}K(Be,"Ye");l(Be,"arrayFindIndex");function Si(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(Be(e,["auth","login"])!==-1)return["useLogin"];if(Be(e,["auth","logout"])!==-1)return["useLogout"];if(Be(e,["auth","identity"])!==-1)return["getUserIdentity"];if(Be(e,["auth","register"])!==-1)return["useRegister"];if(Be(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(Be(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(Be(e,["auth","onError"])!==-1)return["useCheckError"];if(Be(e,["auth","permissions"])!==-1)return["usePermissions"];if(Be(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}K(Si,"Ci");l(Si,"convertToLegacy");var ke=K(class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return Si(this.segments)}get(e){return e?this.legacy():this.segments}},"ve");l(ke,"BaseKeyBuilder");var He=K(class extends ke{constructor(e){super(e)}params(e){return new ke([...this.segments,e])}},"We");l(He,"ParamsKeyBuilder");var xi=K(class extends ke{constructor(e){super(e)}id(e){return new He([...this.segments,e?String(e):void 0])}},"Mr");l(xi,"DataIdRequiringKeyBuilder");var Di=K(class extends ke{constructor(e){super(e)}ids(...e){return new He([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}},"Ir");l(Di,"DataIdsRequiringKeyBuilder");var qi=K(class extends ke{constructor(e){super(e)}action(e){if(e==="one")return new xi([...this.segments,e]);if(e==="many")return new Di([...this.segments,e]);if(["list","infinite"].includes(e))return new He([...this.segments,e]);throw new Error("Invalid action type")}},"wr");l(qi,"DataResourceKeyBuilder");var ki=K(class extends ke{constructor(e){super(e)}resource(e){return new qi([...this.segments,e])}mutation(e){return new He([...e==="custom"?this.segments:[this.segments[0]],e])}},"Sr");l(ki,"DataKeyBuilder");var Mi=K(class extends ke{constructor(e){super(e)}action(e){return new He([...this.segments,e])}},"Ar");l(Mi,"AuthKeyBuilder");var Ni=K(class extends ke{constructor(e){super(e)}action(e){return new He([...this.segments,e])}},"kr");l(Ni,"AccessResourceKeyBuilder");var Ti=K(class extends ke{constructor(e){super(e)}resource(e){return new Ni([...this.segments,e])}},"Qr");l(Ti,"AccessKeyBuilder");var Ai=K(class extends ke{constructor(e){super(e)}action(e){return new He([...this.segments,e])}},"Fr");l(Ai,"AuditActionKeyBuilder");var Ri=K(class extends ke{constructor(e){super(e)}resource(e){return new Ai([...this.segments,e])}action(e){return new He([...this.segments,e])}},"Vr");l(Ri,"AuditKeyBuilder");var Kr=K(class extends ke{constructor(e){super(e)}data(e){return new ki(["data",e||"default"])}auth(){return new Mi(["auth"])}access(){return new Ti(["access"])}audit(){return new Ri(["audit"])}},"Pt");l(Kr,"KeyBuilder");var et=l(()=>new Kr([]),"keys"),qo=l((e,t,r,a)=>{let i=t||"default",n={all:[i],resourceAll:[i,e||""],list:o=>[...n.resourceAll,"list",{...o,...$(r,a)||{}}],many:o=>[...n.resourceAll,"getMany",o&&o.map(String),{...$(r,a)||{}}].filter(s=>s!==void 0),detail:o=>[...n.resourceAll,"detail",o==null?void 0:o.toString(),{...$(r,a)||{}}],logList:o=>["logList",e,o,a].filter(s=>s!==void 0)};return n},"queryKeys"),tr=l(e=>(t,r,a,i)=>{let n=r||"default";return{all:et().data(n).get(e),resourceAll:et().data(r).resource(t??"").get(e),list:o=>et().data(r).resource(t??"").action("list").params({...o,...$(a,i)||{}}).get(e),many:o=>et().data(r).resource(t??"").action("many").ids(...o??[]).params({...$(a,i)||{}}).get(e),detail:o=>et().data(r).resource(t??"").action("one").id(o??"").params({...$(a,i)||{}}).get(e),logList:o=>[...et().audit().resource(t).action("list").params(o).get(e),i].filter(s=>s!==void 0)}},"queryKeysReplacement"),ko=l((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission"),Ur=l(e=>e.startsWith(":"),"isParameter"),wt=l(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),Mo=l((e,t)=>{let r=wt(e),a=wt(t);return r.length===a.length},"isSegmentCountsSame"),Xe=l(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),No=l((e,t)=>{let r=Xe(e),a=Xe(t);if(!Mo(r,a))return!1;let i=wt(r);return wt(a).every((n,o)=>Ur(n)||n===i[o])},"checkBySegments"),To=l((e,t,r)=>{let a=Xe(r||""),i=`${a}${a?"/":""}${e}`;return t==="list"?i=`${i}`:t==="create"?i=`${i}/create`:t==="edit"?i=`${i}/edit/:id`:t==="show"?i=`${i}/show/:id`:t==="clone"&&(i=`${i}/clone/:id`),`/${i.replace(/^\//,"")}`},"getDefaultActionPath"),rt=l((e,t)=>{var r,a;let i=$((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return i?t.find(n=>(n.identifier??n.name)===i)??{name:i}:void 0},"getParentResource"),Oi=l((e,t,r)=>{let a=[],i=rt(e,t);for(;i;)a.push(i),i=rt(i,t);if(a.length!==0)return`/${a.reverse().map(n=>{var o;let s=r?((o=n.options)==null?void 0:o.route)??n.name:n.name;return Xe(s)}).join("/")}`},"getParentPrefixForResource"),De=l((e,t,r)=>{let a=[],i=["list","show","edit","create","clone"],n=Oi(e,t,r);return i.forEach(o=>{var s,c;let d=r&&o==="clone"?e.create:e[o],m;typeof d=="function"||r?m=To(r?((s=e.meta)==null?void 0:s.route)??((c=e.options)==null?void 0:c.route)??e.name:e.name,o,r?n:void 0):typeof d=="string"?m=d:typeof d=="object"&&(m=d.path),m&&a.push({action:o,resource:e,route:`/${m.replace(/^\//,"")}`})}),a},"getActionRoutesFromResource"),Ao=l(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let r=e.map(n=>({...n,splitted:wt(Xe(n.route))})),a=((t=r[0])==null?void 0:t.splitted.length)??0,i=[...r];for(let n=0;n<a;n++){let o=i.filter(s=>!Ur(s.splitted[n]));if(o.length!==0){if(o.length===1){i=o;break}i=o}}return i[0]},"pickMatchedRoute"),Ro=l((e,t)=>{let r=t.flatMap(i=>De(i,t)).filter(i=>No(e,i.route)),a=Ao(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},"matchResourceFromRoute"),Ii=l((e,t)=>{var r;let a,i=Oi(e,t,!0);if(i){let n=$(e.meta,e.options);a=`${i}/${(n==null?void 0:n.route)??e.name}`}else a=((r=e.options)==null?void 0:r.route)??e.name;return`/${a.replace(/^\//,"")}`},"routeGenerator"),Oo=l(e=>{var t;let r=[],a={},i={},n,o;for(let s=0;s<e.length;s++){n=e[s];let c=n.route??((t=$(n==null?void 0:n.meta,n.options))==null?void 0:t.route)??"";a[c]=n,a[c].children=[],i[n.name]=n,i[n.name].children=[]}for(let s in a)a.hasOwnProperty(s)&&(o=a[s],o.parentName&&i[o.parentName]?i[o.parentName].children.push(o):r.push(o));return r},"createTreeView"),Fi=l(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),$i=U(E("react")),Da=U(E("pluralize")),Io=U(E("react")),Ki=l(({children:e})=>Io.default.createElement("div",null,e),"DefaultLayout"),Ee={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:Fi,plural:Da.default.plural,singular:Da.default.singular},disableServerSideValidation:!1},at=$i.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Ki,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ee}),Fo=l(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:i,children:n,DashboardPage:o,Title:s,Layout:c=Ki,Header:d,Sider:m,Footer:g,OffLayoutArea:L,LoginPage:u=wn,catchAll:p,liveMode:b="off",onLiveEvent:v,options:h})=>$i.default.createElement(at.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:s,undoableTimeout:i,Layout:c,Header:d,Sider:m,Footer:g,OffLayoutArea:L,DashboardPage:o,LoginPage:u,catchAll:p,liveMode:b,onLiveEvent:v,options:h}},n),"RefineContextProvider"),$o=l(({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:i,reactQueryDevtoolConfig:n,syncWithLocation:o,undoableTimeout:s,warnWhenUnsavedChanges:c}={})=>{var d,m,g,L,u,p,b,v;let h={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??a??Ee.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??s??Ee.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??o??Ee.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??c??Ee.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Ee.liveMode,redirect:{afterCreate:((d=e==null?void 0:e.redirect)==null?void 0:d.afterCreate)??Ee.redirect.afterCreate,afterClone:((m=e==null?void 0:e.redirect)==null?void 0:m.afterClone)??Ee.redirect.afterClone,afterEdit:((g=e==null?void 0:e.redirect)==null?void 0:g.afterEdit)??Ee.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Ee.overtime,textTransformers:{humanize:((L=e==null?void 0:e.textTransformers)==null?void 0:L.humanize)??Ee.textTransformers.humanize,plural:((u=e==null?void 0:e.textTransformers)==null?void 0:u.plural)??Ee.textTransformers.plural,singular:((p=e==null?void 0:e.textTransformers)==null?void 0:p.singular)??Ee.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Ee.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},f=(e==null?void 0:e.disableTelemetry)??t??!1,C={clientConfig:((b=e==null?void 0:e.reactQuery)==null?void 0:b.clientConfig)??i??{},devtoolConfig:((v=e==null?void 0:e.reactQuery)==null?void 0:v.devtoolConfig)??n??{}};return{optionsWithDefaults:h,disableTelemetryWithDefault:f,reactQueryWithDefaults:C}},"handleRefineOptions"),Ko=l(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),qa=l(async(e,t,r)=>{let a=[];for(let[i,n]of e.entries())try{let o=await n();a.push(t(o,i))}catch(o){a.push(r(o,i))}return a},"sequentialPromises"),ge=l((e,t=[],r=!1)=>{if(!e)return;if(r)return t.find(n=>Xe(n.route??"")===Xe(e))||t.find(n=>n.name===e);let a=t.find(i=>i.identifier===e);return a||(a=t.find(i=>i.name===e)),a},"pickResource"),X=l((e,t,r)=>{if(t)return t;let a=ge(e,r),i=$(a==null?void 0:a.meta,a==null?void 0:a.options);return i!=null&&i.dataProviderName?i.dataProviderName:"default"},"pickDataProvider"),rr=l(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),Ui=l(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,i=(t==null?void 0:t.pageSize)||10,n=Math.ceil((e.total||0)/i);return a<n?Number(a)+1:void 0},"getNextPageParam"),zi=l(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},"getPreviousPageParam"),Qi=l(e=>{let t=[];return e.forEach(r=>{var a,i;t.push({...r,label:((a=r.meta)==null?void 0:a.label)??((i=r.options)==null?void 0:i.label),route:Ii(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform"),Uo=l(e=>wt(Xe(e)).flatMap(t=>Ur(t)?[t.slice(1)]:[]),"pickRouteParams"),zo=l((e,t={})=>e.reduce((r,a)=>{let i=t[a];return typeof i<"u"&&(r[a]=i),r},{}),"prepareRouteParams"),Re=l((e,t={},r={},a={})=>{let i=Uo(e),n=zo(i,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...a});return e.replace(/:([^\/]+)/g,(o,s)=>{let c=n[s];return typeof c<"u"?`${c}`:o})},"composeRoute"),Lt=U(E("react")),Wi=Lt.default.createContext({}),Qo=l(({children:e,isProvided:t,...r})=>{let{replace:a}=Fe(),i=l(async c=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,c))}catch(m){return Promise.reject(m)}},"loginFunc"),n=l(async c=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,c))}catch(m){return Promise.reject(m)}},"registerFunc"),o=l(async c=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,c))}catch(m){return Promise.reject(m)}},"logoutFunc"),s=l(async c=>{var d;try{return await((d=r.checkAuth)==null?void 0:d.call(r,c)),Promise.resolve()}catch(m){return m!=null&&m.redirectPath&&a(m.redirectPath),Promise.reject(m)}},"checkAuthFunc");return Lt.default.createElement(Wi.Provider,{value:{...r,login:i,logout:o,checkAuth:s,register:n,isProvided:t}},e)},"LegacyAuthContextProvider"),Bi=Lt.default.createContext({}),Wo=l(({children:e,isProvided:t,...r})=>{let a=l(async d=>{var m;try{return await((m=r.login)==null?void 0:m.call(r,d))}catch(g){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleLogin"),i=l(async d=>{var m;try{return await((m=r.register)==null?void 0:m.call(r,d))}catch(g){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleRegister"),n=l(async d=>{var m;try{return await((m=r.logout)==null?void 0:m.call(r,d))}catch(g){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleLogout"),o=l(async d=>{var m;try{let g=await((m=r.check)==null?void 0:m.call(r,d));return Promise.resolve(g)}catch(g){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleCheck"),s=l(async d=>{var m;try{let g=await((m=r.forgotPassword)==null?void 0:m.call(r,d));return Promise.resolve(g)}catch(g){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleForgotPassword"),c=l(async d=>{var m;try{let g=await((m=r.updatePassword)==null?void 0:m.call(r,d));return Promise.resolve(g)}catch(g){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",g),Promise.reject(g)}},"handleUpdatePassword");return Lt.default.createElement(Bi.Provider,{value:{...r,login:a,logout:n,check:o,register:i,forgotPassword:s,updatePassword:c,isProvided:t}},e)},"AuthBindingsContextProvider"),Oe=l(()=>Lt.default.useContext(Wi),"useLegacyAuthContext"),Qe=l(()=>Lt.default.useContext(Bi),"useAuthBindingsContext"),ve=l(()=>{let e=Oe(),t=Qe();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),_i=l(({hasPagination:e,pagination:t,configPagination:r}={})=>{let a=e===!1?"off":"server",i=(t==null?void 0:t.mode)??a,n=$(t==null?void 0:t.current,r==null?void 0:r.current)??1,o=$(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:n,pageSize:o,mode:i}},"handlePaginationParams"),ka=E("react"),Ma=l(e=>{let[t,r]=(0,ka.useState)(!1);return(0,ka.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&r(a.matches);let i=l(()=>r(a.matches),"listener");return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t,e]),t},"useMediaQuery"),hr=l((e,t,r,a)=>{let i=a?e(t,a,r):e(t,r);return i===t||typeof i>"u"?r??t:i},"safeTranslate");function ji(e,t,r,a,i){var n;let o={create:"Create new ",clone:`#${a??""} Clone `,edit:`#${a??""} Edit `,show:`#${a??""} Show `,list:""},s=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),c=(t==null?void 0:t.label)??((n=t==null?void 0:t.meta)==null?void 0:n.label)??Li(s,r==="list"?"plural":"singular"),d=i??c,m=hr(e,"documentTitle.default","refine"),g=hr(e,"documentTitle.suffix"," | refine"),L=m;return r&&s&&(L=hr(e,`documentTitle.${s}.${r}`,`${o[r]??""}${d}${g}`,{id:a})),L}K(ji,"Ko");l(ji,"generateDefaultDocumentTitle");var Bo=E("react"),St=l(()=>{let{mutationMode:e,undoableTimeout:t}=(0,Bo.useContext)(at);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),Na=E("react"),Tr=U(E("react")),Vi=Tr.default.createContext({}),_o=l(({children:e})=>{let[t,r]=(0,Tr.useState)(!1);return Tr.default.createElement(Vi.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider"),zr=l(()=>{let{warnWhenUnsavedChanges:e}=(0,Na.useContext)(at),{warnWhen:t,setWarnWhen:r}=(0,Na.useContext)(Vi);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),jo=E("react"),Xi=l(()=>{let{syncWithLocation:e}=(0,jo.useContext)(at);return{syncWithLocation:e}},"useSyncWithLocation"),Vo=E("react"),Xo=l(()=>{let{Title:e}=(0,Vo.useContext)(at);return e},"useTitle"),Ho=E("react"),we=l(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:i,Title:n,hasDashboard:o,mutationMode:s,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:m,DashboardPage:g,LoginPage:L,catchAll:u,options:p}=(0,Ho.useContext)(at);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:i,Title:n,hasDashboard:o,mutationMode:s,syncWithLocation:c,undoableTimeout:d,warnWhenUnsavedChanges:m,DashboardPage:g,LoginPage:L,catchAll:u,options:p}},"useRefineContext"),Qr=l(()=>{let{options:{textTransformers:e}}=we();return l((t="",r)=>{let a=e.humanize(t);return r==="singular"?e.singular(a):e.plural(a)},"getFriendlyName")},"useUserFriendlyName"),Wr=l(e=>{let{current:t,pageSize:r,sorter:a,sorters:i,filters:n}=$r.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:$(i,a)??[],parsedFilters:n??[]}},"parseTableParams"),Go=l(e=>{let t=$r.default.stringify(e);return Wr(`/${t}`)},"parseTableParamsFromQuery"),Ar=l(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:i,filters:n,...o}=e;return $r.default.stringify({...o,...r||{},sorters:$(i,a),filters:n},t)},"stringifyTableParams"),Hi=l((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,"compareFilters"),Gi=l((e,t)=>e.field==t.field,"compareSorters"),Mt=l((e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,Lo.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Ci.default)(e,t,r,Hi).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),"unionFilters"),Rr=l((e,t)=>(0,Ci.default)(e,t,Gi).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),Or=l((e,t)=>[...(0,Ei.default)(t,e,Hi),...e],"setInitialFilters"),Ir=l((e,t)=>[...(0,Ei.default)(t,e,Gi),...e],"setInitialSorters"),Zo=l((e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},"getDefaultSortOrder"),Yo=l((e,t,r="eq")=>{let a=t==null?void 0:t.find(i=>{if(i.operator!=="or"&&i.operator!=="and"&&"field"in i){let{operator:n,field:o}=i;return o===e&&n===r}});if(a)return a.value||[]},"getDefaultFilter"),Jo=l(e=>new Promise((t,r)=>{let a=new FileReader,i=l(()=>{a.result&&(a.removeEventListener("load",i,!1),t(a.result))},"resultHandler");a.addEventListener("load",i,!1),a.readAsDataURL(e.originFileObj),a.onerror=n=>(a.removeEventListener("load",i,!1),r(n))}),"file2Base64"),J=l(()=>{let{options:{useNewQueryKeys:e}}=we();return{keys:et,preferLegacyKeys:!e}},"useKeys");function Zi({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=Oe(),{getPermissions:a}=Qe(),{keys:i,preferLegacyKeys:n}=J(),o=(0,La.useQuery)(i().auth().action("permissions").get(n),a??(()=>Promise.resolve(void 0)),{enabled:!e&&!!a,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...(0,Sa.getXRay)("usePermissions",n)}}),s=(0,La.useQuery)([...i().auth().action("permissions").get(n),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Sa.getXRay)("usePermissions",n)}});return e?s:o}K(Zi,"mn");l(Zi,"usePermissions");var Ta=E("@tanstack/react-query"),Aa=Y();function Br({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=Oe(),{getIdentity:a}=Qe(),{keys:i,preferLegacyKeys:n}=J(),o=(0,Ta.useQuery)(i().auth().action("identity").get(n),a??(()=>Promise.resolve({})),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Aa.getXRay)("useGetIdentity",n)}}),s=(0,Ta.useQuery)([...i().auth().action("identity").get(n),"v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Aa.getXRay)("useGetIdentity",n)}});return e?s:o}K(Br,"zr");l(Br,"useGetIdentity");var Ra=E("@tanstack/react-query"),Oa=Y(),el=E("@tanstack/react-query"),_r=l(()=>{let e=(0,el.useQueryClient)(),{keys:t,preferLegacyKeys:r}=J();return l(async()=>{await Promise.all(["check","identity","permissions"].map(a=>e.invalidateQueries(t().auth().action(a).get(r))))},"invalidate")},"useInvalidateAuthStore");function Jt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=_r(),a=pe(),i=Ie(),{push:n}=Fe(),{open:o,close:s}=it(),{logout:c}=Oe(),{logout:d}=Qe(),{keys:m,preferLegacyKeys:g}=J(),L=(0,Ra.useMutation)(m().auth().action("logout").get(g),d,{onSuccess:async(p,b)=>{let{success:v,error:h,redirectTo:f}=p,{redirectPath:C}=b??{},q=C??f;v&&(s==null||s("useLogout-error")),(h||!v)&&(o==null||o(Pr(h))),await r(),q!==!1&&(a==="legacy"?n(q??"/login"):q&&i({to:q}))},onError:p=>{o==null||o(Pr(p))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Oa.getXRay)("useLogout",g)}}),u=(0,Ra.useMutation)([...m().auth().action("logout").get(g),"v3LegacyAuthProviderCompatible"],c,{onSuccess:async(p,b)=>{let v=(b==null?void 0:b.redirectPath)??p;if(await r(),v!==!1){if(v){a==="legacy"?n(v):i({to:v});return}a==="legacy"?n("/login"):i({to:"/login"})}},onError:p=>{o==null||o(Pr(p))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Oa.getXRay)("useLogout",g)}});return e?u:L}K(Jt,"pr");l(Jt,"useLogout");var Pr=l(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),tl=U(E("react")),Ia=E("@tanstack/react-query"),Fa=Y(),rl=U(E("qs"));function ar({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=_r(),a=pe(),i=Ie(),{replace:n}=Fe(),o=We(),{useLocation:s}=Ne(),{search:c}=s(),{close:d,open:m}=it(),{login:g}=Oe(),{login:L}=Qe(),{keys:u,preferLegacyKeys:p}=J(),b=tl.default.useMemo(()=>{var f;return a==="legacy"?rl.default.parse(c,{ignoreQueryPrefix:!0}).to:(f=o.params)==null?void 0:f.to},[a,o.params,c]),v=(0,Ia.useMutation)(u().auth().action("login").get(p),L,{onSuccess:async({success:f,redirectTo:C,error:q})=>{f&&(d==null||d("login-error")),(q||!f)&&(m==null||m(br(q))),await r(),b&&f?a==="legacy"?n(b):i({to:b,type:"replace"}):C?a==="legacy"?n(C):i({to:C,type:"replace"}):a==="legacy"&&n("/")},onError:f=>{m==null||m(br(f))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Fa.getXRay)("useLogin",p)}}),h=(0,Ia.useMutation)([...u().auth().action("login").get(p),"v3LegacyAuthProviderCompatible"],g,{onSuccess:async f=>{await r(),b&&n(b),f!==!1&&!b&&(typeof f=="string"?a==="legacy"?n(f):i({to:f,type:"replace"}):a==="legacy"?n("/"):i({to:"/",type:"replace"})),d==null||d("login-error")},onError:f=>{m==null||m(br(f))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Fa.getXRay)("useLogin",p)}});return e?h:v}K(ar,"At");l(ar,"useLogin");var br=l(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),$a=E("@tanstack/react-query"),Ka=Y();function jr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=_r(),a=pe(),i=Ie(),{replace:n}=Fe(),{register:o}=Oe(),{register:s}=Qe(),{close:c,open:d}=it(),{keys:m,preferLegacyKeys:g}=J(),L=(0,$a.useMutation)(m().auth().action("register").get(g),s,{onSuccess:async({success:p,redirectTo:b,error:v})=>{p&&(c==null||c("register-error")),(v||!p)&&(d==null||d(Cr(v))),await r(),b?a==="legacy"?n(b):i({to:b,type:"replace"}):a==="legacy"&&n("/")},onError:p=>{d==null||d(Cr(p))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Ka.getXRay)("useRegister",g)}}),u=(0,$a.useMutation)([...m().auth().action("register").get(g),"v3LegacyAuthProviderCompatible"],o,{onSuccess:async p=>{await r(),p!==!1&&(p?a==="legacy"?n(p):i({to:p,type:"replace"}):a==="legacy"?n("/"):i({to:"/",type:"replace"}),c==null||c("register-error"))},onError:p=>{d==null||d(Cr(p))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Ka.getXRay)("useRegister",g)}});return e?u:L}K(jr,"jr");l(jr,"useRegister");var Cr=l(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),Ua=E("@tanstack/react-query"),za=Y();function Vr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=pe(),a=Ie(),{replace:i}=Fe(),{forgotPassword:n}=Oe(),{forgotPassword:o}=Qe(),{close:s,open:c}=it(),{keys:d,preferLegacyKeys:m}=J(),g=(0,Ua.useMutation)(d().auth().action("forgotPassword").get(m),o,{onSuccess:({success:u,redirectTo:p,error:b})=>{u&&(s==null||s("forgot-password-error")),(b||!u)&&(c==null||c(Er(b))),p&&(r==="legacy"?i(p):a({to:p,type:"replace"}))},onError:u=>{c==null||c(Er(u))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,za.getXRay)("useForgotPassword",m)}}),L=(0,Ua.useMutation)([...d().auth().action("forgotPassword").get(m),"v3LegacyAuthProviderCompatible"],n,{onSuccess:u=>{u!==!1&&u&&(r==="legacy"?i(u):a({to:u,type:"replace"})),s==null||s("forgot-password-error")},onError:u=>{c==null||c(Er(u))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,za.getXRay)("useForgotPassword",m)}});return e?L:g}K(Vr,"_r");l(Vr,"useForgotPassword");var Er=l(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),al=U(E("react")),Qa=E("@tanstack/react-query"),Wa=Y(),il=U(E("qs"));function Xr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=pe(),a=Ie(),{replace:i}=Fe(),{updatePassword:n}=Oe(),{updatePassword:o}=Qe(),{close:s,open:c}=it(),{keys:d,preferLegacyKeys:m}=J(),g=We(),{useLocation:L}=Ne(),{search:u}=L(),p=al.default.useMemo(()=>r==="legacy"?il.default.parse(u,{ignoreQueryPrefix:!0})??{}:g.params??{},[u,g,r]),b=(0,Qa.useMutation)(d().auth().action("updatePassword").get(m),async h=>o==null?void 0:o({...p,...h}),{onSuccess:({success:h,redirectTo:f,error:C})=>{h&&(s==null||s("update-password-error")),(C||!h)&&(c==null||c(wr(C))),f&&(r==="legacy"?i(f):a({to:f,type:"replace"}))},onError:h=>{c==null||c(wr(h))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...(0,Wa.getXRay)("useUpdatePassword",m)}}),v=(0,Qa.useMutation)([...d().auth().action("updatePassword").get(m),"v3LegacyAuthProviderCompatible"],async h=>n==null?void 0:n({...p,...h}),{onSuccess:h=>{h!==!1&&h&&(r==="legacy"?i(h):a({to:h,type:"replace"})),s==null||s("update-password-error")},onError:h=>{c==null||c(wr(h))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...(0,Wa.getXRay)("useUpdatePassword",m)}});return e?v:b}K(Xr,"Or");l(Xr,"useUpdatePassword");var wr=l(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),Ba=E("@tanstack/react-query"),_a=Y();function ir({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=Oe(),{check:a}=Qe(),{keys:i,preferLegacyKeys:n}=J(),o=(0,Ba.useQuery)(i().auth().action("check").params(t).get(n),async()=>await(a==null?void 0:a(t))??{},{retry:!1,enabled:!e,meta:{...(0,_a.getXRay)("useIsAuthenticated",n)}}),s=(0,Ba.useQuery)([...i().auth().action("check").params(t).get(n),"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e,meta:{...(0,_a.getXRay)("useIsAuthenticated",n)}});return e?s:o}K(ir,"lr");l(ir,"useIsAuthenticated");var nl=ir,ja=E("@tanstack/react-query"),Va=Y();function Le({v3LegacyAuthProviderCompatible:e=!1}={}){let t=pe(),r=Ie(),{replace:a}=Fe(),{checkError:i}=Oe(),{onError:n}=Qe(),{keys:o,preferLegacyKeys:s}=J(),{mutate:c}=Jt({v3LegacyAuthProviderCompatible:!!e}),{mutate:d}=Jt({v3LegacyAuthProviderCompatible:!!e}),m=(0,ja.useMutation)(o().auth().action("onError").get(s),n,{onSuccess:({logout:L,redirectTo:u})=>{if(L){d({redirectPath:u});return}if(u){t==="legacy"?a(u):r({to:u,type:"replace"});return}},meta:{...(0,Va.getXRay)("useOnError",s)}}),g=(0,ja.useMutation)([...o().auth().action("onError").get(s),"v3LegacyAuthProviderCompatible"],i,{onError:L=>{c({redirectPath:L})},meta:{...(0,Va.getXRay)("useOnError",s)}});return e?g:m}K(Le,"ae");l(Le,"useOnError");var ol=Le,Yi=l(()=>{let{isProvided:e}=Oe(),{isProvided:t}=Qe();return!!(t||e)},"useIsExistAuthentication"),ll=E("@tanstack/react-query"),sl=Y(),Lr=E("react"),fe=l(({isLoading:e,interval:t,onInterval:r})=>{let[a,i]=(0,Lr.useState)(void 0),{options:n}=we(),{overtime:o}=n,s=t??o.interval,c=r??(o==null?void 0:o.onInterval);return(0,Lr.useEffect)(()=>{let d;return e&&(d=setInterval(()=>{i(m=>m===void 0?s:m+s)},s)),()=>{clearInterval(d),i(void 0)}},[e,s]),(0,Lr.useEffect)(()=>{c&&a&&c(a)},[a]),{elapsedTime:a}},"useLoadingOvertime"),Hr=l(({resource:e,config:t,filters:r,hasPagination:a,pagination:i,sorters:n,queryOptions:o,successNotification:s,errorNotification:c,meta:d,metaData:m,liveMode:g,onLiveEvent:L,liveParams:u,dataProviderName:p,overtimeOptions:b})=>{let{resources:v,resource:h,identifier:f}=H(e),C=Pe(),q=re(),x=ve(),{mutate:P}=Le({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),y=Me(),k=ue(),{keys:w,preferLegacyKeys:M}=J(),A=X(f,p,v),D=$(d,m),S=$(r,t==null?void 0:t.filters),R=$(n,t==null?void 0:t.sort),N=$(a,t==null?void 0:t.hasPagination),I=_i({pagination:i,configPagination:t==null?void 0:t.pagination,hasPagination:N}),T=I.mode==="server",F=k({resource:h,meta:D}),W={meta:F,metaData:F,filters:S,hasPagination:T,pagination:I,sorters:R,config:{...t,sort:R}},O=(o==null?void 0:o.enabled)===void 0||(o==null?void 0:o.enabled)===!0,{getList:j}=C(A);Ot({resource:f,types:["*"],params:{meta:F,metaData:F,pagination:I,hasPagination:T,sort:R,sorters:R,filters:S,subscriptionType:"useList",...u},channel:`resources/${h==null?void 0:h.name}`,enabled:O,liveMode:g,onLiveEvent:L});let z=(0,ll.useQuery)(w().data(A).resource(f??"").action("list").params({...D||{},filters:S,hasPagination:T,...T&&{pagination:I},...n&&{sorters:n},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(M),({queryKey:Q,pageParam:B,signal:_})=>j({resource:(h==null?void 0:h.name)??"",pagination:I,hasPagination:T,filters:S,sort:R,sorters:R,meta:{...F,queryContext:{queryKey:Q,pageParam:B,signal:_}},metaData:{...F,queryContext:{queryKey:Q,pageParam:B,signal:_}}}),{...o,enabled:typeof(o==null?void 0:o.enabled)<"u"?o==null?void 0:o.enabled:!!(h!=null&&h.name),select:Q=>{var B;let _=Q,{current:oe,mode:de,pageSize:ae}=I;return de==="client"&&(_={..._,data:_.data.slice((oe-1)*ae,oe*ae),total:_.total}),o!=null&&o.select?(B=o==null?void 0:o.select)==null?void 0:B.call(o,_):_},onSuccess:Q=>{var B;(B=o==null?void 0:o.onSuccess)==null||B.call(o,Q);let _=typeof s=="function"?s(Q,W,f):s;y(_)},onError:Q=>{var B;P(Q),(B=o==null?void 0:o.onError)==null||B.call(o,Q);let _=typeof c=="function"?c(Q,W,f):c;y(_,{key:`${f}-useList-notification`,message:q("notifications.error",{statusCode:Q.statusCode},`Error (status code: ${Q.statusCode})`),description:Q.message,type:"error"})},meta:{...o==null?void 0:o.meta,...(0,sl.getXRay)("useList",M)}}),{elapsedTime:V}=fe({isLoading:z.isFetching,interval:b==null?void 0:b.interval,onInterval:b==null?void 0:b.onInterval});return{...z,overtime:{elapsedTime:V}}},"useList"),ul=E("@tanstack/react-query"),dl=Y(),Gr=l(({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:i,meta:n,metaData:o,liveMode:s,onLiveEvent:c,liveParams:d,dataProviderName:m,overtimeOptions:g})=>{let{resources:L,resource:u,identifier:p}=H(e),b=Pe(),v=re(),h=ve(),{mutate:f}=Le({v3LegacyAuthProviderCompatible:!!(h!=null&&h.isLegacy)}),C=Me(),q=ue(),{keys:x,preferLegacyKeys:P}=J(),y=$(n,o),k=X(p,m,L),{getOne:w}=b(k),M=q({resource:u,meta:y});Ot({resource:p,types:["*"],channel:`resources/${u==null?void 0:u.name}`,params:{ids:t?[t]:[],id:t,meta:M,metaData:M,subscriptionType:"useOne",...d},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(u==null?void 0:u.name)<"u"&&typeof t<"u",liveMode:s,onLiveEvent:c});let A=(0,ul.useQuery)(x().data(k).resource(p??"").action("one").id(t??"").params({...y||{}}).get(P),({queryKey:S,pageParam:R,signal:N})=>w({resource:(u==null?void 0:u.name)??"",id:t,meta:{...M,queryContext:{queryKey:S,pageParam:R,signal:N}},metaData:{...M,queryContext:{queryKey:S,pageParam:R,signal:N}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:S=>{var R;(R=r==null?void 0:r.onSuccess)==null||R.call(r,S);let N=typeof a=="function"?a(S,{id:t,...M},p):a;C(N)},onError:S=>{var R;f(S),(R=r==null?void 0:r.onError)==null||R.call(r,S);let N=typeof i=="function"?i(S,{id:t,...M},p):i;C(N,{key:`${t}-${p}-getOne-notification`,message:v("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,dl.getXRay)("useOne",P)}}),{elapsedTime:D}=fe({isLoading:A.isFetching,interval:g==null?void 0:g.interval,onInterval:g==null?void 0:g.onInterval});return{...A,overtime:{elapsedTime:D}}},"useOne"),cl=E("@tanstack/react-query"),ml=Y(),Ji=l(({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:i,meta:n,metaData:o,liveMode:s,onLiveEvent:c,liveParams:d,dataProviderName:m,overtimeOptions:g})=>{let{resources:L,resource:u,identifier:p}=H(e),b=Pe(),v=re(),h=ve(),{mutate:f}=Le({v3LegacyAuthProviderCompatible:!!(h!=null&&h.isLegacy)}),C=Me(),q=ue(),{keys:x,preferLegacyKeys:P}=J(),y=$(n,o),k=X(p,m,L),w=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:M,getOne:A}=b(k),D=q({resource:u,meta:y});Ot({resource:p,types:["*"],params:{ids:t,meta:D,metaData:D,subscriptionType:"useMany",...d},channel:`resources/${u.name}`,enabled:w,liveMode:s,onLiveEvent:c});let S=(0,cl.useQuery)(x().data(k).resource(p).action("many").ids(...t).params({...y||{}}).get(P),({queryKey:N,pageParam:I,signal:T})=>M?M({resource:u==null?void 0:u.name,ids:t,meta:{...D,queryContext:{queryKey:N,pageParam:I,signal:T}},metaData:{...D,queryContext:{queryKey:N,pageParam:I,signal:T}}}):rr(t.map(F=>A({resource:u==null?void 0:u.name,id:F,meta:{...D,queryContext:{queryKey:N,pageParam:I,signal:T}},metaData:{...D,queryContext:{queryKey:N,pageParam:I,signal:T}}}))),{...r,onSuccess:N=>{var I;(I=r==null?void 0:r.onSuccess)==null||I.call(r,N);let T=typeof a=="function"?a(N,t,p):a;C(T)},onError:N=>{var I;f(N),(I=r==null?void 0:r.onError)==null||I.call(r,N);let T=typeof i=="function"?i(N,t,p):i;C(T,{key:`${t[0]}-${p}-getMany-notification`,message:v("notifications.error",{statusCode:N.statusCode},`Error (status code: ${N.statusCode})`),description:N.message,type:"error"})},meta:{...r==null?void 0:r.meta,...(0,ml.getXRay)("useMany",P)}}),{elapsedTime:R}=fe({isLoading:S.isFetching,interval:g==null?void 0:g.interval,onInterval:g==null?void 0:g.onInterval});return{...S,overtime:{elapsedTime:R}}},"useMany"),Xa=E("@tanstack/react-query"),vl=Y(),Zt=U(E("react")),Sr=U(E("lodash/isEqual")),en=Zt.default.createContext({notifications:[],notificationDispatch:()=>!1}),pl=[],fl=l((e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Sr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Sr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Sr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),gl=l(({children:e})=>{let[t,r]=(0,Zt.useReducer)(fl,pl),a={notifications:t,notificationDispatch:r};return Zt.default.createElement(en.Provider,{value:a},e,typeof window<"u"&&t.map(i=>Zt.default.createElement(Sn,{key:`${i.id}-${i.resource}-queue`,notification:i})))},"UndoableQueueContextProvider"),Fr=l(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=H(),i=(0,Xa.useQueryClient)(),n=Pe(),{mutationMode:o,undoableTimeout:s}=St(),c=re(),d=ve(),{mutate:m}=Le({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),g=vt(),{log:L}=ft(),{notificationDispatch:u}=xt(),p=Me(),b=Ge(),v=ue(),{options:{textTransformers:h}}=we(),{keys:f,preferLegacyKeys:C}=J(),q=(0,Xa.useMutation)(({id:P,values:y,resource:k,mutationMode:w,undoableTimeout:M,onCancel:A,meta:D,metaData:S,dataProviderName:R})=>{let{resource:N,identifier:I}=a(k),T=v({resource:N,meta:$(D,S)}),F=w??o,W=M??s;return F!=="undoable"?n(X(I,R,r)).update({resource:N.name,id:P,variables:y,meta:T,metaData:T}):new Promise((O,j)=>{let z=l(()=>{n(X(I,R,r)).update({resource:N.name,id:P,variables:y,meta:T,metaData:T}).then(Q=>O(Q)).catch(Q=>j(Q))},"doMutation"),V=l(()=>{j({message:"mutationCancelled"})},"cancelMutation");A&&A(V),u({type:"ADD",payload:{id:P,resource:I,cancelMutation:V,doMutation:z,seconds:W,isSilent:!!A}})})},{onMutate:async({resource:P,id:y,mutationMode:k,values:w,dataProviderName:M,meta:A,metaData:D,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:R}=a(P),N=$(A,D),I=tr(C)(R,X(R,M,r),N),T=f().data(X(R,M,r)).resource(R),F=i.getQueriesData(T.get(C)),W=k??o;return await i.cancelQueries(T.get(C),void 0,{silent:!0}),W!=="pessimistic"&&(S.list&&i.setQueriesData(T.action("list").params(N??{}).get(C),O=>{if(typeof S.list=="function")return S.list(O,w,y);if(!O)return null;let j=O.data.map(z=>{var V;return((V=z.id)==null?void 0:V.toString())===(y==null?void 0:y.toString())?{id:y,...z,...w}:z});return{...O,data:j}}),S.many&&i.setQueriesData(T.action("many").get(C),O=>{if(typeof S.many=="function")return S.many(O,w,y);if(!O)return null;let j=O.data.map(z=>{var V;return((V=z.id)==null?void 0:V.toString())===(y==null?void 0:y.toString())&&(z={id:y,...z,...w}),z});return{...O,data:j}}),S.detail&&i.setQueriesData(T.action("one").id(y).params(N??{}).get(C),O=>typeof S.detail=="function"?S.detail(O,w,y):O?{...O,data:{...O.data,...w}}:null)),{previousQueries:F,queryKey:I}},onSettled:(P,y,{id:k,resource:w,dataProviderName:M,invalidates:A=["list","many","detail"]})=>{let{identifier:D}=a(w);b({resource:D,dataProviderName:X(D,M,r),invalidates:A,id:k}),u({type:"REMOVE",payload:{id:k,resource:D}})},onSuccess:(P,{id:y,resource:k,successNotification:w,dataProviderName:M,values:A,meta:D,metaData:S},R)=>{var N;let{resource:I,identifier:T}=a(k),F=h.singular(T),W=typeof w=="function"?w(P,{id:y,values:A},T):w;p(W,{key:`${y}-${T}-notification`,description:c("notifications.success","Successful"),message:c("notifications.editSuccess",{resource:c(`${T}.${T}`,F)},`Successfully updated ${F}`),type:"success"}),g==null||g({channel:`resources/${I.name}`,type:"updated",payload:{ids:(N=P.data)!=null&&N.id?[P.data.id]:void 0},date:new Date});let O;if(R){let B=i.getQueryData(R.queryKey.detail(y));O=Object.keys(A||{}).reduce((_,oe)=>{var de;return _[oe]=(de=B==null?void 0:B.data)==null?void 0:de[oe],_},{})}let{fields:j,operation:z,variables:V,...Q}=$(D,S)||{};L==null||L.mutate({action:"update",resource:I.name,data:A,previousData:O,meta:{id:y,dataProviderName:X(T,M,r),...Q}})},onError:(P,{id:y,resource:k,errorNotification:w,values:M},A)=>{let{identifier:D}=a(k);if(A)for(let S of A.previousQueries)i.setQueryData(S[0],S[1]);if(P.message!=="mutationCancelled"){m==null||m(P);let S=h.singular(D),R=typeof w=="function"?w(P,{id:y,values:M},D):w;p(R,{key:`${y}-${D}-notification`,message:c("notifications.editError",{resource:c(`${D}.${D}`,S),statusCode:P.statusCode},`Error when updating ${S} (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:f().data().mutation("update").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,vl.getXRay)("useUpdate",C)}}),{elapsedTime:x}=fe({isLoading:q.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...q,overtime:{elapsedTime:x}}},"useUpdate"),yl=E("@tanstack/react-query"),hl=Y(),Zr=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=Le({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),i=Pe(),n=Ge(),{resources:o,select:s}=H(),c=re(),d=vt(),{log:m}=ft(),g=Me(),L=ue(),{options:{textTransformers:u}}=we(),{keys:p,preferLegacyKeys:b}=J(),v=(0,yl.useMutation)(({resource:f,values:C,meta:q,metaData:x,dataProviderName:P})=>{let{resource:y,identifier:k}=s(f),w=L({resource:y,meta:$(q,x)});return i(X(k,P,o)).create({resource:y.name,variables:C,meta:w,metaData:w})},{onSuccess:(f,{resource:C,successNotification:q,dataProviderName:x,invalidates:P=["list","many"],values:y,meta:k,metaData:w})=>{var M,A;let{resource:D,identifier:S}=s(C),R=u.singular(S),N=typeof q=="function"?q(f,y,S):q;g(N,{key:`create-${S}-notification`,message:c("notifications.createSuccess",{resource:c(`${S}.${S}`,R)},`Successfully created ${R}`),description:c("notifications.success","Success"),type:"success"}),n({resource:S,dataProviderName:X(S,x,o),invalidates:P}),d==null||d({channel:`resources/${D.name}`,type:"created",payload:{ids:(M=f==null?void 0:f.data)!=null&&M.id?[f.data.id]:void 0},date:new Date});let I=L({resource:D,meta:$(k,w)}),{fields:T,operation:F,variables:W,...O}=I||{};m==null||m.mutate({action:"create",resource:D.name,data:y,meta:{dataProviderName:X(S,x,o),id:((A=f==null?void 0:f.data)==null?void 0:A.id)??void 0,...O}})},onError:(f,{resource:C,errorNotification:q,values:x})=>{a(f);let{identifier:P}=s(C),y=u.singular(P),k=typeof q=="function"?q(f,x,P):q;g(k,{key:`create-${P}-notification`,description:f.message,message:c("notifications.createError",{resource:c(`${P}.${P}`,y),statusCode:f.statusCode},`There was an error creating ${y} (status code: ${f.statusCode})`),type:"error"})},mutationKey:p().data().mutation("create").get(b),...e,meta:{...e==null?void 0:e.meta,...(0,hl.getXRay)("useCreate",b)}}),{elapsedTime:h}=fe({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:h}}},"useCreate"),Ha=E("@tanstack/react-query"),Pl=Y(),bl=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=Le({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),i=Pe(),{resources:n,select:o}=H(),s=(0,Ha.useQueryClient)(),{mutationMode:c,undoableTimeout:d}=St(),{notificationDispatch:m}=xt(),g=re(),L=vt(),{log:u}=ft(),p=Me(),b=Ge(),v=ue(),{options:{textTransformers:h}}=we(),{keys:f,preferLegacyKeys:C}=J(),q=(0,Ha.useMutation)(({id:P,mutationMode:y,undoableTimeout:k,resource:w,onCancel:M,meta:A,metaData:D,dataProviderName:S,values:R})=>{let{resource:N,identifier:I}=o(w),T=v({resource:N,meta:$(A,D)}),F=y??c,W=k??d;return F!=="undoable"?i(X(I,S,n)).deleteOne({resource:N.name,id:P,meta:T,metaData:T,variables:R}):new Promise((O,j)=>{let z=l(()=>{i(X(I,S,n)).deleteOne({resource:N.name,id:P,meta:T,metaData:T,variables:R}).then(Q=>O(Q)).catch(Q=>j(Q))},"doMutation"),V=l(()=>{j({message:"mutationCancelled"})},"cancelMutation");M&&M(V),m({type:"ADD",payload:{id:P,resource:I,cancelMutation:V,doMutation:z,seconds:W,isSilent:!!M}})})},{onMutate:async({id:P,resource:y,mutationMode:k,dataProviderName:w,meta:M,metaData:A})=>{let{identifier:D}=o(y),S=$(M,A),R=tr(C)(D,X(D,w,n),S),N=f().data(X(D,w,n)).resource(D),I=k??c;await s.cancelQueries(N.get(C),void 0,{silent:!0});let T=s.getQueriesData(N.get(C));return I!=="pessimistic"&&(s.setQueriesData(N.action("list").params(S??{}).get(C),F=>F?{data:F.data.filter(W=>{var O;return((O=W.id)==null?void 0:O.toString())!==P.toString()}),total:F.total-1}:null),s.setQueriesData(N.action("many").get(C),F=>{if(!F)return null;let W=F.data.filter(O=>{var j;return((j=O.id)==null?void 0:j.toString())!==(P==null?void 0:P.toString())});return{...F,data:W}})),{previousQueries:T,queryKey:R}},onSettled:(P,y,{id:k,resource:w,dataProviderName:M,invalidates:A=["list","many"]})=>{let{identifier:D}=o(w);b({resource:D,dataProviderName:X(D,M,n),invalidates:A}),m({type:"REMOVE",payload:{id:k,resource:D}})},onSuccess:(P,{id:y,resource:k,successNotification:w,dataProviderName:M,meta:A,metaData:D},S)=>{let{resource:R,identifier:N}=o(k),I=h.singular(N);s.removeQueries(S==null?void 0:S.queryKey.detail(y));let T=typeof w=="function"?w(P,y,N):w;p(T,{key:`${y}-${N}-notification`,description:g("notifications.success","Success"),message:g("notifications.deleteSuccess",{resource:g(`${N}.${N}`,I)},`Successfully deleted a ${I}`),type:"success"}),L==null||L({channel:`resources/${R.name}`,type:"deleted",payload:{ids:[y]},date:new Date});let F=v({resource:R,meta:$(A,D)}),{fields:W,operation:O,variables:j,...z}=F||{};u==null||u.mutate({action:"delete",resource:R.name,meta:{id:y,dataProviderName:X(N,M,n),...z}}),s.removeQueries(S==null?void 0:S.queryKey.detail(y))},onError:(P,{id:y,resource:k,errorNotification:w},M)=>{let{identifier:A}=o(k);if(M)for(let D of M.previousQueries)s.setQueryData(D[0],D[1]);if(P.message!=="mutationCancelled"){a(P);let D=h.singular(A),S=typeof w=="function"?w(P,y,A):w;p(S,{key:`${y}-${A}-notification`,message:g("notifications.deleteError",{resource:D,statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:f().data().mutation("delete").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,Pl.getXRay)("useDelete",C)}}),{elapsedTime:x}=fe({isLoading:q.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...q,overtime:{elapsedTime:x}}},"useDelete"),Cl=E("@tanstack/react-query"),El=Y(),tn=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=Pe(),{resources:a,select:i}=H(),n=re(),o=vt(),s=Me(),c=Ge(),{log:d}=ft(),m=ue(),{options:{textTransformers:g}}=we(),{keys:L,preferLegacyKeys:u}=J(),p=(0,Cl.useMutation)(({resource:v,values:h,meta:f,metaData:C,dataProviderName:q})=>{let{resource:x,identifier:P}=i(v),y=m({resource:x,meta:$(f,C)}),k=r(X(P,q,a));return k.createMany?k.createMany({resource:x.name,variables:h,meta:y,metaData:y}):rr(h.map(w=>k.create({resource:x.name,variables:w,meta:y,metaData:y})))},{onSuccess:(v,{resource:h,successNotification:f,dataProviderName:C,invalidates:q=["list","many"],values:x,meta:P,metaData:y})=>{let{resource:k,identifier:w}=i(h),M=g.plural(w),A=typeof f=="function"?f(v,x,w):f;s(A,{key:`createMany-${w}-notification`,message:n("notifications.createSuccess",{resource:n(`${w}.${w}`,w)},`Successfully created ${M}`),description:n("notifications.success","Success"),type:"success"}),c({resource:w,dataProviderName:X(w,C,a),invalidates:q});let D=v==null?void 0:v.data.filter(F=>(F==null?void 0:F.id)!==void 0).map(F=>F.id);o==null||o({channel:`resources/${k.name}`,type:"created",payload:{ids:D},date:new Date});let S=m({resource:k,meta:$(P,y)}),{fields:R,operation:N,variables:I,...T}=S||{};d==null||d.mutate({action:"createMany",resource:k.name,data:x,meta:{dataProviderName:X(w,C,a),ids:D,...T}})},onError:(v,{resource:h,errorNotification:f,values:C})=>{let{identifier:q}=i(h),x=typeof f=="function"?f(v,C,q):f;s(x,{key:`createMany-${q}-notification`,description:v.message,message:n("notifications.createError",{resource:n(`${q}.${q}`,q),statusCode:v.statusCode},`There was an error creating ${q} (status code: ${v.statusCode}`),type:"error"})},mutationKey:L().data().mutation("createMany").get(u),...e,meta:{...e==null?void 0:e.meta,...(0,El.getXRay)("useCreateMany",u)}}),{elapsedTime:b}=fe({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:b}}},"useCreateMany"),Ga=E("@tanstack/react-query"),wl=Y(),Ll=l(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:a}=H(),i=(0,Ga.useQueryClient)(),n=Pe(),o=re(),{mutationMode:s,undoableTimeout:c}=St(),d=ve(),{mutate:m}=Le({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),{notificationDispatch:g}=xt(),L=vt(),u=Me(),p=Ge(),{log:b}=ft(),v=ue(),{options:{textTransformers:h}}=we(),{keys:f,preferLegacyKeys:C}=J(),q=(0,Ga.useMutation)(({ids:P,values:y,resource:k,onCancel:w,mutationMode:M,undoableTimeout:A,meta:D,metaData:S,dataProviderName:R})=>{let{resource:N,identifier:I}=a(k),T=v({resource:N,meta:$(D,S)}),F=M??s,W=A??c,O=n(X(I,R,r)),j=l(()=>O.updateMany?O.updateMany({resource:N.name,ids:P,variables:y,meta:T,metaData:T}):rr(P.map(z=>O.update({resource:N.name,id:z,variables:y,meta:T,metaData:T}))),"mutationFn");return F!=="undoable"?j():new Promise((z,V)=>{let Q=l(()=>{j().then(_=>z(_)).catch(_=>V(_))},"doMutation"),B=l(()=>{V({message:"mutationCancelled"})},"cancelMutation");w&&w(B),g({type:"ADD",payload:{id:P,resource:I,cancelMutation:B,doMutation:Q,seconds:W,isSilent:!!w}})})},{onMutate:async({resource:P,ids:y,values:k,mutationMode:w,dataProviderName:M,meta:A,metaData:D,optimisticUpdateMap:S={list:!0,many:!0,detail:!0}})=>{let{identifier:R}=a(P),N=$(A,D),I=tr(C)(R,X(R,M,r),$(A,D)),T=f().data(X(R,M,r)).resource(R),F=w??s;await i.cancelQueries(T.get(C),void 0,{silent:!0});let W=i.getQueriesData(T.get(C));if(F!=="pessimistic"&&(S.list&&i.setQueriesData(T.action("list").params(N??{}).get(C),O=>{if(typeof S.list=="function")return S.list(O,k,y);if(!O)return null;let j=O.data.map(z=>z.id!==void 0&&y.filter(V=>V!==void 0).map(String).includes(z.id.toString())?{...z,...k}:z);return{...O,data:j}}),S.many&&i.setQueriesData(T.action("many").get(C),O=>{if(typeof S.many=="function")return S.many(O,k,y);if(!O)return null;let j=O.data.map(z=>z.id!==void 0&&y.filter(V=>V!==void 0).map(String).includes(z.id.toString())?{...z,...k}:z);return{...O,data:j}}),S.detail))for(let O of y)i.setQueriesData(T.action("one").id(O).params(N??{}).get(C),j=>{if(typeof S.detail=="function")return S.detail(j,k,O);if(!j)return null;let z={...j.data,...k};return{...j,data:z}});return{previousQueries:W,queryKey:I}},onSettled:(P,y,{ids:k,resource:w,dataProviderName:M})=>{let{identifier:A}=a(w);p({resource:A,invalidates:["list","many"],dataProviderName:X(A,M,r)}),k.forEach(D=>p({resource:A,invalidates:["detail"],dataProviderName:X(A,M,r),id:D})),g({type:"REMOVE",payload:{id:k,resource:A}})},onSuccess:(P,{ids:y,resource:k,meta:w,metaData:M,dataProviderName:A,successNotification:D,values:S},R)=>{let{resource:N,identifier:I}=a(k),T=h.singular(I),F=typeof D=="function"?D(P,{ids:y,values:S},I):D;u(F,{key:`${y}-${I}-notification`,description:o("notifications.success","Successful"),message:o("notifications.editSuccess",{resource:o(`${I}.${I}`,I)},`Successfully updated ${T}`),type:"success"}),L==null||L({channel:`resources/${N.name}`,type:"updated",payload:{ids:y.map(String)},date:new Date});let W=[];R&&y.forEach(B=>{let _=i.getQueryData(R.queryKey.detail(B));W.push(Object.keys(S||{}).reduce((oe,de)=>{var ae;return oe[de]=(ae=_==null?void 0:_.data)==null?void 0:ae[de],oe},{}))});let O=v({resource:N,meta:$(w,M)}),{fields:j,operation:z,variables:V,...Q}=O||{};b==null||b.mutate({action:"updateMany",resource:N.name,data:S,previousData:W,meta:{ids:y,dataProviderName:X(I,A,r),...Q}})},onError:(P,{ids:y,resource:k,errorNotification:w,values:M},A)=>{let{identifier:D}=a(k);if(A)for(let S of A.previousQueries)i.setQueryData(S[0],S[1]);if(P.message!=="mutationCancelled"){m==null||m(P);let S=h.singular(D),R=typeof w=="function"?w(P,{ids:y,values:M},D):w;u(R,{key:`${y}-${D}-updateMany-error-notification`,message:o("notifications.editError",{resource:S,statusCode:P.statusCode},`Error when updating ${S} (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:f().data().mutation("updateMany").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,wl.getXRay)("useUpdateMany",C)}}),{elapsedTime:x}=fe({isLoading:q.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...q,overtime:{elapsedTime:x}}},"useUpdateMany"),Za=E("@tanstack/react-query"),Sl=Y(),xl=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=Le({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:i,undoableTimeout:n}=St(),o=Pe(),{notificationDispatch:s}=xt(),c=re(),d=vt(),m=Me(),g=Ge(),{log:L}=ft(),{resources:u,select:p}=H(),b=(0,Za.useQueryClient)(),v=ue(),{options:{textTransformers:h}}=we(),{keys:f,preferLegacyKeys:C}=J(),q=(0,Za.useMutation)(({resource:P,ids:y,mutationMode:k,undoableTimeout:w,onCancel:M,meta:A,metaData:D,dataProviderName:S,values:R})=>{let{resource:N,identifier:I}=p(P),T=v({resource:N,meta:$(A,D)}),F=k??i,W=w??n,O=o(X(I,S,u)),j=l(()=>O.deleteMany?O.deleteMany({resource:N.name,ids:y,meta:T,metaData:T,variables:R}):rr(y.map(z=>O.deleteOne({resource:N.name,id:z,meta:T,metaData:T,variables:R}))),"mutationFn");return F!=="undoable"?j():new Promise((z,V)=>{let Q=l(()=>{j().then(_=>z(_)).catch(_=>V(_))},"doMutation"),B=l(()=>{V({message:"mutationCancelled"})},"cancelMutation");M&&M(B),s({type:"ADD",payload:{id:y,resource:I,cancelMutation:B,doMutation:Q,seconds:W,isSilent:!!M}})})},{onMutate:async({ids:P,resource:y,mutationMode:k,dataProviderName:w,meta:M,metaData:A})=>{let{identifier:D}=p(y),S=$(M,A),R=tr(C)(D,X(D,w,u),S),N=f().data(X(D,w,u)).resource(D),I=k??i;await b.cancelQueries(N.get(C),void 0,{silent:!0});let T=b.getQueriesData(N.get(C));if(I!=="pessimistic"){b.setQueriesData(N.action("list").params(S??{}).get(C),F=>F?{data:F.data.filter(W=>W.id&&!P.map(String).includes(W.id.toString())),total:F.total-1}:null),b.setQueriesData(N.action("many").get(C),F=>{if(!F)return null;let W=F.data.filter(O=>O.id?!P.map(String).includes(O.id.toString()):!1);return{...F,data:W}});for(let F of P)b.setQueriesData(N.action("one").id(F).params(S).get(C),W=>!W||W.data.id==F?null:{...W})}return{previousQueries:T,queryKey:R}},onSettled:(P,y,{resource:k,ids:w,dataProviderName:M,invalidates:A=["list","many"]})=>{let{identifier:D}=p(k);g({resource:D,dataProviderName:X(D,M,u),invalidates:A}),s({type:"REMOVE",payload:{id:w,resource:D}})},onSuccess:(P,{ids:y,resource:k,meta:w,metaData:M,dataProviderName:A,successNotification:D},S)=>{let{resource:R,identifier:N}=p(k);y.forEach(z=>b.removeQueries(S==null?void 0:S.queryKey.detail(z)));let I=typeof D=="function"?D(P,y,N):D;m(I,{key:`${y}-${N}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${N}.${N}`,N)},`Successfully deleted ${N}`),type:"success"}),d==null||d({channel:`resources/${R.name}`,type:"deleted",payload:{ids:y},date:new Date});let T=v({resource:R,meta:$(w,M)}),{fields:F,operation:W,variables:O,...j}=T||{};L==null||L.mutate({action:"deleteMany",resource:R.name,meta:{ids:y,dataProviderName:X(N,A,u),...j}}),y.forEach(z=>b.removeQueries(S==null?void 0:S.queryKey.detail(z)))},onError:(P,{ids:y,resource:k,errorNotification:w},M)=>{let{identifier:A}=p(k);if(M)for(let D of M.previousQueries)b.setQueryData(D[0],D[1]);if(P.message!=="mutationCancelled"){a(P);let D=h.singular(A),S=typeof w=="function"?w(P,y,A):w;m(S,{key:`${y}-${A}-notification`,message:c("notifications.deleteError",{resource:D,statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:f().data().mutation("deleteMany").get(C),...e,meta:{...e==null?void 0:e.meta,...(0,Sl.getXRay)("useDeleteMany",C)}}),{elapsedTime:x}=fe({isLoading:q.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...q,overtime:{elapsedTime:x}}},"useDeleteMany"),Dl=l(e=>{var t;let r=Pe(),{resource:a}=H(),{getApiUrl:i}=r(e??((t=$(a==null?void 0:a.meta,a==null?void 0:a.options))==null?void 0:t.dataProviderName));return i()},"useApiUrl"),ql=E("@tanstack/react-query"),kl=Y(),Ml=l(({url:e,method:t,config:r,queryOptions:a,successNotification:i,errorNotification:n,meta:o,metaData:s,dataProviderName:c,overtimeOptions:d})=>{let m=Pe(),g=ve(),{mutate:L}=Le({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),u=re(),p=Me(),b=ue(),{keys:v,preferLegacyKeys:h}=J(),f=$(o,s),{custom:C}=m(c),q=b({meta:f});if(C){let x=(0,ql.useQuery)({queryKey:v().data(c).mutation("custom").params({method:t,url:e,...r,...f||{}}).get(h),queryFn:({queryKey:y,pageParam:k,signal:w})=>C({url:e,method:t,...r,meta:{...q,queryContext:{queryKey:y,pageParam:k,signal:w}},metaData:{...q,queryContext:{queryKey:y,pageParam:k,signal:w}}}),...a,onSuccess:y=>{var k;(k=a==null?void 0:a.onSuccess)==null||k.call(a,y);let w=typeof i=="function"?i(y,{...r,...q}):i;p(w)},onError:y=>{var k;L(y),(k=a==null?void 0:a.onError)==null||k.call(a,y);let w=typeof n=="function"?n(y,{...r,...q}):n;p(w,{key:`${t}-notification`,message:u("notifications.error",{statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})},meta:{...a==null?void 0:a.meta,...(0,kl.getXRay)("useCustom",h)}}),{elapsedTime:P}=fe({isLoading:x.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{...x,overtime:{elapsedTime:P}}}else throw Error("Not implemented custom on data provider.")},"useCustom"),Nl=E("@tanstack/react-query"),Tl=Y(),Al=l(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ve(),{mutate:a}=Le({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),i=Me(),n=Pe(),o=re(),s=ue(),{keys:c,preferLegacyKeys:d}=J(),m=(0,Nl.useMutation)(({url:L,method:u,values:p,meta:b,metaData:v,dataProviderName:h,config:f})=>{let C=s({meta:$(b,v)}),{custom:q}=n(h);if(q)return q({url:L,method:u,payload:p,meta:C,metaData:C,headers:{...f==null?void 0:f.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(L,{successNotification:u,config:p,meta:b,metaData:v})=>{let h=typeof u=="function"?u(L,{...p,...$(b,v)||{}}):u;i(h)},onError:(L,{errorNotification:u,method:p,config:b,meta:v,metaData:h})=>{a(L);let f=typeof u=="function"?u(L,{...b,...$(v,h)||{}}):u;i(f,{key:`${p}-notification`,message:o("notifications.error",{statusCode:L.statusCode},`Error (status code: ${L.statusCode})`),description:L.message,type:"error"})},mutationKey:c().data().mutation("customMutation").get(d),...e,meta:{...e==null?void 0:e.meta,...(0,Tl.getXRay)("useCustomMutation",d)}}),{elapsedTime:g}=fe({isLoading:m.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...m,overtime:{elapsedTime:g}}},"useCustomMutation"),Ya=E("react"),rn=U(E("react")),Rl=l(()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),"defaultDataProvider"),Yr=rn.default.createContext(Rl()),Ol=l(({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},rn.default.createElement(Yr.Provider,{value:r},e)},"DataContextProvider"),Pe=l(()=>{let e=(0,Ya.useContext)(Yr);return(0,Ya.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider"),Il=E("@tanstack/react-query"),Fl=Y(),$l=l(({resource:e,config:t,filters:r,hasPagination:a,pagination:i,sorters:n,queryOptions:o,successNotification:s,errorNotification:c,meta:d,metaData:m,liveMode:g,onLiveEvent:L,liveParams:u,dataProviderName:p,overtimeOptions:b})=>{let{resources:v,resource:h,identifier:f}=H(e),C=Pe(),q=re(),x=ve(),{mutate:P}=Le({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),y=Me(),k=ue(),{keys:w,preferLegacyKeys:M}=J(),A=X(f,p,v),D=$(d,m),S=$(r,t==null?void 0:t.filters),R=$(n,t==null?void 0:t.sort),N=$(a,t==null?void 0:t.hasPagination),I=_i({pagination:i,configPagination:t==null?void 0:t.pagination,hasPagination:N}),T=I.mode==="server",F={meta:D,metaData:D,filters:S,hasPagination:T,pagination:I,sorters:R,config:{...t,sort:R}},W=(o==null?void 0:o.enabled)===void 0||(o==null?void 0:o.enabled)===!0,O=k({resource:h,meta:D}),{getList:j}=C(A);Ot({resource:f,types:["*"],params:{meta:O,metaData:O,pagination:I,hasPagination:T,sort:R,sorters:R,filters:S,subscriptionType:"useList",...u},channel:`resources/${h.name}`,enabled:W,liveMode:g,onLiveEvent:L});let z=(0,Il.useInfiniteQuery)(w().data(A).resource(f).action("infinite").params({...D||{},filters:S,hasPagination:T,...T&&{pagination:I},...n&&{sorters:n},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(M),({queryKey:Q,pageParam:B,signal:_})=>{let oe={...I,current:B};return j({resource:h.name,pagination:oe,hasPagination:T,filters:S,sort:R,sorters:R,meta:{...O,queryContext:{queryKey:Q,pageParam:B,signal:_}},metaData:{...O,queryContext:{queryKey:Q,pageParam:B,signal:_}}}).then(({data:de,total:ae,...Z})=>({data:de,total:ae,pagination:oe,...Z}))},{getNextPageParam:Q=>Ui(Q),getPreviousPageParam:Q=>zi(Q),...o,onSuccess:Q=>{var B;(B=o==null?void 0:o.onSuccess)==null||B.call(o,Q);let _=typeof s=="function"?s(Q,F,f):s;y(_)},onError:Q=>{var B;P(Q),(B=o==null?void 0:o.onError)==null||B.call(o,Q);let _=typeof c=="function"?c(Q,F,f):c;y(_,{key:`${f}-useInfiniteList-notification`,message:q("notifications.error",{statusCode:Q.statusCode},`Error (status code: ${Q.statusCode})`),description:Q.message,type:"error"})},meta:{...o==null?void 0:o.meta,...(0,Fl.getXRay)("useInfiniteList",M)}}),{elapsedTime:V}=fe({isLoading:z.isFetching,interval:b==null?void 0:b.interval,onInterval:b==null?void 0:b.onInterval});return{...z,overtime:{elapsedTime:V}}},"useInfiniteList"),xr=E("react"),an=U(E("react")),Tt=an.default.createContext(void 0),Kl=l(({liveProvider:e,children:t})=>an.default.createElement(Tt.Provider,{value:e},t),"LiveContextProvider"),Ul=E("react"),nn=U(E("react")),zl=E("react"),Ql=E("react"),Wl=U(E("lodash/isEqual")),Bl=l(e=>{let t=(0,Ql.useRef)(e);return(0,Wl.default)(t.current,e)||(t.current=e),t.current},"useMemoized"),on=l((e,t)=>{let r=Bl(t);return(0,zl.useMemo)(e,r)},"useDeepMemo"),At=nn.default.createContext({resources:[]}),_l=l(({resources:e,children:t})=>{let r=on(()=>Qi(e??[]),[e]);return nn.default.createElement(At.Provider,{value:{resources:r}},t)},"ResourceContextProvider"),ln=U(E("react")),sn=ln.default.createContext("new"),jl=sn.Provider,pe=l(()=>ln.default.useContext(sn),"useRouterType"),Vl=U(E("react")),un=U(E("react")),dn={},Rt=(0,un.createContext)(dn),Xl=l(({children:e,router:t})=>un.default.createElement(Rt.Provider,{value:t??dn},e),"RouterBindingsProvider"),Ja=U(E("react")),cn=l(()=>{let e=(0,Ja.useContext)(Rt);return Ja.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),We=l(()=>{let e=cn();return Vl.default.useMemo(()=>e(),[e])},"useParsed");function H(e){let{resources:t}=(0,Ul.useContext)(At),r=pe(),a=We(),i={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},n=l((g,L=!0)=>{let u=ge(g,t,r==="legacy");if(u)return{resource:u,identifier:u.identifier??u.name};if(L){let p={name:g,identifier:g},b=p.identifier??p.name;return{resource:p,identifier:b}}},"select"),o=mn(),{useParams:s}=Ne(),c=s();if(r==="legacy"){let g=i.resourceNameOrRouteName?i.resourceNameOrRouteName:c.resource,L=g?o(g):void 0,u=(i==null?void 0:i.recordItemId)??c.id,p=c.action,b=(i==null?void 0:i.resourceName)??(L==null?void 0:L.name),v=(L==null?void 0:L.identifier)??(L==null?void 0:L.name);return{resources:t,resource:L,resourceName:b,id:u,action:p,select:n,identifier:v}}let d,m=typeof e=="string"?e:i==null?void 0:i.resourceNameOrRouteName;if(m){let g=ge(m,t);g?d=g:d={name:m}}else a!=null&&a.resource&&(d=a.resource);return{resources:t,resource:d,resourceName:d==null?void 0:d.name,id:a.id,action:a.action,select:n,identifier:(d==null?void 0:d.identifier)??(d==null?void 0:d.name)}}K(H,"K");l(H,"useResource");var ei=E("react"),mn=l(()=>{let{resources:e}=(0,ei.useContext)(At);return(0,ei.useCallback)(t=>ge(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),Hl=E("react"),Gl=E("@tanstack/react-query"),Ge=l(()=>{let{resources:e}=H(),t=(0,Gl.useQueryClient)(),{keys:r,preferLegacyKeys:a}=J();return(0,Hl.useCallback)(async({resource:i,dataProviderName:n,invalidates:o,id:s,invalidationFilters:c={type:"all",refetchType:"active"},invalidationOptions:d={cancelRefetch:!1}})=>{if(o===!1)return;let m=X(i,n,e),g=r().data(m).resource(i??"");await Promise.all(o.map(L=>{switch(L){case"all":return t.invalidateQueries(r().data(m).get(a),c,d);case"list":return t.invalidateQueries(g.action("list").get(a),c,d);case"many":return t.invalidateQueries(g.action("many").get(a),c,d);case"resourceAll":return t.invalidateQueries(g.get(a),c,d);case"detail":return t.invalidateQueries(g.action("one").id(s||"").get(a),c,d);default:return}}))},[])},"useInvalidate"),Ot=l(({resource:e,params:t,channel:r,types:a,enabled:i=!0,liveMode:n,onLiveEvent:o})=>{let{resource:s,identifier:c}=H(e),d=(0,xr.useContext)(Tt),{liveMode:m,onLiveEvent:g}=(0,xr.useContext)(at),L=n??m,u=Ge();(0,xr.useEffect)(()=>{let p,b=l(v=>{var h;L==="auto"&&u({resource:c,dataProviderName:(h=s==null?void 0:s.meta)==null?void 0:h.dataProviderName,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),o==null||o(v),g==null||g(v)},"callback");return L&&L!=="off"&&i&&(p=d==null?void 0:d.subscribe({channel:r,params:{resource:s==null?void 0:s.name,...t},types:a,callback:b})),()=>{p&&(d==null||d.unsubscribe(p))}},[i])},"useResourceSubscription"),Zl=E("react"),vn=l(e=>{let{liveMode:t}=(0,Zl.useContext)(at);return e??t},"useLiveMode"),ti=E("react"),Yl=l(({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:i})=>{let n=(0,ti.useContext)(Tt);(0,ti.useEffect)(()=>{let o;return a&&(o=n==null?void 0:n.subscribe({channel:t,params:e,types:r,callback:i})),()=>{o&&(n==null||n.unsubscribe(o))}},[a])},"useSubscription"),Jl=E("react"),vt=l(()=>{let e=(0,Jl.useContext)(Tt);return e==null?void 0:e.publish},"usePublish"),es=E("react"),xt=l(()=>{let{notifications:e,notificationDispatch:t}=(0,es.useContext)(en);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),ts=E("react"),pn=U(E("react")),Jr=(0,pn.createContext)({}),rs=l(({open:e,close:t,children:r})=>pn.default.createElement(Jr.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider"),it=l(()=>{let{open:e,close:t}=(0,ts.useContext)(Jr);return{open:e,close:t}},"useNotification"),as=E("react"),Me=l(()=>{let{open:e}=it();return(0,as.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},"useHandleNotification"),ri=E("react"),fn=U(E("react")),pt=fn.default.createContext({}),is=l(({children:e,i18nProvider:t})=>fn.default.createElement(pt.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider"),ns=l(()=>{let{i18nProvider:e}=(0,ri.useContext)(pt);return(0,ri.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale"),ai=E("react"),re=l(()=>{let{i18nProvider:e}=(0,ai.useContext)(pt);return(0,ai.useMemo)(()=>{function t(r,a,i){return(e==null?void 0:e.translate(r,a,i))??i??(typeof a=="string"&&typeof i>"u"?a:r)}return K(t,"r"),l(t,"translate"),t},[e])},"useTranslate"),ii=E("react"),os=l(()=>{let{i18nProvider:e}=(0,ii.useContext)(pt);return(0,ii.useCallback)(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale"),ls=E("react"),ss=E("export-to-csv-fix-source-map"),us=l(({resourceName:e,resource:t,sorter:r,sorters:a,filters:i,maxItemCount:n,pageSize:o=20,mapData:s=l(u=>u,"mapData"),exportOptions:c,meta:d,metaData:m,dataProviderName:g,onError:L}={})=>{let[u,p]=(0,ls.useState)(!1),b=Pe(),v=ue(),{resource:h,resources:f,identifier:C}=H($(t,e)),q=`${Qr()(C,"plural")}-${new Date().toLocaleString()}`,{getList:x}=b(X(C,g,f)),P=v({resource:h,meta:$(d,m)});return{isLoading:u,triggerExport:l(async()=>{p(!0);let y=[],k=1,w=!0;for(;w;)try{let{data:M,total:A}=await x({resource:(h==null?void 0:h.name)??"",filters:i,sort:$(a,r),sorters:$(a,r),pagination:{current:k,pageSize:o,mode:"server"},meta:P,metaData:P});k++,y.push(...M),n&&y.length>=n&&(y=y.slice(0,n),w=!1),A===y.length&&(w=!1)}catch(M){p(!1),w=!1,L==null||L(M);return}new ss.ExportToCsv({filename:q,useKeysAsHeaders:!0,...c}).generateCsv(y.map(s)),p(!1)},"triggerExport")}},"useExport"),Dr=U(E("react")),ds=U(E("warn-once")),cs=U(E("lodash/debounce")),ms=l(({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:i,redirect:n,successNotification:o,errorNotification:s,meta:c,metaData:d,queryMeta:m,mutationMeta:g,mutationMode:L,liveMode:u,onLiveEvent:p,liveParams:b,undoableTimeout:v,dataProviderName:h,invalidates:f,queryOptions:C,createMutationOptions:q,updateMutationOptions:x,overtimeOptions:P,autoSave:y,optimisticUpdateMap:k}={})=>{let w=Ge(),{options:M}=we(),A=ue(),{resource:D,id:S,action:R,identifier:N}=H(e),{identifier:I}=H(),T=l(()=>e&&e!==I?r:r??S,"getDefaultId")(),[F,W]=Dr.default.useState(T);Dr.default.useEffect(()=>{W(T)},[T]);let O=l(()=>t||(R==="edit"||R==="clone"?R:"create"),"getAction")(),j=A({resource:D,meta:$(c,d)}),{mutationMode:z}=St(),V=L??z,Q=O==="create",B=O==="edit",_=O==="clone";(0,ds.default)((_||B)&&!!e&&!r&&(C==null?void 0:C.enabled)!==!1,`[useForm]: action: "${O}", resource: "${N}", id: ${F} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let oe=Ko({redirectFromProps:n,action:O,redirectOptions:M.redirect}),de=Gr({resource:N,id:F??"",queryOptions:{enabled:F!==void 0&&(B||_),...C},liveMode:u,onLiveEvent:p,liveParams:b,meta:{...j,...m},metaData:{...j,...m},dataProviderName:h}),{isFetching:ae}=de,Z=Zr({mutationOptions:q}),{mutate:$t,isLoading:Kt}=Z,$e=Fr({mutationOptions:x}),{mutate:Ut,isLoading:Ze}=$e,Ye=Fr({}),{setWarnWhen:ot}=zr(),Je=gn(),ht=l(async ie=>{ot(!1);let Ke=l(le=>{Je({redirect:oe,resource:D,id:le,meta:$(c,d)})},"onSuccess");return V!=="pessimistic"&&setTimeout(()=>{Ke()}),new Promise((le,_e)=>{if(V!=="pessimistic"&&le(),!!D)return $t({values:ie,resource:N??D.name,successNotification:o,errorNotification:s,meta:{...j,...g},metaData:{...j,...g},dataProviderName:h,invalidates:f},{onSuccess:(ce,Ue,ze)=>{var je;a&&a(ce,ie,ze);let Ve=(je=ce==null?void 0:ce.data)==null?void 0:je.id;Ke(Ve),le(ce)},onError:(ce,Ue,ze)=>{if(i)return i(ce,ie,ze);_e()}})})},"onFinishCreate");Dr.default.useEffect(()=>()=>{y!=null&&y.invalidateOnUnmount&&Ye.status==="success"&&w({id:F,invalidates:f||["list","many","detail"],dataProviderName:h,resource:N})},[y==null?void 0:y.invalidateOnUnmount,Ye.status]);let Pt=l(ie=>{if(!D||!B)return;let Ke={id:F??"",values:ie,resource:N??D.name,successNotification:!1,errorNotification:!1,meta:{...j,...g},metaData:{...j,...g},dataProviderName:h,invalidates:[],mutationMode:"pessimistic"};return Ye.mutate(Ke,{onSuccess:(le,_e,ce)=>{a&&a(le,ie,ce,!0)},onError:(le,_e,ce)=>{if(i)return i(le,ie,ce,!0)}})},"onFinishAutoSaveMutation"),zt=(0,cs.default)(ie=>Pt(ie),(y==null?void 0:y.debounce)||1e3),qt=Q||_?{formLoading:ae||Kt,mutationResult:Z,onFinish:ht}:{formLoading:ae||Ze,mutationResult:$e,onFinish:l(async ie=>{if(ot(!1),!D)return;let Ke={id:F??"",values:ie,resource:N??D.name,mutationMode:V,undoableTimeout:v,successNotification:o,errorNotification:s,meta:{...j,...g},metaData:{...j,...g},dataProviderName:h,invalidates:f,optimisticUpdateMap:k},le=l(()=>{Je({redirect:oe,resource:D,id:F,meta:$(c,d)})},"onSuccess");return V!=="pessimistic"&&setTimeout(()=>{le()}),new Promise((_e,ce)=>(V!=="pessimistic"&&_e(),setTimeout(()=>{Ut(Ke,{onSuccess:(Ue,ze,je)=>{a&&a(Ue,ie,je),V==="pessimistic"&&le(),_e(Ue)},onError:(Ue,ze,je)=>{if(i)return i(Ue,ie,je);ce()}})})))},"onFinishUpdate")},{elapsedTime:mr}=fe({isLoading:qt.mutationResult.isLoading||de.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{...qt,queryResult:de,onFinishAutoSave:zt,autoSaveProps:{status:Ye.status,data:Ye.data,error:Ye.error},id:F,setId:W,redirect:(ie,Ke)=>{Je({redirect:ie!==void 0?ie:B?"list":"edit",resource:D,id:Ke??F,meta:$(c,d)})},overtime:{elapsedTime:mr}}},"useForm"),vs=E("react"),gn=l(()=>{let{show:e,edit:t,list:r,create:a}=Fe();return(0,vs.useCallback)(({redirect:i,resource:n,id:o,meta:s={}})=>{if(i&&n)return n.show&&i==="show"&&o?e(n,o,void 0,s):n.edit&&i==="edit"&&o?t(n,o,void 0,s):n.create&&i==="create"?a(n,void 0,s):r(n,"push",s)},[])},"useRedirectionAfterSubmission"),ni=U(E("react")),Ie=l(()=>{let e=(0,ni.useContext)(Rt);return ni.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])()},"useGo"),oi=U(E("react")),yn=l(()=>{let e=(0,oi.useContext)(Rt);return oi.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),Fe=l(()=>{let{resources:e}=H(),t=pe(),{useHistory:r}=Ne(),a=r(),i=We(),n=Ie(),o=yn(),s=l((u,p="push")=>{t==="legacy"?a[p](u):n({to:u,type:p})},"handleUrl"),c=l((u,p={})=>{var b;if(t==="legacy"){let v=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,h=De(v,e,!0).find(f=>f.action==="create");return h?Re(h.route,v==null?void 0:v.meta,i,p):""}else{let v=typeof u=="string"?ge(u,e)??{name:u}:u,h=(b=De(v,e).find(f=>f.action==="create"))==null?void 0:b.route;return h?n({to:Re(h,v==null?void 0:v.meta,i,p),type:"path"}):""}},"createUrl"),d=l((u,p,b={})=>{var v;let h=encodeURIComponent(p);if(t==="legacy"){let f=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,C=De(f,e,!0).find(q=>q.action==="edit");return C?Re(C.route,f==null?void 0:f.meta,i,{...b,id:h}):""}else{let f=typeof u=="string"?ge(u,e)??{name:u}:u,C=(v=De(f,e).find(q=>q.action==="edit"))==null?void 0:v.route;return C?n({to:Re(C,f==null?void 0:f.meta,i,{...b,id:h}),type:"path"}):""}},"editUrl"),m=l((u,p,b={})=>{var v;let h=encodeURIComponent(p);if(t==="legacy"){let f=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,C=De(f,e,!0).find(q=>q.action==="clone");return C?Re(C.route,f==null?void 0:f.meta,i,{...b,id:h}):""}else{let f=typeof u=="string"?ge(u,e)??{name:u}:u,C=(v=De(f,e).find(q=>q.action==="clone"))==null?void 0:v.route;return C?n({to:Re(C,f==null?void 0:f.meta,i,{...b,id:h}),type:"path"}):""}},"cloneUrl"),g=l((u,p,b={})=>{var v;let h=encodeURIComponent(p);if(t==="legacy"){let f=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,C=De(f,e,!0).find(q=>q.action==="show");return C?Re(C.route,f==null?void 0:f.meta,i,{...b,id:h}):""}else{let f=typeof u=="string"?ge(u,e)??{name:u}:u,C=(v=De(f,e).find(q=>q.action==="show"))==null?void 0:v.route;return C?n({to:Re(C,f==null?void 0:f.meta,i,{...b,id:h}),type:"path"}):""}},"showUrl"),L=l((u,p={})=>{var b;if(t==="legacy"){let v=typeof u=="string"?ge(u,e,!0)??{name:u,route:u}:u,h=De(v,e,!0).find(f=>f.action==="list");return h?Re(h.route,v==null?void 0:v.meta,i,p):""}else{let v=typeof u=="string"?ge(u,e)??{name:u}:u,h=(b=De(v,e).find(f=>f.action==="list"))==null?void 0:b.route;return h?n({to:Re(h,v==null?void 0:v.meta,i,p),type:"path"}):""}},"listUrl");return{create:l((u,p="push",b={})=>{s(c(u,b),p)},"create"),createUrl:c,edit:l((u,p,b="push",v={})=>{s(d(u,p,v),b)},"edit"),editUrl:d,clone:l((u,p,b="push",v={})=>{s(m(u,p,v),b)},"clone"),cloneUrl:m,show:l((u,p,b="push",v={})=>{s(g(u,p,v),b)},"show"),showUrl:g,list:l((u,p="push",b={})=>{s(L(u,b),p)},"list"),listUrl:L,push:l((u,...p)=>{t==="legacy"?a.push(u,...p):n({to:u,type:"push"})},"push"),replace:l((u,...p)=>{t==="legacy"?a.replace(u,...p):n({to:u,type:"replace"})},"replace"),goBack:l(()=>{t==="legacy"?a.goBack():o()},"goBack")}},"useNavigation"),li=U(E("react")),ps=U(E("warn-once")),fs=l(({resource:e,id:t,successNotification:r,errorNotification:a,meta:i,metaData:n,liveMode:o,onLiveEvent:s,dataProviderName:c,queryOptions:d,overtimeOptions:m}={})=>{let{resource:g,id:L,identifier:u}=H(e),{identifier:p}=H(),b=ue(),v=l(()=>e&&e!==p?t:t??L,"getDefaultId")(),[h,f]=(0,li.useState)(v);li.default.useEffect(()=>{f(v)},[v]);let C=b({resource:g,meta:$(i,n)});(0,ps.default)(!!e&&!t,`[useShow]: resource: "${u}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let q=Gr({resource:u,id:h??"",queryOptions:{enabled:h!==void 0,...d},successNotification:r,errorNotification:a,meta:C,metaData:C,liveMode:o,onLiveEvent:s,dataProviderName:c}),{elapsedTime:x}=fe({isLoading:q.isFetching,interval:m==null?void 0:m.interval,onInterval:m==null?void 0:m.onInterval});return{queryResult:q,showId:h,setShowId:f,overtime:{elapsedTime:x}}},"useShow"),Vt=E("react"),gs=E("papaparse"),ys=U(E("lodash/chunk")),hs=l(({resourceName:e,resource:t,mapData:r=l(m=>m,"mapData"),paparseOptions:a,batchSize:i=Number.MAX_SAFE_INTEGER,onFinish:n,meta:o,metaData:s,onProgress:c,dataProviderName:d}={})=>{let[m,g]=(0,Vt.useState)(0),[L,u]=(0,Vt.useState)(0),[p,b]=(0,Vt.useState)(!1),{resource:v,identifier:h}=H(t??e),f=ue(),C=tn(),q=Zr(),x=f({resource:v,meta:$(o,s)}),P;i===1?P=q:P=C;let y=l(()=>{u(0),g(0),b(!1)},"handleCleanup"),k=l(M=>{let A={succeeded:M.filter(D=>D.type==="success"),errored:M.filter(D=>D.type==="error")};n==null||n(A),b(!1)},"handleFinish");(0,Vt.useEffect)(()=>{c==null||c({totalAmount:L,processedAmount:m})},[L,m]);let w=l(({file:M})=>(y(),new Promise(A=>{b(!0),(0,gs.parse)(M,{complete:async({data:D})=>{let S=wi(D,r);if(u(S.length),i===1){let R=S.map(I=>l(async()=>({response:await q.mutateAsync({resource:h??"",values:I,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:x,metaData:x}),value:I}),"fn")),N=await qa(R,({response:I,value:T})=>(g(F=>F+1),{response:[I.data],type:"success",request:[T]}),(I,T)=>({response:[I],type:"error",request:[S[T]]}));A(N)}else{let R=(0,ys.default)(S,i),N=R.map(T=>l(async()=>({response:await C.mutateAsync({resource:h??"",values:T,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:x,metaData:x}),value:T,currentBatchLength:T.length}),"fn")),I=await qa(N,({response:T,currentBatchLength:F,value:W})=>(g(O=>O+F),{response:T.data,type:"success",request:W}),(T,F)=>({response:[T],type:"error",request:R[F]}));A(I)}},...a})}).then(A=>(k(A),A))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:M=>{M.target.files&&M.target.files.length>0&&w({file:M.target.files[0]})}},mutationResult:P,isLoading:p,handleChange:w}},"useImport"),qr=E("react"),Ps=l(({defaultVisible:e=!1}={})=>{let[t,r]=(0,qr.useState)(e),a=(0,qr.useCallback)(()=>r(!0),[t]),i=(0,qr.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:i}},"useModal"),bs=U(E("react")),ea=l(()=>{let e=pe(),{resource:t,resources:r}=H(),a=We();return bs.default.useCallback(({resource:i,action:n,meta:o})=>{var s;let c=i||t;if(!c)return;let d=(s=De(c,r,e==="legacy").find(m=>m.action===n))==null?void 0:s.route;return d?Re(d,c==null?void 0:c.meta,a,o):void 0},[r,t,a])},"useGetToPath"),Cs=l(({resource:e,action:t,meta:r,legacy:a})=>ea()({resource:e,action:t,meta:r,legacy:a}),"useToPath"),si=U(E("react")),nr=l(()=>{let e=(0,si.useContext)(Rt);return e!=null&&e.Link?e.Link:l(({to:t,...r})=>si.default.createElement("a",{href:t,...r}),"FallbackLink")},"useLink"),Es=E("react"),hn=U(E("react")),tt={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},ws=hn.default.createContext(tt),ta=ws,Ls=l(({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:i,Link:n,routes:o})=>hn.default.createElement(ta.Provider,{value:{useHistory:t??tt.useHistory,useLocation:r??tt.useLocation,useParams:a??tt.useParams,Prompt:i??tt.Prompt,Link:n??tt.Link,routes:o??tt.routes}},e),"LegacyRouterContextProvider"),Ne=l(()=>{let e=(0,Es.useContext)(ta),{useHistory:t,useLocation:r,useParams:a,Prompt:i,Link:n,routes:o}=e??tt;return{useHistory:t,useLocation:r,useParams:a,Prompt:i,Link:n,routes:o}},"useRouterContext"),Ss=E("@tanstack/react-query"),xs=E("react"),Pn=U(E("react")),It=Pn.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),Ds=l(({can:e,children:t,options:r})=>Pn.default.createElement(It.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t),"AccessControlContextProvider"),ra=l(e=>{if(!e)return;let{icon:t,list:r,edit:a,create:i,show:n,clone:o,children:s,meta:c,options:d,...m}=e,{icon:g,...L}=c??{},{icon:u,...p}=d??{};return{...m,...c?{meta:L}:{},...d?{options:p}:{}}},"sanitizeResource"),qs=Y(),bn=l(({action:e,resource:t,params:r,queryOptions:a})=>{let{can:i}=(0,xs.useContext)(It),{keys:n,preferLegacyKeys:o}=J(),{resource:s,...c}=r??{},d=ra(s),m=(0,Ss.useQuery)(n().access().resource(t).action(e).params({params:{...c,resource:d},enabled:a==null?void 0:a.enabled}).get(o),()=>(i==null?void 0:i({action:e,resource:t,params:{...c,resource:d}}))??Promise.resolve({can:!0}),{enabled:typeof i<"u",...a,meta:{...a==null?void 0:a.meta,...(0,qs.getXRay)("useCan",o)},retry:!1});return typeof i>"u"?{data:{can:!0}}:m},"useCan"),ui=U(E("react")),ks=l(()=>{let{can:e}=ui.default.useContext(It);return{can:ui.default.useMemo(()=>e?l(async({params:t,...r})=>{let a=t!=null&&t.resource?ra(t.resource):void 0;return e({...r,...t?{params:{...t,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache"),Ct=E("react"),Ms=U(E("lodash/uniqBy")),Ns=U(E("lodash/debounce")),Xt=U(E("lodash/get")),Ts=l(e=>{let[t,r]=(0,Ct.useState)([]),[a,i]=(0,Ct.useState)([]),[n,o]=(0,Ct.useState)([]),{resource:s,sort:c,sorters:d,filters:m=[],optionLabel:g="title",optionValue:L="id",debounce:u=300,successNotification:p,errorNotification:b,defaultValueQueryOptions:v,queryOptions:h,fetchSize:f,pagination:C,hasPagination:q=!1,liveMode:x,defaultValue:P=[],onLiveEvent:y,onSearch:k,liveParams:w,meta:M,metaData:A,dataProviderName:D,overtimeOptions:S}=e,{resource:R,identifier:N}=H(s),I=ue()({resource:R,meta:$(M,A)}),T=Array.isArray(P)?P:[P],F=(0,Ct.useCallback)(B=>{o(B.data.map(_=>({label:(0,Xt.default)(_,g),value:(0,Xt.default)(_,L)})))},[g,L]),W=v??h,O=Ji({resource:N,ids:T,queryOptions:{...W,enabled:T.length>0&&((W==null?void 0:W.enabled)??!0),onSuccess:B=>{var _;F(B),(_=W==null?void 0:W.onSuccess)==null||_.call(W,B)}},meta:I,metaData:I,liveMode:"off",dataProviderName:D}),j=(0,Ct.useCallback)(B=>{i(B.data.map(_=>({label:(0,Xt.default)(_,g),value:(0,Xt.default)(_,L)})))},[g,L]),z=Hr({resource:N,sorters:$(d,c),filters:m.concat(t),pagination:{current:C==null?void 0:C.current,pageSize:(C==null?void 0:C.pageSize)??f,mode:C==null?void 0:C.mode},hasPagination:q,queryOptions:{...h,onSuccess:B=>{var _;j(B),(_=h==null?void 0:h.onSuccess)==null||_.call(h,B)}},successNotification:p,errorNotification:b,meta:I,metaData:I,liveMode:x,liveParams:w,onLiveEvent:y,dataProviderName:D}),V=l(B=>{if(k){r(k(B));return}if(B)r([{field:g,operator:"contains",value:B}]);else{r([]);return}},"onSearch"),{elapsedTime:Q}=fe({isLoading:z.isFetching||O.isFetching,interval:S==null?void 0:S.interval,onInterval:S==null?void 0:S.onInterval});return{queryResult:z,defaultValueQueryResult:O,options:(0,Ct.useMemo)(()=>(0,Ms.default)([...a,...n],"value"),[a,n]),onSearch:(0,Ns.default)(V,u),overtime:{elapsedTime:Q}}},"useSelect"),ut=U(E("react")),di=U(E("qs")),Ht=U(E("lodash/differenceWith")),Gt=U(E("lodash/isEqual")),As=U(E("warn-once")),ci=[],mi=[];function Cn({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:i,permanentSorter:n=mi,defaultSetFilterBehavior:o,initialFilter:s,permanentFilter:c=ci,filters:d,sorters:m,syncWithLocation:g,resource:L,successNotification:u,errorNotification:p,queryOptions:b,liveMode:v,onLiveEvent:h,liveParams:f,meta:C,metaData:q,dataProviderName:x,overtimeOptions:P}={}){var y,k,w,M,A;let{syncWithLocation:D}=Xi(),S=g??D,R=vn(v),N=pe(),{useLocation:I}=Ne(),{search:T,pathname:F}=I(),W=ue(),O=We(),j=((d==null?void 0:d.mode)||"server")==="server",z=((m==null?void 0:m.mode)||"server")==="server",V=r===!1?"off":"server",Q=((a==null?void 0:a.mode)??V)!=="off",B=$(a==null?void 0:a.current,e),_=$(a==null?void 0:a.pageSize,t),oe=$(C,q),{parsedCurrent:de,parsedPageSize:ae,parsedSorter:Z,parsedFilters:$t}=Wr(T??"?"),Kt=$(d==null?void 0:d.initial,s),$e=$(d==null?void 0:d.permanent,c)??ci,Ut=$(m==null?void 0:m.initial,i),Ze=$(m==null?void 0:m.permanent,n)??mi,Ye=$(d==null?void 0:d.defaultBehavior,o)??"merge",ot,Je,ht,Pt;S?(ot=((y=O==null?void 0:O.params)==null?void 0:y.current)||de||B||1,Je=((k=O==null?void 0:O.params)==null?void 0:k.pageSize)||ae||_||10,ht=((w=O==null?void 0:O.params)==null?void 0:w.sorters)||(Z.length?Z:Ut),Pt=((M=O==null?void 0:O.params)==null?void 0:M.filters)||($t.length?$t:Kt)):(ot=B||1,Je=_||10,ht=Ut,Pt=Kt);let{replace:zt}=Fe(),qt=Ie(),{resource:mr,identifier:ie}=H(L),Ke=W({resource:mr,meta:oe});ut.default.useEffect(()=>{(0,As.default)(typeof ie>"u","useTable: `resource` is not defined.")},[ie]);let[le,_e]=(0,ut.useState)(Ir(Ze,ht??[])),[ce,Ue]=(0,ut.useState)(Or($e,Pt??[])),[ze,je]=(0,ut.useState)(ot),[Ve,la]=(0,ut.useState)(Je),Tn=l(({pagination:{current:se,pageSize:Ae},sorter:Qt,filters:Wt})=>{if(N==="new")return qt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...Q?{current:se,pageSize:Ae}:{},sorters:Qt,filters:Wt,...sa()}})??"";{let kt=di.default.parse(T==null?void 0:T.substring(1)),$n=Ar({pagination:{pageSize:Ae,current:se},sorters:le??Qt,filters:Wt,...kt});return`${F??""}?${$n??""}`}},"createLinkForSyncWithLocation");(0,ut.useEffect)(()=>{T===""&&(je(ot),la(Je),_e(Ir(Ze,ht??[])),Ue(Or($e,Pt??[])))},[T]);let sa=l(()=>{if(N==="new"){let{sorters:se,filters:Ae,pageSize:Qt,current:Wt,...kt}=(O==null?void 0:O.params)??{};return kt}else{let{sorter:se,filters:Ae,pageSize:Qt,current:Wt,...kt}=di.default.parse(T,{ignoreQueryPrefix:!0});return kt}},"currentQueryParams");(0,ut.useEffect)(()=>{if(S){let se=sa();if(N==="new")qt({type:"replace",options:{keepQuery:!0},query:{...Q?{pageSize:Ve,current:ze}:{},sorters:(0,Ht.default)(le,Ze,Gt.default),filters:(0,Ht.default)(ce,$e,Gt.default)}});else{let Ae=Ar({...Q?{pagination:{pageSize:Ve,current:ze}}:{},sorters:(0,Ht.default)(le,Ze,Gt.default),filters:(0,Ht.default)(ce,$e,Gt.default),...se});return zt==null?void 0:zt(`${F}?${Ae}`,void 0,{shallow:!0})}}},[S,ze,Ve,le,ce]);let vr=Hr({resource:ie,hasPagination:r,pagination:{current:ze,pageSize:Ve,mode:a==null?void 0:a.mode},filters:j?Mt($e,ce):void 0,sorters:z?Rr(Ze,le):void 0,queryOptions:b,successNotification:u,errorNotification:p,meta:Ke,metaData:Ke,liveMode:R,liveParams:f,onLiveEvent:h,dataProviderName:x}),An=l(se=>{Ue(Ae=>Mt($e,se,Ae))},"setFiltersAsMerge"),Rn=l(se=>{Ue(Mt($e,se))},"setFiltersAsReplace"),On=l(se=>{Ue(Ae=>Mt($e,se(Ae)))},"setFiltersWithSetter"),In=l((se,Ae=Ye)=>{typeof se=="function"?On(se):Ae==="replace"?Rn(se):An(se)},"setFiltersFn"),ua=l(se=>{_e(()=>Rr(Ze,se))},"setSortWithUnion"),{elapsedTime:Fn}=fe({isLoading:vr.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{tableQueryResult:vr,sorters:le,setSorters:ua,sorter:le,setSorter:ua,filters:ce,setFilters:In,current:ze,setCurrent:je,pageSize:Ve,setPageSize:la,pageCount:Ve?Math.ceil((((A=vr.data)==null?void 0:A.total)??0)/Ve):1,createLinkForSyncWithLocation:Tn,overtime:{elapsedTime:Fn}}}K(Cn,"ki");l(Cn,"useTable");var vi=E("react"),kr=E("@tanstack/react-query"),En=U(E("react")),or=En.default.createContext({}),Rs=l(({create:e,get:t,update:r,children:a})=>En.default.createElement(or.Provider,{value:{create:e,get:t,update:r}},a),"AuditLogContextProvider"),pi=Y(),ft=l(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,kr.useQueryClient)(),a=(0,vi.useContext)(or),{keys:i,preferLegacyKeys:n}=J(),o=ve(),{resources:s}=(0,vi.useContext)(At),{data:c,refetch:d,isLoading:m}=Br({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy),queryOptions:{enabled:!!a}}),g=(0,kr.useMutation)(async u=>{var p,b,v,h,f;let C=ge(u.resource,s),q=$((p=C==null?void 0:C.meta)==null?void 0:p.audit,(b=C==null?void 0:C.options)==null?void 0:b.audit,(h=(v=C==null?void 0:C.options)==null?void 0:v.auditLog)==null?void 0:h.permissions);if(q&&!ko(q,u.action))return;let x;return m&&(x=await d()),await((f=a.create)==null?void 0:f.call(a,{...u,author:c??(x==null?void 0:x.data)}))},{mutationKey:i().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...(0,pi.getXRay)("useLog",n)}}),L=(0,kr.useMutation)(async u=>{var p;return await((p=a.update)==null?void 0:p.call(a,u))},{onSuccess:u=>{u!=null&&u.resource&&r.invalidateQueries(i().audit().resource((u==null?void 0:u.resource)??"").action("list").get(n))},mutationKey:i().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...(0,pi.getXRay)("useLog",n)}});return{log:g,rename:L}},"useLog"),Os=E("react"),Is=E("@tanstack/react-query"),Fs=Y(),$s=l(({resource:e,action:t,meta:r,author:a,metaData:i,queryOptions:n})=>{let{get:o}=(0,Os.useContext)(or),{keys:s,preferLegacyKeys:c}=J();return(0,Is.useQuery)(s().audit().resource(e).action("list").params(r).get(c),()=>(o==null?void 0:o({resource:e,action:t,author:a,meta:r,metaData:i}))??Promise.resolve([]),{enabled:typeof o<"u",...n,retry:!1,meta:{...n==null?void 0:n.meta,...(0,Fs.getXRay)("useLogList",c)}})},"useLogList"),Ks=E("react"),Us=U(E("warn-once")),zs=l(({meta:e={}}={})=>{let t=pe(),{i18nProvider:r}=(0,Ks.useContext)(pt),a=We(),i=re(),{resources:n,resource:o,action:s}=H(),{options:{textTransformers:c}}=we(),d=[];if(!(o!=null&&o.name))return{breadcrumbs:d};let m=l(g=>{var L,u,p,b,v,h;let f=typeof g=="string"?ge(g,n,t==="legacy")??{name:g}:g;if(f){let C=$((L=f==null?void 0:f.meta)==null?void 0:L.parent,f==null?void 0:f.parentName);C&&m(C);let q=De(f,n,t==="legacy").find(y=>y.action==="list"),x=(u=q==null?void 0:q.resource)!=null&&u.list?q==null?void 0:q.route:void 0,P=x?t==="legacy"?x:Re(x,f==null?void 0:f.meta,a,e):void 0;d.push({label:$((p=f.meta)==null?void 0:p.label,(b=f.options)==null?void 0:b.label)??i(`${f.name}.${f.name}`,c.humanize(f.name)),href:P,icon:$((v=f.meta)==null?void 0:v.icon,(h=f.options)==null?void 0:h.icon,f.icon)})}},"addBreadcrumb");if(m(o),s&&s!=="list"){let g=`actions.${s}`,L=i(g);typeof r<"u"&&L===g?((0,Us.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${s}" action. Please add "actions.${s}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),d.push({label:i(`buttons.${s}`,c.humanize(s))})):d.push({label:i(g,c.humanize(s))})}return{breadcrumbs:d}},"useBreadcrumb"),Mr=U(E("react")),Yt=l((e,t,r=!1)=>{let a=[],i=rt(e,t);for(;i;)a.push(i),i=rt(i,t);return a.reverse(),`/${[...a,e].map(n=>Xe((r?n.route:void 0)??n.identifier??n.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),Qs=l((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(i=>{let n=[],o=rt(i,e);for(;o;)n.push(o),o=rt(o,e);n.reverse();let s=r;n.forEach(d=>{let m=(t?d.route:void 0)??d.identifier??d.name;s.children[m]||(s.children[m]={item:d,children:{}}),s=s.children[m]});let c=(t?i.route:void 0)??i.identifier??i.name;s.children[c]||(s.children[c]={item:i,children:{}})});let a=l(i=>{let n=[];return Object.keys(i.children).forEach(o=>{let s=Yt(i.children[o].item,e,t),c={...i.children[o].item,key:s,children:a(i.children[o])};n.push(c)}),n},"flatten");return a(r)},"createTree"),fi=l(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Ws=l(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=re(),a=ea(),i=pe(),{resource:n,resources:o}=H(),{pathname:s}=We(),{useLocation:c}=Ne(),{pathname:d}=c(),m=Qr(),g=`/${((i==="legacy"?fi(d):s?fi(s):void 0)??"").replace(/^\//,"")}`,L=n?Yt(n,o,i==="legacy"):g??"",u=Mr.default.useMemo(()=>{if(!n)return[];let v=rt(n,o),h=[Yt(n,o)];for(;v;)h.push(Yt(v,o)),v=rt(v,o);return h},[]),p=Mr.default.useCallback(v=>{var h,f,C,q,x,P;if((((h=v==null?void 0:v.meta)==null?void 0:h.hide)??((f=v==null?void 0:v.options)==null?void 0:f.hide))||!(v!=null&&v.list)&&v.children.length===0)return;let y=v.list?a({resource:v,action:"list",legacy:i==="legacy",meta:e}):void 0;if(!(t&&y&&y.match(/(\/|^):(.+?)(\/|$){1}/)))return{...v,route:y,icon:$((C=v.meta)==null?void 0:C.icon,(q=v.options)==null?void 0:q.icon,v.icon),label:$((x=v==null?void 0:v.meta)==null?void 0:x.label,(P=v==null?void 0:v.options)==null?void 0:P.label)??r(`${v.name}.${v.name}`,m(v.name,"plural"))}},[i,e,r,t]),b=Mr.default.useMemo(()=>{let v=Qs(o,i==="legacy"),h=l(f=>f.flatMap(C=>{let q=h(C.children),x=p({...C,children:q});return x?[x]:[]}),"prepare");return h(v)},[o,i,p]);return{defaultOpenKeys:u,selectedKey:L,menuItems:b}},"useMenu"),ue=l(()=>{let{params:e}=We();return l(({resource:t,meta:r}={})=>{let{meta:a}=ra(t)??{meta:{}},{filters:i,sorters:n,current:o,pageSize:s,...c}=e??{};return{...a,...c,...r}},"getMetaFn")},"useMeta"),Bs=l(()=>{let[e,t]=(0,st.useState)(),r=re(),{push:a}=Fe(),i=Ie(),n=pe(),{resource:o,action:s}=H();return(0,st.useEffect)(()=>{o&&s&&t(r("pages.error.info",{action:s,resource:o.name},`You may have forgotten to add the "${s}" component to "${o.name}" resource.`))},[o,s]),st.default.createElement(st.default.Fragment,null,st.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&st.default.createElement("p",null,e),st.default.createElement("button",{onClick:()=>{n==="legacy"?a("/"):i({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),me=U(E("react")),wn=l(()=>{let[e,t]=(0,me.useState)(""),[r,a]=(0,me.useState)(""),i=re(),n=ve(),{mutate:o}=ar({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)});return me.default.createElement(me.default.Fragment,null,me.default.createElement("h1",null,i("pages.login.title","Sign in your account")),me.default.createElement("form",{onSubmit:s=>{s.preventDefault(),o({username:e,password:r})}},me.default.createElement("table",null,me.default.createElement("tbody",null,me.default.createElement("tr",null,me.default.createElement("td",null,i("pages.login.username",void 0,"username"),":"),me.default.createElement("td",null,me.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:s=>t(s.target.value)}))),me.default.createElement("tr",null,me.default.createElement("td",null,i("pages.login.password",void 0,"password"),":"),me.default.createElement("td",null,me.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:s=>a(s.target.value)}))))),me.default.createElement("br",null),me.default.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),Et=U(E("react")),ee=U(E("react")),_s=l(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:i,wrapperProps:n,renderContent:o,formProps:s,title:c=void 0})=>{let d=pe(),m=nr(),{Link:g}=Ne(),L=d==="legacy"?g:m,[u,p]=(0,ee.useState)(""),[b,v]=(0,ee.useState)(""),[h,f]=(0,ee.useState)(!1),C=re(),q=ve(),{mutate:x}=ar({v3LegacyAuthProviderCompatible:!!(q!=null&&q.isLegacy)}),P=l((w,M)=>ee.default.createElement(L,{to:w},M),"renderLink"),y=l(()=>e?e.map(w=>ee.default.createElement("div",{key:w.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ee.default.createElement("button",{onClick:()=>x({providerName:w.name}),style:{display:"flex",alignItems:"center"}},w==null?void 0:w.icon,w.label??ee.default.createElement("label",null,w.label)))):null,"renderProviders"),k=ee.default.createElement("div",{...i},ee.default.createElement("h1",{style:{textAlign:"center"}},C("pages.login.title","Sign in to your account")),y(),ee.default.createElement("hr",null),ee.default.createElement("form",{onSubmit:w=>{w.preventDefault(),x({email:u,password:b,remember:h})},...s},ee.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ee.default.createElement("label",{htmlFor:"email-input"},C("pages.login.fields.email","Email")),ee.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:u,onChange:w=>p(w.target.value)}),ee.default.createElement("label",{htmlFor:"password-input"},C("pages.login.fields.password","Password")),ee.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:b,onChange:w=>v(w.target.value)}),a??ee.default.createElement(ee.default.Fragment,null,ee.default.createElement("label",{htmlFor:"remember-me-input"},C("pages.login.buttons.rememberMe","Remember me"),ee.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:h,value:h.toString(),onChange:()=>{f(!h)}}))),ee.default.createElement("br",null),r??P("/forgot-password",C("pages.login.buttons.forgotPassword","Forgot password?")),ee.default.createElement("input",{type:"submit",value:C("pages.login.signin","Sign in")}),t??ee.default.createElement("span",null,C("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",P("/register",C("pages.login.register","Sign up"))))));return ee.default.createElement("div",{...n},o?o(k,c):k)},"LoginPage"),ne=U(E("react")),js=l(({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:i,formProps:n,title:o=void 0})=>{let s=pe(),c=nr(),{Link:d}=Ne(),m=s==="legacy"?d:c,[g,L]=(0,ne.useState)(""),[u,p]=(0,ne.useState)(""),b=re(),v=ve(),{mutate:h,isLoading:f}=jr({v3LegacyAuthProviderCompatible:!!(v!=null&&v.isLegacy)}),C=l((P,y)=>ne.default.createElement(m,{to:P},y),"renderLink"),q=l(()=>e?e.map(P=>ne.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ne.default.createElement("button",{onClick:()=>h({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,P.label??ne.default.createElement("label",null,P.label)))):null,"renderProviders"),x=ne.default.createElement("div",{...a},ne.default.createElement("h1",{style:{textAlign:"center"}},b("pages.register.title","Sign up for your account")),q(),ne.default.createElement("hr",null),ne.default.createElement("form",{onSubmit:P=>{P.preventDefault(),h({email:g,password:u})},...n},ne.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ne.default.createElement("label",{htmlFor:"email-input"},b("pages.register.fields.email","Email")),ne.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:P=>L(P.target.value)}),ne.default.createElement("label",{htmlFor:"password-input"},b("pages.register.fields.password","Password")),ne.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:u,onChange:P=>p(P.target.value)}),ne.default.createElement("input",{type:"submit",value:b("pages.register.buttons.submit","Sign up"),disabled:f}),t??ne.default.createElement(ne.default.Fragment,null,ne.default.createElement("span",null,b("pages.login.buttons.haveAccount","Have an account?")," ",C("/login",b("pages.login.signin","Sign in")))))));return ne.default.createElement("div",{...r},i?i(x,o):x)},"RegisterPage"),Se=U(E("react")),Vs=l(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:i,title:n=void 0})=>{let o=re(),s=pe(),c=nr(),{Link:d}=Ne(),m=s==="legacy"?d:c,[g,L]=(0,Se.useState)(""),{mutate:u,isLoading:p}=Vr(),b=l((h,f)=>Se.default.createElement(m,{to:h},f),"renderLink"),v=Se.default.createElement("div",{...r},Se.default.createElement("h1",{style:{textAlign:"center"}},o("pages.forgotPassword.title","Forgot your password?")),Se.default.createElement("hr",null),Se.default.createElement("form",{onSubmit:h=>{h.preventDefault(),u({email:g})},...i},Se.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Se.default.createElement("label",{htmlFor:"email-input"},o("pages.forgotPassword.fields.email","Email")),Se.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:h=>L(h.target.value)}),Se.default.createElement("input",{type:"submit",disabled:p,value:o("pages.forgotPassword.buttons.submit","Send reset instructions")}),Se.default.createElement("br",null),e??Se.default.createElement("span",null,o("pages.register.buttons.haveAccount","Have an account? ")," ",b("/login",o("pages.login.signin","Sign in"))))));return Se.default.createElement("div",{...t},a?a(v,n):v)},"ForgotPasswordPage"),xe=U(E("react")),Xs=l(({wrapperProps:e,contentProps:t,renderContent:r,formProps:a,title:i=void 0})=>{let n=re(),o=ve(),{mutate:s,isLoading:c}=Xr({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy)}),[d,m]=(0,xe.useState)(""),[g,L]=(0,xe.useState)(""),u=xe.default.createElement("div",{...t},xe.default.createElement("h1",{style:{textAlign:"center"}},n("pages.updatePassword.title","Update Password")),xe.default.createElement("hr",null),xe.default.createElement("form",{onSubmit:p=>{p.preventDefault(),s({password:d,confirmPassword:g})},...a},xe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},xe.default.createElement("label",{htmlFor:"password-input"},n("pages.updatePassword.fields.password","New Password")),xe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:d,onChange:p=>m(p.target.value)}),xe.default.createElement("label",{htmlFor:"confirm-password-input"},n("pages.updatePassword.fields.confirmPassword","Confirm New Password")),xe.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:g,onChange:p=>L(p.target.value)}),xe.default.createElement("input",{type:"submit",disabled:c,value:n("pages.updatePassword.buttons.submit","Update")}))));return xe.default.createElement("div",{...e},r?r(u,i):u)},"UpdatePasswordPage"),Hs=l(e=>{let{type:t}=e;return Et.default.createElement(Et.default.Fragment,null,l(()=>{switch(t){case"register":return Et.default.createElement(js,{...e});case"forgotPassword":return Et.default.createElement(Vs,{...e});case"updatePassword":return Et.default.createElement(Xs,{...e});default:return Et.default.createElement(_s,{...e})}},"renderView")())},"AuthPage"),Ce=U(E("react")),Ln=l(()=>Ce.default.createElement(Ce.default.Fragment,null,Ce.default.createElement("h1",null,"Welcome on board"),Ce.default.createElement("p",null,"Your configuration is completed."),Ce.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Ce.default.createElement("code",null,"`resources`")," property of ",Ce.default.createElement("code",null,"`<Refine>`")),Ce.default.createElement("div",{style:{display:"flex",gap:8}},Ce.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Ce.default.createElement("button",null,"Documentation")),Ce.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Ce.default.createElement("button",null,"Examples")),Ce.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Ce.default.createElement("button",null,"Community")))),"ReadyPage"),G=U(E("react")),Gs=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:G.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:G.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),G.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:G.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),G.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:G.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Zs=l(()=>{let e=Ma("(max-width: 1010px)"),t=Ma("(max-width: 650px)"),r=l(()=>t?"1, 280px":e?"2, 280px":"4, 208px","getGridTemplateColumns"),a=l(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),i=l(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return G.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},G.default.createElement("div",{style:{height:"89px"}}),G.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},G.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),G.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),G.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},G.default.createElement("h1",{style:{fontSize:a(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),G.default.createElement("h4",{style:{fontSize:i(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),G.default.createElement("div",{style:{height:"64px"}}),G.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},Gs.map(n=>G.default.createElement(Ys,{key:`welcome-page-${n.title}`,card:n}))),G.default.createElement("div",{style:{height:"64px"}}))},"WelcomePage"),Ys=l(({card:e})=>{let{title:t,description:r,icon:a,link:i}=e,[n,o]=(0,G.useState)(!1);return G.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},G.default.createElement("div",{style:{display:"flex",alignItems:"center"}},G.default.createElement("a",{onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:i},a,G.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),G.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...n&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),G.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),te=U(E("react")),Nr=E("@tanstack/react-query"),Js=Y(),gi=U(E("react")),dt=E("react"),eu="4.42.4",tu=l(()=>{var e;let t=Yi(),r=(0,dt.useContext)(or),a=(0,dt.useContext)(Tt),i=(0,dt.useContext)(ta),n=(0,dt.useContext)(Yr),{i18nProvider:o}=(0,dt.useContext)(pt),s=(0,dt.useContext)(Jr),c=(0,dt.useContext)(It),{resources:d}=H(),m=we(),g=!!r.create||!!r.get||!!r.update,L=!!(a!=null&&a.publish)||!!(a!=null&&a.subscribe)||!!(a!=null&&a.unsubscribe),u=!!i.useHistory||!!i.Link||!!i.Prompt||!!i.useLocation||!!i.useParams,p=!!n,b=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),v=!!s.close||!!s.open,h=!!c.can,f=(e=m==null?void 0:m.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:g,live:L,router:u,data:p,i18n:b,notification:v,accessControl:h},version:eu,resourceCount:d.length,projectId:f}},"useTelemetryData"),ru=l(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),au=l(e=>{let t=new Image;t.src=e},"throughImage"),iu=l(e=>{fetch(e)},"throughFetch"),nu=l(e=>{typeof Image<"u"?au(e):typeof fetch<"u"&&iu(e)},"transport"),ou=l(()=>{let e=tu(),t=gi.default.useRef(!1);return gi.default.useEffect(()=>{if(t.current)return;let r=ru(e);r&&(nu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry"),lu=l(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),yi=U(E("react")),su=l(e=>{let t=yi.default.useRef(!1);yi.default.useEffect(()=>{t.current===!1&&e&&lu(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),uu=l(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:i,notificationProvider:n,accessControlProvider:o,auditLogProvider:s,resources:c,DashboardPage:d,ReadyPage:m,LoginPage:g,catchAll:L,children:u,liveProvider:p,i18nProvider:b,Title:v,Layout:h,Sider:f,Header:C,Footer:q,OffLayoutArea:x,onLiveEvent:P,options:y})=>{let{optionsWithDefaults:k,disableTelemetryWithDefault:w,reactQueryWithDefaults:M}=$o({options:y}),A=on(()=>{var R;return M.clientConfig instanceof Nr.QueryClient?M.clientConfig:new Nr.QueryClient({...M.clientConfig,defaultOptions:{...M.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(R=M.clientConfig.defaultOptions)==null?void 0:R.queries}}})},[M.clientConfig]);(0,Js.useQuerySubscription)(A);let D=te.default.useMemo(()=>typeof n=="function"?n:()=>n??{},[n])();if(su(i),a&&!i&&(c??[]).length===0)return m?te.default.createElement(m,null):te.default.createElement(Ln,null);let{RouterComponent:S=te.default.Fragment}=i?{}:a??{};return te.default.createElement(Nr.QueryClientProvider,{client:A},te.default.createElement(rs,{...D},te.default.createElement(Qo,{...e??{},isProvided:!!e},te.default.createElement(Wo,{...t??{},isProvided:!!t},te.default.createElement(Ol,{...r},te.default.createElement(Kl,{liveProvider:p},te.default.createElement(jl,{value:a&&!i?"legacy":"new"},te.default.createElement(Xl,{router:i},te.default.createElement(Ls,{...a},te.default.createElement(_l,{resources:c??[]},te.default.createElement(is,{i18nProvider:b},te.default.createElement(Ds,{...o??{}},te.default.createElement(Rs,{...s??{}},te.default.createElement(gl,null,te.default.createElement(Fo,{mutationMode:k.mutationMode,warnWhenUnsavedChanges:k.warnWhenUnsavedChanges,syncWithLocation:k.syncWithLocation,Title:v,undoableTimeout:k.undoableTimeout,catchAll:L,DashboardPage:d,LoginPage:g,Layout:h,Sider:f,Footer:q,Header:C,OffLayoutArea:x,hasDashboard:!!d,liveMode:k.liveMode,onLiveEvent:P,options:k},te.default.createElement(_o,null,te.default.createElement(S,null,u,!w&&te.default.createElement(ou,null),te.default.createElement(Dn,null))))))))))))))))))},"Refine"),hi=E("react"),Sn=l(({notification:e})=>{let t=re(),{notificationDispatch:r}=xt(),{open:a}=it(),[i,n]=(0,hi.useState)(),o=l(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:yr(e.seconds)},`You have ${yr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:yr(e.seconds)}),e.seconds>0)){i&&clearTimeout(i);let s=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);n(s)}},"cancelNotification");return(0,hi.useEffect)(()=>{o()},[e]),null},"UndoableQueue"),er=U(E("react")),du=l(({children:e,Layout:t,Sider:r,Header:a,Title:i,Footer:n,OffLayoutArea:o})=>{let{Layout:s,Footer:c,Header:d,Sider:m,Title:g,OffLayoutArea:L}=we();return er.default.createElement(t??s,{Sider:r??m,Header:a??d,Footer:n??c,Title:i??g,OffLayoutArea:o??L},e,er.default.createElement(cu,null))},"LayoutWrapper"),cu=l(()=>{let{Prompt:e}=Ne(),t=re(),{warnWhen:r,setWarnWhen:a}=zr(),i=l(n=>(n.preventDefault(),n.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),n.returnValue),"warnWhenListener");return(0,er.useEffect)(()=>(r&&window.addEventListener("beforeunload",i),window.removeEventListener("beforeunload",i)),[r]),er.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},"UnsavedPrompt"),qe=U(E("react")),mu=l(()=>{let e=Ie(),[t,r]=qe.default.useState(void 0);return qe.default.useEffect(()=>{t&&e(t)},[t]),qe.default.useCallback(a=>{t||r(a)},[t])},"useDeferredGo");function xn({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:i}){var n;let o=ve(),s=pe(),c=!!(o!=null&&o.isProvided),d=!!(o!=null&&o.isLegacy),m=s==="legacy",g=We(),L=Ie(),u=mu(),{replace:p}=Fe(),{useLocation:b}=Ne(),v=b(),{isLoading:h,isFetching:f,isSuccess:C,data:{authenticated:q,redirectTo:x}={},refetch:P}=ir({v3LegacyAuthProviderCompatible:d});qe.default.useEffect(()=>{P()},[r,a]);let y=qe.default.useRef({status:h?"initial":"pending",content:i??null});f?y.current.status="pending":f||(y.current.status="settled");let k=c?d?C:q:!0;if(y.current.status==="settled")if(k)y.current.content=qe.default.createElement(qe.default.Fragment,null,r??null);else if(typeof a<"u")y.current.content=qe.default.createElement(qe.default.Fragment,null,a);else{let w=`${m?v==null?void 0:v.pathname:g.pathname}`.replace(/(\?.*|#.*)$/,""),M=d?typeof e=="string"?e:"/login":typeof e=="string"?e:x;if(M)if(m){let A=t?`?to=${encodeURIComponent(w)}`:"";p(`${M}${A}`)}else u({to:M,query:t?{to:(n=g.params)!=null&&n.to?g.params.to:L({to:w,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return c?qe.default.createElement(qe.default.Fragment,null,y.current.content):qe.default.createElement(qe.default.Fragment,null,r??null)}K(xn,"ui");l(xn,"Authenticated");var vu=E("react"),Dn=l(()=>{let{useLocation:e}=Ne(),{checkAuth:t}=Oe(),r=e();return(0,vu.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),ct=U(E("react")),pu=l(({resource:e,action:t,params:r,fallback:a,onUnauthorized:i,children:n,...o})=>{let{resource:s,id:c,action:d}=H(e),{identifier:m}=H(),g=l(()=>{let v=(r==null?void 0:r.id)??c;return e&&e!==m?r==null?void 0:r.id:v},"getDefaultId")(),L=e??(s==null?void 0:s.name),u=t??d??"",p=r??{id:g,resource:s},{data:b}=bn({resource:L,action:u,params:p});return(0,ct.useEffect)(()=>{i&&(b==null?void 0:b.can)===!1&&i({resource:L,action:u,reason:b==null?void 0:b.reason,params:p})},[b==null?void 0:b.can]),b!=null&&b.can?ct.default.isValidElement(n)?ct.default.cloneElement(n,o):ct.default.createElement(ct.default.Fragment,null,n):(b==null?void 0:b.can)===!1?ct.default.createElement(ct.default.Fragment,null,a??null):null},"CanAccess"),mt=U(E("react")),fu=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],gu=l(()=>((0,mt.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),fu.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),mt.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},mt.default.createElement("div",{style:{width:"200px"}}),mt.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},mt.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},mt.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),mt.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going."))))),"GitHubBanner")});var Ft=lt(E("react")),Nn=E("kbar"),he=E("kbar");var yt=E("react"),ye=lt(aa()),Te=E("kbar");var gt=K(e=>e.replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()),"capitalize");var kn=lt(aa());var lr=K(()=>{let e=(0,ye.useTranslate)(),{resource:t,resources:r,id:a,action:i}=(0,ye.useResource)(),n=(0,ye.useRouterType)(),o=(0,kn.useGetToPath)(),s=(0,ye.useGo)(),{mutate:c}=(0,ye.useDelete)(),{push:d,list:m,create:g,show:L,edit:u}=(0,ye.useNavigation)(),p=(0,ye.useUserFriendlyName)(),b=(0,yt.useContext)(Te.KBarContext),{can:v}=(0,ye.useCanWithoutCache)(),[h,f]=(0,yt.useState)([]);(0,yt.useEffect)(()=>{K(async()=>await Promise.all(C().flatMap(P=>q(P))),"preaparedActions")().then(P=>f(P.flatMap(y=>y)))},[r,a,t,i]),(0,yt.useEffect)(()=>{h.length===0&&b.query.setVisualState(Te.VisualState.hidden)},[h]);let C=K(()=>{let x=[...r],P=x==null?void 0:x.findIndex(y=>(y.identifier??(y==null?void 0:y.name))===((t==null?void 0:t.identifier)??(t==null?void 0:t.name)));if(P>0){let y=x[P];x.splice(P,1),x.splice(0,0,y)}return x},"moveActionToFirst"),q=K(async x=>{var V,Q,B,_,oe,de;let{name:P,label:y,list:k,create:w,canCreate:M,canEdit:A,canShow:D,icon:S,show:R,canDelete:N,edit:I,route:T}=x,F=((V=x==null?void 0:x.meta)==null?void 0:V.label)??((Q=x==null?void 0:x.options)==null?void 0:Q.label)??y,W=((B=x==null?void 0:x.meta)==null?void 0:B.icon)??((_=x==null?void 0:x.options)==null?void 0:_.icon)??S,O=((oe=x==null?void 0:x.meta)==null?void 0:oe.canDelete)??((de=x==null?void 0:x.options)==null?void 0:de.canDelete)??N,j=F??e(`${x.name}.${x.name}`,p(x.name,"plural")),z=[];if(k&&(t!==void 0&&(t==null?void 0:t.name)!==P||i!==void 0&&(t==null?void 0:t.name)===P)){let{can:ae}=await(v==null?void 0:v({resource:P,action:"list",params:{id:a,resource:x}}))||{can:!0};ae&&z.push((0,Te.createAction)({name:e("actions.list",gt("list")),section:j,icon:W,perform:()=>{let Z=o({resource:x,action:"list",legacy:n==="legacy"});Z&&(n==="legacy"?d(Z):s({to:Z}))}}))}if((M||w)&&w&&(i!=="create"||(t==null?void 0:t.name)!==P)){let{can:ae}=await(v==null?void 0:v({resource:P,action:"create",params:{resource:x}}))||{can:!0};ae&&z.push((0,Te.createAction)({name:e("actions.create",gt("create")),section:j,icon:W,keywords:"new",perform:()=>{let Z=o({resource:x,action:"create",legacy:n==="legacy"});Z&&(n==="legacy"?d(Z):s({to:Z}))}}))}if((t==null?void 0:t.name)===P&&a){if((D||R)&&R&&i!=="show"){let{can:ae}=await(v==null?void 0:v({resource:P,action:"show",params:{id:a,resource:x}}))||{can:!0};ae&&z.push((0,Te.createAction)({name:e("actions.show",gt("show")),section:j,icon:W,perform:()=>{let Z=o({resource:x,action:"show",legacy:n==="legacy",meta:{id:a}});Z&&(n==="legacy"?d(Z):s({to:Z}))}}))}if((A||I)&&I&&i!=="edit"){let{can:ae}=await(v==null?void 0:v({resource:P,action:"edit",params:{id:a,resource:x}}))||{can:!0};ae&&z.push((0,Te.createAction)({name:e("actions.edit",gt("edit")),section:j,icon:W,perform:()=>{let Z=o({resource:x,action:"edit",legacy:n==="legacy",meta:{id:a}});Z&&(n==="legacy"?d(Z):s({to:Z}))}}))}if(O){let{can:ae}=await(v==null?void 0:v({resource:P,action:"delete",params:{id:a,resource:x}}))||{can:!0};ae&&z.push({id:"delete",name:e("actions.delete",gt("delete")),section:j,icon:W},(0,Te.createAction)({name:e("buttons.delete",gt("delete")),section:e("buttons.confirm","Are you sure?"),parent:"delete",perform:()=>{c({resource:x.name,id:a},{onSuccess:()=>{let Z=o({resource:x,action:"list",legacy:n==="legacy"});Z&&(n==="legacy"?d(Z):s({to:Z}))}})}}),(0,Te.createAction)({name:e("buttons.cancel","Cancel"),parent:"delete",perform:()=>null}))}}return z},"createActionWithResource");(0,Te.useRegisterActions)(h,[h])},"useRefineKbar");var Dt=lt(E("react")),nt=E("kbar");var ia=K(()=>Dt.default.createElement(nt.KBarPortal,null,Dt.default.createElement(nt.KBarPositioner,{style:{opacity:1,transition:"background 0.35s cubic-bezier(0.4, 0, 0.2, 1) 0s",backdropFilter:"saturate(180%) blur(1px)",background:"rgba(0, 0, 0, 0.1)",zIndex:"9999"}},Dt.default.createElement(nt.KBarAnimator,{style:{maxWidth:"600px",width:"100%",background:"white",color:"black",borderRadius:"8px",overflow:"hidden",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"}},Dt.default.createElement(nt.KBarSearch,{style:{padding:"12px 16px",fontSize:"16px",width:"100%",boxSizing:"border-box",outline:"none",border:"none",background:"rgb(252 252 252)",color:"black"}}),Dt.default.createElement(na,null)))),"CommandBar");var sr=lt(E("react")),ur=E("kbar");var yu={padding:"8px 16px",fontSize:"14px",textTransform:"uppercase",fontWeight:"bold",opacity:.5},na=K(()=>{let{results:e,rootActionId:t}=(0,ur.useMatches)();return sr.default.createElement(ur.KBarResults,{items:e,onRender:({item:r,active:a})=>typeof r=="string"?sr.default.createElement("div",{style:yu},r):sr.default.createElement(dr,{action:r,active:a,currentRootActionId:t})})},"RenderResults");var be=lt(E("react")),dr=be.default.forwardRef(({action:e,active:t,currentRootActionId:r},a)=>{var n;let i=be.default.useMemo(()=>{if(!r)return e.ancestors;let o=e.ancestors.findIndex(s=>s.id===r);return e.ancestors.slice(o+1)},[e.ancestors,r]);return be.default.createElement("div",{ref:a,style:{padding:"12px 16px",background:t?"rgba(0 0 0 / 0.05)":"transparent",borderLeft:`2px solid ${t?"rgb(28 28 29)":"transparent"}`,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"}},be.default.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center",fontSize:14}},e.icon&&e.icon,be.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},be.default.createElement("div",null,i.length>0&&i.map(o=>be.default.createElement(be.default.Fragment,{key:o.id},be.default.createElement("span",{style:{opacity:.5,marginRight:8}},o.name),be.default.createElement("span",{style:{marginRight:8}},"\u203A"))),be.default.createElement("span",{style:{color:e.name.toLocaleUpperCase()==="DELETE"?"red":"black"}},e.name)),e.subtitle&&be.default.createElement("span",{style:{fontSize:12}},e.subtitle))),(n=e.shortcut)!=null&&n.length?be.default.createElement("div",{"aria-hidden":!0,style:{display:"grid",gridAutoFlow:"column",gap:"4px"}},e.shortcut.map(o=>be.default.createElement("kbd",{key:o,style:{padding:"4px 6px",background:"rgba(0 0 0 / .1)",borderRadius:"4px",fontSize:14}},o))):null)});dr.displayName="ResultItem";var cr=lt(E("react"));var Mn=K(({commandBarProps:e})=>{let t=(0,cr.useContext)(oa);lr();let r={...t,...e};return cr.default.createElement(ia,{...r})},"RefineKbar");var oa=(0,Ft.createContext)({}),pd=K(({children:e,commandBarProps:t})=>Ft.default.createElement(oa.Provider,{value:t??{}},Ft.default.createElement(Nn.KBarProvider,null,e)),"RefineKbarProvider");})();
//# sourceMappingURL=index.js.map